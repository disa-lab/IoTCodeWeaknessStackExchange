ParentId,PostType,CreationDate,Score,ViewCount,OwnerUserId,OwnerDisplayName,,LastActivityDate,LastEditDate,CommentCount,FavouriteCount
27,1,2012-06-12T20:18:55.390,31,2697,20,,2020-04-11T00:42:01.070,,1,,"<p>What libraries are available for interfacing with the GPIO?</p>
"
341,1,2012-06-15T10:01:31.670,40,49447,35,,2016-06-16T07:50:39.100,,8,,"<ul>
<li><p>What's the current draw when the Raspi is at idle (min), and at 100% CPU/GPU (max)?<br>
(With no peripherals/accessories plugged in)</p></li>
<li><p>What's the minimum and maximum voltage allowed to run the Raspi stably?</p></li>
</ul>
"
510,1,2012-06-19T15:49:19.193,68,280703,,user46,2018-05-23T13:03:59.467,2015-05-06T17:08:14.237,1,,"<p>Arch Linux has the AUR (Arch User Repository), a collection of user-built packages. How do I install these packages on Arch Linux ARM though?</p>
"
542,1,2012-06-20T06:53:01.103,34,18453,226,,2018-12-30T10:14:26.623,2012-09-05T19:21:21.660,9,,"<p>I'm interested in using the Raspberry Pi as a pure embedded CPU unit, for the development of embedded applications. Since the Raspberry Pi has a powerful CPU with quite a bit of memory, it makes an excellent embedded board.</p>

<p>Is it possible to use the Raspberry Pi without a Linux OS? How can I do this?</p>
"
639,1,2012-06-23T23:05:47.867,32,155751,114,,2020-12-07T11:53:55.363,2020-12-07T11:53:55.363,1,,"<p>I would like to use my Raspberry Pi as an PulseAudio sink that can play audio via the network. </p>

<p>For starters I want to get Pulseaudio running locally and have run into various errors. I am using the recommended Debian image. </p>

<p>What is the best procedure for getting PulseAudio up and running?</p>

<hr>

<p>This is what I have tried so far:</p>

<h3>Procedure</h3>

<p>My procedure so far looked something like the following:</p>

<p>Install Pulseaudio, and VLC:</p>

<pre><code>sudo apt-get install pulseaudio
</code></pre>

<p>Configure GStreamer to use the pulseaudio sink:</p>

<pre><code>gconftool-2 -t string --set /system/gstreamer/0.10/default/audiosink pulsesink
</code></pre>

<p>Load the kernel module for the audio device</p>

<pre><code>sudo modprobe snd_bcm2835
</code></pre>

<p>Run VLC with an mp3</p>

<pre><code>vlc 
</code></pre>

<h3>Problems</h3>

<p>VLC cracks repeatedly, printing this error:</p>

<pre><code>[0x7503d0] alsa audio output error: cannot write: Broken pipe
</code></pre>
"
754,1,2012-06-26T20:03:34.373,28,12260,410,,2016-06-29T14:56:25.397,2012-06-26T22:43:53.903,0,,"<p>As Raspberry Pi needs a bit of special code (I'm talking about <code>C/C++</code>) for accessing some hardware features (e.g. a call to <code>bcm_host_init()</code>). I'm looking for a reliable and elegant way to detect this automatically. I don't think there are any compiler <code>#defines</code> such as <code>_WIN32</code> I could abuse, so detecting it from <code>CMake</code> (which can execute shell scripts) would suffice. I'd also like the method to work in most if not all distros.</p>

<p>One way I can think of is that I could look for e.g. <code>/opt/vc/include/bcm_host.h</code> file (which is not difficult), and also check that the architecture is ARM (which is easy at compile time as there are <code>#define</code> macros for that, e.g. <code>__arm__</code> of <code>__ARMEL__</code>). This extra arch check is to prevent false-positives when you have a cross-compiling environment on another machine but are not currently cross-compiling. Is there a different, better way than this?</p>
"
782,1,2012-06-27T16:19:02.360,10,5543,86,,2012-12-08T15:03:49.793,2017-04-13T12:56:25.530,2,,"<p>I have read <a href=""https://raspberrypi.stackexchange.com/questions/1/how-to-build-a-gcc-4-7-toolchain-for-cross-compiling"">How to build a GCC 4.7 toolchain for cross-compiling?</a> and have successfully built a simple test program that works on my RPi.</p>

<p>To do this, I had to run <code>arm-unknown-linux-gnueabi-gcc hello.c -o hello</code> on my x86 desktop and <code>scp</code> the executable to my RPi. This is slow and a hassle. I would rather control the compilation from my RPi.</p>

<p>I have read about <code>distcc</code>, which can be used to distribute the compilation from one machine to another.</p>

<p>How do I install this? I have both Debian/Ubuntu and Arch Linux desktops and both OSs installed on SD cards.</p>
"
935,1,2012-07-04T13:31:12.290,12,62183,518,,2016-11-02T02:10:57.653,2012-07-04T15:45:10.233,4,,"<p>I have a <a href=""http://shop.ciseco.co.uk/xrf-wireless-rf-radio-uart-rs232-serial-data-module-xbee-shape-arduino-pic-etc/"">Ciseco XRF radio module</a> and a <a href=""http://shop.ciseco.co.uk/slice-of-pi/"">Slice of Pi</a> expansion board.</p>

<p>Using the program 'screen' works fine; I can see data being transmitted to the XRF module.</p>

<p>How do I get the data from the serial port, so I can do some processing on it? I tried perl but it didn't read anything.</p>
"
1066,1,2012-07-14T05:43:12.713,25,14168,37,,2016-12-30T10:56:36.693,2013-11-02T22:39:43.727,4,,"<p>Currently, there in no version of Dropbox for ARM Linux variants, there is an article here </p>

<p><a href=""https://www.dropbox.com/votebox/358/linux-arm-support"">https://www.dropbox.com/votebox/358/linux-arm-support</a></p>

<p>I've use Cubby, Google Drive, DropBox, Wuala, SpiderOak and probably a few others, but haven't found anything which supports ARM Linux.</p>

<p>I'm thinking of using Mercurial and syncing using a repository.</p>

<p>It would be extremely useful to be able to have files in a tools cubby - then I could download on a Mac or PC and drop in that folder and then have it available on the device.</p>
"
1130,1,2012-07-18T00:59:43.557,8,2976,634,,2015-09-16T23:16:16.083,,0,,"<p>What is the RPi GPIO Pin output current? </p>

<p>I assume it's more than 10mA since it can drive LEDs without any problem but what is the spec?</p>
"
1153,1,2012-07-19T07:44:54.103,14,9978,85,,2015-08-01T15:04:35.750,2015-08-01T15:04:35.750,1,,"<p>I'm trying to generate a clean 11.289&nbsp;MHz clock signal from the general-purpose clock, GPCLK0 on GPIO4. The suggested route is to use the 19.2&nbsp;MHz crystal as the source, which seems to work for lower frequencies, but no matter what I try it defaults to 2.5&nbsp;kHz. Reading the documentation, it seems to imply that the PLL sources should be used.</p>

<p>What further information is there on what the mentioned sources are? Particularly:</p>

<ul>
<li>4 = PLLA per</li>
<li>5 = PLLC per</li>
<li>6 = PLLD per</li>
</ul>

<p>See page 107 - Clock Control Register of the BCM2835 Peripheral Documentation.</p>
"
1170,1,2012-07-19T22:15:46.820,4,2201,721,,2017-02-18T05:47:57.437,,0,,"<p>I have a basic understanding of the GPIO on the RPi. I want to adapt some of my previous software which interfaced my project board via the Parallel port via direct output to the PP address (0x378) using Outb in C. Can I directly access the GPIO using Outb in C (ofc with a different port address).</p>
"
1179,1,2012-07-20T14:19:40.153,68,114369,314,,2020-12-20T13:09:09.827,,0,,"<p><a href=""http://www.raspbian.org/"">Raspbian</a> claims to have ""35,0000 Raspbian packages"", which is great, but I'm only looking for a package or two before I install it.  </p>

<p>Is there a browsable repository package list that I can search with a web browser without being on the device itself?</p>

<p>If there isn't a browser-friendly method, is there a way to download the package lists and browse through some other method?</p>
"
1207,1,2012-07-22T21:54:27.800,45,23463,590,,2016-12-17T18:22:10.133,2017-04-13T12:56:26.700,1,,"<p>What can I connect to the RPi to measure temperature? I think devices connected to the <a href=""http://en.wikipedia.org/wiki/I%C2%B2C"" rel=""nofollow noreferrer"">I²C</a> or <a href=""http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus"" rel=""nofollow noreferrer"">SPI</a> would make most sense.</p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/1087/can-i-use-a-dht22-as-a-temperature-sensor-for-my-pi"">Here is a question</a> about <a href=""http://adafruit.com/products/385"" rel=""nofollow noreferrer"">DHT-22</a> and other <a href=""http://en.wikipedia.org/wiki/1-Wire"" rel=""nofollow noreferrer"">1-wire</a> devices. But at this stage it seems that 1-wire is difficult on the RPi due to the critical timings </p>
"
1244,1,2012-07-24T13:17:55.427,18,66012,65,,2013-06-11T21:33:37.347,,2,,"<p>I've been reading around, and looking for instructions to install the Edimax EW-7811UN WiFi dongle (link) on my Raspberry Pi, which is currently running RC3 of Raspbmc.</p>

<p>From what I've read, the dongle seems to be compatible, all well and good. However, I can't find any solid (or working) instructions for making it play ball. Does anyone here know how I install it on a Debian based system (Raspbmc)?</p>

<p>I have tried <a href=""http://wiki.debian.org/rtl819x"">http://wiki.debian.org/rtl819x</a> but I don't seem to have an Aptitude command (and I don't know how to install one). </p>

<p>Thanks!</p>
"
1270,1,2012-07-25T16:18:16.267,9,12404,797,,2017-08-12T12:08:06.490,2012-07-25T19:55:53.267,2,,"<p>I'd like to use the Raspberry Pi as a small server. My Linksys WRT610N router has a rear USB port and I'd like to use it to supply power to the Raspi. That way, the Raspi doesn't need to have a dedicated power supply!</p>

<p>Only two wires will be connected to the Raspi:</p>

<ul>
<li>an Ethernet wire,</li>
<li>the USB power supply wire connected to the router's USB port.</li>
</ul>

<p>Will the router's USB port be enough to supply power to the Rasperry Pi?</p>

<p>Thank you!</p>
"
1284,1,2012-07-26T00:22:12.423,17,4361,595,,2016-12-14T01:47:01.410,2016-12-14T01:47:01.410,1,,"<p>I am getting mine this week (or so I am told) and I am nervous about breaking it on the move since it looks so open and bare. </p>

<p>How do you bring it around without breaking it? </p>

<hr>

<p>It has arrived. The packet says: </p>

<blockquote>
  <p>This product should be placed on a stable, flat, non-conductive
  surface in use and should not be contacted by conductive items.</p>
</blockquote>

<p>Translation:</p>

<blockquote>
  <p>This product should be put on the table, but don't drop your change
  on it.</p>
</blockquote>
"
1312,1,2012-07-27T18:57:10.910,24,9015,769,,2019-09-01T00:30:02.843,2017-04-13T12:56:25.647,5,,"<p>In a comment to <a href=""https://raspberrypi.stackexchange.com/q/213/141"">another question about Windows</a>, somebody brought up a good point, Raspberry Pis have the horsepower to run older games.  It just so happens that I have a favorite older game from the win95 era that I'd like to give a go but the typical desktop hardware these days is just too advanced.</p>

<p>This might be a bit ingenuous, but we can <a href=""https://raspberrypi.stackexchange.com/questions/344/emulation-on-a-windows-pc"">emulate ARM systems on x86</a> so is it possible to emulate x86 on ARM processors?  If the Raspberry Pi can emulate an x86 machine would there be any other complications to installing Windows 95?</p>
"
1346,1,2012-07-30T11:49:49.587,26,44299,296,,2019-10-11T09:07:56.520,,1,,"<p>I've got Lighttpd setup on my Raspberry Pi, but I'd like to get server-side code working now. I'm familiar with PHP, but I figure I should try Python as it's supposed to be the ""go to"" language for the Raspberry Pi. How can I get Python handling server-side code via Lighttpd?</p>
"
1417,1,2012-08-02T19:04:50.273,14,6045,296,,2017-03-10T19:36:05.987,2017-04-13T12:56:22.977,8,,"<p>I've recently setup python to work with lighttpd via CGI (see <a href=""https://raspberrypi.stackexchange.com/questions/1346/how-to-get-python-to-work-with-lighttpd"">here</a>). But the minute I go to include <a href=""http://pypi.python.org/pypi/RPi.GPIO/0.3.1a"" rel=""nofollow noreferrer"">RPi.GPIO</a>, the script stops executing (I'm assuming because no HTML gets output), but there is no error output into the error log (<code>/var/log/lighttpd/error.log</code>).</p>

<p><strong>gpio.py</strong></p>

<pre><code>import RPi.GPIO as GPIO

print ""&lt;html&gt;""
print ""\t&lt;head&gt;""
print ""\t\t&lt;title&gt;GPIO&lt;/title&gt;""
print ""\t&lt;/head&gt;""
print ""\t&lt;body&gt;""
print ""\t\t&lt;p&gt;""
print ""\t\t\tGPIO #17 status: ""
print ""\t\t&lt;/p&gt;""
print ""\t&lt;/body&gt;""
print ""&lt;/html&gt;""
</code></pre>

<p>Why is the script not executing? Is it because of permissions? Surely, including the library shouldn't require any special permissions? Why isn't there any error output either in the script or in the error log?</p>
"
1484,1,2012-08-07T20:52:21.993,23,14677,203,,2013-05-10T11:02:11.007,2012-08-07T22:57:06.790,4,,"<p>I'm building an image with a Nagios server. One of the problems of the raspberry pi is that the memory is quite small on the raspberry pi. So I'll be using a light weight interface based on php-apc instead of the standard one. </p>

<p>I was wondering what lightweight webserver is recommended to use? </p>

<p>I was considering a minimum webserver that can do php and provide SSL. I was thinking of Apache2 or Nginx. Although I think Apache will still outperform Nginx since the content is dynamic.</p>
"
1552,1,2012-08-11T22:38:11.670,24,27596,60,,2015-07-21T17:21:58.803,2015-07-21T12:39:30.517,4,,"<p>It would be interesting to use the Raspberry Pi as a replacement for a media center; however, as I see it now the Raspberry Pi needs to be controlled by means of a keyboard or over the network. Is it possible to control the Raspberry Pi using an universal remote control or something similar?</p>

<p>I'm planning to use the Raspberry Pi where carrying or connecting a keyboard is not feasible.</p>
"
1601,1,2012-08-14T16:43:03.193,20,15936,711,,2014-11-27T05:51:18.077,2014-11-26T18:30:03.433,8,,"<p>How is time kept on a Raspberry Pi with the latest Raspbian release? What sets the internal clock from an NTP server? What happens when no NTP server is available?</p>

<p>From my program I am trying to determine if the time has been set from NTP and ask the user to set it if it has not.</p>
"
1621,1,2012-08-16T11:10:06.390,6,12615,1160,,2016-05-11T07:27:04.853,2016-05-11T07:27:04.853,1,,"<p>I installed VLC, but I can't hear anything through the analog output (jack output) when I play a MP3 file or a video.</p>

<p>I'm using Debian Wheezy.</p>

<p>I already did some steps to test alsa sound, like this:</p>

<pre><code>sudo aplay /usr/share/sounds/alsa/Front_Center.wav
</code></pre>

<p>But that only plays from command-line, (before running X).</p>
"
1945,1,2012-09-20T12:06:08.400,3,1220,1431,,2013-08-08T09:33:12.787,,1,,"<p>Is it possible to upgrade occidentalis 0.2 with the latest <a href=""http://www.raspberrypi.org/archives/2008"" rel=""nofollow"">wheezy upgrades</a> to improve the distro performance with <code>sudo apt-get update &amp;&amp; sudo apt-get upgrade</code>. Or can't I get the improvments if I don't have the ""standard"" debian distro?</p>

<p>Kind Regards</p>
"
2086,1,2012-10-04T19:00:32.150,79,126947,86,,2021-02-14T08:14:52.880,,3,,"<p>Where can I find the serial number of the Raspberry Pi I am currently using?</p>
"
2169,1,2012-10-11T13:55:19.573,102,222453,1817,,2019-02-07T19:52:44.133,2012-10-11T15:54:03.617,3,,"<p>I have a Raspberry Pi running <strong>Raspbmc</strong> connected through <strong>HDMI</strong> to a dumb HDTV. (Does not support HDMI-CEC).</p>

<p>If I power on both the TV (both at source and display through remote) and Raspbmc at the same time then it all works fine.</p>

<p>If I power on the Raspbmc and TV, but the TV display is not turned on. Sometime later I use the TV remote to power on the TV display, then I get a <strong>blank display</strong> on TV through HDMI. This is not the screensaver because using a XBMC remote does not change anything. The Raspbmc is active though, because I can <strong>ping</strong> it and connect to it using <strong>SSH</strong>.</p>

<p>Is there a setting in Raspbmc I can change so that it <strong>always turns on HDMI</strong>, no matter if the TV display is on or off?</p>
"
3289,1,2012-10-22T16:25:37.433,7,85338,1765,,2021-01-03T22:52:07.230,2012-10-22T20:02:57.293,2,,"<p>I've tried running running a disk check, then I got a complain</p>

<pre><code>pi@raspberrypi ~ $ /sbin/fsck
fsck from util-linux 2.20.1
e2fsck 1.42.5 (29-Jul-2012)
/dev/mmcblk0p2 is mounted.

WARNING!!!  The filesystem is mounted.   If you continue you ***WILL***
cause ***SEVERE*** filesystem damage.

Do you really want to continue&lt;n&gt;? no
check aborted.
pi@raspberrypi ~ $ umount -l /dev/mmcblk0p2
umount: it seems /dev/mmcblk0p2 is mounted multiple times
</code></pre>

<p><strong>Do I have to umount, what are the steps for a safe umount?</strong> </p>

<p>Update:</p>

<pre><code>pi@raspberrypi ~ $ mount
/dev/root on / type ext4 (rw,noatime,nodiratime,user_xattr,barrier=1,data=ordered)
devtmpfs on /dev type devtmpfs (rw,relatime,size=118872k,nr_inodes=29718,mode=755)
tmpfs on /run type tmpfs (rw,nosuid,noexec,relatime,size=23788k,mode=755)
tmpfs on /run/lock type tmpfs (rw,nosuid,nodev,noexec,relatime,size=5120k)
proc on /proc type proc (rw,nosuid,nodev,noexec,relatime)
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)
tmpfs on /run/shm type tmpfs (rw,nosuid,nodev,noexec,relatime,size=47560k)
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,gid=5,mode=620)
/dev/mmcblk0p1 on /boot type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=cp437,iocharset=ascii,shortname=mixed,errors=remount-ro)

pi@raspberrypi ~ $ cat /etc/mtab
rootfs / rootfs rw 0 0
/dev/root / ext4 rw,noatime,nodiratime,user_xattr,barrier=1,data=ordered 0 0
devtmpfs /dev devtmpfs rw,relatime,size=118872k,nr_inodes=29718,mode=755 0 0
tmpfs /run tmpfs rw,nosuid,noexec,relatime,size=23788k,mode=755 0 0
tmpfs /run/lock tmpfs rw,nosuid,nodev,noexec,relatime,size=5120k 0 0
proc /proc proc rw,nosuid,nodev,noexec,relatime 0 0
sysfs /sys sysfs rw,nosuid,nodev,noexec,relatime 0 0
tmpfs /run/shm tmpfs rw,nosuid,nodev,noexec,relatime,size=47560k 0 0
devpts /dev/pts devpts rw,nosuid,noexec,relatime,gid=5,mode=620 0 0
/dev/mmcblk0p1 /boot vfat rw,relatime,fmask=0022,dmask=0022,codepage=cp437,iocharset=ascii,shortname=mixed,errors=remount-ro 0 0

pi@raspberrypi ~ $ cat /etc/fstab
proc            /proc           proc    defaults          0       0
/dev/mmcblk0p1  /boot           vfat    defaults          0       2
/dev/mmcblk0p2  /               ext4    defaults,noatime,nodiratime,nodiratime  0       1
# a swapfile is not a swap partition, so no using swapon|off from here on, use  dphys-swapfile swap[on|off]  for that
</code></pre>

<p>I also see this in dmesg:</p>

<pre><code>[    3.054577] smsc95xx 1-1.1:1.0: eth0: register 'smsc95xx' at usb-bcm2708_usb-1.1, smsc95xx USB 2.0 Ethernet, b8:27:eb:3a:ff:c1
[    4.592609] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 47900
[    4.611794] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 31567
[    4.630805] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 23732
[    4.647041] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 4871
[    4.662074] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 4653
[    4.662256] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 4514
[    4.662344] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 4465
[    4.677977] EXT4-fs (mmcblk0p2): ext4_orphan_cleanup: deleting unreferenced inode 3989
[    4.678142] EXT4-fs (mmcblk0p2): 8 orphan inodes deleted
[    4.685881] EXT4-fs (mmcblk0p2): recovery complete
[    8.631347] EXT4-fs (mmcblk0p2): mounted filesystem with ordered data mode. Opts: (null)
[    8.644244] VFS: Mounted root (ext4 filesystem) on device 179:2.
[    8.654677] devtmpfs: mounted
[    8.661103] Freeing init memory: 124K
[   10.414514] udevd[139]: starting version 175
[   21.263308] EXT4-fs (mmcblk0p2): re-mounted. Opts: (null)
[   21.967590] EXT4-fs (mmcblk0p2): re-mounted. Opts: (null)
[   22.849536] bcm2835 ALSA card created!
[   22.855703] bcm2835 ALSA chip created!
[   22.875121] bcm2835 ALSA chip created!
[   22.885884] bcm2835 ALSA chip created!
[   22.894074] bcm2835 ALSA chip created!
[   22.902271] bcm2835 ALSA chip created!
[   22.910319] bcm2835 ALSA chip created!
[   22.918129] bcm2835 ALSA chip created!
</code></pre>
"
3338,1,2012-10-25T04:59:53.357,1,6674,1732,,2012-10-26T18:42:57.237,2012-10-26T18:42:57.237,4,,"<p><code>sudo apt-get update</code> hangs and suggests running <code>sudo apt-get -f install</code>, but that fails on a duplicate declaration. How can I fix this? </p>

<pre><code>The following NEW packages will be installed:
libfont-afm-perl liblcms2-2
0 updgaded, 2 newly installed, 0 to remove and 10 not upgraded.
Need to get 0 B// 135 kB of archives.
After this operation, 396 kB of additional disk space will be used.
Do you want to continue [Y/n]? y
dpkg: error: parsing file '/var/lib/dpkg/status near line 5174 package 'liburi-perl': duplicate value for 'Installed-Size' field
E: Sub-process /usr/bin/dpkg returned an error code (2)
</code></pre>

<p>Here is the file from vi:</p>

<pre><code>Priority: optional
Section: perl
Installed-Size: 226
Maintainer: Debian Perl Group &lt;pkg-perl-maintainers@lists.alioth.debian.org&gt;
Architecture: all
Version: 1.60-1
Depends: perl, libmime-base64-perl, libnet-perl
Suggests: libwww-perl
Description: module to manipulate and access URI strings
 URI is a collection of Perl modules that represent and manipulate Uniform
 Resource Identifier (URI) references as specified in RFC 2396.
 .
 URI objects can be used to access and manipulate the various components
 that make up these strings.  There are also methods to combine URIs in
 various ways.
 .
 The URI class replaces the URI::URL class that used to be distributed with
 libwww-perl. This package al: perl
Installed-Size: 120
Maintainer: Debian Perl Group &lt;pkg-perl-maintainers@lists.alioth.debian.org&gt;
Architecture: all
Version: 1.20-1
Depends: perl (&gt;= 5.6.0-16)
</code></pre>

<p>here is the new output from <code>sudo apt-get -f install</code>:</p>

<pre><code>Reading package lists... Done
Building dependency tree       
Reading state information... Done
Correcting dependencies... Done
The following extra packages will be installed:
  mime-support
The following NEW packages will be installed:
  mime-support
0 upgraded, 1 newly installed, 0 to remove and 9 not upgraded.
21 not fully installed or removed.
Need to get 35.5 kB of archives.
After this operation, 197 kB of additional disk space will be used.
Do you want to continue [Y/n]? y
Get:1 http://mirrordirector.raspbian.org/raspbian/ wheezy/main mime-support all 3.52-1 [35.5 kB]
Fetched 35.5 kB in 1s (34.3 kB/s) 
dpkg: warning: parsing file '/var/lib/dpkg/status' near line 13018 package 'zenity':
 missing description
dpkg: warning: parsing file '/var/lib/dpkg/status' near line 13018 package 'zenity':
 missing maintainer
dpkg: error: parsing file '/var/lib/dpkg/status' near line 13018 package 'zenity':
 missing version
E: Sub-process /usr/bin/dpkg returned an error code (2)
</code></pre>
"
3469,1,2012-11-03T08:28:27.047,10,14475,437,,2019-06-25T21:16:42.483,2019-06-25T21:16:42.483,0,,"<p>I want to use the altenate function of GPIO 4 namely the GPCLK0 function. 
How can one set a GPIO to its alternate function? Many alternate functions are summarized here: <a href=""http://elinux.org/RPi_Low-level_peripherals"">elinux-wiki</a></p>

<p>The best would be if it is possible with the <a href=""https://projects.drogon.net/raspberry-pi/wiringpi/"">wiringPi Library</a>. But i do not mind to use arbitrary C-code if someone tells me how to do it.
After entering an alternative function, i think it is needed to configure it?</p>
"
3475,1,2012-11-04T11:54:17.297,34,56827,3109,,2020-12-21T04:16:10.567,,1,,"<p>Ok, I have one uart interface (TXD GPIO 14, RXD GPIO 15). I want at least one more uart interface.</p>

<p>Possible solutions:</p>

<ul>
<li><p>Bit banging:
Use two unrelated spare GPIOs. I understand that timing is a problem on a standard linux. Would it be reliable with very low baudrate?</p></li>
<li><p>Switching:
RPI decides when to talk to which device. Using e.g. <a href=""http://www.fairchildsemi.com/ds/CD/CD4066BC.pdf"">CD4066BC</a>.</p></li>
<li><p>spi to 2 x uart bridge:
Didn't find a suitable part (availability, price, dil package)</p></li>
<li><p>usb to uart:
Expensive</p></li>
</ul>

<p>Are there other options? I'm inclined to switching, if it can be done. What would you advise?</p>
"
3627,1,2012-11-18T14:20:32.330,13,25170,1677,,2016-03-24T02:33:51.270,2015-05-30T20:51:13.880,2,,"<p>Is there a simple library to talk to I2C for C++? I have found some stuff for python and Java, but I wanted C++. I was hoping someone has ported the Arduino Wire library so I could use code I have already written for the Arduino. </p>
"
3802,1,2012-12-01T15:15:12.780,4,14638,3389,,2019-04-14T06:18:47.467,,1,,"<p>I was thinking it would be cool to have my Raspberry Pi (RPi) monitor how long a computer/mobile device is connected to the network. This would be useful to figure out how many hours I spend on the internet, when at home (do I really want to know? :P).</p>

<p>I was thinking the RPi could some how talk to router and make a log of when a device of a particular MAC address is connected.</p>

<p>Could anybody point me in the right direction?</p>
"
3881,1,2012-12-06T22:55:41.447,1,1782,894,,2012-12-07T09:21:15.330,2012-12-07T09:21:15.330,0,,"<p>I would like to run a programme or script that I wrote on start-up of the Pi - on a separate thread(process) / background.</p>

<p>I would love to do this with MONO application but any other examples would be great too.</p>

<p>Basically all I need it to do is dump UART data into a file.</p>
"
3898,1,2012-12-08T14:14:31.927,4,6029,3665,,2015-11-14T01:40:15.043,,0,,"<p>I trying to toggle one of my GPIO pins at a specific frequency, at the kHz range.</p>

<p>I set up the wiringPi Library, the blinking example seems to work just fine.So I modified the code, so it will oscillat at 35 Khz, but the output frequency is about 5.5 kHz. However when I ran the code with no delay at all the output frequency was 0.5 Mhz. Note that I don't output anything to the screen.</p>

<p>I guess that that this related to the definition of sleeping function ""suspends the execution of the calling thread"", so returning the thread to the foreground might take some time.</p>

<p><strong>How can I define the precise sleeping time?</strong></p>

<ul>
<li>I tired to use usleep as well an nanosleep, but same problem.</li>
<li>All the above was done done via an SSH, as I mentioned, no output was sent during execution</li>
<li>The pi is running an Apache server, but I guess it doesn't have a big affect on it </li>
</ul>

<p>Here is the code I used</p>

<pre><code>#include &lt;wiringPi.h&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;

int main (void){
  int pin = 7;

  struct timespec time;
  time.tv_sec = 0;
  time.tv_nsec = 14000L;

  if (wiringPiSetup() == -1)
    exit (1);

  pinMode(pin, OUTPUT);

  while(1){
    digitalWrite(pin, 1);
    nanosleep(&amp;time,&amp;time);
    digitalWrite(pin, 0);
    nanosleep(&amp;time,&amp;time);
  }

  return 0;
}
</code></pre>
"
4112,1,2012-12-25T10:44:52.020,1,3732,3969,,2020-10-15T19:09:20.820,2012-12-25T10:52:15.537,3,,"<p>I'm using Raspbian.</p>

<p>Every time I turn RPi on, the network monitor icon in bottom right corner says, that wlan0 has no connection at all or the connection is limited. wpa_gui gives error <i>Could not get status from wpa_suplicant</i>.</p>

<p>These are the config files:</p>

<p>/etc/network/interfaces</p>

<pre><code>auto lo
iface lo inet loopback
allow-hotplug eth0
iface eth0 inet static
  address 192.168.1.111
  netmask 255.255.255.0
  network 192.168.0.0
  broadcast 192.168.1.255
  gateway 192.168.1.1
allow-hotplug wlan0
iface wlan0 inet manual
  wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet dhcp
iface home inet static
  address 192.168.1.110
  netmask 255.255.255.0
  network 192.168.0.0
  broadcast 192.168.1.255
  gateway 192.168.1.1
iface stalk inet dhcp
</code></pre>

<p>/etc/wpa_suplicant/wpa_suplicant.conf (also /etc/wpa.config is a link to this one)</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
    ssid=""my_ssid""
    psk=""my_pass""
    proto=RSN
    key_mgmt=WPA-PSK
    pairwise=TKIP
    auth_alg=OPEN
    id_str=""home""
    priority=15
}

network={
    ssid=""""
    psk=""""
    key_mgmt=NONE
    auth_alg=OPEN
    priority=1
    disabled=1
    id_str=""stalk""
}
</code></pre>

<p>FYI: my network is using only static IP and WPA2. The ethernet connection works without problems. The wifi adapter (Modecom mc-un11c) is connected to powered USB hub.</p>

<p>To configure the files I used <a href=""http://manual.siduction.org/en/inet-setup-en.htm#net-set3"" rel=""nofollow"">this manual</a>.</p>

<p>What is wrong, why does the wifi connection not work?</p>
"
4120,1,2012-12-26T11:29:25.747,79,148649,3053,,2021-02-27T11:37:22.993,,0,,"<p>I'm using my pi to monitor my power meters. Data is transferred to PC by WiFi connection using Edimax EW-7811UN USB adapter. When the Wifi connection drops (switched off over night, or shaky connection), the USB adapter remains disabled.</p>

<p>Is there a way to restart the WiFi connection automatically without re-plugging the WiFi adapter?</p>
"
4356,1,2013-01-07T02:52:52.333,26,161673,561,,2020-01-21T18:07:44.117,,4,,"<p>I am trying to figure out a good split for the CPU/GPU.  Is there a way to monitor the CPU and GPU usage to see where I should make the split?</p>
"
4385,1,2013-01-08T06:38:40.540,19,11543,4298,,2016-12-21T22:14:31.993,2013-01-08T19:14:41.830,10,,"<p>On the <a href=""http://www.raspberrypi.org/phpBB3/viewtopic.php?f=29&amp;t=28304&amp;p=252357#p251536"">official raspberrypi.org forum</a>, ""Dom"" - a moderator wrote:</p>

<blockquote>
  <p>I've fudged my board to have your serial number</p>
</blockquote>

<p>How do I edit the serial number of a Raspberry Pi?</p>
"
4533,1,2013-01-17T03:40:37.003,10,11136,4196,,2013-01-22T11:04:53.660,,0,,"<p>I've found that many of the GPIO pins are not usable on a stock installation of Raspbian with <a href=""http://quick2wire.com/2012/05/safe-controlled-access-to-gpio-on-the-raspberry-pi/"">gpio-admin</a>.</p>

<p>For example, I wired up a relay to GPIO 21 only to find after some debugging that it didn't work as desired. Its neighbors GPIO 17 and GPIO 22 both work as expected. GPIO 21 is labeled as PCMD_OUT, so I'm guessing it's being used for another purpose.</p>

<p>So I'd like a few things explained in a straightforward way:</p>

<ol>
<li>Which pins are usable to read/write ""out of the box?""</li>
<li>Which pins can be used with some modifications (and how)?</li>
<li>Which pins cannot be used at all?</li>
</ol>
"
4625,1,2013-01-23T02:49:56.457,16,8585,5556,,2016-12-30T15:35:19.643,2017-04-13T12:56:25.953,3,,"<p>Reading a book on <a href=""http://www.manning.com/mikowski/"" rel=""nofollow noreferrer"">Single Page Web Applications</a> I came to a paragraph that got me thinking:</p>

<blockquote>
  <p>Node.js is non-blocking and event-driven. In a nutshell, this means <em>a single Node.js instance on <strong>modest hardware</strong> can handle tens or hundreds of thousands of concurrent open connections</em>, such as those used in real-time messaging, which is often a highly desired feature of modern SPAs.</p>
</blockquote>

<p>I noticed the case of <a href=""https://raspberrypi.stackexchange.com/q/4597/5556"">using the Raspberry Pi as a Rails server</a>, so how about for Node.js?</p>

<p>How do I setup my Raspberry Pi to serve a Node.js application?<br>
Did anyone try, are there tips &amp; tricks, maybe gotchas or limitation to consider?</p>

<hr>

<p><em>Edit:</em> To avoid misunderstandings or off-topics, let's please keep the focus on the Raspberry Pi, in the Node.js context: </p>

<ol>
<li>How suited is the Raspberry Pi to serve Node applications? </li>
<li>If that is the case, how can one fine tune the Raspberry Pi for best results? </li>
</ol>
"
4640,1,2013-01-24T06:30:21.973,10,10187,5591,,2014-04-19T20:03:33.310,2013-01-24T18:24:58.817,9,,"<p>I've just finished setting up a VPN'ed NAS with my newly acquired un-overclocked Raspberry Pi Model-B and I've run into something I can't find an answer for elsewhere.</p>

<p>The internet bandwidth, as determined using</p>

<blockquote>
  <p>wget --output-document=/dev/null
  <a href=""http://speedtest.wdc01.softlayer.com/downloads/test500.zip"">http://speedtest.wdc01.softlayer.com/downloads/test500.zip</a></p>
</blockquote>

<p>is much slower than what I'd expect to get. I'm getting around 1.34 MBps on my Pi through ethernet when I'm getting close to 7MBps when the ethernet is plugged directly into my laptop.</p>

<p>The problem is with OpenVPN, but I can't figure what exactly it is. Here's how I know this.</p>

<p>I compared the download rates on the Pi with the VPN turned off and on -- it was 5.03 MBPS vs 1.34 MBPS.</p>

<p>Then I tried it on my laptop (wired) -- it was 6.9 MBPS (perfect) vs 6.7 MBPS (near perfect).</p>

<p>So the fault doesn't lie entirely with my VPN service (PrivateInternetAccess) which gives a 3% reduction in bandwidth on my laptop -- but has to do with the way OpenVPN runs on the Pi which gives a 74% reduction in bandwidth.</p>

<p>Any ideas on why OpenVPN on Raspbian is being so terrible?</p>

<p>UPDATE:
Most of that reduction from 6.9MBPS on the laptop without VPN to 5.03 MBPS on the Pi without VPN seems to be from the SD card write speed, which I've determined to be around 4.9MBPS. It's that huge reduction from 5.03 MPBS on the Pi without VPN to 1.3MBPS with VPN that needs to be explained.</p>

<p>UPDATE 2:
Some more clues from suggestions from the comments:
1) OpenVPN utilizes 70% of the CPU when it is running and wget is in the background
2) On the Pi, I get 1.34 MBPS from a US VPN server and around 500-600 KBPS from ALL European VPN servers, BUT on my laptop,I get 6.7MBPS from the US VPN server and a very similar 6.6MBPS from some European servers like the one in Netherlands. What I'm saying is that distance to the server seems to disproportionately affect the Pi rather than my laptop.</p>
"
4745,1,2013-01-29T19:40:03.667,92,101182,4387,,2016-04-12T23:14:07.003,2017-04-13T12:56:22.787,0,,"<p>I'm using my Raspberry Pi as a <a href=""https://raspberrypi.stackexchange.com/tags/headless/info"">headless</a> server which I can ssh into. I don't need the X Server, LXDE etc.</p>

<p>I'm running Raspbian ""wheezy"". I've already disabled ""Start desktop on boot"" using <code>raspi-config</code> as described <a href=""https://raspberrypi.stackexchange.com/a/1320/4387"">here</a>. But I keep getting lots of package updates for all the desktop stuff that I don't use (I run <a href=""http://www.debian-administration.org/articles/491"" rel=""noreferrer"">apticron</a> to notify me of pending updates via email), so I'd like to completely <code>apt-get remove</code> all the unnecessary packages to avoid these unnecessary updates.</p>

<p><strong>Which package(s) should I remove?</strong></p>

<p>So far, I've come up with the following:</p>

<p><code>sudo apt-get remove desktop-base lightdm lxappearance lxde-common lxde-icon-theme lxinput lxpanel lxpolkit lxrandr lxsession-edit lxshortcut lxtask lxterminal obconf openbox raspberrypi-artwork xarchiver xinit xserver-xorg xserver-xorg-video-fbdev</code></p>

<p>I made the above list by looking in aptitude for all packages in the Installed Packages -> x11 -> main section that were not ""automatic installs"".</p>

<p>For some reason when I run this, <code>apt-get</code> tells me that:</p>

<pre><code>The following extra packages will be installed:
  libutempter0 xbitmaps xterm
</code></pre>

<p>which seems a little odd for a <strong>remove</strong> operation.</p>

<p>Is there an easier way? Is there a ""super"" package which owns all of this graphical stuff and can be removed, taking all it's dependencies with it? From my understanding, it doesn't look like this is possible, because these things have not been automatically installed, meaning I need to track them all down and remove them all explicitly.</p>
"
4870,1,2013-02-07T01:45:43.377,0,4625,3742,,2013-02-07T09:47:56.390,,3,,"<p>when I type lsmod I get the output below. But I am missing all the other but the sound modules. Why are no other modules shown?
I am using the latest Raspbian release (12/16/12)</p>

<pre><code>root@raspberrypi:~# lsmod
Module                  Size  Used by
snd_bcm2835            12808  0 
snd_usb_audio          93242  0 
snd_pcm                74834  2 snd_usb_audio,snd_bcm2835
snd_page_alloc          4951  1 snd_pcm
snd_hwdep               5730  1 snd_usb_audio
snd_usbmidi_lib        17812  1 snd_usb_audio
snd_seq_midi            4518  0 
snd_seq_midi_event      6453  1 snd_seq_midi
snd_rawmidi            20611  2 snd_seq_midi,snd_usbmidi_lib
snd_seq                52536  2 snd_seq_midi_event,snd_seq_midi
snd_timer              19698  2 snd_seq,snd_pcm
snd_seq_device          6300  3 snd_seq,snd_rawmidi,snd_seq_midi
snd                    52489  9           
snd_seq_device,snd_timer,snd_seq,snd_rawmidi,snd_usbmidi_lib, snd_hwdep,snd_pcm,snd_usb_audio,snd_bcm2835
</code></pre>
"
4884,1,2013-02-07T13:11:58.117,4,14113,5784,,2013-02-08T13:42:25.210,2013-02-08T13:42:25.210,3,,"<p>I have managed to get some sensible data trough the ADC(MCP3008), but I'm struggling to find out how to set the SPI-Clock. The ADC (MCP3008) uses 24 clock-pulses to make one sample therefore I calculated that to get 200ksample/sek the clock should be at least 4,8MHz. I cant find any documentation of the module in use. I'm now using the <a href=""https://github.com/doceme/py-spidev"" rel=""nofollow"">py-spidev</a> module the link shows the only documentation I can find. I have read at <a href=""https://projects.drogon.net/understanding-spi-on-the-raspberry-pi/"" rel=""nofollow"">Gordons Projects</a> that the clock has some jumps so i suppose 8MHz should be the right speed. I have measured the speed on the spi clock, on a scope. The default speed is 500kHz.</p>

<p>The code:</p>

<pre><code>import spidev
import time
import os
import sys

DEBUG = 0
spi = spidev.SpiDev()
spi.open(0,0)
spi.max_speed_hz=(16000000)

#read SPI from MCP3008 chip, 8 possible chanels
def readadc(adcnum):
  if((adcnum &gt; 7) or (adcnum &lt; 0)):
    return -1
  r = spi.xfer2([1,(8+adcnum)&lt;&lt;4,0])
  adcout = ((r[1]&amp;3 &lt;&lt; 8) + r[2]
  return adcout

#chanel input on ADC
ch0 = 0;

while true:

#read chanel
pc_value = readadc(ch0)

#print data from ADC
#print pc_value

#wait do nothing for 0.20 sek
#time.sleep(0.2)
</code></pre>
"
4906,1,2013-02-08T14:59:08.980,23,84190,5904,,2019-07-13T09:22:17.040,2015-12-15T20:17:04.617,1,,"<p>I'm using the hardware PWM output with wiringpi. It provides the function pwmSetClock that should make it possible to change the frequency. (<a href=""https://projects.drogon.net/raspberry-pi/wiringpi/functions/"">https://projects.drogon.net/raspberry-pi/wiringpi/functions/</a>). I believe since the default is 200 Mhz setting the divisor to 200000000 should make an LED hooked up to the output flash visibly, but that is not the case.</p>

<p>Can this be changed?</p>
"
4943,1,2013-02-12T08:27:08.173,15,36939,5959,,2018-08-30T06:37:16.810,2018-08-30T06:37:16.810,2,,"<p>I've been trying to create a new Raspbian image with a different kernel (with CAN support) and with Python 3.3 installed.  Rather than doing all of this on the Raspberry Pi, I thought it would be interesting to do it on the computer instead (following <a href=""https://raspberrypi.stackexchange.com/questions/855/is-it-possible-to-update-upgrade-and-install-software-before-flashing-an-image"">these instructions</a>).  However, once I'd got the image mounted and ready to go, I quickly ran out of disk space.  I presume this is because the image is sized to be only just big enough with the expectation that the user will resize the file-system once it has been written to an SD card.</p>

<p>Is it possible to resize the image and file-system before writing it to the SD card so that I can do more customisation without running out of space?</p>
"
5000,1,2013-02-16T15:26:52.173,3,1218,6046,,2013-02-16T19:54:12.450,,1,,"<p>I have a project that I´ll be using RaspBerry Pi to make a controller for process control. </p>

<p>To do that I need to schedule processes periodically. Does anyone know how I could do that? So I have to compile kernel with my own modules and register them? Can I do it from user space? I don´t know where to start.</p>

<p>For example: every second the process should get data via the SPI and serial port, then it should make all calculations necessary and then send the answer via SPI. </p>

<p>PS: Does anyone know which bootloader the board uses?</p>
"
5033,1,2013-02-19T23:20:19.367,79,144865,6087,,2020-03-03T14:44:03.207,2018-06-06T16:14:25.933,2,,"<p>My searching efforts have failed when trying to find this.  On average, how much energy does the Raspberry Pi consume in 24 hours <strong>(minimal usage vs. max usage in a day <em>and</em> USB vs. Micro-USB powered)</strong>? </p>
"
5097,1,2013-02-24T04:16:17.243,0,734,3710,,2014-07-28T12:13:52.293,,2,,"<p>I have the code below I am trying to build </p>

<pre><code>#include stdio.h
#include stdlib.h
#include signal.h
#include wiringPi.h
#include softPwm.h

void control_event(int sig);
int HARD_PWM_PIN=1; Hardware PWM Pin(GPIO18-12)
int SOFT_PWM_PIN=0; Software PWM Pin(GPIO0-11)
int DELAY_MS=10;
int main(void)
{
  (void)signal(SIGINT,control_event);
  (void)signal (SIGQUIT,control_event);
  printf(Hardware and software based PWM test on LEDn);
  if(getuid()!=0) wiringPi requires root privileges
  {
    printf(ErrorwiringPi must be run as root.n);
    return 1;
  }
  if(wiringPiSetup()==-1)
  {
    printf(ErrorwiringPi setup failed.n);
    return 1;
  }
  pinMode(HARD_PWM_PIN,PWM_OUTPUT); setup hardware pwm
  softPwmCreate(SOFT_PWM_PIN,0,100); setup software pwm pin
  int up;
  int down;
  while(1)
  {
    for(up=1;up=5;down--)
    {
      pwmWrite(HARD_PWM_PIN,down);
      softPwmWrite(SOFT_PWM_PIN,down);
      delay(DELAY_MS2);
    }
    delay(DELAY_MS5);
  }
}
void control_event(int sig)
{
  printf(bbExiting...n);
  pwmWrite(HARD_PWM_PIN,0);
  softPwmWrite(SOFT_PWM_PIN,0);
  delay(100); wait a little for the pwm to finish write
  exit(0);
}
</code></pre>

<p>But I keep getting the following errors this is only a portion of them but they are pretty much the same throughout with the odd symbols and numbers.</p>

<pre><code>test1.c:20:1: error: stray â\302â in program
test1.c:20:1: error: stray â\240â in program
test1.c:21:1: error: stray â\302â in program
test1.c:21:1: error: stray â\240â in program
test1.c:22:1: error: stray â\302â in program
test1.c:22:1: error: stray â\240â in program
test1.c:23:1: error: stray â\302â in program
test1.c:23:1: error: stray â\240â in program
test1.c:23:1: error: stray â\302â in program
test1.c:23:1: error: stray â\240â in program
test1.c:24:1: error: stray â\302â in program
test1.c:24:1: error: stray â\240â in program
test1.c:24:1: error: stray â\302â in program
test1.c:24:1: error: stray â\240â in program
test1.c:25:1: error: stray â\302â in program
test1.c:25:1: error: stray â\240â in program
test1.c:26:1: error: stray â\302â in program
test1.c:26:1: error: stray â\240â in program
test1.c:26:38: error: unknown type name âsetupâ
test1.c:26:53: error: expected â=â, â,â, â;â, âasmâ or â__attribute__â before âpwmâ
</code></pre>

<p>What could be wrong?</p>
"
5181,1,2013-03-01T01:11:19.887,11,25999,6049,,2020-03-22T11:05:02.567,2013-03-02T19:44:13.530,3,,"<p>Is it possible to get an <a href=""http://en.wikipedia.org/wiki/IP_address"">IP address</a> over <a href=""http://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol"">DHCP</a> but force a <a href=""http://en.wikipedia.org/wiki/Domain_Name_System"">DNS</a> server instead of using the ones from the DHCP?</p>

<p>I should be able to do so with a static IP addresses, but I would like to know how to do it getting an IP address over DHCP. I thought that changing <code>/etc/resolv.conf</code> would be permanent, but it dismisses the changes after a reboot.</p>
"
5308,1,2013-03-06T19:34:15.177,3,21794,160,,2018-10-18T18:49:06.990,2013-03-06T20:33:51.610,4,,"<p>So <code>wlan0</code> is connecting fine to my router, but I'm not getting an IP.</p>

<p><code>/etc/network/interfaces</code> has the line:</p>

<pre><code>iface wlan0 inet manual
</code></pre>

<p>Changing <code>manual</code> to <code>dhcp</code> doesn't seem to help, I get lots of messages of the form:</p>

<pre><code>DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 5
</code></pre>

<p>And eventually it fails. Perhaps it's looking in the wrong place? I'm fine to either configure a static IP or get DHCP working.</p>

<p>As requested, <code>ifconfig wlan0</code>:</p>

<pre><code>wlan0     Link encap:Ethernet  HWaddr a0:f3:c1:0f:18:50
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:75 overruns:0 frame:0
          TX packets:12 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:4416 (4.3 KiB)
</code></pre>

<p>wpa_gui:</p>

<p><img src=""https://i.stack.imgur.com/oucQK.png"" alt=""enter image description here""></p>
"
5345,1,2013-03-08T22:48:31.923,3,7174,5725,,2017-02-07T13:39:39.783,,0,,"<p>My master plan is to be able to send CEC commands from my pi running raspbmc to do things such as turn on/off the tv as well as other devices connected to the TV. Then I will be adding voice recognition to send these commands...that's for another day. I have read up on CEC but from what I've gathered it seems like you can't send CEC commands directly through the command line without the CEC usb adapter? I have installed the cec-client and libCEC library on my pi but when I run <code>cec-client -l</code> it shows no devices. </p>

<p>My question is, how can I send CEC commands via the command line to my tv from the pi without the adapter? Am I missing some basic element about CEC?</p>
"
5503,1,2013-03-19T04:40:47.343,3,10405,5910,,2014-06-08T22:57:15.103,,2,,"<p>I have a Pi, and with a fresh install, I can configure wifi connectivity using a helpful tool in X windows nicely.</p>

<p>However, what are the command line tools for configuring WiFi? What configuration files are updated?</p>

<p>This isn't critical, but I'd like to know.</p>
"
6782,1,2013-04-04T11:52:15.493,8,16412,5900,,2017-01-05T12:26:32.323,2015-09-24T16:06:16.487,1,,"<p>I use motion on a Raspberry Pi, and sometimes the camera feed hangs. The camera is physically mounted, and it is kind of awkward to remove the cable and insert it again, so I was wondering: </p>

<p>Is there a way of achieving the same effect programmatically?</p>
"
6807,1,2013-04-05T17:03:24.587,2,8031,6800,,2015-04-08T21:28:47.873,2015-04-08T21:28:47.873,3,,"<p>My pi is plugged to my tv and I have installed mopidy.</p>

<p>Everything is ok, the sound is played through my tv,  except that the sound quality is terrible. I mean, it is not listenable at all.</p>

<p>When I play movie the sound is ok.</p>

<p>I have the default settings (alsa, ...) and I don't use a X server, only command lines.</p>
"
6974,1,2013-04-12T02:57:03.763,126,314199,,user6899,2019-05-28T06:23:13.853,,3,,"<p>I have been given a pre-installed SD card.  It boots fine, and I know it is running some version of Raspbian.  Can I determine exactly which release it is running?</p>
"
6978,1,2013-04-12T10:19:44.423,12,8609,2967,,2018-02-05T14:14:19.510,,1,,"<p>I know you can get the temperature using the tool <strong>vcgencmd</strong> but I was wondering if there is any API I can use in C to get the temperature programatically without reading the stdout of vcgencmd ?</p>
"
7010,1,2013-04-13T16:06:46.797,8,1277,3918,,2018-10-17T14:51:35.227,2013-04-13T18:28:20.310,5,,"<p>I'm coding something using direct control of GPIO, there are some good resources around for this, such as <a href=""http://elinux.org/RPi_Low-level_peripherals#GPIO_hardware_hacking"">http://elinux.org/RPi_Low-level_peripherals#GPIO_hardware_hacking</a> ; the process involves open(""/dev/mem"") and then a mmap operation effectively maps the desired physical address into your virtual address space.
Then you read section 6 of this <a href=""http://www.raspberrypi.org/wp-content/uploads/2012/02/BCM2835-ARM-Peripherals.pdf"">http://www.raspberrypi.org/wp-content/uploads/2012/02/BCM2835-ARM-Peripherals.pdf</a> to find out about how the I/O are controlled.</p>

<p>To change to the function of a pin (input, or output, or various special functions) you modify these 3-bit fields in the GPFSELx I/O registers (000=input, 001= output foe instance). These modification operations are compiled to operations with ordinary load and store (e.g. to change GPIO0 to input:  *(regptr) &amp;= ~7; which compiles to something like</p>

<pre><code>    ldr     r2, [r3, #0]     ; r = *ptr (load r2 from I/O register)
    bic     r2, r2, #7       ; r2 &amp;= ~7
    str     r2, [r3, #0]     ; *ptr = r2 (store r2 to I/O register)
</code></pre>

<p>The problem is this: if an interrupt occurs between the load and store, and another process or ISR modifies the same I/O register, the store operation (based on a stale read into r2) will revert the effects of that other operation. So changing these I/O registers really needs to done with an atomic (locked) read/modify/write operation. The examples I've seen do not use a locked operation.</p>

<p>Since these I/O registers are generally changed only when setting something up, it's unlikely that problems will occur, but 'never' is always better than 'unlikely'. Also, if you have an application where you are bit-bashing to emulate an open-collector output, then (as far as I can tell) this involves programming the output to 0 and then switching it between output (for low) or input (for off/high). So in that case there would be frequent mods to these I/O registers, and unsafe modifications would be far more likely to cause a problem.</p>

<p>So, there's probably an ARM 'compare and set' or similar operation which can be used here to do this, can anyone point me to that, and how to make that happen from C code?</p>

<p>[Note, nothing special is needed when you have programmed an I/O as output and are just changing it from 0 to 1 or vice versa; since there is an I/O register you write to, to set selected bits to 1 and another to clear selected bits to 0. No read/write is needed for this operation, thus there is no hazard from interrupts].</p>
"
7081,1,2013-04-17T20:48:26.317,21,62803,2976,,2019-08-01T21:16:19.353,,4,,"<p>I followed <a href=""http://ediy.com.my/index.php/blog/item/52-virtualbox-raspberry-pi-emulator"">this guide</a> to emulate RPI on OSX via VirtualBox and it works.
Now I'd like to simplify things a bit since this solution involves running debian in a virtual machine just to run qemu on top of. </p>

<p>I googled for guides on how to setup qemu straight on osx and found <a href=""http://igor.gold.ac.uk/~mas01mjy/wp/?p=95"">Matthew Yee-King's guide</a>. I followed the instructions and all seems fine until the last part. When I launch <code>qemu-system-arm</code> I see the QEMU window appear but the application seems to freeze. After a while it appears as Not Responding in Activity Manager. </p>

<p>What am I missing ? How do I emulate RPI on OSX with QEMU ?</p>
"
7086,1,2013-04-18T09:15:51.087,0,2459,6982,,2015-12-27T16:38:16.087,,0,,"<p>I have a 512MB rev B Pi that seems to be working just as it should. But my TP-link WN725N v2 just doesn't seem to work with it. I run the latest version of Raspbian Wheezy and according to several posts on the internet, including here, <a href=""http://www.raspberrypi.org/phpBB3/viewtopic.php?t=25875"" rel=""nofollow"">http://www.raspberrypi.org/phpBB3/viewtopic.php?t=25875</a> this version of the OS and this device should work ""out of the box"", without any external power supply. But mine doesn't.</p>

<p>I've tried both while running HDMI and a keyboard, as well as only running ethernet and going through ssh. I've also tried two different power supplies. A Galaxy S 2 5V 1A-adapter and another, more powerful one. Both work fine along with this other dongle, a TP-link too, I think the model name is 723N.</p>

<p>But I get nothing while trying mine. The OS recognizes a USB device is connected, but does not recognize it as a wifi0.</p>

<p>Oh, and I did confirm on my desktop PC that the dongle indeed does work.</p>

<p>What do I do next?</p>
"
7092,1,2013-04-18T15:21:11.107,2,8825,6128,,2013-04-24T18:21:01.150,2013-04-18T20:28:36.043,0,,"<p>I'm wondering if the following is possible:  I would like to display a test pattern on my Raspberry Pi and then clear it while going back to the original display.  Thanks <a href=""http://raspberrycompote.blogspot.ie/search/label/Raspberry%20Pi"" rel=""nofollow"">Low-Level Graphics on the Raspberry Pi</a>, writing into the Frame Buffer is easy.  What I'm not sure about is stopping updates from other sources and refreshing the Frame Buffer after I'm done.</p>

<p>I think this is relatively easy if the RPi is just displaying a terminal.  I can disable the prompt and draw my test pattern.  On exit, I can blank the screen and enable the prompt.  I don't know how to handle this when LXDE is running (or how to tell which mode I'm in).  Can I stop displaying cursor updates and then force a full screen refresh?</p>

<p>Thanks!</p>

<p><strong>Update</strong></p>

<p>Thanks to Krzysztof Adamski's help, I'm close to a complete answer.  While running LXDE, I can draw a test pattern to the frame buffer and it will not be overwritten as long as I turn off the CPU utilization monitor and as long as I don't move the mouse.  When I want to remove the test pattern, I can call DISPLAY=:0 xrefresh -black to ""refresh"" the screen (i.e. redraw the GUI in its current state).  Now I just need to find a way to temporarily disable input devices.  </p>

<p>By the way, this project is really just a way to remotely display test patterns so I can check out the monitor/TV.  I'll be showing it to people and I know they're going to move the mouse while the test pattern is up.  Had to say something because I realized the project was starting to sound kind of nefarious.  :)</p>
"
7159,1,2013-04-24T07:13:40.147,8,16601,1501,,2018-07-13T08:11:21.957,,0,,"<p><em>Before I start, I will say I have posted this on the Rpi forum as well. I don't normally cross-post but, having tried there and got nothing, I've come to my preferred knowledge centre.</em></p>

<p>I'm just looking into orgainsing a Pi with a big disk and plan to use <code>LVM</code>. I expect to find that the root partition needs to be outside any LVM scheme - I thought I'd just ask on here to confirm my thoughts.</p>

<p>The way I boot x86 using root-on-LVM is via an initrd that includes the necessary <code>lvm2</code> hook - the way you make an initrd is to use the <code>mkinitcpio</code> tool.</p>

<p>What I've discovered via Google and experimentation: The <code>linux</code> package is what brings in <code>mkinitcpio</code> on x86. On the Rpi, the <code>linux</code> package is <code>linux-raspberrypi</code> and this does not have <code>mkinitcpio</code> as a dependency (it was actually explicitly removed <a href=""https://github.com/archlinuxarm/PKGBUILDs/pull/218"" rel=""noreferrer"">https://github.com/archlinuxarm/PKGBUILDs/pull/218</a>). I've also read plenty about people on various distros struggling to use an initrd on the Pi so perhaps it doesn't work anyway and that's the reason for mknintcpio not being used.</p>

<p>So, would anyone more knowledgeable care to share their experience with me? Is it possible to boot the Pi with a root partition that is on an LVM volume ?</p>

<p>(I am talking about the root partition here, I am not including the boot partition in this - that's on the sd card and I know that's where it has to be. I put everything else on another hard-drive connected to the usb.)</p>
"
7177,1,2013-04-25T07:50:00.180,20,39989,1390,,2019-04-26T20:16:43.033,2013-04-25T14:29:28.403,5,,"<p>I wanted to prepare a distro for some friends.<br>
As I didn't have anything else lying around, I used a 16Gb SD card.</p>

<p>I started with the default Debian Weezy 2Gb image and did not do any resizing.<br>
Now, as I am done, I wanted to create an image of what I did, but I get a 16Gb file, containing 14Gb of <em>unpartitioned (not partitioned and free)</em>  space at the end.</p>

<p>[I used Windows // Win32DiskImager as I have nothing free to stick into the rPI right now]</p>

<blockquote>
  <p>Can I just truncate the image file right behind the partitioned space and transfer the leading part onto a smaller card, then?</p>
</blockquote>
"
7301,1,2013-05-06T15:22:19.410,1,5580,6395,,2018-11-19T12:46:29.753,2018-11-19T12:46:29.753,0,,"<p>I have connected a fan to my raspberry pi with a transistor that sits on pin 5 ( GPIO 5 ).'  I followed an online ""guide"" to make it.</p>

<p>I would like to make a script that makes it run during the day, say from 9 in the morning to 9  in the evening.</p>

<p>I want to use python and the GPIO library, but how would I set it up?</p>
"
7446,1,2013-05-15T21:46:50.927,56,210705,894,,2019-06-15T08:13:32.940,2015-05-21T16:56:02.077,9,,"<p>So I got the Raspberry Camera today and got stills working fine.</p>

<p>Capture an image in JPEG format:</p>

<pre><code>raspistill -o image.jpg
</code></pre>

<p>Capture a 5-second video in <a href=""http://en.wikipedia.org/wiki/H.264/MPEG-4_AVC"">H.264</a> format:</p>

<pre><code>raspivid -o video.h264
</code></pre>

<p>I do not want to install any extra application as I want to leverage <a href=""http://en.wikipedia.org/wiki/HTML5"">HTML5</a> that is readily available. Since <a href=""http://en.wikipedia.org/wiki/Google_Chrome"">Chrome</a>/<a href=""http://en.wikipedia.org/wiki/Safari_%28web_browser%29"">Safari</a> has built-in decoders for H.264 I just want to point my browser to the URL and watch the stream.</p>

<p>How can I achieve this?</p>
"
7683,1,2013-05-29T00:11:37.247,1,3992,7040,,2019-02-18T17:50:44.827,,0,,"<p>We recently ordered a new computer, it had Windows 8 installed, and one of the things we noticed was that our PS3 saw the new computer, and could access its shared files. I tried to replicate this with sambashare, but the PS3 never noticed the Pi, even after adding it to the same workgroup as the new computer.</p>

<p>What's the problem? Is the PS3 picking up something other than the Windows Share? Something secret and proprietary perhaps?</p>

<p>(Please add tags <a href=""/questions/tagged/samba"" class=""post-tag"" title=""show questions tagged 'samba'"" rel=""tag"">samba</a>, <a href=""/questions/tagged/share"" class=""post-tag"" title=""show questions tagged 'share'"" rel=""tag"">share</a>, or any other relevant tags to this question.)</p>
"
7707,1,2013-05-30T09:07:17.600,2,1397,7696,,2013-12-17T23:00:12.550,2013-05-31T12:23:56.400,2,,"<p>Since a while (approx. 1 month) now midori is not starting anymore and gets a <code>segmentation fault</code>. Yesterday I updated the firmware and software to the latest versions, still no change. I also tried to remove and reinstall it with purge.</p>

<p>I also compiled <a href=""https://code.google.com/p/minimal-web-browser/"" rel=""nofollow"">https://code.google.com/p/minimal-web-browser/</a> with the same result on that browser. It might be a webkit problem. I know there was also an issue one year ago, but it should be resolved by now.</p>

<p>I have no idea what else to do.</p>

<h2>EDIT</h2>

<p>I removed all Webkit packages that I found and installed midori again and now it works.</p>
"
7730,1,2013-05-31T13:08:06.473,9,27860,7720,,2016-01-19T13:53:34.637,,0,,"<p>I want to access the serial port by some BASH script files via /dev/ttyAMA0.</p>

<p>How do I configure the serial port settings like speed, parity even/odd?</p>
"
7788,1,2013-06-04T18:36:18.897,2,2574,314,,2018-11-13T10:21:13.270,,4,,"<p>With the Logitech K700 (Logitech Revue) wireless keyboard/trackpad combo, is there any way to emulate the function keys (F1-F12)?  <a href=""http://aloshi.com/emulationstation"" rel=""nofollow"">EmulationStation</a>, which is the frontend for <a href=""http://blog.petrockblock.com/retropie/"" rel=""nofollow"">RetroPie</a>, uses function keys to exit games and perform some other important system functions.</p>

<p>I'll take as much info as I can get about making this keyboard/trackpad work better with the Pi.</p>
"
7790,1,2013-06-04T21:11:04.420,7,40720,6159,,2020-01-31T22:34:53.640,2013-06-05T15:26:53.273,4,,"<p>I am setting up the NOOBS (New Out-Of-Box Software) that has just been released. Once I have formatted and copied the data onto my Class 6 SDHC card, and plug my Pi in, the power light turns on, but my screen doesn't show anything, and the green ""OK"" light doesn't turn on either.</p>

<p>Specs:<br />
PC: Windows XP SP3 Professional Refurbished, 2GB RAM<br />
Pi: Model B with Samsung chip, Powered hub<br />
SDHC: Transcend 4GB Class 6, connected to PC using HEISI SD Card reader. Has worked in the past with Raspbian, Arch and Pidora IMGs.</p>
"
7842,1,2013-06-07T19:31:54.363,1,459,7769,,2013-08-23T16:20:11.393,2017-04-13T12:56:22.787,7,,"<p>I want to <a href=""https://raspberrypi.stackexchange.com/questions/5258/how-can-i-remove-the-gui-from-raspbian-debian"">remove the GUI from Raspbian</a> and then customize it:</p>

<ul>
<li>White background or background image </li>
<li>Image in down-right corner </li>
<li>Change font size/font/font color </li>
<li>Center align text</li>
</ul>

<p>Is that possible? And how could I do this?</p>
"
7866,1,2013-06-08T16:20:18.103,7,26171,7839,,2016-12-22T12:58:15.390,2016-12-22T12:58:15.390,5,,"<p>I have been trying to setup up WiFi with my Raspberry Pi Model A (meaning I don't have a internet connection currently), running Raspbian 2013. I have tried several things to setup my WiFi but none of them worked:</p>

<p>The manual approach:</p>

<p><a href=""http://learn.adafruit.com/adafruits-raspberry-pi-lesson-3-network-setup/setting-up-wifi-with-occidentalis"" rel=""nofollow noreferrer"">http://learn.adafruit.com/adafruits-raspberry-pi-lesson-3-network-setup/setting-up-wifi-with-occidentalis</a></p>

<p>This gave me boot errors, and I never was able to connect to the internet.</p>

<p>The GUI approach:</p>

<p><a href=""http://learn.adafruit.com/adafruits-raspberry-pi-lesson-3-network-setup/setting-up-wifi-with-raspbian"" rel=""nofollow noreferrer"">http://learn.adafruit.com/adafruits-raspberry-pi-lesson-3-network-setup/setting-up-wifi-with-raspbian</a></p>

<p>My network flag is WEP, and it has a pass-phrase but <code>wpa_config</code> never asked for one and I was unable to connect.</p>

<p>I have tried several other different approaches but they all led down to these 2 basic approaches...</p>

<p>I am using a Tenda USB WiFi adapter that <em>is</em> compatible with my Pi, and my network is a WEP network with a password. Any suggestions? Thanks!</p>
"
7933,1,2013-06-12T09:10:46.897,3,12700,7922,,2016-08-10T08:24:02.103,2013-06-12T11:48:46.400,1,,"<p>Could some kind soul please post the default content of the <code>dhclient.conf</code> file from <code>/etc/dhcp/</code> as I've managed to delete mine :/</p>
"
7957,1,2013-06-13T15:43:24.873,1,4726,6002,,2014-02-28T20:43:04.813,,0,,"<p>Is it possible to output integer binary values to GPIO pins at once like a parallel port?</p>

<p>I need that because I am afraid if I toggled pins one by one there will be invalid intermediate states that will cause wrong behavior in the circuit connected to GPIO.</p>

<p>I prefer software solution but any other idea to overcome this is welcomed.</p>
"
8044,1,2013-06-19T16:57:26.513,8,28041,3041,,2017-06-24T04:57:00.807,2017-04-13T12:56:25.627,0,,"<p>So I <a href=""https://raspberrypi.stackexchange.com/questions/4370/where-does-the-raspberry-pi-get-the-time-from?rq=1"">understand</a> that the Raspberry PI works some magic with internet servers and whatnot to get its time and that I need to wave some magic dust over the localtime link and possibly /etc/timezoneinfo to get it to work.</p>

<p>The thing is - it seems to be an entire day out and I think that it is configured to the correct time zone.  See the following screenshot:</p>

<p><img src=""https://i.stack.imgur.com/aaHkj.png"" alt=""Time Zone""></p>

<p>Notice the date in the top right hand corner and compare it with the date in the terminal and with the browser behind showing the date and time.  Notice also that I pinged google and it came back fine so it has an internet connection.</p>

<p>I am in central european time so I did all this based on <a href=""http://www.thegeekstuff.com/2010/09/change-timezone-in-linux/"" rel=""nofollow noreferrer"">this</a> page:</p>

<pre><code>cd /etc
sudo rm localtime
sudo ln -s /usr/share/zoneinfo/CET localtime
export TZ=CET
sudo vi timezone
CET
</code></pre>

<p>And still this weird date thing.  So, what gives?  How can I get it to have the correct time information?</p>

<p>I tried restarting the ntpd:</p>

<pre><code>/etc/init.d/ntp restart
</code></pre>

<p>And checking the peers:</p>

<pre><code>$ ntpq -p
     remote           refid      st t when poll reach   delay   offset  jitter
==============================================================================
 94.136.21.140   73.121.249.250   2 u   27   64    1  1432.35   -7.155 140.072
 ns4.nosuchhost. 131.130.251.107  2 u   30   64    1  1700.38  118.357  18.616
 ntp1.sil.at     183.183.106.246  3 u   37   64    0    0.000    0.000   0.001
 fetchmail.media 83.64.124.251    2 u  20h   64    0    0.000    0.000   0.001
</code></pre>

<p>running ntptime gives:</p>

<pre><code>ntp_gettime() returns code 5 (ERROR)
  time d56c8b65.3a5f0000  Wed, Jun 19 2013 21:56:21.228, (.228012),
  maximum error 16000000 us, estimated error 16000000 us, TAI offset 0
ntp_adjtime() returns code 5 (ERROR)
  modes 0x0 (),
  offset 0.000 us, frequency -28.937 ppm, interval 1 s,
  maximum error 16000000 us, estimated error 16000000 us,
  status 0x4041 (PLL,UNSYNC,MODE),
  time constant 7, precision 1.000 us, tolerance 500 ppm,
</code></pre>

<p>Still the time is wrong and I see an ERROR!  But how do I solve that?</p>
"
8053,1,2013-06-20T09:37:12.403,5,9877,8072,,2018-04-07T19:47:02.267,2018-04-07T19:47:02.267,0,,"<p>zRam increases performance by avoiding paging on disk and instead uses a compressed block device in RAM in which paging takes place until it is necessary to use the swap space on the hard disk drive</p>

<p>This module is enabled in Pi config file  [arch/arm/configs/bcmrpi_defconfig ]
CONFIG_ZRAM=m</p>

<p>extract from wiki : <a href=""http://en.wikipedia.org/wiki/ZRam"" rel=""nofollow"">ZRam</a></p>

<p>How does it improves the performance in Pi. Please suggest any bench mark tool to verify the performance improvement in R Pi.</p>
"
8244,1,2013-07-02T01:31:34.130,4,4529,8279,,2015-12-19T14:58:17.477,,2,,"<p>I've got a raspberry pi running raspbian server edition. My problem is that the only way I can ssh into it with putty is through the static ip. My router doesn't recognize the hostname; it shows the mac address as the name. This causes the pi not to show my website online (I think). The only way I've gotten it to work is using my other linux server to forward using virtual hosts, and that has to use the ip address, too. However, now that I have my other server off, the website doesn't work and I can't ssh (or find it anywhere on the network) using the hostname.</p>
"
8270,1,2013-07-03T21:04:39.463,2,4079,827,,2013-07-04T10:03:38.397,2013-07-04T08:32:28.453,1,,"<p>I have a webcam running on my RPi. How can I use <code>motion</code> to save single images or movies to a file instead of streaming via http?</p>
"
8303,1,2013-07-06T13:36:25.117,6,24890,8224,,2016-11-24T10:59:24.860,2015-10-24T05:16:07.427,5,,"<p>Some of the images I get from the Webcam using <code>fswebcam</code> are not displaying properly.</p>

<p>Comparison:</p>

<p><img src=""https://i.stack.imgur.com/XUKQ6.jpg"" alt=""enter image description here""><img src=""https://i.stack.imgur.com/oW9aE.jpg"" alt=""enter image description here""></p>

<p>I got these images using the following command:</p>

<pre><code>sudo fswebcam -r 640x480 test.jpg
</code></pre>

<p>I'm having the same issues with 320x240 resolution.</p>

<p><strong>EDIT:</strong></p>

<p>I've also tried skipping some frames before getting the picture:</p>

<pre><code>  sudo fswebcam -r 640x480 -S 20 test.jpg
</code></pre>

<p>And, although I am getting less malformed images I'm still getting a lot (1 every 6-7 taken)</p>

<p>What can I do to solve this output problem?</p>
"
8305,1,2013-07-06T16:42:30.297,20,47793,8168,,2015-11-04T14:41:18.580,2015-04-26T14:16:41.663,1,,"<p>I tried:</p>

<pre><code>sudo dd bs=4k if=/dev/mmcblk0 of=/media/1BAB47551C66A42B/raspbian_migs2.gz
</code></pre>

<p>It creates an .img file with 7.6&nbsp;GB (card size, BUT what's on the card has 700&nbsp;MB).</p>

<p>And:</p>

<pre><code>sudo dd bs=4k if=/dev/mmcblk0 | gzip &gt; /media/1BAB47551C66A42B/raspbian_migs2.gz
</code></pre>

<p>creates a .gz file with 2.7&nbsp;GB.</p>

<p>The original Raspbian (<a href=""https://en.wikipedia.org/wiki/Debian#Release_timeline"">Debian&nbsp;7</a> (Wheezy)) from <a href=""http://www.raspberrypi.org/downloads"">http://www.raspberrypi.org/downloads</a> has 494.44&nbsp;MiB.</p>

<p>From what's on the SD card, how can I make an image similar in size?</p>

<p>(I'm on Ubuntu.)</p>
"
8418,1,2013-07-13T05:24:27.257,0,1119,8459,,2015-05-16T12:58:51.080,2013-07-13T11:59:29.763,4,,"<p>As you see i'm newbie here.
I get a RPi, and i put raspbian in her, all work fine except internet that wan't connect .
The hotspot is an nokia mobile running JoikuSpot Lite that creates only Ad-hoc and no Infrastructure.</p>

<p>When i try to scan, works fine and show me the wireless point, but when i try add and connect just tell ""Scanning"" and no connect.</p>

<p>The program that i'm using in Raspbian is WiFi Config and one D-Link usb-adapter.</p>
"
8421,1,2013-07-14T01:30:17.623,2,3258,1311,,2014-01-02T15:22:04.020,2013-07-30T16:38:46.523,0,,"<p>I have a Motorola Atrix Lapdock connected to my Raspberry Pi using the instructions provided on various web sites including <a href=""http://rpidock.blogspot.com/"" rel=""nofollow"">http://rpidock.blogspot.com/</a>.</p>

<p>The HDMI output initially displays on the Lapdock, but if I close the Lapdock and reopen it the video will not display.  I find that sometimes rebooting the Pi or completely disconnecting the Lapdock (both USB and HDMI connections) will cause the display to work again.</p>

<p>I've even tried setting ""hdmi_safe=1"" to get the display to consistently work after closing and reopening the Lapdock or rebooting the Pi.</p>

<p>Could I just have a flaky Lapdock?  I guess that I need to connect the Lapdock to a different HDMI source to see it behaves opening and closing the Lapdock.</p>

<p>Are there any other config.txt commands that I should try?</p>

<p>Are there any command line commands that I can run while SSH'ed into my Pi to check the status of the HDMI output?</p>

<p><br>
<hr></p>

<h2>Update (2013-07-16):</h2>

<p><strong>Can anyone with a working Lapdock perform the <code>tvservice -d edit.out</code> command parsing the output using <code>edidparser edid.out</code> posting your results here for comparison?</strong></p>

<p>Using the <code>tvservice -d edid.out</code>command I was able to dump the <a href=""http://en.wikipedia.org/wiki/Extended_display_identification_data"" rel=""nofollow"">EDID</a> information from my Lapdoc, here is what that was returned:</p>

<pre><code>johnma@raspberrypi:~$ edidparser edid.out
Enabling fuzzy format match...
Parsing d.out...
HDMI:EDID version 1.3, 1 extensions, screen size 26x14 cm
HDMI:EDID features - videodef 0x80 !standby !suspend !active off; colour encoding:RGB444|YCbCr422; sRGB is not default colourspace; preferred format is native; does not support GTF
HDMI:EDID found monitor S/N descriptor tag 0xff
HDMI:EDID found monitor range descriptor tag 0xfd
HDMI:EDID monitor range offsets: V min=0, V max=0, H min=0, H max=0
HDMI:EDID monitor range: vertical is 50-75 Hz, horizontal is 30-85 kHz, max pixel clock is 150 MHz
HDMI:EDID monitor range does not support GTF
HDMI:EDID found monitor name descriptor tag 0xfc
HDMI:EDID monitor name is MotoAttach
HDMI:EDID found preferred DMT detail timing format: 1366x768p @ 60 Hz (86)
HDMI:EDID established timing I/II bytes are 00 00 00
HDMI:EDID standard timings block x 8: 0x0101 0101 0101 0101 0101 0101 0101 0101
HDMI:EDID parsing v3 CEA extension 0
HDMI:EDID monitor support - underscan IT formats:no, basic audio:yes, yuv444:yes, yuv422:yes, #native DTD:1
HDMI:EDID found DMT detail timing format: 1366x768p @ 60 Hz (86)
HDMI:EDID failed to find a matching detail format for 0x720p hfp:110 hs:40 hbp:-134 vfp:5 vs:5 vbp:20 pixel clock:0 MHz
HDMI:EDID calculated refresh rate is 0 Hz
HDMI:EDID guessing the format to be 0x720p @24 Hz
HDMI:EDID found unknown detail timing format: 0x720p hfp:110 hs:40 hbp:-134 vfp:5 vs:5 vbp:20 pixel clock:0 MHz
HDMI:EDID failed to find a matching detail format for 0x1080i hfp:88 hs:44 hbp:-116 vfp:2 vs:5 vbp:16 pixel clock:0 MHz
HDMI:EDID calculated refresh rate is 0 Hz
HDMI:EDID guessing the format to be 0x1080i @24 Hz
HDMI:EDID found unknown detail timing format: 0x1080i hfp:88 hs:44 hbp:-116 vfp:2 vs:5 vbp:16 pixel clock:0 MHz
HDMI:EDID found CEA format: code 1, 640x480p @ 60Hz
HDMI:EDID found CEA format: code 3, 720x480p @ 60Hz
HDMI:EDID found CEA format: code 18, 720x576p @ 50Hz
HDMI:EDID found audio format 2 channels PCM, sample rate: 32|44|48|96|192 kHz, sample size: 16|20|24 bits
HDMI:EDID found HDMI VSDB length 5
HDMI:EDID HDMI VSDB has physical address 1.0.0.0
HDMI:EDID HDMI VSDB has no extension fields
HDMI:EDID adding mandatory support for DMT (4) 640x480p @ 60Hz
HDMI:EDID adding mandatory support for CEA (2) 720x480p @ 60Hz
HDMI:EDID adding mandatory support for CEA (17) 720x576p @ 50Hz
HDMI:EDID filtering formats with pixel clock &gt; 162 MHz or h. blanking &gt; 1023
HDMI:EDID best score mode initialised to DMT (4) 640x480p @ 60 Hz with pixel clock 25 MHz (score 0)
HDMI:EDID best score mode is now CEA (1) 640x480p @ 60 Hz with pixel clock 25 MHz (score 43432)
HDMI:EDID best score mode is now CEA (2) 720x480p @ 60 Hz with pixel clock 27 MHz (score 45736)
HDMI:EDID CEA mode (3) 720x480p @ 60 Hz with pixel clock 27 MHz has a score of 45736
HDMI:EDID DMT mode (4) 640x480p @ 60 Hz with pixel clock 25 MHz has a score of 36864
HDMI:EDID CEA mode (17) 720x576p @ 50 Hz with pixel clock 27 MHz has a score of 45736
HDMI:EDID CEA mode (18) 720x576p @ 50 Hz with pixel clock 27 MHz has a score of 45736
HDMI:EDID best score mode is now DMT (86) 1366x768p @ 60 Hz with pixel clock 72 MHz (score 5188835)
HDMI:EDID preferred mode remained as DMT (86) 1366x768p @ 60 Hz with pixel clock 72 MHz
HDMI:EDID has HDMI support and audio support
edid_parser exited with code 0
</code></pre>

<p><br>
<hr></p>

<h2>Update (2013-07-28):</h2>

<p>Partial success! I am able to get the display to work consistently if I execute the following commands:</p>

<pre><code>tvservice -e ""DMT 4""
</code></pre>

<p>That commands sets the following profile:</p>

<pre><code>tvservice -s 
state 0x12001a [HDMI DMT (4) RGB full 4:3], 640x480 @ 60Hz, progressive
</code></pre>

<p>Then to get the display to appear I need to execute the following frame buffer command:</p>

<pre><code>fbset 640x480-60

fbset --show

mode ""640x480-60""
    # D: 25.175 MHz, H: 31.469 kHz, V: 59.940 Hz
    geometry 640 480 640 480 8
    timings 39722 48 16 33 10 96 2
    accel true
    rgba 8/0,8/0,8/0,0/0
endmode
</code></pre>

<p>I am, however, unable to get the display to work consistently at its native resolution of 1366x768. My /etc/fb.modes file does not contain any entry for 1366x768.</p>

<p><strong>Can someone with a working Atrix lapdock post the output of the following command:</strong></p>

<pre><code>fbset --show
</code></pre>

<p>Thank you!</p>

<p><br>
<hr></p>

<h2>Update (2013-07-30):</h2>

<p><strong>More success!</strong></p>

<p>I am able to reliably get the Lapdock to display HDMI video using 1280x720 resolution.  I achieve this using the following parameters in my <code>/boot/config.txt</code> file:</p>

<pre><code># Force DMT mode 85 HDMI
hdmi_group=2
hdmi_mode=85
hdmi_drive=2

# Ignore the devices EDID information
hdmi_ignore_edid=0xa5000080
</code></pre>

<p><br>
<code>tvservice -s</code> returns:</p>

<pre><code>state 0x12001a [HDMI DMT (85) RGB full 16:9], 1280x720 @ 60Hz, progressive
</code></pre>

<p><br>
<code>fbset --show</code> returns:</p>

<pre><code>mode ""1280x720""
    geometry 1280 720 1280 720 16
    timings 0 0 0 0 0 0 0
    rgba 5/11,6/5,5/0,0/16
endmode
</code></pre>

<p>I get no video display when using DMT mode (86) 1366x768 @ 60Hz which is supposed to be the native size of the display.</p>

<p>Could this be a problem with my HDMI cable connection?  Could my exising HDMI cable and HDMI micro adapter have some bandwidth limitation that is preventing 1366x768 resolution from being displayed?</p>
"
8544,1,2013-07-22T07:02:44.020,8,16583,8596,,2018-10-03T07:08:24.967,2016-12-07T09:17:24.537,1,,"<p>I was following this guide, <a href=""http://morethanuser.blogspot.it/2013/04/raspberry-pi-gpio-interrupts-in-kernel.html"" rel=""nofollow noreferrer"">Raspberry Pi GPIO interrupts in kernel space</a>, to create a kernel module handling GPIO interrupt. The problem is that this code doesn't have software debounce implemented. </p>

<p>Can you please give me advice about how software debounce can be implemented, or alternatively, how to easily implement a hardware debouncing system?</p>
"
8586,1,2013-07-24T17:55:25.293,7,4479,8596,,2015-12-31T06:52:55.837,2015-12-31T06:52:55.837,0,,"<p>Good evening,
i'm asking your help, to understand how to use a timer in kernel module to achieve periodic task with period less than a microsecond. I was searching on the web and i've found that exists a Timer (ARM side) that is capable of such timing. Has somebody used it and could give me a little hint?</p>
"
8605,1,2013-07-25T17:09:30.817,4,3314,8664,,2014-02-08T20:08:04.040,2013-07-25T18:08:54.497,4,,"<p>I have a small project I'm working on that will use real-time audio processing. Until now I've been able to record (via the <code>arecord</code> command) straight to a <code>.wav</code>, but like I said I need real-time processing.</p>

<p>I would like to take a PCM stream from my microphone and pipe the output from that into another program (such as a spectrogram maker). What is the most effective way to achieve this?</p>
"
8638,1,2013-07-28T01:53:20.497,1,3647,,user8709,2016-08-06T12:12:29.387,2013-08-19T05:11:24.940,1,,"<p>Can I get the <a href=""http://en.wikipedia.org/wiki/Simple_DirectMedia_Layer"" rel=""nofollow"">SDL</a> libraries on <a href=""http://en.wikipedia.org/wiki/Raspbian"" rel=""nofollow"">Raspbian</a>? I don't actually have a Raspberry Pi, but before I get one I want to know if I can. </p>

<p>If I can then:</p>

<ul>
<li>Does it have all the features of SDL 1.2?</li>
<li>How long does it take to compile code that uses the libraries?</li>
<li>How fast will the resulting program run?</li>
</ul>
"
8689,1,2013-07-30T09:16:41.860,14,31681,8750,,2020-01-01T23:14:32.603,2013-07-31T00:12:08.770,0,,"<p>I am just getting into this and whilst I can display the temp via SSH, I am struggling with displaying it on the little webpage I setup on my Pi running Apache2.  I followed this example <a href=""http://www.raspberrypi.org/phpBB3/viewtopic.php?t=35487&amp;p=310038"">http://www.raspberrypi.org/phpBB3/viewtopic.php?t=35487&amp;p=310038</a> which included some AJAX and a script in the cgi-bin directory, but I get an error saying that <code>$ was not defined</code> and being really clueless with JavaScript, I have no clue where the error lies.  I am wondering if it could be the cgi-bin directory.  I just created it and could not locate info on whether or not I had to do anything special to enable its use for scripts.  Can anyone answer that question for me?  If it is relevant, I am running latest version of Raspbian.</p>

<p>Eventually, I want to log the values to a database and graph from it, but first things first.  :)</p>

<p>Main question is how can I display the temperature on my webpage from the internal sensor?</p>

<p><strong>EDIT</strong></p>

<p>I will try the first suggestion later tonight when I get home, but I quickly got the second one (Lenik) going which seems to be working good.  I had to make some edits though to get it to work.  The script wouldn't create the rrd file so I manually created it by using the syntax he used in the script.  I also modified the <code>UPDATE</code> command since it didn't like the value that was being passed to it.  I had to remove the <code>width</code> portion from the <code>GRAPH</code> command because it threw an error as well.  Then at the end, I added a <code>cp</code> so that it places the file in the images directory of the website and then added <code>*/5 * * * * /home/root/scripts/temprec.sh &gt;/dev/null 2&gt;&amp;1</code> to my crontab so it runs every 5 minutes.  It seems to be working, but with only 4 samples so far it is difficult to know for sure.  Within an hour or so I'll have a better idea if my edits have worked.</p>

<pre><code>#!/bin/bash
#
# update .rrd database with CPU temperature
#
# $Id: update_cputemp 275 2013-05-16 05:20:56Z lenik $
# Thanks to Lenik @ Raspberrypi.stackexchange.com.
cd /path/to/scripts
# read the temperature and convert .59234. into .59.234. (degrees celsius)
TEMPERATURE=`cat /sys/class/thermal/thermal_zone0/temp`
TEMPERATURE=`echo -n ${TEMPERATURE:0:2}; echo -n .; echo -n ${TEMPERATURE:2}`
/usr/bin/rrdtool update cputemp.rrd N:$TEMPERATURE
/usr/bin/rrdtool graph cputemp.png DEF:temp=cputemp.rrd:cputemp:AVERAGE LINE2:temp#00FF00
cp /path/to/scripts/cputemp.png /path/to/website/images
</code></pre>
"
8698,1,2013-07-30T16:27:17.183,17,49575,8756,,2017-11-02T20:00:17.487,2017-11-02T20:00:17.487,0,,"<p>I want to be able to turn my Samsung TV on (and off) the raspberry pi is hooked up to my TV via a HDMI cable.</p>

<p>My cousin already did this with other Tv and it worked, but with the Samsung seems not to work.</p>

<ul>
<li><p>What is the easiest way to do this?</p></li>
<li><p>How is this possible?</p></li>
</ul>

<p>Thanks for your help!</p>
"
8757,1,2013-08-02T12:36:19.987,4,3165,6406,,2013-09-29T23:22:39.050,,6,,"<p>Any common Audio output on any electronic device is in essence a two-channel Digital-to-Analog converter, where the voltage sent to each of the channels (Left, Right) powers the electromagnet that drives the movement of the speaker membrane. Instead of sending a cyclic waveform like a sine, you generate a ""sound"" that is in essence one fixed level, silence but with bias against the ""zero value"". By gradating that level you can use that signal to other purposes - I did use it, driving a DC motor directly from my ISA SoundBlaster16 card in the past (it had some wicked strong on-board amplifier!)</p>

<p>In more modern hardware though, getting there may be more difficult. Codecs and such will often identify constant signal and replace it with zero on output, or such. How is it done in Raspberry Pi? I don't know, I'm asking.</p>

<p>Can I drive the built-in audio output (jack) directly - bypassing codecs, just tell the chip to output certain voltage level to the audio output which then I would use to drive some external components? I realize I can do PWM but that's not entirely the same thing - I'm interested in pushing specific voltage levels, instead of just a full-voltage signal with specific fill. If it's possible, could you write, how - on the software side?</p>
"
8808,1,2013-08-04T16:09:22.360,13,2922,6406,,2016-12-30T12:21:48.627,,4,,"<p>How could I go about programming a switch (based on solid-state relay or a triac) that triggers on zero-crossing power?</p>

<p>For these not familiar with the subject: Switch 230V power on, when the sine wave of the power line crosses zero - the result is minimizing the electromagnetic disturbances resulting from rapid spike in current.</p>

<p>Specifically, I'd prefer to move as much into software as possible. The detection circuit consisting of a small transformer, a diode and a couple resistors to keep levels and currents in check provides ""1"" when the AC input power is in positive half, ""0"" in negative, attached to an input GPIO pin. The output consists of a few solid state relays and bare essentials to keep them running (pull-ups etc), attached to output GPIO pins.</p>

<p>The problem is timing: with 50Hz AC we get 100 zero-crossings in a second, one half-cycle is 10ms. To get within reasonable distance from zero-crossing to keep said EMI low we shouldn't activate the output more than 10% past (or before) the event of zero-crossing, that means +-1ms tolerance. That doesn't mean 1ms reaction time - we can reasonably expect the next zero-crossing to occur precisely 10ms after the first one, or the fourth - 40ms. It's about granularity - if we allow 20ms for reaction, it must be between 19 and 21ms, not 18 or 22.</p>

<p>How can I implement such a timer - trigger output GPIO either within 1ms since input detects an edge, or within a fixed multiple of 10ms since then - preferably with allowance for some negative bias (say, the transformer and the relay introduce 1.6ms delay; so I want the trigger to go off 8.4+(n*10)ms since the input pulse, that way the bias counteracts the delay introduced by the circuit.) - all of course ""on user demand"", say, user writes ""1"" to a /sys/class/... file and on nearest (roughly) opportunity the output goes ""on"". User writes ""0"", and when the zero-crossing arrives, specific relay disengages.</p>

<p>I believe this would require writing or hacking a kernel module. Could you point me to what handles the GPIO pins of Raspberry Pi in the kernel, and what kind of timers could I attach to it (unless there are some in place already) to get this kind of functionality?</p>
"
8927,1,2013-08-09T15:20:20.590,8,13678,8058,,2018-01-30T03:58:52.120,2013-08-09T18:00:55.640,2,,"<p>I am trying to enable an audible terminal bell/beep through the 1/8"" mini-rca audio out (headphone jack) on debian wheezy with the rapsberry pi model b.  Normal audio works as expected, when playing a shockwave file in Midori with gnash for example.</p>

<p>I turned the <strong>Audible bell</strong> setting in <strong>LXTerminal</strong> preferences <strong>ON</strong>, and tried the following:</p>

<p><code>$ xkbbell</code> (no sound)</p>

<p><code>$ xkbbell -dev 0</code> (X Error of failed request: 146)</p>

<p><code>$ beep</code> and <code>$ beep -f 500 -l 700</code> after installing it with apt (no sound)</p>

<p>That said, this is all in an attempt to hear the bell sound triggered by <strong>PuTTY</strong>, when <strong>Action to happen when a bell occurs</strong> is set to <strong>Make default system alert sound</strong>.  There is no option, like in the Windows version of PuTTY, to play a custom sound file when a bell occurs.</p>

<p>I've read that running <code># modprobe snd_hda_intel</code> on other linux machines can redirect sound output intended for the PC speaker (which the raspberry lacks) to ALSA.  Running that command tells me that this module is not found.  I don't know how to acquire it with apt. </p>

<p>I'm really hoping someone has some insight...I'm dizzy from Googling!</p>
"
9009,1,2013-08-14T11:50:33.040,4,4549,8437,,2018-10-05T02:30:49.780,2015-12-15T20:17:43.817,5,,"<p>I am using <code>wiringPi</code> Library and using this library to read data from GPIO Pins attached to a PIR Sensor.</p>

<p>I am using a while loop which reads input data. If there is a motion it will print <em>motion</em>.</p>

<pre><code>while(1)
{
    while(digitalRead(1)==0)
          check=false;
    if(check==false)
    {
         cout&lt;&lt;""Motion Detected""&lt;&lt;endl;
         check=true;
    }
}
</code></pre>

<p>The above code uses processor <code>100%</code>.</p>

<p>What to do in this case? How can I reduce my processor usage.?</p>
"
9059,1,2013-08-16T20:25:16.677,9,29438,7355,,2016-03-06T12:32:45.143,2015-09-09T20:27:41.227,0,,"<p>I read <a href=""https://code.google.com/p/raspberry-gpio-python/wiki/Outputs"" rel=""nofollow"">here</a> that I could toggle the state of a GPIO pin set to output in Python using the following command:</p>

<pre><code>GPIO.output(LED, not GPIO.input(LED))
</code></pre>

<p>where <code>LED</code> is the pin value. I can turn the LED on using the following code:</p>

<pre><code>import RPi.GPIO as GPIO
GPIO.setmode(GPIO.BCM)
LED = 17
GPIO.setup(LED,GPIO.OUT)
GPIO.output(LED,True)
</code></pre>

<p>But when I try <code>GPIO.output(LED, not GPIO.input(LED))</code>, the following error is thrown.</p>

<blockquote>
  <p>RPi.GPIO.WrongDirectionException: The GPIO channel has not been set up or is set up in the wrong direction</p>
</blockquote>

<p>Am I supposed to set up the GPIO channel differently from above or is the site I referenced posting incorrect information?</p>
"
9110,1,2013-08-20T12:17:14.540,2,319,9117,,2013-08-20T15:22:49.837,2013-08-20T12:56:59.697,1,,"<p>I have a little project where there are 3 buttons and one display.  A video clip (around 5 mins) will play all the time (looping) until one of 3 hard-wired buttons are pressed, when one of 3 video clips are played.</p>

<p>The clips should preferably be stored on a USB stick.  There is no requirement for networking.</p>

<p>Should this be easy to achieve and can anyone out there help me set this up please?</p>
"
9236,1,2013-08-25T14:55:05.153,3,2438,9194,,2014-07-12T19:34:16.563,,5,,"<p>I tried to get the temperature and pressure with the BMP085 sensor and my Raspberry Pi (256MB) via I2C. I used this Adafruit tutorial: <a href=""http://learn.adafruit.com/using-the-bmp085-with-raspberry-pi/overview"" rel=""nofollow"">Using the BMP085 with Raspberry Pi</a>, but this isn't working for me.</p>

<p>What I did? I commented out the call to the altitude function, because there was an error and the altitude isn't interesting for me. So after that I get a temperature and humidity output, but with the wrong values. The output is jumping in very huge steps (e.g. 40°C to 100° and back) or I get huge negative values (e.g. -1300hPa). Sometimes, really rarely it seems that I got a right value, but with the next measurement it's the same as before.</p>

<p>I have no idea what to do.. can anyone give me some ideas or suggestions what to do?<br>
Thanks so far.</p>
"
9260,1,2013-08-27T00:12:27.997,2,2327,1160,,2013-08-29T21:55:43.597,2013-08-27T08:40:14.873,2,,"<p>I recently bought a cheap a USB Audio card and I have some issues with it.</p>

<p>It records audio so awful. Apparently the volume of the mic in is so loud and distorts. I figured out this in alsamixer. The input or output volumes assigned to this device cannot be changed.</p>

<p>My USB Audio card is listed by lsusb:</p>

<pre><code>CODE: SELECT ALL
Bus 001 Device 002: ID 0424:9512 Standard Microsystems Corp.
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp.
Bus 001 Device 004: ID 1130:f211 Tenx Technology, Inc. TP6911 Audio Headset
</code></pre>

<p>Another problem is that the recorded audio plays a little fast, maybe the sampling rate is also wrong.</p>
"
9430,1,2013-09-05T13:16:22.617,4,3563,9371,,2013-12-28T19:40:28.793,2013-09-05T13:44:37.823,3,,"<p>I've got some problems with a simple TOR project I'm actually working on.</p>

<p>My goal is to have TOR running on my Pi, so I can browse the web anonymously from another computer (on the same ethernet LAN) configured with the Pi as a proxy. Basically, that's an ""<strong>Onion Pi</strong>"" without the wireless part.</p>

<p>I'm running Raspbian on a 512 MB model B, with eth0 configured with '192.168.1.115'.
Here is a step-by-step guide to what I've done...</p>

<p>First, I installed TOR:</p>

<pre><code>  sudo apt-get install tor
</code></pre>

<p>Then I edited the TOR config file ""/etc/tor/torrc"" with the following lines:</p>

<pre><code> Log notice file /var/log/tor/notices.log
 VirtualAddrNetwork 10.192.0.0/10
 AutomapHostsOnResolve 1
 TransPort 9040
 TransListenAddress 192.168.1.115
 DNSPort 53
 DNSListenAddress 192.168.1.115
</code></pre>

<p>I flushed my NAT table:</p>

<pre><code> sudo iptables -F
 sudo iptables -t nat -F
</code></pre>

<p>Redirected the incoming DNS traffic:</p>

<pre><code> sudo iptables -t nat -A PREROUTING -i eth0 -p udp --dport 53 -j REDIRECT --to-ports 53
</code></pre>

<p>And incoming TCP traffic:</p>

<pre><code> sudo iptables -t nat -A PREROUTING -i eth0 -p tcp --syn -j REDIRECT --to-ports 9040
</code></pre>

<p>Finally, I restarted the TOR service:</p>

<pre><code> sudo service tor restart
</code></pre>

<p>And checked that everything is alright in the logs:</p>

<pre><code> /var/log/tor/notices.log
</code></pre>

<p>Last thing I did was to configure a FireFox browser on another computer with my Pi as proxy:</p>

<p>Manual proxy configuration:
         HTTP proxy: 192.168.1.115 Port: 9040
         SSL proxy: 192.168.1.115 Port: 9040
         FTP proxy: 192.168.1.115 Port: 9040
         SOCKS proxy: 192.168.1.115 Port: 9040</p>

<p>When I try to access the Web from this browser, I get a ""<strong>proxy server is refusing connections</strong>"" error...</p>

<p>Is anyone here has tried something similar?
Could you please help me with this problem?</p>

<p>It's just a test, I do it for fun.
I know there are many more precautions to be anonymous on the Web...</p>
"
9642,1,2013-09-17T15:04:25.567,4,15724,9571,,2015-01-04T00:56:58.963,2013-09-17T20:38:09.297,3,,"<p>Anyone has managed to get raspberry pi connected to <a href=""https://www.sparkfun.com/products/11272"" rel=""nofollow noreferrer"">WS2801 RGB Led Strip</a>? 
<img src=""https://i.stack.imgur.com/sl7eb.jpg"" alt=""enter image description here""></p>

<p>I have followed the connections <a href=""http://learn.adafruit.com/light-painting-with-raspberry-pi/hardware"" rel=""nofollow noreferrer"">here at adafruit</a>: and tried to test the LED with <code>pixelpi.py</code>. </p>

<p><img src=""https://i.stack.imgur.com/T5bRL.png"" alt=""enter image description here""></p>

<p>The <code>pixelpi.py</code> runs without error but there is no effect on the LED when I use the fade or chase mode. Right now only the first and the 10th LED lights up when I supply power to the strip.</p>

<p>I have installed the Occidentals v0.2 and have checked that <code>/dev/spidev0.0</code> is available. </p>

<p>I am driving the Raspberry Pi using a 5V 2.3A source and the LED with a 5V 1.5A source and pulling both ground together. I have shorted the MOSI and the MISO pins together to make sure that signal is being sent and received correctly. </p>

<p>What am I be missing here ? </p>
"
9695,1,2013-09-20T21:10:44.177,11,11969,9623,,2018-02-16T11:16:28.870,2014-12-16T09:56:46.570,0,,"<p>I'm connecting from Pi to Arduino-clone board. The problem is, that I need to disable DTR line, in order to prevent Arduino from resetting on connect.</p>

<p>I have read that on RPi is not possible to control DTR, DCD and other lines. Is it this true for RPi globally or only for GPIO pins used for serial communication?</p>

<p>If it's possible to disable DTR on USB port, how do you accomplish that?</p>
"
9787,1,2013-09-26T12:44:42.620,10,27561,7943,,2020-05-18T19:59:32.327,2013-09-27T19:01:20.070,0,,"<p>Is there a way to read a <a href=""http://en.wikipedia.org/wiki/Pulse-width_modulation"" rel=""noreferrer"">PWM</a> signal from the pins on Raspberry Pi?</p>

<p>I tried googling it, but I only found PWM <em>output</em>, and not <em>input</em>.</p>
"
9795,1,2013-09-26T23:32:46.807,12,19094,9739,,2016-10-24T13:29:20.497,,3,,"<p>I have installed raspbian on my Pi and configured a PulseAudio sink 
with the intention to stream all audio from my desktop to a Pi, driving the loudspeakers.</p>

<p>I followed this nice description: <a href=""http://www.raspberrypi.org/phpBB3/viewtopic.php?f=38&amp;t=11124"">http://www.raspberrypi.org/phpBB3/viewtopic.php?f=38&amp;t=11124</a></p>

<p>At first, this appeared to work without problem. However, the audio sent from the desktop is constantly stuttering on the Pi, as if there were constant buffer underruns with just a few samples missing in-between.</p>

<p>I spent the whole day trying to find the cause, but to no avail. The basic setup is:</p>

<ul>
<li>wired LAN connection</li>
<li>latest raspbian pi (26 Sep 2013) with latest firmware updates</li>
<li>PulseAudio 2.0 on both sides (Ubuntu desktop)</li>
<li>Playback through mplayer, totem, ffplay</li>
<li>network transmission via module-native-protocol-tcp</li>
</ul>

<p>This is what I tried:</p>

<ul>
<li>Playing audio directly on the Pi works perfectly.</li>
<li>Streaming to other (desktop) computers works fine.</li>
<li>Sending audio with a direct connection (specifying $PULSE_SERVER) works quite well with very little stuttering, but still prone to Problem-2 (see below)</li>
<li>Sending audio via desktop PulseAudio tunneling gives constant stuttering</li>
<li>Increasing priorities / realtime scheduling... did not help</li>
<li>Fixing sampling rate to 48 kHz ... did not help</li>
<li>Setting resampling algorithm to ""trivial"" ... did not help</li>
<li>Adjusting default-fragments/fragment-size ... did not help</li>
<li><p>I cannot find any indication of a problem in the PulseAudio logs (shown from the time I started playback):</p>

<pre><code>D: [alsa-sink] protocol-native.c: Requesting rewind due to end of underrun.
D: [alsa-sink] sink-input.c: Requesting rewind due to uncorking
D: [pulseaudio] sink.c: Suspend cause of sink alsa_output.platform-bcm2835_AUD0.0.analog-stereo is 0x0000, resuming
I: [alsa-sink] alsa-sink.c: Trying resume...
I: [alsa-sink] alsa-util.c: cannot disable ALSA period wakeups
D: [alsa-sink] alsa-util.c: Maximum hw buffer size is 341 ms
D: [alsa-sink] alsa-util.c: Set buffer size first (to 16384 samples),  period size second (to 16384 samples).
I: [alsa-sink] alsa-util.c: ALSA period wakeups were not disabled
D: [alsa-sink] alsa-sink.c: Latency set to 25.00ms
D: [alsa-sink] alsa-sink.c: hwbuf_unused=60736
D: [alsa-sink] alsa-sink.c: setting avail_min=15665
I: [alsa-sink] alsa-sink.c: Time scheduling watermark is 15.00ms
I: [alsa-sink] alsa-sink.c: Resumed successfully...
I: [alsa-sink] alsa-sink.c: Starting playback.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [pulseaudio] module-suspend-on-idle.c: Sink alsa_output.platform-bcm2835_AUD0.0.analog-stereo becomes busy.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] alsa-sink.c: Cutting sleep time for the initial iterations by half.
D: [alsa-sink] ratelimit.c: 115 events suppressed
D: [alsa-sink] alsa-sink.c: Wakeup from ALSA!
... no more output, but stuttering continues ...
</code></pre></li>
</ul>

<p>Problem 2: as said above, I can get quite ok audio with a direct connection. However, after a few skips within the stream (using mplayer), the PulseAudio server hangs and does not play any audio at all. Sometimes it can be revived by restarting mplayer. Sometimes it hangs so badly that PulseAudio has to be restarted. Sometimes it even hangs when I only change the volume level.</p>

<p>According to the PulseAudio docs, the advantage of a direct connection over a tunnelled connection is to have better buffering control, which seems to indicate why I get good audio with the direct connection:
<a href=""http://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/Network/"">http://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/Network/</a></p>

<p>I am out of ideas now. What could cause the stuttering and Problem 2 ?
Just an idea how to proceed debugging would also be appreciated.</p>
"
9880,1,2013-10-01T15:47:54.880,2,2704,9814,,2013-10-01T19:42:15.557,,1,,"<p>let me first say that I'm somewhat of a noob when it comes to i2c and serial communication. I've been trying for 2 days now to grasp it, reading datasheets, youtube videos etc. And I'm having a hard time grasping some concepts. I'm working within the node.js i2c library and referencing some python i2c projects.</p>

<p>1). my biggest struggle is understanding what the data means. I'm using the MPR121 sensor. The response is a buffer which is has a length of 32. I'm not sure what to do with these 32 pieces of info and what they mean. I'm not sure how to use the data sheet to tell me. if I convert my buffer to JSON it looks something like...
[2,0,0,0,154,0,103,0,148,0,151,0,151,0,150,0,150,0,151,0,148,0,143,0,139,0,149,0,0,0,38,35]
but again, I'm not sure what to do with that. </p>

<p>2). The node.js i2c library requires length for readByteData, where the python version doesn't. I'm not sure how I find that info besides using trial and error, like I did before to discover it was 32. </p>

<p>3). Other examples (node.js + i2c) use buffer functions like readInt16BE(2*1) and so on but node's documentation doesn't really explain what that is used for and why or why I shouldn't use it in my project. </p>

<p>I understand I'm probably over-ambitious and biting off more than I can chew. I also know that I should prob learn some basics first but I can't really find anything that teaches the basics. I guess I'm just looking for those few small answers to help make it click. Thanks.</p>
"
9891,1,2013-10-01T22:59:28.647,0,4790,9825,,2016-04-19T20:37:41.177,2016-04-19T20:37:41.177,0,,"<p>I could connect to the Raspberry Pi with my Wi-Fi dongle to my home network easily, but I couldn't connect to the university network which is public. Is there any change in configuration  setup file (/etc/network/intertfaces)
My file consists of:</p>

<pre><code>auto lo
iface lo inet loopback
iface etho inet dhcp

allow-hotplug wlan0
auto wlan0
iface wlan0 inet dhcp
        wpa-ssid ""myssid""
        wpa-psk ""pwd""
</code></pre>
"
9947,1,2013-10-04T11:50:37.277,1,1871,9642,,2017-08-10T03:45:59.390,2014-05-22T17:45:53.480,2,,"<p>I am running the code at the bottom using java and <code>Pi4j</code> library, pretty much the program checks is the pin is low and waits sometime before turning off the tv.</p>

<p>When I reboot my Raspberry and run the code, I get no issues. however when I close the program using <code>CTR+C</code> and run again, sometimes I get the this error when I start the program, and I cannot read from the sensor :</p>

<pre><code>wiringPiSetup: mmap failed: No such file or directory
</code></pre>

<p>and also the following error</p>

<pre><code>file:/opt/jdk1.8.0/jre/lib/ext/jfxrt-controls.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss
Exception in thread ""Thread-5"" java.lang.NullPointerException
at javafxapplication4.JavaFXApplication4.lambda$0(JavaFXApplication4.java:672)
at javafxapplication4.JavaFXApplication4$$Lambda$3.run(Unknown Source)
at java.lang.Thread.run(Thread.java:724)
</code></pre>

<p>and my code is</p>

<pre><code> new Thread(() -&gt; {
            final GpioController gpioSensor = GpioFactory.getInstance();
            sensor_lastTimerCall = System.currentTimeMillis();
            final GpioPinDigitalInput sensor = gpioSensor.provisionDigitalInputPin(RaspiPin.GPIO_02, PinPullResistance.PULL_DOWN);
            sensor.addListener(new GpioPinListenerDigital() {
                @Override
                public void handleGpioPinDigitalStateChangeEvent(GpioPinDigitalStateChangeEvent event) {
                    if (event.getState().isHigh()) {
                        sensor_lastTimerCall = System.currentTimeMillis();
                        ProcessBuilder processBuilder1 = new ProcessBuilder(""bash"", ""-c"", ""echo \""as\"" | cec-client -d 1 -s \""standby 0\"" RPI"");
                        try {
                            Process process1 = processBuilder1.start();
                        }catch (IOException ex) {
                            Logger.getLogger(JavaFXApplication4.class.getName()).log(Level.SEVERE, null, ex);
                        }   
                    }
                    if(event.getState().isLow()){sensorLow = true;}
                }
            });
            System.out.println("" ... Motion Detection Starting....."");

            for (;;) {
                try {
                    Thread.sleep(1000);
                    long now = System.currentTimeMillis();
                    if (System.currentTimeMillis() &gt; sensor_lastTimerCall + 360000 &amp;&amp; sensorLow) {
                        System.out.println(""All is quiet..."");
                        ProcessBuilder processBuilder2 = new ProcessBuilder(""bash"", ""-c"", ""echo \""standby 0000\"" | cec-client -d 1 -s \""standby 0\"" RPI"");
                        try {
                            Process process2 = processBuilder2.start();
                        }catch (IOException ex) {
                            Logger.getLogger(JavaFXApplication4.class.getName()).log(Level.SEVERE, null, ex);
                        }
                        sensor_lastTimerCall = now;
                        sensorLow = false;
                    }
                } catch(InterruptedException ex) {
                    gpioSensor.shutdown();
                    Thread.currentThread().interrupt();
                }
            }

        }).start();

    }
</code></pre>

<p>any idea how to fix this?</p>
"
10100,1,2013-10-13T06:11:04.543,0,2352,3610,,2013-10-14T03:42:11.893,,0,,"<p>I have a gamepad that I am interested in using with the Pi.  When I plug it into my development laptop running Lubuntu 13.04, I get the following:</p>

<pre><code>418476 crw-rw-r--+ 1 root root 13,  0 Oct 12 22:55 js0
</code></pre>

<p>However, when I plug the same gamepad into the Pi, I get this:</p>

<pre><code>5188 crw-rw---T 1 root input 13,  0 Oct 13 06:01 js0
</code></pre>

<p>I am able to both change the group of the device and the permissions, but whenever the gamepad is unplugged and then reinserted it defaults back to what is shown above.  How do I preserve permissions for a device file after it has been removed?</p>
"
10124,1,2013-10-14T20:15:59.617,3,22421,894,,2015-12-20T12:04:55.027,,1,,"<p>This is a real simple yet pretty difficult question to answer.</p>

<p>I was wondering what gaming server ports are there that can run on the Raspberry Pi?</p>
"
10151,1,2013-10-16T03:35:12.687,8,13282,9518,,2016-01-21T11:09:37.073,2017-05-23T12:37:05.627,0,,"<p>Starting the <a href=""http://www.raspberrypi.org/camera"" rel=""nofollow noreferrer"">Raspi Camera</a> is rather trivial:</p>

<pre><code>raspivid -t 10000 -o test.h264
</code></pre>

<p><strong>Problem:</strong></p>

<p>There is no way to stop this. This seems really stupid to me as, to the best of my knowledge, there is no camera available for retail which requires the user to specify how many seconds to run for, and then runs for that many seconds before stopping. </p>

<p><strong>Background:</strong></p>

<p>This presents a huge problem in surveillance. I am creating a program where home surveillance is switched on when the user leaves, and then off again when they return. If motion is detected just before the user returns, the camera starts recording for a predetermined period of time (ie. 10 mins), but since the <code>raspivid</code> command is blocking, I get a situation where the user is physically in the house, but the program is in the <code>surveillance</code> state. To get around this, I launch a thread to launch the <code>raspivid</code> command, so now the states are correctly updated based on when the user comes and goes. However, now other states don't work. For example, I can't switch to the <code>TV</code> state as I can not record HD footage and watch it at the same time. Similarly, I can't switch to the <code>Party</code> state (constant video recording of parties) as the camera is already recording.</p>

<p><strong>Potential Solution:</strong></p>

<p>Using code I found on the web (but can't find the link to any more), I found a hack whereby I kill the thread which launched the <code>raspivid</code> command. Unfortunately this is considered blasphemy by SO (see <a href=""https://stackoverflow.com/questions/323972/is-there-any-way-to-kill-a-thread-in-python"">here</a> and <a href=""https://stackoverflow.com/questions/6524459/stopping-a-thread-python"">here</a>), which I agree with not only because it might corrupt the <code>.h264</code> files and lead to memory leaks, but also because it is a nightmare for me to code (I have to have locks and semaphores everywhere as I am launching other threads for motion detection as well).</p>

<p><strong>Question:</strong></p>

<p>Is there any way to stop a recording raspi camera? If not, why not?</p>
"
10251,1,2013-10-22T08:06:34.223,184,286083,966,,2019-02-14T00:05:28.537,2017-04-13T12:56:25.953,3,,"<p>I need to SSH my Pi over wifi but because it is a model A board (using a usb hub is not possible - ever) and I have no ethernet, i can't configure the Pi to connect to my secured wifi network.  I want to have the SD card plugged into my laptop and I want to edit a file with the wifi configuration information in it so my Pi will connect to my network automatically at start-up so I can then SSH it to get control. I know how to enable SSH on a headless system thanks to <a href=""https://raspberrypi.stackexchange.com/a/198/966"">this answer</a>.</p>

<p><strong>Edit</strong>.
Ive been searching around and I'm wondering if I'm able to just edit the file <code>/etc/network/interfaces</code> while the SD card is in my PC and put in all the network ssid, psk and wlan0 stuff in it.  Will this work? Thanks</p>
"
10304,1,2013-10-24T22:01:27.467,1,3260,10210,,2013-10-25T08:45:46.127,2013-10-24T22:22:32.710,0,,"<p>I've a standard Raspbmc setup with a media drive connected via USB to the Raspberry Pi.</p>

<p>Is there a way to use Raspbmc to serve the media from the drive to laptops on the local network? You can't browse to the Raspbmc as it returns the standard interface. </p>

<p>Would VLC be an option, or maybe installing XBMC on the laptop itselves?</p>
"
10444,1,2013-10-31T10:43:43.100,0,5250,10320,,2013-12-01T03:54:29.380,,1,,"<p>I recently purchased a TMPSNSRD-TCPL1 thermocouple reference design from Microchip.  When I plug it into the RPI with the USB cable, it generates a character device file /dev/usb/biddev0.  I have been trying to interrogate this file using cat and open commands but with no success. 
Please help!!</p>
"
10464,1,2013-10-31T22:41:48.317,2,2342,9741,,2014-01-30T21:16:30.600,2013-11-01T16:38:35.330,2,,"<p>My RPi currently has a working 3G dongle and a Wifi dongle.</p>

<p>I followed <a href=""http://learn.adafruit.com/downloads/pdf/setting-up-a-raspberry-pi-as-a-wifi-access-point.pdf"" rel=""nofollow"">this</a> tutorial on how to set it up as an access point on wlan0 and modified it a bit so my NAT routes into the 3G modem (ppp0) instead of eth0. This part works fine.</p>

<p>I also have an apache server serving up a simple web page. This works if I plug in eth0 and punch in that IP address (192.168.1.8) into my browser. However this does not work if I'm connected to wlan0 and I punch in the address of my RPi (acting here as a router). I suspect this is because I'm redirecting all traffic from wlan0 to ppp0 but I still don't know how to work around it.</p>

<p>In short: How do I set up a web server on my existing RPi wifi access point?</p>

<pre><code>&gt; sudo iptables -t nat -L -n -v
Chain PREROUTING (policy ACCEPT 171 packets, 23295 bytes)
 pkts bytes target     prot opt in     out     source               destination 

Chain INPUT (policy ACCEPT 7 packets, 1387 bytes)
 pkts bytes target     prot opt in     out     source               destination 

Chain OUTPUT (policy ACCEPT 15 packets, 1102 bytes)
pkts bytes target     prot opt in     out     source               destination 

Chain POSTROUTING (policy ACCEPT 1 packets, 60 bytes)
 pkts bytes target     prot opt in     out     source               destination 
   62  3808 MASQUERADE  all  --  *      ppp0    0.0.0.0/0            0.0.0.0/0 
</code></pre>

<p><code>eth0</code> is my ethernet cable used for ssh'ing</p>

<pre><code>&gt; ifconfig
eth0      Link encap:Ethernet  HWaddr b8:27:eb:f7:9d:14
          inet addr:192.168.1.8  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:184 errors:0 dropped:0 overruns:0 frame:0
          TX packets:136 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:17365 (16.9 KiB)  TX bytes:22840 (22.3 KiB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:569 errors:0 dropped:0 overruns:0 frame:0
          TX packets:569 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:47694 (46.5 KiB)  TX bytes:47694 (46.5 KiB)

mon.wlan0 Link encap:UNSPEC  HWaddr 00-A1-B0-80-03-60-00-00-00-00-00-00-00-00-00-00
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:18024 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:3892722 (3.7 MiB)  TX bytes:0 (0.0 B)

ppp0      Link encap:Point-to-Point Protocol
          inet addr:10.172.3.251  P-t-P:10.64.64.64  Mask:255.255.255.255
          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1400  Metric:1
          RX packets:14321 errors:0 dropped:0 overruns:0 frame:0
          TX packets:7634 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:3
          RX bytes:19592815 (18.6 MiB)  TX bytes:348148 (339.9 KiB)

wlan0     Link encap:Ethernet  HWaddr 00:a1:b0:80:03:60
          inet addr:192.168.42.1  Bcast:192.168.42.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:7762 errors:0 dropped:0 overruns:0 frame:0
          TX packets:14456 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:482698 (471.3 KiB)  TX bytes:20053576 (19.1 MiB)
</code></pre>

<p><strong>EDIT</strong>:</p>

<pre><code>&gt; cat /etc/network/interfaces
auto lo

iface lo inet loopback
iface eth0 inet dhcp

allow hotplug wlan0

iface wlan0 inet static
  address 192.168.42.1
  netmask 255.255.255.0

#auto wlan0
#iface wlan0 inet manual
#wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
#iface default inet dhcp

up iptables-restore &lt; /etc/iptables.ipv4.nat
</code></pre>

<p>and</p>

<pre><code>&gt; sudo cat /etc/wpa_supplicant/wpa_supplicant.conf
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
        ssid=""NETGEAR""
        psk=""&lt;My company router's password&gt;""
}
</code></pre>
"
10571,1,2013-11-06T17:02:40.443,3,14433,10364,,2015-12-02T23:12:57.337,2013-11-07T13:15:27.420,8,,"<p>I want to refresh the browser, like pressing the F5 or Ctrl+F5 key on the keyboard with a shell script.</p>

<p>I´m new in writing shell scripts so i aks you to help me with this:</p>

<p>when I type in this into the command line, the refresh works perfectly:</p>

<pre><code>DISPLAY=:0 xdotool getactivewindow key F5
</code></pre>

<p>I wrote a script refresh.sh with this content:</p>

<pre><code>export DISPLAY=:0.0
xdotool getactivewindow
xdotool key F5
</code></pre>

<p>But it reurns:</p>

<pre><code>pi@babaloo ~ $ sudo sh /var/www/refresh.sh
No protocol specified
Error: Can't open display: (null)
Failed creating new xdo instance
No protocol specified
Error: Can't open display: (null)
Failed creating new xdo instance
</code></pre>

<p>can someone give me a hint?</p>

<p>Chromium Browser is in Kiosk mode, here is my </p>

<pre><code>/etc/xdg/lxsession/LXDE/autostart
</code></pre>

<p>-</p>

<pre><code>#@lxpanel --profile LXDE
#@pcmanfm --desktop --profile LXDE
#@xscreensaver -no-splash
@xset s off
@xset -dpms
@xset s noblank
@chromium --kiosk --incognito http://localhost/output/output.php?monitor=1
</code></pre>

<p>~~ EDIT: </p>

<p>I changed my script to</p>

<pre><code>export DISPLAY=:""0.0""
XAUTHORITY=/home/pi/.Xauthority
xdotool getactivewindow
xdotool key F5
</code></pre>

<p>when i start it from console with </p>

<pre><code>sh /var/www/refresh.sh
</code></pre>

<p>it works!</p>

<p>But now i want to execute this script by PHP with user www-data. Therefor i added to <strong>visudo:</strong></p>

<pre><code>www-data ALL=(ALL) NOPASSWD: ALL
www-data ALL=(ALL) NOPASSWD: /var/www/refresh.sh
</code></pre>

<p>and Created a PHP-File with this content:</p>

<pre><code>&lt;?php
exec(""sudo sh /var/www/refresh.sh"");
?&gt;
&lt;h1&gt;Refreshing output&lt;/h1&gt;
</code></pre>

<p>But nothing happend... </p>

<p>Is there a chance to get more informations about the returning errors?
I found nothing in documentation for ""exec""-command.</p>

<p>Also tried:</p>

<pre><code>&lt;?php
$output = array();
$output[] = exec(""sudo sh /var/www/refresh.sh"");
print_r($output)
?&gt;
</code></pre>

<p>but the returning array is empty</p>
"
11631,1,2013-11-09T23:13:58.587,129,269034,4191,,2016-11-24T18:05:56.087,2016-11-24T18:05:56.087,1,,"<p>I go back and forth from home to school with my Pi.  I just got the WiFi working last night at home using <code>wpa.conf</code> instead of <code>wpa_supplicant.conf</code> as the book I was using had the walk thru for that instead.  I've noticed lots seem to use <code>wpa_supplicant</code> but I not sure why...</p>

<p>Anyway, I know how to make the WiFi IP static for my home network but how do I set things up for auto-connecting to my school WiFi and use a different static IP for that network?</p>

<p>For the network do I just add another <code>network={}</code> in my <code>wpa.conf</code> file?
For the second static IP how do I bind that to the school network?</p>
"
11662,1,2013-11-11T22:29:12.693,10,5163,8258,,2014-02-09T21:03:10.027,2013-11-21T19:08:05.147,3,,"<p>I recently bought one of these  <a href=""http://www.ebay.com/itm/221307721862?ssPageName=STRK:MEWNX:IT&amp;_trksid=p3984.m1439.l2649"" rel=""noreferrer"">stepper motor and driver boards</a> - and I cannot find any documentation how to connect it to the Raspberry Pi - I'm attempting to use the 
<a href=""http://learn.adafruit.com/adafruits-raspberry-pi-lesson-10-stepper-motors?view=all"" rel=""noreferrer"">AdaFruit tutorial</a> and while I've gotten all of the connections made to the proper gpio pins connected (the leds on the driver board light up properly, the motor does nothing).</p>

<p>Does anyone know where I might look for more information on how to connect the raspberry pi to a stepper motor?</p>

<p>Update: Nov 15th 2013
My Program code is this</p>

<pre><code>import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BCM)

#enable_pin = 18
coil_A_1_pin = 4
coil_A_2_pin = 17
coil_B_1_pin = 23
coil_B_2_pin = 24

#GPIO.setup(enable_pin, GPIO.OUT)
GPIO.setup(coil_A_1_pin, GPIO.OUT)
GPIO.setup(coil_A_2_pin, GPIO.OUT)
GPIO.setup(coil_B_1_pin, GPIO.OUT)
GPIO.setup(coil_B_2_pin, GPIO.OUT)

#GPIO.output(enable_pin, 1)

def forward(delay, steps):  
  for i in range(0, steps):
    setStep(1, 0, 1, 0)
    setStep(0, 1, 1, 0)
    setStep(0, 1, 0, 1)
    setStep(1, 0, 0, 1)

def backwards(delay, steps):  
  for i in range(0, steps):
    setStep(1, 0, 0, 1)
    setStep(0, 1, 0, 1)
    setStep(0, 1, 1, 0)
    setStep(1, 0, 1, 0)


def setStep(w1, w2, w3, w4):
  GPIO.output(coil_A_1_pin, w1)
  GPIO.output(coil_A_2_pin, w2)
  GPIO.output(coil_B_1_pin, w3)
  GPIO.output(coil_B_2_pin, w4)

while True:
  delay = raw_input(""Delay between steps (milliseconds)?"")
  steps = raw_input(""How many steps forward? "")
  forward(int(delay) / 1000.0, int(steps))
  steps = raw_input(""How many steps backwards? "")
  backwards(int(delay) / 1000.0, int(steps))
</code></pre>

<p>My breadboard looks like this <img src=""https://i.stack.imgur.com/3UUhZ.jpg"" alt=""enter image description here""></p>

<p>My driver board looks like this
<img src=""https://i.stack.imgur.com/CtIGL.jpg"" alt=""enter image description here""></p>

<p>I have</p>

<p>IN1 => GPIO 4</p>

<p>IN2 => GPIO 17</p>

<p>IN3 => GPIO 23</p>

<p>IN4 => GPIO 24</p>
"
11772,1,2013-11-17T20:47:54.930,3,974,10644,,2017-09-26T12:32:08.110,,1,,"<p>I'm succesfully capturing frames with software described in <a href=""http://thinkrpi.wordpress.com/2013/05/22/opencvpi-cam-step-6-video/"" rel=""nofollow"">Pierre Raufast blog</a>.
I tried to upload image buffer using IplImage structures or raw buffer (please look at <code>buffer</code> and <code>dstImage</code> in <code>video_buffer_callback</code> function in <code>camcv_vid0.c</code>). I'm using modified code from libcurl <a href=""http://curl.haxx.se/libcurl/c/postit2.html"" rel=""nofollow"">example</a>.</p>

<pre><code>cvMatBuff = cvEncodeImage("".jpg"", py, 0);
/* Fill in the file upload field from buffer */ 
curl_formadd(&amp;formpost,
           &amp;lastptr,
           CURLFORM_COPYNAME, ""file"",
           CURLFORM_BUFFER, ""nowy.jpg"",
           CURLFORM_BUFFERPTR, cvMatBuff,
           CURLFORM_END);
curl = curl_easy_init();
</code></pre>

<p>Unfortunately after execution I'm getting 500 error from my flask application.</p>

<pre><code>192.168.0.16 - - [17/Nov/2013 21:02:22] ""POST /faces HTTP/1.1"" 500 -
----------------------------------------
Exception happened during processing of request from ('192.168.0.16', 48537)
Traceback (most recent call last):
  File ""/usr/lib/python2.7/SocketServer.py"", line 295, in _handle_request_noblock
    self.process_request(request, client_address)
  File ""/usr/lib/python2.7/SocketServer.py"", line 321, in process_request
    self.finish_request(request, client_address)
  File ""/usr/lib/python2.7/SocketServer.py"", line 334, in finish_request
    self.RequestHandlerClass(request, client_address, self)
  File ""/usr/lib/python2.7/SocketServer.py"", line 649, in __init__
    self.handle()
  File ""/home/usr/flask/lib/python2.7/site-packages/werkzeug/serving.py"", line 200, in handle
    rv = BaseHTTPRequestHandler.handle(self)
  File ""/usr/lib/python2.7/BaseHTTPServer.py"", line 340, in handle
    self.handle_one_request()
  File ""/home/usr/flask/lib/python2.7/site-packages/werkzeug/serving.py"", line 235, in handle_one_request
    return self.run_wsgi()
  File ""/home/usr/flask/lib/python2.7/site-packages/werkzeug/serving.py"", line 194, in run_wsgi
    traceback.plaintext)
  File ""/home/usr/flask/lib/python2.7/site-packages/werkzeug/utils.py"", line 71, in __get__
    value = self.func(obj)
  File ""/home/usr/flask/lib/python2.7/site-packages/werkzeug/debug/tbtools.py"", line 359, in plaintext
    return u'\n'.join(self.generate_plaintext_traceback())
  File ""/home/usr/flask/lib/python2.7/site-packages/werkzeug/debug/tbtools.py"", line 353, in generate_plaintext_traceback
    frame.function_name
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc5 in position 17: ordinal not in range(128)
</code></pre>

<p>My server side code works fine when I'm uploading image from file by:</p>

<pre><code>curl -F ""file=@./medium.jpg"" http://localhost:5000/faces
</code></pre>
"
11828,1,2013-11-20T15:45:59.193,0,285,10702,,2013-12-20T23:31:33.820,,1,,"<p>I was looking for a HTTP header (preferably written in C) for my WiFi application to control a device. I am using a miniature USB WiFi module to connected to Raspberry Pi model B running Raspbian wheezy.
Thank you.</p>
"
11901,1,2013-11-24T14:43:23.937,1,9106,10784,,2014-06-27T08:09:04.303,2013-11-25T15:28:01.250,4,,"<p>I just got raspbian installed on my SD card and am trying to get my Pi on my network. It's protected with WPA2 Personal.</p>

<p>I opened up the gui network connect and added a new network with the proper SSID, security and password. However, the Pi won't connect. All I'm getting as the status is ""Scanning"" and the last message being ""WPS-AP-AVAILABLE-AUTH"".</p>
"
11996,1,2013-11-29T15:20:22.603,8,6973,7355,,2014-01-23T18:25:03.610,2017-04-13T12:56:25.953,2,,"<p>I've implemented <a href=""http://elinux.org/RPi_Low-level_peripherals#C"" rel=""nofollow noreferrer"">this example</a> to familiarize myself with basic GPIO programming in C.  The code demonstrates how to write to GPIO pins but does not explicitly state how to read the state of pins. I suspect that <a href=""https://projects.drogon.net/raspberry-pi/wiringpi/download-and-install/"" rel=""nofollow noreferrer"">WiringPi</a> will ultimately be a better solution since I'll want to <a href=""https://raspberrypi.stackexchange.com/questions/4900/read-the-value-of-an-gpio-output-pin"">read the state of an output pin</a> eventually, but meanwhile I'd like to complete my trek through Dom and Gert's code.  How then, could I read the value of a pin?</p>
"
12029,1,2013-12-01T09:40:52.880,3,12303,10621,,2013-12-02T23:40:31.107,,2,,"<p>I am using raspberry pi to talk to a NMEA GPS module via serial port, everything works fine but i want to extract only <strong>latitude</strong> and <strong>longitude</strong>(i am using python language) coordinates so that i can use them in my project* <strong>(autonomous vehicle using GPS)</strong> ,i will be using a <strong>compass module</strong> to know the direction of heading.....hope u got my idea ..can anyone help me?</p>
"
12079,1,2013-12-04T04:07:15.247,2,4018,10775,,2013-12-04T15:46:15.910,2013-12-04T04:55:25.440,2,,"<p>I am trying to create a C program that would call RaspiStill or RaspiVid when one of the GPIO's is triggered high. I would like it into fit into this program that I have already created...</p>

<pre><code>include &lt;stdlib.h&gt;
include &lt;stdio.h&gt;
include &lt;wiringPi.h&gt;

define LED 0
define SWITCH 1

int main (void)
{
wiringPiSetup ();

pinMode (LED,OUTPUT);

pinMode (LED,OUTPUT);

while (1)
{
if (digitalRead (SWITCH)==1)
{
    digitalWrite (LED,0);
}
else
    digitalWrite (LED,1);
}
return 0;
}
</code></pre>

<p>I would like to call raspistill when digital read is 1 (when GPIO is high).</p>

<p>I understand I might be able to use the <code>system()</code> command?</p>

<p>Any help would be awesome!!!</p>
"
12105,1,2013-12-05T02:56:59.877,7,21725,11011,,2016-03-17T18:49:42.453,2013-12-05T05:03:36.980,1,,"<p>How do I communicate between 2 Raspberry Pis with WiFi dongles? I have connected the 2 WiFi dongles to the router but I do not know the next step of how to get them to communicate. For in this case I'm using the network for 2 micro mouse to communicate.</p>
"
12209,1,2013-12-10T10:51:26.270,5,18375,11121,,2019-03-31T15:08:01.230,2015-12-31T06:40:23.410,4,,"<p>I would need to check the value of a IO pin in realtime over the LAN. Since I need to do it from differnet devices (pc, palm, iphone, Samsung galaxy etc) I was thinking of a webpage. The value can be at maximum 0.5 seconds old. And has to refresh itself continuously. How can this be done? </p>
"
12243,1,2013-12-12T11:15:50.550,1,464,11029,,2020-10-10T07:26:56.473,2013-12-12T22:11:36.337,1,,"<p>I'm building a remote vehicle with the Raspberry Pi. I've got everything working except a few little things.  I'm trying to implement some CGI scripts in my server in order to control the car from an URL.</p>

<p>The C program which controls the motors works fine as I have tested it from the command line. The problem comes when I try to call it from the CGI file, it executes everything inside the program except the commands that move the motors.</p>

<p>Thi is my CGI file:</p>

<pre><code>#!/bin/bash

echo -e ""Content-type: text/html\n\n""
./moveBackward
echo ""&lt;h1&gt;Halo Alex&lt;/h1&gt;""
</code></pre>

<p>And my C file:</p>

<pre><code>#include &lt;wiringSerial.h&gt;
#include &lt;unistd.h&gt;
#include &lt;stdio.h&gt;

#define MOVE_BACKWARD 0xD9
#define SPEED        0x7F

int main(void){

   int handle;
   handle = serialOpen (""/dev/ttyAMA0"", 19200);

   serialPutchar (handle, MOVE_BACKWARD ) ;
   usleep(100);
   serialPutchar (handle, SPEED ) ;
   usleep(100);
   serialPutchar (handle, SPEED ) ;
   usleep(100);

       printf(""Hello Alex"");
   return 1;
}
</code></pre>

<p>So when I go to the URL I can see:</p>

<pre><code>""Hello Alex""
""Halo Alex""
</code></pre>

<p>But the other commands are not executed and I don't know why. Do you have any idea?</p>
"
12424,1,2013-12-21T23:20:04.037,7,60332,11435,,2015-06-11T13:49:02.570,2013-12-22T23:03:26.050,10,,"<p>I am new to the raspberry pi and can't quite seem to figure this one out.</p>

<p>The wpa_gui is blank in the adapter and network field and reporting the error ""Could not get status from wpa_supplicant""</p>

<p>Content of /etc/wpa_supplicant/wpa_supplicant.conf:</p>

<pre><code>#Needed for wpa_gui to work
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev

#Needed for wpa_gui to alter the configuration file
update_config=1

network={
ssid=spl-public
psk=""""

#Protocal type can be: RSN(for WP2) and WPA(for WPA1)
proto=WPA

#Key managment type can be: WPA-PSK or WPA-EAP (Pre-Shared or Enterprise)
key_mgmt=WPA-PSK

#Pairwise can be CMMP or TKIP(for WPA2 or WPA1)
pairwise=TKIP

#Authorization option should be OPEN for both WPA1/WPA2 (in less commonly used are SHARED and LEAP)
auth-alg=OPEN
}
</code></pre>

<p>Content of /etc/network/interfaces:</p>

<pre><code>auto lo
iface lo inet lopback
iface eth0 inet dhcp

allow-hotplug wlan0
iface wlan0 inet manual
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet dhcp
</code></pre>

<p>The wpa_supplicant.conf file references to a directory /var/run/wpa_supplicant, this does not exist on my system. What should be here?</p>

<pre><code>sudo ifup --force wlan0
</code></pre>

<p>Returns:</p>

<pre><code>wpa_supplicant: /sbin/wpa_supplicant daemon failed to start run-parts: 
/etc/network/if-pre-up.d/wpasupplicant exited with return code 1 

Failed to connect to wpa_supplicant - wpa_ctrl_open: No such file or directory 
wpa_supplicant: /sbin/wpa_cli daemon failed to start run-parts:
/etc/network/if-up.d/wpasupplicant exited with return code 1
</code></pre>
"
12578,1,2013-12-29T15:18:13.343,4,10513,9696,,2014-12-15T17:24:34.653,,1,,"<p>I created a virtual Raspbian environment on Qemu as given <a href=""http://www.raspberrypi.org/phpBB3/viewtopic.php?f=29&amp;t=37386"" rel=""nofollow noreferrer"">here</a></p>

<p>But I am unable to connect to the Internet from the Raspbian although I am connected on the host machine ( Ubuntu 12.04 )
<img src=""https://i.stack.imgur.com/VhX5z.png"" alt=""enter image description here""></p>

<p>You can see in the screenshot that the Raspbian is unable to ping google. The host machine is connected to the Internet via a 3G Dongle.</p>
"
12710,1,2014-01-03T22:26:39.530,2,684,11251,,2014-01-04T14:32:15.953,2014-01-04T14:14:27.273,3,,"<p>Is identifying a pi device based on its serial number(pulled from the <code>cat /proc/cpuinfo</code>) and hash of the output of <code>cat /proc/cpuinfo</code> as reliable as username/password authentication?</p>

<p>I am thinking of building a native application, which will need to communicate with a server and I am struggling with authentication.</p>

<p><em><strong>INFO</em></strong>:</p>

<ol>
<li><em>Python application</em></li>
<li><em>Commercial</em></li>
<li><em>Heavy communication with the server</em> (Eventually long connections, short period between connections)</li>
</ol>

<p><em><strong>Outcome</em></strong>: </p>

<p>identify the device and make sure that the specific (hardware?)device is making the requests and not mimicked by another device or recreated by an external party for malicious purposes (Helps with licensing and with security, IMO) </p>
"
12849,1,2014-01-09T06:52:21.350,4,10327,11926,,2015-01-01T02:59:03.313,2014-12-31T19:27:18.747,2,,"<p>I succeeded in doing remote access using SSH (through an Ethernet cable), but I am not able to connect the Raspberry Pi to Wi-Fi. I bought the D-Link <a href=""http://us.dlink.com/products/connect/wireless-n-nano-usb-adapter/"" rel=""nofollow"">DWA-131</a> USB dongle as it was stated to work out of the box and recommended in <em><a href=""http://elinux.org/RPi_USB_Wi-Fi_Adapters"" rel=""nofollow"">RPi USB Wi-Fi Adapters</a></em>. My Raspberry Pi detects this dongle.</p>

<p>I tried the steps in <em><a href=""http://learn.adafruit.com/adafruits-raspberry-pi-lesson-3-network-setup/setting-up-wifi-with-occidentalis"" rel=""nofollow"">Setting up Wifi with the Command Line</a></em> and <em><a href=""http://www.howtogeek.com/167425/how-to-setup-wi-fi-on-your-raspberry-pi-via-the-command-line/"" rel=""nofollow"">How to Setup Wi-Fi On Your Raspberry Pi via the Command Line</a></em> at two separate times with no success.</p>

<p>I even installed ""wicd"" on my Raspberry Pi, but I am still unable to connect.</p>

<p>What is the proper configuration to get this one working?</p>
"
13299,1,2014-01-29T16:20:24.650,2,8505,12445,,2018-01-26T22:46:40.913,2014-03-01T14:14:05.127,4,,"<p>I have my RPi media server setup using an external HDD mounted using ntfs-3g (ntfs formatted needs to mount on windows) and Samba to share the drive in the network. Currently, I have 1 client (MacBook Pro, OSX 10.9) that is able to mount the shared drives and access files. This works fine for small files and &lt;720p media content, however when playing a 1080p file from the shared drive playback stutters on my MacBook. I tried VLC, MplayerX and Quicktime all have the same problem on the same file. The file(.mov H264 1920x800, 1536.0kbps) plays fine when copied to my Mac but stutters when playing from the shared drive. Is there any way to speed up the samba performance? I've tried upgrading to a Class 10 SD card but it didn't improve the stuttering. </p>

<p>EDIT: RPi is connected to the network via my router via Gigabit Lan and my Mac is connected to the router via WiFi.</p>

<p>Any advice is much appreciated!</p>
"
13334,1,2014-01-30T23:16:31.753,8,18387,12326,,2015-12-31T06:06:12.867,2015-12-31T06:06:12.867,2,,"<p>I'm just starting out. How could I use my Raspberry Pi to do the following: when any movement is detected at my front door, send me a text message (SMS)?</p>
"
13402,1,2014-02-02T19:34:14.773,2,1314,12312,,2015-09-06T07:16:04.980,,0,,"<p>As part of my project, I'd like to send an image to a phone number.  </p>

<p>I understand I can achieve this quite easily with e-mail, but I'd like to pursue the MMS route first.  I've looked around online but can't find any useful information.  </p>

<p>Has anyone done this?  The MMS's will be sent to a UK number if that has any bearing on my choices.</p>
"
13415,1,2014-02-03T22:59:43.270,1,13189,9699,,2015-05-25T16:03:04.287,2015-02-20T12:12:02.880,0,,"<p>I have a python script that I would like to be run at startup.
I have made a init.d script as follows:</p>

<pre><code>#! /bin/sh
case ""$1"" in 

  start)
    echo ""starting pitracker""
    su 'pi' -c 'python3 /home/pi/python/main/myprogram.py&amp;'
  ;;

  stop)
    echo ""stopping""  
  ;;

esac
exit 0
</code></pre>

<p>I have changed the permission of this startup script to 755.
I have also created a symbolic link using</p>

<pre><code>update-rc.d /etc/init.d/dnscheck defaults
</code></pre>

<p>The problem is when I use the 'pi' user in my startup script, I get the following error message:</p>

<pre><code>File ""/home/pi/python/main/myprogram.py"" , line 21, in &lt;module&gt; 
import RPi.GPIO as GOPI
RunTimeError: No access to /dev/mem. Try running as root!
</code></pre>

<p>And when I change the username in my startup script to 'root', nothing happens at all.
I believe this is a permission problem for accessing the GPIO. How can I start up my script without running into this issue?</p>
"
13494,1,2014-02-06T17:27:46.090,2,1315,12647,,2014-02-08T18:19:15.807,,3,,"<p>Model B, Raspbian, Wi-Pi vs Macbook Pro</p>

<p>Setup</p>

<ul>
<li>Both devices are sitting right next to eachother </li>
<li>Connected to the same router. </li>
<li><code>traceroute</code> is the same for both</li>
<li>Even typing on the Pi via SSH feels slow</li>
</ul>

<p>Is there any way to get the latency down?</p>

<p>R.Pi</p>

<pre><code>64 bytes from 4.2.2.1: icmp_req=185 ttl=54 time=489 ms
64 bytes from 4.2.2.1: icmp_req=186 ttl=54 time=718 ms
64 bytes from 4.2.2.1: icmp_req=187 ttl=54 time=536 ms
64 bytes from 4.2.2.1: icmp_req=188 ttl=54 time=563 ms
64 bytes from 4.2.2.1: icmp_req=190 ttl=54 time=409 ms
64 bytes from 4.2.2.1: icmp_req=191 ttl=54 time=429 ms
64 bytes from 4.2.2.1: icmp_req=192 ttl=54 time=453 ms
64 bytes from 4.2.2.1: icmp_req=193 ttl=54 time=476 ms
64 bytes from 4.2.2.1: icmp_req=194 ttl=54 time=183 ms
64 bytes from 4.2.2.1: icmp_req=196 ttl=54 time=344 ms
</code></pre>

<p>OS X</p>

<pre><code>64 bytes from 4.2.2.1: icmp_seq=180 ttl=54 time=182.338 ms
64 bytes from 4.2.2.1: icmp_seq=181 ttl=54 time=181.657 ms
64 bytes from 4.2.2.1: icmp_seq=182 ttl=54 time=181.700 ms
64 bytes from 4.2.2.1: icmp_seq=183 ttl=54 time=182.498 ms
64 bytes from 4.2.2.1: icmp_seq=184 ttl=54 time=181.373 ms
64 bytes from 4.2.2.1: icmp_seq=185 ttl=54 time=187.886 ms
64 bytes from 4.2.2.1: icmp_seq=186 ttl=54 time=181.224 ms
64 bytes from 4.2.2.1: icmp_seq=187 ttl=54 time=185.362 ms
64 bytes from 4.2.2.1: icmp_seq=188 ttl=54 time=180.515 ms
</code></pre>
"
13770,1,2014-02-18T06:44:57.097,1,2870,8697,,2014-02-20T03:30:41.037,,0,,"<p>I am trying to log slow serial data (about 40 bytes per minute at 9600 baud) on the Pi.</p>

<p>I have a rough program using <code>wiringSerial</code> which only provides unbuffered <code>serialGetchar</code></p>

<p>I could write a serialGets but wonder if/why it hasn't been done before.</p>

<p>PS The last time I wrote something like this was in the 1980s on <code>CP/M</code></p>
"
13936,1,2014-02-24T13:29:43.037,93,175992,4001,,2020-11-19T12:48:57.847,,2,,"<p>I need to find the Raspberry PI IP address on local network without connect the Raspberry to a monitor. How do I do it on Linux or Mac OS systems?</p>
"
14180,1,2014-03-04T17:45:22.493,3,3121,9048,,2015-01-28T22:06:51.953,,0,,"<p>I was using sqlite to connect to <code>MyVideos75.db</code> when I noticed that the usual method of getting ""un-stuck"" from the sqlite prompt (entering a semicolon) wasn't working:</p>

<pre><code>pi@raspbmc:~/.xbmc/userdata/Database$ sqlite3 MyVideos75.db 
SQLite version 3.7.13 2012-06-11 02:05:22
Enter "".help"" for instructions
Enter SQL statements terminated with a "";""
sqlite&gt; select * from files where strFilename like %Recreation%';
   ...&gt; 
   ...&gt; ;
   ...&gt; ;
   ...&gt; .quit
   ...&gt; ;
   ...&gt; .exit
   ...&gt; ;
   ...&gt; 
   ...&gt; ;
   ...&gt; 
</code></pre>

<p>So... how do I get myself out of the prompt if <code>.quit</code>, <code>.exit</code>, and <code>;</code> all don't work? </p>
"
14293,1,2014-03-08T16:29:31.943,2,3835,7941,,2018-02-23T07:08:53.893,,1,,"<p>I want to send integers via RF-module nRF24l01 from my Pi (library: <a href=""https://github.com/jpbarraca/pynrf24"" rel=""nofollow"">https://github.com/jpbarraca/pynrf24</a>) to my Arduino Pro Mini (library: <a href=""http://maniacbug.github.io/RF24/index.html"" rel=""nofollow"">http://maniacbug.github.io/RF24/index.html</a>).</p>

<p>I am able to get a a basic connection and send a char 'a' and interpret it right on Arduinos side.</p>

<p>RPi code:</p>

<pre><code>#!/usr/bin/python
# -*- coding: utf-8 -*-

import time, sys
from nrf24 import NRF24

pipes = [ [0xF0, 0xF0, 0xF0, 0xF0, 0xE1], [0xF0, 0xF0, 0xF0, 0xF0, 0xD2] ] #40-bit hex adressen der pipes

#nRF24L01 Setup
radio = NRF24()
radio.begin(0,0,22, 23) #Set CE and IRQ pins
radio.setRetries(15,15) #zeit zwischen retries (x * 250mikro s) und anzahl an retries
radio.setPayloadSize(1) #32-byte payload
radio.setChannel(0x4c) #0-127 in hex
radio.setDataRate(NRF24.BR_250KBPS) 
radio.setPALevel(NRF24.PA_MAX) #power amplifier level
radio.openWritingPipe(pipes[0]) 
radio.openReadingPipe(1,pipes[1])
radio.printDetails() #Debug
print(time.strftime(""%d.%m.%Y %H:%M:%S"", time.localtime()) + "" ------ PyNRF start ------"")

try:
    # main code
    while True:

        data = ['a']

        result = radio.write(data)

        print(time.strftime(""%H:%M:%S"", time.localtime()) + "" data send --- "" + str(result))

        time.sleep(5)

except KeyboardInterrupt:
    sys.exit(0)
</code></pre>

<p>Arduino code:</p>

<pre><code>#include &lt;SPI.h&gt;
#include ""nRF24L01.h""
#include ""RF24.h""

//nRF24 stuff
RF24 radio(8,9);
const uint64_t pipes[1] = { 0xF0F0F0F0E1LL };

void setup(void) {
  Serial.begin(57600); //Debug  

  //nRF24 stuff
  radio.begin();
  radio.setRetries(15,15);
  radio.setDataRate(RF24_250KBPS);
  radio.setPayloadSize(1);
  radio.openReadingPipe(1,pipes[0]);
  radio.startListening();
}

void loop() {
  if ( radio.available() ) {
    char data[1];
    bool done = false;
    while (!done) {
      done = radio.read( &amp;data, sizeof(data) );
    }
    Serial.println(data[0]);
  }
}
</code></pre>

<p>But when i try to send an integer (lets say 5), i get as output 31493</p>

<p>RPi code:
same as above, except <code>data = [5]</code></p>

<p>Arduino code:
same as above, except <code>int data[1];</code></p>

<p>My first thought was changing payload size to 2 byte on both sides, since integers on arduino side are 16-bit and on RPi too (?), but that just gave me as output 31749</p>

<p>Where am I struggling here?</p>
"
14406,1,2014-03-12T19:57:07.020,2,3384,13332,,2016-04-13T13:12:10.187,2016-04-13T13:12:10.187,0,,"<p><strong>Background:</strong> I have a simple test application which plays a sound using Java's <code>javax.sound.sampled</code> package. Presently, the application plays the sound for either 10 seconds, or however many times I've told it to loop (whichever comes first). When either of these conditions are reached, the program orders the audio clip to stop playing, and the program should, at that point, completely shut down.</p>

<p><strong>The problem:</strong> Oddly, while testing the application on my Raspberry PI, when the end of the program is reached, the audio <strong>does not cease</strong>; it continues playing for a seemingly arbitrary amount of time afterwards, from a few seconds, up to a minute (perhaps more, I haven't explicitly timed it).</p>

<p>However, the application behaves perfectly fine locally. I'm developing on a Mac, and packaging up a runnable jar which I deployed on the Pi.</p>

<p>Here is a condensed version of the test application code:</p>

<pre><code>public class AudioTest {

    public static void main(String[] args) throws UnsupportedAudioFileException, IOException, LineUnavailableException, InterruptedException {
        URL audioFileURL = AudioTest.class.getResource(""/smokealarm.wav"");

        if(audioFileURL != null){
            System.out.println(""Got the file!"");

            AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(audioFileURL);
            Line.Info lineInfo = new Line.Info(Clip.class);
            Line line = AudioSystem.getLine(lineInfo);

            Clip clip = (Clip)line;
            clip.open(audioInputStream);
            clip.loop(Clip.LOOP_CONTINUOUSLY);
            clip.start();

            long startTime = System.currentTimeMillis();
            int repeatDuration = 10; // repeat for 10 seconds
            String previousDuration = null;
            do{
                Thread.sleep(50); // keeps the application alive
                System.out.println(""Still waiting..."");
            }while(clip.isRunning() &amp;&amp; ((System.currentTimeMillis() - startTime) &lt; (repeatDuration * 1000)));

            System.out.println(""Stopping audio"");
            clip.stop();

            // These two lines don't seem to have any effect.
            // Adding them here to show that I've attempted them.
            clip.flush();
            clip.close();
        }else{
            System.err.println(""COULD NOT FIND THE FILE!"");
        }
    }
}
</code></pre>

<p><em>Note: You can obtain the <a href=""http://soundjax.com/?q=smokealarm"" rel=""nofollow"">smoke alarm sound file here</a>, or just substitute your own if you prefer</em></p>

<p>In either case, I know the program has reached the end because I see the ""Stopping audio"" line in the console.</p>

<p>I cannot think of any reason for this behaviour, other than a bug in the JVM. Has anyone encountered something like this? </p>

<p><em>P.S: I used <a href=""http://www.raspberrypi.org/phpBB3/viewtopic.php?t=30316&amp;p=458935"" rel=""nofollow"">this</a> as a guide for writing the above, in case anyone is wondering. Also, I'm using Oracle Java 1.7.</em></p>
"
14611,1,2014-03-20T11:16:41.807,83,189369,13552,,2019-01-01T15:30:41.823,2014-11-22T16:31:04.023,5,,"<p>I recently bought a Raspberry Pi, type B model. I want to set it up directly to my laptop screen, without any other monitor. I have not set it up yet. How do I connect my laptop's screen as the Raspberry Pi's display?</p>

<p>I do not want to buy an HDMI cable. Instead I want to try from Ethernet or the USB.</p>
"
14637,1,2014-03-21T12:02:11.933,1,234,13640,,2014-03-23T00:33:23.057,,7,,"<p>I'd like to build a linux kernel that's specific to a given Raspberry, ie. one that won't boot on any other Raspberries. My idea is to bind the kernel to the cpu's serial number bit I haven't found any infos on this topic.</p>

<p>Yes, I know<br>
a) I'd have to build/compile a custom kernel for every device;<br>
b) that exchanging the kernel for a clean one would forgo this piece of ""security"", but there are keys stored in the kernel which are needed for userland later on which would be unavailable then.</p>

<p>Any ""later"" stages (ie. checks for a specific serial number once the kernel is booted by some userland tool) do work theoretically but are out of the question here as they could very easily (as in: easier then reverse engineering the complex kernel) be reverse engineered.</p>

<p>Any ideas and pointers are, as always, highly appreciated.</p>
"
14688,1,2014-03-23T18:20:20.470,0,2794,12220,,2015-02-16T19:37:06.830,,0,,"<p>Deluge torrent client crashes randomly. And i could not find the core reason. So are there any script that reopen a program when it is crashed. Or it can check is it working and if not runs that program.</p>
"
14740,1,2014-03-25T10:31:33.470,5,18090,10335,,2014-03-25T12:57:30.047,2017-04-13T12:56:25.627,6,,"<p>I have created a web page to have both live video streaming and some button controls to control the robotic arm interfaced to the RPi GPIO pins. For button controls, I used php coding. <a href=""https://raspberrypi.stackexchange.com/questions/10541/php-python-lighttpd-raspberry-pi-gpio-to-control-the-robotic-arm"">The php coding is given here.</a></p>

<p>Using motion s/w, I am able to get live video streaming and following is the code I used to embed the same into a web page. I used an USB webcam for video streaming.</p>

<p><code>&lt;img src= ""http://192.168.15.22:8081/?action=stream"" width=""800"" height=""460""/&gt;</code></p>

<p>I have used some buttons to control the robotic arm interfaced to GPIO pins, so whenever I click the buttons, the page will refresh and the video will be out for 2 seconds, and it will come back again. </p>

<p>I don't want the video to be out everytime I click the button?? IS there a way to avoid this issue?</p>
"
14815,1,2014-03-28T13:38:43.757,2,2958,7415,,2014-03-31T22:15:07.177,,5,,"<p>I would like to improve on my project by using cron jobs. 
Currently, i have a web application that allows me to control servos. However I would like to add another function on the web application where i can set the cron job to execute a script that would control the servos automatically. meaning that i can click on a button on the web specifying that i'm not at home or something and that would tell cron job to take over. </p>

<p>Any idea how can i do this? A link or tutorial would be good too. :)</p>
"
14831,1,2014-03-29T01:38:54.470,1,2463,13822,,2015-12-07T14:07:32.573,2014-05-22T17:46:55.757,0,,"<p>I am trying to create something which uses Charlieplexing, and to use it, I need to be able to turn GPIO Pins to and from different states (Low, High and Input) from what I understand from this video: <a href=""http://www.youtube.com/watch?v=ECXk95qYZu8"" rel=""nofollow"">http://www.youtube.com/watch?v=ECXk95qYZu8</a>. </p>

<p>To make a pin low (according to <a href=""http://pi4j.com/usage.html#Provision_Pins"" rel=""nofollow"">this</a>), I would do:</p>

<pre><code>final GpioController gpio = GpioFactory.getInstance();
GpioPinDigitalOutput myLed = gpio.provisionDigitalOutputPin(RaspiPin.GPIO_04,PinState.LOW);
</code></pre>

<p>or then
<code>myLed.low();</code> and likewise with High.</p>

<p>The problem is I don't think I can change the Pin's state to ""Input"". <a href=""http://pi4j.com/usage.html#Provision_Pins"" rel=""nofollow"">This</a> says that I would have needed to create the variable as an <code>GpioPinDigitalInput</code>, not an <code>GpioPinDigitalOutput</code>.</p>

<p>Does anyone know how I can change a pin's state from High or Low to Input and vica-versa? Will ""re-declaring"" the variable work?</p>

<p>Thanks,</p>
"
15176,1,2014-04-13T16:36:33.687,2,380,14138,,2014-04-15T13:16:45.997,,1,,"<p>Cant access over internet?</p>

<p>I recently managed to get the pi working so i could access services over the internet.</p>

<p>i.e <code>&lt;external-ip&gt;:8088</code> was working fine yesterday.</p>

<p>I had trouble getting this working initially, and tried a combination of things.
but eventually did have this working.</p>

<p>today its not working, only thing i can think that may have changed was by doing a reboot?</p>

<p>i can still access the services over the lan i.e <code>192.168.2.7:8088</code></p>

<p>i think i can assume the router/port forwarding is working ok - so is it something with the raspberry pi?</p>
"
15192,1,2014-04-14T09:49:21.117,95,186018,13917,,2017-08-30T18:47:24.983,2014-04-14T10:04:15.827,1,,"<p>I am trying to install Raspbian from NOOBS, but I have no other screen/keyboard available than my laptop screen/keyboard. I find enough information about using a laptop screen/keyboard for a Pi, but then you already need to have an OS installed. But I have no OS installed, because my SD card contains NOOBS and I want to install Raspbian using NOOBS.</p>

<p>How can I do that with only my laptop screen and keyboard? I'm running Windows 7 on my laptop.</p>
"
15244,1,2014-04-16T12:56:54.583,13,44006,7783,,2018-08-12T05:50:20.380,2015-05-07T19:49:03.413,1,,"<p>Is it possible to run python 3.4 on a Raspberry Pi?</p>

<p>Currently I have python 3.2, but the odd thing is that running</p>

<pre><code>sudo apt-get update
sudo apt-get install python3
</code></pre>

<p>results in my Raspberry Pi informing me that <code>python3</code> is 'already the newest version'.</p>

<p>I have also tried <code>sudo apt-get install python34</code>, but this tells me that no such package exists.</p>

<p>Does anyone know how to get python 3.4 running on a Raspberry Pi?</p>
"
15337,1,2014-04-20T00:12:04.837,3,4012,14164,,2018-01-16T16:11:41.213,2014-11-16T00:12:56.070,1,,"<p>I've got an Adafruit PiTFT with the buttons on, so I have the potential to use the 4 GPIOs wired up to the buttons to control stuff. </p>

<p>Now I followed the helpful tutorial, and have gotten the power-button kernel extension working fine on one of my GPIO click-buttons, and I also have working shell scripts that can switch or toggle the screen backlight (though the commands and what is sent where are a mystery to me), however what I would like is to have a second GPIO click button control the backlight, so I can leave the Pi running longer when it is on a battery when e.g. serving a webpage. </p>

<p>I wonder if there is some electrical hack that I can perform to achieve this? This is probably not possible and I would still ""use up"" the same GPIO ports anyway, so the only value of an electrical method to trigger the backlight if this were doable is to avoid having to tell Linux about it. </p>

<p>Well, going through Linux is already the only way i know of to toggle the backlight... </p>

<p>Moving on from that then, it seems that I will want some sort of daemon to run that can poll GPIOs and trigger events based on them. I hope this can be done without a kernel module since I'm not using it to do something ultra-privileged like powering on/off. </p>

<p>Now I'm not quite enough of a wizard to figure out how the <code>rpi_power_switch</code> kernel module works. Plus, for the purposes of this question, I am only interested in polling GPIO state from userland. </p>

<p>I think I am on to something with <a href=""https://sites.google.com/site/semilleroadt/raspberry-pi-tutorials/gpio"" rel=""nofollow"">this</a>, specifically the <code>bcm2835</code> library. I guess I can write a lightweight daemon that uses this code to query the GPIOs at a low level?</p>
"
15380,1,2014-04-22T12:11:44.380,2,56466,14306,,2021-01-01T04:48:31.647,2014-05-02T16:00:15.480,2,,"<p>I'm using a WIFI USB adapter : TP-Link TL-WN725N Nano Adaptateur USB wireless N 150 Mbps. I plug it to my raspberry and configured it in <code>/etc/network/interfaces</code> . I added this :</p>

<pre><code>allow-hotplug wlan0 
iface wlan0 inet dhcp 
wpa-ssid ""MY NETWORK SSID""
</code></pre>

<p>I dont need password to connect.</p>

<p>then <code>sudo reboot</code></p>

<p>when I launch <code>ifconfig</code> I got this (no wlan detected).</p>

<pre><code>eth0      Link encap:Ethernet  HWaddr b8:27:eb:d5:44:b8  
          inet addr:192.168.0.2  Bcast:192.168.0.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:53 errors:0 dropped:0 overruns:0 frame:0
          TX packets:90 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:7022 (6.8 KiB)  TX bytes:9278 (9.0 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:14 errors:0 dropped:0 overruns:0 frame:0
          TX packets:14 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:1330 (1.2 KiB)  TX bytes:1330 (1.2 KiB)
</code></pre>
"
15453,1,2014-04-25T11:17:44.057,5,3983,14419,,2020-01-27T07:56:52.643,2014-04-26T02:26:02.433,3,,"<h1>My Setup</h1>

<h3>Raspberry Pi</h3>

<p>I have both an IR LED and a IR receiver hooked up to my Raspberry Pi Type B which is running Raspbian.</p>

<h3>My Air Conditioner</h3>

<p>I have a Daikin FTXS25DVMA split system air conditioner with the manufacturers remote (remote model: ARC433A46).</p>

<h3>Home-made Oscilloscope</h3>

<p>I also have made a home-made oscilloscope of sorts by soldering an IR Phototransistor to a cut headphone cable. This assembly is then connected to the microphone port of my Windows 7 computer. To view the waveforms of the IR signals and their timings I used software available here: www.ostan.cz/IR_protocol_analyzer/.</p>

<h1>Types of Remotes</h1>

<p>For this question there is an important distinction to be made between types of IR remotes. (I have no idea of their actual names if they have ones)</p>

<h3>Button by Button</h3>

<p>Firstly there is the common type which I am going to call 'Button by Button' which assigns a unique code or number to each button on the remote control. This code is sent every time that button is pressed (e.g. 'play' might send a code of 01010101 and 'stop' might send a code of 10101010)</p>

<h3>Everything at Once</h3>

<p>Secondly there is the type used with many air conditioners (like mine) which I am going to call 'Everything at Once'. This remote type sends every single setting on the remote every time a button is pressed. These codes are <strong>a lot</strong> longer than 'Button by Button' codes.</p>

<h1>Question</h1>

<p>So here is my question: Does LIRC support 'Everything at Once' remotes? And, if so, how do I go about making a file for it? I can not get the <code>irrecord</code> command to work with the my air conditioner's remote (my guess is that <code>irrecord</code> doesn't support 'Everything at Once' remotes).</p>

<h2>Receiving Signals from Manufacturers Remote</h2>

<p>I have got this side of my project down. I have created a <a href=""http://onedrive.live.com/redir?resid=C604C49A28DD31D!23507&amp;authkey=!ABiPZm75fD7y76U&amp;ithint=file,.py"" rel=""nofollow"">Python script</a> which runs an instance of LIRC's <code>mode2</code> command which reads the timings, converts them to binary then extracts the settings using the protocol below.</p>

<h2>Sending Signals to Air Conditioner</h2>

<p>This is the part I am struggling with. I have written a Python module in C which reads from a binary string then encodes and sends using the IR LED and delays. This however, as fine tuned as I could get it, didn't work when I pointed it at my air conditioner. When I pointed it at my IR receiver above it decoded the message no problem. </p>

<p>So, My thoughts are that my Python module isn't accurate enough and LIRC might be.</p>

<p>You can download my Python module here: onedrive.live.com/redir?resid=C604C49A28DD31D!23508&amp;authkey=!AH_ye0xItEzO6T4&amp;ithint=file%2c.zip. To install it run <code>python setup.py install</code>. To test it out run <code>python test.py</code> (default pin is GPIO PIN 4 but can be changed in test.py).</p>

<h1>Daikin Protocol</h1>

<p>I have posted my finds about the Daikin Protocol <a href=""http://jamesstewy.com/blog/post/8/"" rel=""nofollow"">here</a>.</p>

<p>Thanks,
JamesStewy</p>
"
15454,1,2014-04-25T11:50:22.003,11,44843,6518,,2019-10-01T20:12:31.567,2015-12-31T06:20:37.290,0,,"<p>I'm working remotely and it would be handy to know when someone has gone out for a meeting / lunch in my office. </p>

<p>I thought I might be able to passively detect what phones near the raspberry pi (and then publish them to the web / dropbox / whatever)</p>

<p>What would be the easiest way to do this? MAC address detection? Bluetooth?</p>
"
15613,1,2014-05-01T09:21:59.860,1,18408,14043,,2014-05-01T11:34:14.440,2014-05-01T11:34:14.440,1,,"<p>I would like to add a timing feature into my python code.
I have a situation where data reading occurs continuously and rapidly.
How do I implement a timing system to stop reading after a period of time?
Time.sleep() doesn't help in this case as it only pauses the program for a certain period of time.
What I need to implement is to force stop the program (stop reading/close file) after a certain period of time. Any help is much appreciated.</p>
"
15675,1,2014-05-03T15:18:27.940,3,25368,14613,,2018-04-19T15:50:53.923,2014-05-03T15:57:48.250,1,,"<p>This is my first time posting in this forum. I have the Model B board 512mb version, a class 4 16gb SDHD. I bought my Raspberry Pi yesterday and tried to load Arch Linux with no avail. I am a fairly competent linux user, I've been using Linux Mint for nearly a year now. I found installing Arch Linux very difficult, failing to load either XCFE or LDXE desktop environments without fatal errors. So, I gave up with that wiped the SD card and wrote Raspbian to it on my PC. </p>

<p>Loaded up Raspian the next day and successfully initiated the DE. I am not impressed. It is very slow and sluggish, taking around 40 seconds to open or close an application and the overscan function doesn't work. I am not sure if I am to blame, or if it is my SD card or just the OS itself. Has anybody else found this? Is there a better, more lightweight, alternative? Thanks in advance.</p>
"
15827,1,2014-05-10T08:52:35.900,2,498,14767,,2014-08-19T11:30:17.097,,1,,"<p>Is it possible to set up a project for Raspberry pi in Netbeans on Linux?  If ME SDK 8 is only available for windows, are Linux users forced to use windows?
I've tried using Remote Deploy in Netbeans 8 but it complains ""No Java ME Platform found""
I don't need emulator, I just want to write/compile code and upload to Raspebrry from Linux desktop.</p>

<p>Has anyone seen any tutorials how to deploy application for Raspberry from Linux desktop?</p>

<p>Thanks</p>
"
15944,1,2014-05-16T00:08:05.680,19,35023,14921,,2018-02-09T18:03:01.400,,1,,"<p>I've seen a fair number of internet sites and forums that provide details on how to turn the Pi into an access point or a router.</p>

<p>I've also seen that there are plenty of how tos out there on how to turn the Pi into a NAS drive I'm not really concerned about that part of this project.</p>

<p>What I'd like to be able to do is to sort of combine those two ideas.</p>

<p>I'd like to have the Pi generate it's own network that I can connect to either via ssh or to be able to treat an attached usb drive as a NAS drive, but without the presence of a pre existing wifi network or LAN connection.</p>

<p>As I said above I'm not worried about the NAS part of this.
What I'd like to know is if the Pi can be used to make a non internet connected standalone self generated wifi network. </p>

<p>Thoughts on if this is possible and how would be appreciated.
Thank you for your time,
Jon</p>
"
16997,1,2014-05-20T08:21:11.240,5,17445,8767,,2014-12-01T12:22:47.383,2014-12-01T12:22:47.383,0,,"<p>I installed two operating systems on my raspberry pi using NOOBS.
In my configuration the pi works headless, that means I won't be able to chage the os to start at runtime since I have no monitor and keyboard attached.</p>

<p>How can I change the OS to which the pi boots?</p>
"
17096,1,2014-05-25T20:29:49.010,1,353,14614,,2014-08-23T22:26:42.630,,1,,"<p>I have a static memory splitting (configured in config file and confirmed by <code>vcgencmd</code>) of</p>

<pre><code>arm=496M
gpu=16M
</code></pre>

<p>But when I run <code>free -h</code> I get</p>

<pre><code>             total       used       free     shared    buffers     cached
Mem:          485M       184M       300M         0B        17M       128M
-/+ buffers/cache:        38M       446M
Swap:           0B         0B         0B
</code></pre>

<p>So, a total of 485 MB instead of 496 MB. Where did the 11 MB go? Also, the sum of columns <code>used</code> + <code>free</code> is 484 MB instead of 485 MB. How does the memory calculation work? <code>free</code> agrees with <code>cat /proc/meminfo</code>, as a side note.</p>

<p><strong>Why are these numbers not matching?</strong></p>
"
18215,1,2014-06-01T23:03:14.723,3,1228,1683,Ram Rachum,2014-06-02T13:00:05.197,,2,,"<p>I'm toying with a PS/2 mouse module. I'd like to connect it to my computer somehow so I could observe the data it's broadcasting when I'm moving the mouse. I program in Python so I want a way to get access to that stream in Python. How can I do that? I own both a PC and a Raspberry Pi, so if it's easier on the Raspberry Pi, I can use that. </p>

<p>(I'm an electronics newbie so please explain things that may seem obvious to you.) </p>
"
18262,1,2014-06-04T07:55:42.023,2,623,16242,,2014-06-05T10:00:19.643,,0,,"<p>I want to trace the raspberry pi booting process . I want to see in which file , in which function we are at a particular time and what that function is doing .
Can anybody tell me the best way through which i can do this ?</p>

<p>Thank you !</p>
"
19406,1,2014-06-11T15:28:03.480,2,723,17392,,2014-06-13T17:41:05.273,,9,,"<p>I've been trying to my tft screen work with the Pi using a tutorial <a href=""http://w8bh.net/pi/TFT2.pdf"" rel=""nofollow"">here</a>.</p>

<p>The python script doesn't seem to work, I get this error every time I try to run it: </p>

<pre><code>Traceback (most recent call last):
  File ""tft.py"", line 49, in &lt;module&gt;
    red = value&gt;&gt;16
NameError: name 'value' is not defined
</code></pre>

<p>The script is copy-pasted from the PDF and needed lots of massaging since copying to nano causes all sort of broken lines (comment lines broken up). Here's the code I'm trying to use:</p>

<pre><code>#!/usr/bin/python

import RPi.GPIO as GPIO
import time
import spidev

BLACK   = 0x000000
RED     = 0xFF0000
GREEN   = 0x00FF00
BLUE    = 0x0000FF
WHITE   = 0xFFFFFF
COLORSET = [RED,GREEN,BLUE,WHITE]

SWRESET = 0x01
SLPOUT  = 0x11
DISPON  = 0x29
CASET   = 0x2A
RASET   = 0x2B
RAMWR   = 0x2C
MADCTL  = 0x36
COLMOD  = 0x3A

def SetPin(pinNumber,value):
    GPIO.output(pinNumber,value)
def InitIO():
    GPIO.setmode(GPIO.BCM)
    GPIO.setwarnings(False)
    GPIO.setup(DC,GPIO.OUT)

def WriteByte(value, data=True):
       SetPin(DC,data)
       spi.writebytes([value])
def WriteCmd(value):
       ""Send command byte to display""
       WriteByte(value,False)

""sends a 16-bit word to the display as data""
def WriteWord (value):
       WriteByte(value &gt;&gt; 8)
       WriteByte(value &amp; 0xFF)
def WriteList (byteList):
       ""Send list of bytes to display, as data""
       for byte in byteList:
              WriteByte(byte)

def Write888(value,width,count):
       ""sends a 24-bit RGB pixel data to display, with optional repeat""
red = value&gt;&gt;16                                             #the offending line
green = (value&gt;&gt;8) &amp; 0xFF
blue = value &amp; 0xFF
RGB  = [red,green,blue]
SetPin(DC,1)
for a in range(count):
       spi.writebytes(RGB*width)

def InitDisplay():
       ""Resets &amp; prepares display for active use.""
WriteCmd  (SWRESET)
time.sleep(0.2)
WriteCmd  (SLPOUT)
time.sleep(0.2)
WriteCmd  (DISPON)


def SetAddrWindow(x0,y0,x1,y1):
       ""sets a rectangular display window into which pixel data is placed""
       WriteCmd(CASET)
       WriteWord(x0)
       WriteWord(x1)
       WriteCmd(RASET)
       WriteWord(y0)
       WriteWord(y1)
def FillRect(x0,y0,x1,y1,color):
       ""fills rectangle with given color""
       width = x1-x0+1
       height = y1-y0+1
       SetAddrWindow(x0,y0,x1,y1)
       WriteCmd(RAMWR)
       Write888(color,width,height)

def FillScreen(color):
       ""Fills entire screen with given color""
       FillRect(0,0,127,159,color)
def ClearScreen():
       ""Fills entire screen with black""
       FillRect(0,0,127,159,BLACK)

def TimeDisplay():
       ""Measures time required to fill display twice""
       startTime=time.time()
       print ""  Now painting screen GREEN""
       FillScreen(GREEN)
       print ""  Now clearing screen""
       ClearScreen()
       elapsedTime=time.time()-startTime
       print ""  Elapsed time %0.1f seconds"" % (elapsedTime)

print ""Adafruit 1.8 TFT display demo with hardware SPI""
spi = spidev.SpiDev()
spi.open(0,0)
spi.mode = 0
InitIO()
InitDisplay()
TimeDisplay()
spi.close()
print ""Done.""
</code></pre>

<p>What am I doing wrong?</p>
"
19550,1,2014-06-18T10:11:20.553,0,645,14827,,2014-08-24T14:34:07.273,,0,,"<p>I'm have a 16x2 LCD button shield for RPI similar to <a href=""https://learn.adafruit.com/adafruit-16x2-character-lcd-plus-keypad-for-raspberry-pi/usage"" rel=""nofollow"">Adafruits</a>. It works using the provided Python library so the setup is ok.</p>

<p>The problem is I can't find any working C code or library to work with this setup. 
I've tried <a href=""http://wiringpi.com/examples/adafruit-rgb-lcd-plate-and-wiringpi/"" rel=""nofollow"">Gordons tutorial</a> and some other sources I found but with no luck yet. </p>

<p>Has anyone got any working solution for this? </p>

<p>P.S. RPI is running on ArchLinux</p>
"
19613,1,2014-06-21T11:50:02.080,0,723,14306,,2016-09-20T03:53:10.693,2014-06-21T12:31:06.563,0,,"<p>I'm developing simple blink led for PI without OS (bare metal)</p>

<p>when setting the variable <code>tim</code>  inside the <code>kernel_main</code>, the led still on and doesn't blink. but when setting variable <code>tim</code> global (outside <code>kernel_main</code>) the program run and the led blink</p>

<p>I think in the first case the variable is in the stack and second case in <code>.bss</code>, but why cant blink when this variable is in the stack ???</p>

<p>tim local:</p>

<pre><code>void kernel_main(uint32_t r0, uint32_t r1, uint32_t atags) {
    gpio[GPIO_GPFSEL1] |= (1 &lt;&lt; 18);
    uint32_t tim;
   while(1)
    {
        for(tim = 0; tim &lt; 500000; tim++) ;
        gpio[GPIO_GPCLR0] = (1 &lt;&lt; 16);
        for(tim = 0; tim &lt; 500000; tim++);
        gpio[GPIO_GPSET0] = (1 &lt;&lt; 16);
    }
}
</code></pre>

<p>tim global:</p>

<pre><code>uint32_t tim;
void kernel_main(uint32_t r0, uint32_t r1, uint32_t atags) {
    gpio[GPIO_GPFSEL1] |= (1 &lt;&lt; 18);
           while(1)
    {
        for(tim = 0; tim &lt; 500000; tim++) ;
        gpio[GPIO_GPCLR0] = (1 &lt;&lt; 16);
        for(tim = 0; tim &lt; 500000; tim++);
        gpio[GPIO_GPSET0] = (1 &lt;&lt; 16);
    }
}
</code></pre>
"
19705,1,2014-06-26T11:19:03.120,34,114565,13281,,2016-04-07T19:24:52.277,2014-07-08T22:55:28.300,12,,"<p>I purchased a small USB sound card. My Pi recognizes the device:</p>

<pre><code>$ lsusb
Bus 001 Device 004: ID 0d8c:013c C-Media Electronics, Inc. CM108 Audio Controller
</code></pre>

<p>If I run <code>alsamixer</code> and set the audio to <code>USB PnP Sound Device</code>, I can hear audio through the USB sound card. To make it permanent I type:</p>

<pre><code>$ sudo alsactl store
</code></pre>

<p>But after reboot, the default is no longer the USB sound card.</p>

<p><img src=""https://i.stack.imgur.com/Aa9Tu.png"" alt=""enter image description here""></p>

<p>So then I try to see a list of playback devices:</p>

<pre><code>$ aplay -l

    **** List of PLAYBACK Hardware Devices ****
  card 0: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA]
  Subdevices: 8/8
  Subdevice #0: subdevice #0
  Subdevice #1: subdevice #1
  Subdevice #2: subdevice #2
  Subdevice #3: subdevice #3
  Subdevice #4: subdevice #4
  Subdevice #5: subdevice #5
  Subdevice #6: subdevice #6
  Subdevice #7: subdevice #7
  card 1: Device [USB PnP Sound Device], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</code></pre>

<p>I edit <code>/etc/asound.conf</code> to look like this to set the default:</p>

<pre><code>$ sudo nano /etc/asound.conf


pcm.!default {
 type hw
 card 1
 device 0
}
</code></pre>

<p>Do a <code>reboot</code> and still my default is not the USB sound card.</p>

<p>When I try:</p>

<pre><code>$ aplay /usr/share/sounds/alsa/Front_Center.wav -D sysdefault:CARD=1
</code></pre>

<p>I hear sound from the USB card. </p>

<p>I also tried the following:</p>

<pre><code>$ sudo nano /etc/modprobe.d/alsa-base.conf
</code></pre>

<p>change the index from -2 to 0: </p>

<pre><code>options snd-usb-audio index=0
</code></pre>

<p>Reboot and still it did not set the default. I even commented out the line and no luck.</p>

<p>So how do I set the USB card as my default Audio Device?</p>

<p><strong>Edit</strong></p>

<pre><code> dpkg -s pulseaudio
</code></pre>

<p>Displays:</p>

<pre><code>Package: pulseaudio
Status: install ok installed
Priority: optional
Section: sound
Installed-Size: 4413
Maintainer: Pulseaudio maintenance team &lt;pkg-pulseaudio-devel@lists.alioth.debian.org&gt;
Architecture: armhf
Multi-Arch: foreign
Version: 2.0-6
Depends: libasound2 (&gt;= 1.0.24.1), libc6 (&gt;= 2.13-28), libcap2 (&gt;= 2.10), libdbus-1-3 (&gt;= 1.1.1), libfftw3-3, libgcc1 (&gt;= 1:4.4.0), libice6 (&gt;= 1:1.0.0), libltdl7 (&gt;= 2.4.2), liborc-0.4-0 (&gt;= 1:0.4.16), libpulse0 (= 2.0-6), libsamplerate0 (&gt;= 0.1.7), libsm6, libsndfile1 (&gt;= 1.0.20), libspeexdsp1 (&gt;= 1.2~beta3.2-1), libstdc++6 (&gt;= 4.1.1), libsystemd-daemon0 (&gt;= 31), libsystemd-login0 (&gt;= 31), libtdb1 (&gt;= 1.2.7+git20101214), libudev0 (&gt;= 146), libwebrtc-audio-processing-0, libx11-6, libx11-xcb1, libxcb1, libxtst6, adduser, lsb-base (&gt;= 3.2-13), consolekit, udev (&gt;= 143), libasound2-plugins
Recommends: pulseaudio-module-x11, gstreamer0.10-pulseaudio, rtkit
Suggests: pulseaudio-utils, pavumeter, pavucontrol, paman, paprefs
Breaks: libltdl3 (&lt;&lt; 1.5.24-1)
Conffiles:
 /etc/init.d/pulseaudio 8580c855e4547e8a3c84dca96d9bbd7e
 /etc/default/pulseaudio ee26e4427d72cf16a59b1a8ce2712c66
 /etc/xdg/autostart/pulseaudio.desktop 5e19ffbe14d21702be1edd3256c4265d
 /etc/xdg/autostart/pulseaudio-kde.desktop fd20c58d32035e908a0866784e4e3511
 /etc/pulse/system.pa 408f6d6119d7afce522ab1b394709134
 /etc/pulse/default.pa a9ac2a96744beae0913865fafd3d2582
 /etc/pulse/daemon.conf 6c9e4c973cabb406beee3ec81c63fcd7
 /etc/dbus-1/system.d/pulseaudio-system.conf 69d56dc5342bf589a2e199541709a452
Description: PulseAudio sound server
 PulseAudio, previously known as Polypaudio, is a sound server for POSIX and
 WIN32 systems. It is a drop in replacement for the ESD sound server with
 much better latency, mixing/re-sampling quality and overall architecture.
 .
</code></pre>

<p>Then:</p>

<pre><code>cat /proc/asound/modules
</code></pre>

<p>Displays:</p>

<pre><code> 0 snd_bcm2835
 1 snd_usb_audio
</code></pre>
"
19728,1,2014-06-27T15:23:03.847,0,63,11593,,2014-06-27T16:00:43.913,,0,,"<p>I've followed this <a href=""http://www.maketecheasier.com/setup-wifi-on-raspberry-pi/"" rel=""nofollow noreferrer"">guide</a>, wich explains to first check if my USB gets recognized by my raspberry by <code>lsusb</code> or <code>ifconfig</code>. I've tried both and this is what I get:<br><br>
<code>ifconfig</code><br>
<img src=""https://i.stack.imgur.com/gUuDh.jpg"" alt=""enter image description here"">
<br><br><code>lsusb</code><br>
<img src=""https://i.stack.imgur.com/ufLDO.jpg"" alt=""enter image description here""></p>

<p>So my Raspberry does recognize my wifi adapter as it should because it is a wifi adapter that is compatible for the Pi.</p>

<p>As I continue through the guide and start up my desktop and open WiFi config. There is no adapter at all. It should give me an adapter called <code>wlan0</code>. But it's just empty:
<br><img src=""https://i.stack.imgur.com/N705i.jpg"" alt=""enter image description here""><br>
How can I fix this?</p>
"
19765,1,2014-06-30T04:54:42.887,6,26156,17754,,2018-05-08T21:35:08.373,2014-06-30T05:08:19.030,0,,"<p>I'm trying to make RPi generate high-speed square wave through its GPIO pin.</p>

<p>My code controlling GPIO output is based on <a href=""http://elinux.org/RPi_Low-level_peripherals#C"" rel=""noreferrer"">this article</a></p>

<p>The essential part of my code is the following:</p>

<pre><code>speed = 1000000; // 1 MHz, or 0.5 MHz anyway (just notice the order of MHz)
s2us = 1000000; // second to microsecond
while(1){
    GPIO_SET = 1&lt;&lt;7; // set GPIO 07 HIGH
    usleep(1/speed * s2us); // sleep for 1 us
    GPIO_CLR = 1&lt;&lt;7; // set GPIO 07  LOW
    usleep(1/speed * s2us); // sleep for 1 us
}
</code></pre>

<p>When I run my code, it shows the square wave with the period of 4.2 ms, which means about only 240 Hz. It's not a tolerable error since the order of hundreds Hz and MHz.</p>

<p>I've googled for this problem and found that <code>usleep</code>, <code>nanosleep</code> cannot work properly if the sleep time is too short since some kind of linux system scheduling. But I have no idea to solve this problem. Some suggest to use <code>delay</code> instead of <code>sleep</code> but I'm not sure it will work or not.</p>

<p>I use RPi model B rev 2.0 and Raspbina wheezy 2014. Fresh install and nothings installed.</p>
"
19902,1,2014-07-06T20:09:11.557,0,380,17865,,2015-04-15T23:20:04.247,2015-04-15T23:20:04.247,0,,"<p>I've just acquired myself a <a href=""https://energenie4u.co.uk/index.php/catalogue/product/ENER002-2PI"" rel=""nofollow"">Pi-mote from Energenie</a>.
I'm trying to replicate the code from <a href=""https://energenie4u.co.uk/res/software/ENER002-2PI.py"" rel=""nofollow"">their website</a> using Ruby and the pi_piper gem, but I've run in to problems.</p>

<p>For some reason, my turn_1_on function works just fine. But none of the others seem to work. I have tested that it still works correctly and as intended throughout with the python script. </p>

<p>Code as follows:</p>

<pre><code>require 'pi_piper'
  include PiPiper
  # Select the GPIO pins used for the encoder D0-D3 data inputs
  @pin11 = PiPiper::Pin.new(:pin =&gt; 17, :direction =&gt; :out)
  @pin13 = PiPiper::Pin.new(:pin =&gt; 27, :direction =&gt; :out)
  @pin15 = PiPiper::Pin.new(:pin =&gt; 22, :direction =&gt; :out)
  @pin16 = PiPiper::Pin.new(:pin =&gt; 23, :direction =&gt; :out)

  # Select the signal to select ASK/FSK
  @pin18 = PiPiper::Pin.new(:pin =&gt; 24, :direction =&gt; :out)

  # Select the signal used to enable/disable the modulator
  @pin22 = PiPiper::Pin.new(:pin =&gt; 25, :direction =&gt; :out)

  # Disable the modulator by setting CE pin lo
  @pin22.off

  # Set the modulator to ASK for On Off Keying
  # by setting MODSEL pin lo
  @pin18.off

  # Initialise D0-D3 inputs of the encoder to 0000
  @pin11.off
  @pin13.off
  @pin15.off
  @pin16.off

  # The On/Off code pairs correspond to the hand controller codes.
  # True = '1', False ='0'

  def turn_1_on
    @pin11.on
    puts ""Pin11 now has value #{@pin11.value}""
    @pin13.on
    puts ""Pin13 now has value #{@pin13.value}""
    @pin15.on
    puts ""Pin15 now has value #{@pin15.value}""
    @pin16.on
    puts ""Pin16 now has value #{@pin16.value}""
    sleep(0.1)
    @pin22.on
    sleep(0.25)
    @pin22.off
  end

  def turn_1_off
    @pin11.on
    puts ""Pin11 now has value #{@pin11.value}""
    @pin13.on
    puts ""Pin13 now has value #{@pin13.value}""
    @pin15.on
    puts ""Pin15 now has value #{@pin15.value}""
    @pin16.off
    puts ""Pin16 now has value #{@pin16.value}""
    sleep(0.1)
    @pin22.on
    sleep(0.25)
    @pin22.off
  end
</code></pre>
"
22003,1,2014-07-10T20:55:14.857,0,1405,18949,,2015-07-16T12:51:07.860,2015-07-16T12:51:07.860,0,,"<p>I'm trying to setup a switch on a breakout board which, upon flicking the switch, will allow me to  play a short mp3, then loop a second mp3 until I switch it off. When I do so, I want it to play a third mp3 (this is basically a siren starting up looping then shutting down). I can play mp3s using a push button but don't know how to use the switch, any help? </p>

<p>This is the current python script I'm using</p>

<pre><code>import pygame.mixer
import RPi.GPIO as GPIO
from time import sleep
from sys import exit

GPIO.setmode(GPIO.BCM)

GPIO.setup(23, GPIO.IN)
GPIO.setup(24, GPIO.IN)
GPIO.setup(25, GPIO.IN)

pygame.mixer.init(48000, -16, 1, 1024)

sndA = pygame.mixer.Sound(""buzzer.wav"")
sndB = pygame.mixer.Sound(""clap.wav"")
sndC = pygame.mixer.Sound(""laugh.wav"")

soundChannelA = pygame.mixer.Channel(1)
soundChannelB = pygame.mixer.Channel(2)
soundChannelC = pygame.mixer.Channel(3)

print ""Soundboard Ready.""

while True:
    try:
        if (GPIO.input(23) == True):
            soundChannelA.play(sndA)
        if (GPIO.input(24) == True):
            soundChannelB.play(sndB)
        if (GPIO.input(25) == True):
            soundChannelC.play(sndC)
        sleep(.01)
    except KeyboardInterrupt:
        exit()
</code></pre>
"
22054,1,2014-07-13T15:10:37.387,0,803,14306,,2014-09-30T13:07:29.780,2014-09-30T12:49:00.103,3,,"<p>I'm trying to read temperature form DHT22 using Raspbian patched with xenomai real time system. I'm following steps of  <a href=""http://www.adafruit.com/datasheets/Digital%20humidity%20and%20temperature%20sensor%20AM2302.pdf"" rel=""nofollow"">datasheet page 4</a> using gpio4.
.
the circuit is correctly wired(I can read with existing codes).
but I get false result (temperature about 80000).</p>

<p>my question is, since xenomai is hard real time, did it's <code>sleep</code> function take really the given amount of time???.</p>

<p>the max latency is about 30us (tested in parallel with <code>dd</code> command which take 80% of processor. (<code>/usr/xenomai/bin/latency</code> program)</p>

<p>or did the datasheet not specify exactly the communication (signal) steps???</p>

<pre><code>#define TASK_PRIO  99 /* Highest RT priority */
#define TASK_MODE  0  /* No flags */
#define TASK_STKSZ 0  /* Stack size (use default one) */
#define SIGNALS (0x1|0x4) /* Signals to send */
</code></pre>

<p>... </p>

<pre><code>   void read(void *cookie) {
         readDHT();
   }
</code></pre>

<p>... main</p>

<pre><code> int err;
        mlockall(MCL_CURRENT | MCL_FUTURE);

    err = rt_task_create(&amp;task_desc, ""MakoudaTask"",
    TASK_STKSZ,
    TASK_PRIO,
    TASK_MODE);
    if (!err)
        rt_task_start(&amp;task_desc, &amp;read, NULL);

    if (err) {
        printf("" cant reate task\n"");
        return 0;
    }
</code></pre>

<p>readDHT22.C</p>

<pre><code>uint64_t readDHT(int pin) {
  // Set GPIO pin to output
      GPIO_DIR_OUTPUT(pin);     // set pin output
      GPIO_CLEAR_PIN(pin);      // Set low
      rt_task_sleep(5000000);                // DHT22 needs min 1-10 ms to signal a startup
      GPIO_SET_PIN(pin);        // Take pin high
      rt_task_sleep(40000);  //sleep 40 us


  /*------------------sensor response --------------------*/

      GPIO_DIR_INPUT(pin);      // set pin input
      rt_task_sleep(80000); //sensor pull low 80 us
      rt_task_sleep(100000); // sensor pull up 80 us
    //  while(GPIO_READ_PIN(pin)); // wait till sensor pull down (ready to transmit data)


   /*--------------------- begin transmit data ------------*/

  uint64_t measure = 0;   // store the 40 bits
  uint8_t i;


      // start to read 40 bits
      for (i = 0; i &lt; 40; i++) {
          while(GPIO_READ_PIN(pin) == 0) // wait till sensor pull up (ready to transmit bit)
              rt_task_sleep(1);  //sleep 1 ns

          rt_task_sleep(40000); //wait 40us if still high then bit = 1 else bit = 0 because output=1 still 70 us
          if (GPIO_READ_PIN(pin))
          {
              measure = measure | (1 &lt;&lt; i);
              while(GPIO_READ_PIN(pin)) //wait sensor pull down
                  rt_task_sleep(1000);
          }
      }

  return measure;
}
</code></pre>
"
22338,1,2014-07-25T04:10:48.667,0,259,17594,,2015-12-31T06:12:48.460,2015-12-31T06:12:48.460,2,,"<p>I would like to seek help on my REST API. I have finished constructed my basic REST API for my Raspberry PI and able to work now, thanks to you guys. Now I would like to display mySQL database records in a table with loop so it can always display new records but it failed and prompt an error which I have screenshot it down and uploaded.</p>

<p><strong>This is my led_rest_api.js:</strong></p>

<pre><code>var express = require('express');
var bodyParser = require('body-parser');
var gpio = require('pi-gpio');
var app = express();
var dateFormat = require('dateformat');
var mysql = require('mysql');
var http = require('http');

var now = new Date().toISOString().replace(/T/, ' ').replace(/\..+/, '');

var conn = mysql.createConnection({
   host: 'localhost',
   user: 'user',
   password: 'password',
   database: 'sensor'
});

dateFormat(now);
app.use(bodyParser.json());
app.set('port', process.env.PORT || 3030);

var display = conn.query('SELECT * FROM sensorInfo');

var table = ('&lt;tr&gt;&lt;th&gt;Sensor ID&lt;/th&gt;&lt;th&gt;Sensor&lt;/th&gt;&lt;th&gt;On Log Time&lt;/th&gt;&lt;th&gt;Off Log Time&lt;/th&gt;&lt;/tr&gt;');

foreach (display as row) {
        table. =
       ""&lt;tr&gt;&lt;td&gt;"". $row['sensorId'] . ""&lt;/td&gt;"". 
            ""&lt;td&gt;"". $row['sensors'] . ""&lt;/td&gt;"".
       ""&lt;td&gt;"". $row['onLogTime'] . ""&lt;/td&gt;"".
            ""&lt;td&gt;"". $row['offLogTime'] .""&lt;/td&gt;&lt;/tr&gt;"";
    });

var server = http.createServer(function(request, response) {
   response.writeHead(200, {""Content-Type"": ""text/html""});
   response.write(""&lt;!DOCTYPE html&gt;"");
   response.write(""&lt;html&gt;"");
   response.write(""&lt;head&gt;"");
   response.write(""&lt;title&gt;&lt;H1 align=""center""&gt;Sensor REST API&lt;/H&gt;&lt;/title&gt;"");
   response.write(""&lt;/head&gt;"");
   response.write(""&lt;body&gt;"");
   response.write(""&lt;table border=1&gt;table&lt;/table&gt;"");
   response.write(""&lt;/body&gt;"");
   response.write(""&lt;/html&gt;"");
   response.end();
});

app.put('/:pin/1', function(req, res)
{
  var pin = req.params.pin;

  gpio.open(pin, 'output', function(err){
    if (pin === 7){
        //Set pin 7 high (1)
            gpio.write(7, 1, function() 
        {
                conn.query('INSERT INTO sensor(sensorId, sensors, onLogTime, offLogTime) VALUES(1, ""Red LED"", current_timestamp(), NULL)', function(err){
            if (err) throw err;
                else res.send('success');
         });
                res.send(now);
                gpio.close(7);
        });
        return gpio;
    } if (pin === 11){
        //Set pin 11 high (1)
            gpio.write(11, 1, function() 
        {
                conn.query('INSERT INTO sensor(sensorId, sensors, onLogTime, offLogTime) VALUES(2, ""Blue LED"", current_timestamp(), NULL)', function(err){
            if (err) throw err;
                else res.send('success');
         });
                res.send(now);
                gpio.close(11);
        });
        return gpio;
    } if (pin === 16){
        //Set pin 16 high (1)
            gpio.write(16, 1, function() 
        {
                conn.query('INSERT INTO sensor(sensorId, sensors, onLogTime, offLogTime) VALUES(3, ""Green LED"", current_timestamp(), NULL)', function(err){
            if (err) throw err;
                else res.send('success');
         });
                res.send(now);
                gpio.close(16);  
        });
        return gpio;
    }
  }
});

app.put('/:pin/0', function(req, res)
{
  var pin = req.params.pin;

  gpio.open(pin, 'output', function(err){
    if (pin === 7){
        //Set pin 7 low (0)
            gpio.write(7, 0, function() 
        {
                conn.query('INSERT INTO sensor(sensorId, sensors, onLogTime, offLogTime) VALUES(1, ""Red LED"", NULL, current_timestamp())', function(err){
            if (err) throw err;
                else res.send('success');
         });
                res.send(now);
                gpio.close(7);
        });
        return gpio;
    } if (pin === 11){
        //Set pin 11 low (0)
            gpio.write(11, 0, function() 
        {
                conn.query('INSERT INTO sensor(sensorId, sensors, onLogTime, offLogTime) VALUES(2, ""Blue LED"", NULL, current_timestamp())', function(err){
            if (err) throw err;
                else res.send('success');
         });
                res.send(now);
                gpio.close(11);
        });
        return gpio;
    } if (pin === 16){
        //Set pin 16 low (0)
            gpio.write(16, 0, function() 
        {
                conn.query('INSERT INTO sensor(sensorId, sensors, onLogTime, offLogTime) VALUES(3, ""Green LED"", NULL, current_timestamp())', function(err){
            if (err) throw err;
                else res.send('success');
         });
                res.send(now);
                gpio.close(16);
        });
        return gpio;
    }
  }
});

server = app.listen(app.get('port'), function() {
  console.log('Listening on port %d', server.address().port);
</code></pre>

<p><strong>This is the error screenshot:</strong></p>

<p><img src=""https://i.stack.imgur.com/bVXfv.png"" alt=""enter image description here""></p>
"
22349,1,2014-07-25T14:04:45.493,1,8541,17621,,2016-02-13T00:26:10.077,2016-02-12T23:31:07.877,6,,"<p>I have followed numerous tutorials to get my Wi-Fi dongle working on my Raspberry Pi, and when I use this command:</p>

<pre><code>iwconfig
</code></pre>

<p>I get what almost all the tutorials show me, but I still can't get to Google or any other website. Here is what I get:</p>

<p><img src=""https://i.stack.imgur.com/WeJSf.jpg"" alt=""iwconfig outcome""></p>

<p>I can also post my <code>/etc/network/interfaces</code> file if needed.</p>

<p>Here is the ouput of <code>ifconfig -a</code>:</p>

<p><img src=""https://i.stack.imgur.com/W1xaG.jpg"" alt=""Enter image description here""></p>
"
22363,1,2014-07-26T23:49:52.600,7,10892,19284,,2016-07-22T11:07:43.947,2016-07-22T11:07:43.947,0,,"<p>I have the Raspberry Pi B+, and it has four USB ports.</p>

<p>At the moment I am powering an Arduino Mega, a small <a href=""http://en.wikipedia.org/wiki/Radio-frequency_identification"" rel=""nofollow"">RFID</a> reader and a keyboard. I plan to also power a Wi-Fi dongle and an <a href=""http://arduino.cc/en/Main/ArduinoBoardUno"" rel=""nofollow"">Arduino Uno</a>.</p>

<p>Will this just work? I mean it does work. But I was wondering why people use powered USB hubs. I heard some people say Wi-Fi dongles sometimes need a powered USB hub to have good range.</p>

<p>Essentially, what are the advantages of a powered USB hub?
and should I get one for my use situation?</p>
"
22490,1,2014-07-31T20:12:53.913,5,12129,19254,,2015-08-20T21:36:42.407,2017-03-10T09:42:48.250,9,,"<p>I have been trying for ages to work this problem out and can't figure it out. I have two nrf24 transceivers, one connected to the raspberry pi and the other connected to an Arduino. My code for the Arduino is written using the maniacbug rf24 library and the raspberry pi is using a modified version of that (I don't remember which one but i think it was Stanely-something-or-other). When I ran my code, Before it would give me erroneous feed back and the addresses where something like 0xffffffffffff (i dont remember the count but it was f repeating). The wiring here was done as per: <img src=""https://hack.lenotta.com/wp-content/uploads/2013/10/Raspischeme-1024x809.png"" alt=""rpi wiring"">. I then rewired as it was suggested on this page <a href=""http://www.raspberrypi.org/forums/viewtopic.php?t=17061&amp;p=350040"" rel=""nofollow noreferrer"">http://www.raspberrypi.org/forums/viewtopic.php?t=17061&amp;p=350040</a> and it looked like </p>

<pre><code>RPi GPIO9 (Pin 21) to RF Module Pin 7 ( MISO )
RPi GPIO10 (Pin 19) to RF Module Pin 6 ( MOSI )
RPi GPIO 11 (Pin 23) to RF Module Pin 5 ( SCK )
RPi GPIO8 (Pin 24) to RF Module Pin 3 ( CE )
RPi GPIO 25 (Pin 22) to RF Module Pin 4 ( CSN )
RPI 3.3V (Pin 17) to RF Module Pin 2 ( VCC/3.3V )
RPi Gnd (Pin 25) to RF Module Pin 1 (GND)
</code></pre>

<p>How ever now, Eveything is zeroed out instead of repeating f. and I am not getting any output (before it gave me really big numbers, the max for unsigned log i believe).
I also ran the example code and same things. </p>

<p>This Is my radio data: </p>

<pre><code>SPI device       = /dev/spidev0.0
SPI speed        = 8000000
CE GPIO          = 25
STATUS           = 0x00 RX_DR=0 TX_DS=0 MAX_RT=0 RX_P_NO=0 TX_FULL=0
RX_ADDR_P0-1     = 0x0000000000 0x0000000000
RX_ADDR_P2-5     = 0x00 0x00 0x00 0x00
TX_ADDR          = 0x0000000000
RX_PW_P0-6       = 0x00 0x00 0x00 0x00 0x00 0x00
EN_AA            = 0x00
EN_RXADDR        = 0x00
RF_CH            = 0x00
RF_SETUP         = 0x00
CONFIG           = 0x00
DYNPD/FEATURE    = 0x00 0x00
Data Rate        = 1MBPS
Model            = nRF24L01
CRC Length       = Disabled
PA Power         = PA_MIN
</code></pre>

<p>this was taken from the rpi_hub example</p>

<p>What Am I doing wrong? should I wire it a different way?</p>

<p>Edit: Here is the code. Sorry it took so long, I had everything working on two arduinos so I thought the raspberry pi would be fine. turns out it isnt =/</p>

<pre><code>#include ""../costumLibraries/RF24/librf24-rpi/librf24/RF24.h""
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;string.h&gt;
#include &lt;string&gt;
#include &lt;getopt.h&gt;
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;ctime&gt;
// Command Line: g++ -Wall -Ofast -mfpu=vfp -mfloat-abi=hard -march=armv6zk -mtune=arm1176jzf-s -L../librf24/  -lrf24 -pthread *.cpp -o remote
using namespace std;
RF24 radio(""/dev/spidev0.0"",8000000 , 25);  //spi device, speed and CSN,only CSN is NEEDED in RPI
const uint64_t pipes[2] = { 0xF0F0F0F0E1LL, 0xF0F0F0F0D2LL };

void setup(void){
    //Prepare the radio module
    printf(""\nPreparing interface\n"");
    radio.begin();
    radio.setRetries( 15, 15);
    radio.openWritingPipe(pipes[0]);
    radio.openReadingPipe(1,pipes[1]);
    // radio.startListening();
    radio.printDetails();
    cout&lt;&lt;""good""&lt;&lt;endl;
}


int main( int argc, char ** argv){
        string choice;
        // time_t timer;
        int choiceVal;
        setup();
        while(choice != ""quit""){
            cout&lt;&lt;""&gt;"";
            cin&gt;&gt;choice;
            cout&lt;&lt;endl;
            choiceVal = atoi(choice.c_str());
            if(choice!=""quit""){ 
               radio.write(&amp;choiceVal, sizeof(int));
               printf(""\n\rRecieved and sent %i"",choiceVal);
               radio.startListening();
               unsigned long started_waiting_at = time(NULL);
               bool timeout = false;
               while ( ! radio.available() &amp;&amp; ! timeout )
                 if (time(NULL) - started_waiting_at &gt; 200 )
                   timeout = true;

               // Describe the results
               if ( timeout )
               {
                 printf(""Failed, response timed out.\n\r"");
               }
               bool done = false;
               while (!done){
               // Fetch the payload, and see if this was the last one.
                   done = radio.read( &amp;choiceVal, sizeof(int) );
                   printf(""recieved: %i"",choiceVal);
                   delay(20);
               }
               radio.stopListening();
            }
        }
}
</code></pre>
"
22495,1,2014-08-01T08:44:36.517,0,406,19420,,2015-12-31T07:07:04.553,2015-12-31T07:07:04.553,4,,"<p>I would like to seek help on my LED Switch REST API. I have created my own REST API and able to light up my LED when I type in the URL for example: <code>localhost:3030/7/1</code> to light on and <code>localhost:3030/7/0</code> to light off. But when I start to <strong>implement a switch to manually on and off my LED without keying URL</strong>, my whole REST API able to start up but no LEDs light up when I click my switch. </p>

<p><strong>This is my switch_rest_api.js</strong></p>

<pre><code>var express = require('express');
var path = require('path');
var bodyParser = require('body-parser');
var gpio = require('pi-gpio');
var app = express();
var mysql = require('mysql');

app.use(bodyParser.json());
app.set('port', process.env.PORT || 3030);

var conn = mysql.createConnection({
    host: 'localhost',
    user: 'user',
    password: 'password',
    database: 'rest_api'
});

app.get('', function(req, res) {
var pin = req.params.pin;

gpio.open(pin, 'input', function(err) {
    if (pin === '12') {
        //Set pin 12 as SWitch to turn on LED
        gpio.write(12, 1, function(err) {
                if (err) throw err;
                else {
                    gpio.open(pin, 'output', function(err) {
                        gpio.write(7, 1, function(err) {
                            conn.query('INSERT INTO sensorLog(sensorId, logTime, sensorValue) VALUES(1, current_timestamp(), 1)', function(err){
                                if (err) throw err;
                                    else {
                                    console.log(""Successfully store to mySQL database"");
                                }
                            });
                            res.send(200);
                                gpio.close(7);
                        });
                        gpio.write(11, 1, function(err) {
                            conn.query('INSERT INTO sensorLog(sensorId, logTime, sensorValue) VALUES(2, current_timestamp(), 1)', function(err){
                                if (err) throw err;
                                    else {
                                    console.log(""Successfully store to mySQL database"");
                                }
                            });
                            res.send(200);
                                gpio.close(11);
                        });
                        gpio.write(13, 1, function(err) {
                            conn.query('INSERT INTO sensorLog(sensorId, logTime, sensorValue) VALUES(3, current_timestamp(), 1)', function(err){
                                if (err) throw err;
                                    else {
                                    console.log(""Successfully store to mySQL database"");
                                }
                            });
                            res.send(200);
                                gpio.close(13);
                        });
                    });
                    console.log(""Switch is on"");
                }
                res.send(200);
                gpio.close(12);
        });
    }
});
});

var server = app.listen(app.get('port'), function() {
  console.log('Listening on port %d', server.address().port);
});
</code></pre>

<p><strong>This is my circuit screenshots:</strong></p>

<p><img src=""https://i.stack.imgur.com/gAtgL.jpg"" alt=""enter image description here""></p>
"
22708,1,2014-08-12T06:10:34.153,6,31082,19640,,2020-07-04T23:46:48.253,2015-12-31T07:07:43.723,1,,"<p>I have recorded a .wav file using the command:</p>

<pre><code>arecord test.wav
</code></pre>

<p>But when I try to play it, there is no sound output. It's like the raspberry pi is stuck on mute. I initially thought that my microphone was defective, but I sent the wav file to my desktop and played it, and it definitely is not empty.</p>

<p>The audio on my raspberry pi works when I run the hello_audio.bin located in
        /opt/vc/src/hello_pi/hello_audio
And it played a noise through my headphones, so I know it's not my headphones.</p>
"
22712,1,2014-08-12T13:12:58.553,5,48226,19505,,2019-06-21T13:55:29.407,2015-12-27T21:59:41.727,1,,"<p>I have <a href=""http://www.ebay.com/itm/New-USB-to-RS485-Converter-Adapter-ch340T-chip-Support-64-bit-Win7-/330825788198"" rel=""nofollow"">this little device for communication</a>, and I can see the dongle after lsusb, and it is attached to ttyUSB0 (output from dmesg). Since the module has its driver that is installed to Raspberry Pi, I don't need another CPU for handshake. I am using pymodbus, and I wrote the code segment below.</p>

<pre><code>import pymodbus
import serial
from pymodbus.pdu import ModbusRequest
from pymodbus.client.sync import ModbusSerialClient as ModbusClient #initialize a serial RTU client instance
from pymodbus.transaction import ModbusRtuFramer

import logging
logging.basicConfig()
log = logging.getLogger()
log.setLevel(logging.DEBUG)

#count= the number of registers to read
#unit= the slave unit this request is targeting
#address= the starting address to read from

client= ModbusClient(method = ""rtu"", port=""/dev/ttyUSB0"",stopbits = 1, bytesize = 8, parity = 'E' baudrate= 9600)

#Connect to the serial modbus server
connection = client.connect()
print connection

#Starting add, num of reg to read, slave unit.
result= client.read_holding_registers(0x00,2,unit= 0xff)

print(result)

#Closes the underlying socket connection
client.close()
</code></pre>

<p><strong>Output is:</strong></p>

<pre><code>True
DEBUG:pymodbus.transaction:Running transaction 1
DEBUG:pymodbus.transaction:getting transaction 1
None
</code></pre>

<p>It obvious I am doing something wrong, but I don't know what. How can I fix this problem?</p>
"
22787,1,2014-08-16T10:21:11.323,0,855,19721,,2015-02-13T20:52:26.117,2014-12-15T19:48:58.870,1,,"<p>I've built a complete home automation system including a LCD display (2004), an internet radio and with 433 Mhz controlling.</p>

<p>Unfortunatly I have a small problem with the lcd display. Everything works, it is correctly wired up and shows all text I'm sending to it. But now I want different update intervals for the four lines of the display.</p>

<p>You can see the problem in the video here: 
<a href=""https://plus.google.com/u/0/photos/+AlexanderL%C3%B6hner72/albums/6048104007317163825/6048104003778025746?pid=6048104003778025746&amp;oid=%2BAlexanderL%C3%B6hner72"" rel=""nofollow"">https://plus.google.com/u/0/photos/+AlexanderL%C3%B6hner72/albums/6048104007317163825/6048104003778025746?pid=6048104003778025746&amp;oid=%2BAlexanderL%C3%B6hner72</a></p>

<p>The clock and the temperature in the first two lines gets updated after the forth line with the scrolling text has finished scrolling. That means the seconds of the clock are ""jumping"" (sorry for my bad english).</p>

<p>I'm doing this with a python script: </p>

<p>This is the original, working script that shows the problem in the video:  (not allowed to post more than 2 links, so I removed this one)</p>

<p>And this is the script with which I'm trying to do threading and such, but that has never worked... <a href=""http://pastebin.com/7rsiLC9q"" rel=""nofollow"">http://pastebin.com/7rsiLC9q</a></p>

<p>The second script, which was never working is of course not finished. The part that should print the content of the pipe to stdout doesn't print anything...</p>

<p>And I also guess, that the whole idea wouldn't be very good, because it would be to slow... it would lag, I think..</p>

<p>What do you think? And how can I do it better?</p>

<p>Any answer would be highly appreciated</p>
"
23210,1,2014-09-09T11:46:10.610,1,5786,19957,,2015-05-27T16:55:34.407,2017-04-13T12:56:25.627,0,,"<p>Regarding one of my previous questions about minidlna (found here <a href=""https://raspberrypi.stackexchange.com/questions/23190/minidlna-srt-files"">miniDLNA &amp; srt files</a>)</p>

<p>I want to know If (an how) I can install UMS (Universal Media Server) on a raspi.
I also wonder if it can do the heavy lifting required.</p>

<p>Since my miniDLNA refused to stream .srt files with video I'm looking for an alternative.</p>

<p>Following this guide:
<a href=""http://www.slsmk.com/how-to-install-universal-media-server-ums-on-ubuntu-in-headless-mode/"" rel=""nofollow noreferrer"">http://www.slsmk.com/how-to-install-universal-media-server-ums-on-ubuntu-in-headless-mode/</a></p>

<p>I run into the following problem when trying to do:</p>

<pre><code> #  update-rc.d UMS defaults

update-rc.d: using dependency based boot sequencing
insserv: script UMS is not an executable regular file, skipped!
insserv: Script UMS is broken: incomplete LSB comment.
insserv: missing `Provides:' entry: please add.
insserv: missing `Required-Start:' entry: please add even if empty.
insserv: missing `Required-Stop:'  entry: please add even if empty.
insserv: missing `Default-Start:'  entry: please add even if empty.
insserv: missing `Default-Stop:'   entry: please add even if empty.
insserv: Default-Start undefined, assuming empty start runlevel(s) for script `UMS'
insserv: Default-Stop  undefined, assuming empty stop  runlevel(s) for script `UMS'
</code></pre>

<p>the config file:</p>

<p>nano /etc/init.d/UMS</p>

<pre><code>#!/bin/bash
#
### BEGIN INIT INFO
# Provides:          ums
# Required-Start:    $local_fs $remote_fs $network
# Required-Stop:     $local_fs $remote_fs $network
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Starts UMS program.
# Description:       Java Upnp Media Server
### END INIT INFO

#set -x

# Author: Papa Issa DIAKHATE 
#
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
DESC=""Universal Media Server""
NAME=UMS
UMS_PROFILE=/etc/UMS.conf
DAEMON=/opt/ums/$NAME
DAEMON_OPTS=""console""
SCRIPTNAME=/etc/init.d/$NAME
UMS_START=1 # Wether to start or not UMS ver at boot time.
DODTIME=30  # Time to wait for the server to die, in seconds.
            # If this value is set too low you might not
            # let the program to die gracefully and 'restart' will not work

test -x $DAEMON || exit 1

# Load the VERBOSE setting and other rcS variables
. /lib/init/vars.sh

# Define LSB log_* functions.
# Depend on lsb-base (&gt;= 3.0-6) to ensure that this file is present.
. /lib/lsb/init-functions

# Include ums defaults if available
if [[ -f ""/etc/default/$NAME"" ]] ; then
        . /etc/default/$NAME
fi

# May we run the init.d script ?
[[ $UMS_START = 1 ]] || exit 1

#--------------------------------------------------------------------------
# Some color codes
txtred=$'\e[0;31m' # Red
txtylw=$'\e[0;33m' # Yellow
txtrst=$'\e[0m'    # Text Reset
#--------------------------------------------------------------------------
warnout(){
    echo &gt;&amp;2 -e """"$txtylw""Warning:$txtrst $1""
}
#--------------------------------------------------------------------------
running(){
    pid=`pgrep -f 'java .*ums.jar.*'`
}
#--------------------------------------------------------------------------
do_start(){
    running &amp;&amp; { warnout ""$NAME is already running !""; exit 0; }
    echo ""Starting $DESC : $NAME""
    UMS_PROFILE=""$UMS_PROFILE"" start-stop-daemon --start --quiet --background --oknodo \
        --exec $DAEMON -- $DAEMON_OPTS

}
#--------------------------------------------------------------------------
do_stop(){
    running || { warnout ""$NAME is NOT running !""; exit 0; }   
    local countdown=""$DODTIME""
    echo -e ""Stopping $DESC : $NAME \c ""
    kill -9 $pid
    while running; do
        if (($countdown &gt;= 0)); then
            sleep 1; echo -n .;
            ((--countdown))
        else
            break;
        fi
    done
    echo
    # If still running, then try to send SIGINT signal
    running &amp;&amp; { \
        echo &gt;&amp;2 ""Using kill -s SIGINT instead""; \
        echo &gt;&amp;2 ""If you see this message again, then you should increase the value of DODTIME in '$0'.""; \
        kill -2 $pid; \
    }

    if [ -e ""/opt/ums/debug.log"" ]; then
    count=9
    while [ $count -ge 1 ]
    do
    if [ -e ""/opt/ums/debug.log.$count"" ]; then
        plus=$((count+1))
        mv ""/opt/ums/debug.log.$count"" ""/opt/ums/debug.log.$plus""
    fi
        count=$((count-1))
    done
    if [ -e ""/opt/ums/debug.log"" ]; then
        mv ""/opt/ums/debug.log"" ""/opt/ums/debug.log.1""
    fi
    fi

    return 0
}
#--------------------------------------------------------------------------
do_force-stop(){
    running || { warnout ""$NAME is NOT running !""; exit 0; }   
    echo ""Stopping $DESC : $NAME""
    kill -9 $pid
    if [ -e ""/opt/ums/debug.log"" ]; then
    count=9
    while [ $count -ge 1 ]
    do
    if [ -e ""/opt/ums/debug.log.$count"" ]; then
        plus=$((count+1))
   mv ""/opt/ums/debug.log.$count"" ""/opt/ums/debug.log.$plus""
    fi
       count=$((count-1))
    done
    if [ -e ""/opt/ums/debug.log"" ]; then
   mv ""/opt/ums/debug.log"" ""/opt/ums/debug.log.1""
    fi
    fi
}
#--------------------------------------------------------------------------
do_status(){
    echo -n "" * $NAME is ""
    ( running || { echo ""NOT running ""; exit 0; } )
    ( running &amp;&amp; { echo ""running (PID -&gt; $(echo $pid))""; exit 0; } )
}
#--------------------------------------------------------------------------
case ""$1"" in

    start|stop|force-stop|status)
        do_${1}
        ;;
    restart|reload)
        do_stop
        do_start
        ;;
    force-restart|force-reload)
        do_force-stop
        do_start
        ;;
    *)
        echo ""Usage: $SCRIPTNAME {start|stop|force-stop|restart|force-restart|reload|force-reload|status}""
        exit 1
        ;;
esac
</code></pre>
"
23361,1,2014-09-18T11:46:21.137,3,8851,20386,,2014-09-18T14:33:59.357,,0,,"<p>For my project we got a pre-installed rpi with all the working libraries and an example program to set a servo in middle position.</p>

<p>The info: in a period of 20ms (50hz) we need 1,5ms to set it to middle position, 2ms to set it to the right, 1ms to set it to the left. </p>

<p>If one would use only softPwm I suppose it would look something like this to set it to the middle:</p>

<pre><code>    pinMode(0,output);
    digitalWrite(1,LOW);
    softPwmCreate(1,0,200);
    softPwmWrite(1,185);
</code></pre>

<p>But my teacher added: <code>pwmSetClock(500);</code>
And his example program (which doesn't put the servo spot on in the middle but just a little off):</p>

<pre><code>   pinMode(0,output);
   digitalWrite(1,LOW);
   pwmSetClock(500); 
   softPwmCreate(1,0,500); 
   softPwmWrite(1,14);
</code></pre>

<p>I thought that softPwm uses the 'time off duration' values, so in the example it would mean its off for 486ms? Or did the pwmSetClock(500) change the entire calculation?</p>

<p>Basicly, with these values I would not know how to calculate the values to insert in softPwmWrite() to set the servo to the left or right.
The other pwm values (like pwmRange etc) are default as far as I know.</p>

<p>My question: I want to understand how to calculate the value needed for softPwmWrite, to set the pwm to 2ms or 1ms, and how pwmSetClock() changes/affects the calculation.
I've been browsing internet for concrete info about this but I can't find any explanations which take pwmSetClock into consideration.</p>
"
23442,1,2014-09-22T12:41:34.320,1,932,20460,,2014-09-22T12:51:03.793,,0,,"<p>Is it possible to manipulate rPi B+ with ArchLinux system clock, I need to slow it down because of power management purposes.</p>
"
23617,1,2014-10-01T13:39:28.373,1,1493,20656,,2015-12-31T06:21:49.297,2015-12-31T06:21:49.297,9,,"<p>I have a python program that sends text message using a USB modem, it works fine..
But sometimes when I reboot my device the program cant find the device, so I need unplug than plug back again to work... is there someway for me to locate the usb inside the code without unpluging the device?</p>

<p>At this point:</p>

<pre><code>dongle = serial.Serial(port=""/dev/serial/by-id/usb-HUAWEI_HUAWEI_Mobile-if02-port0"",baudrate=9600,timeout=0,rtscts=0,xonxoff=0)
</code></pre>

<p>I get this error:</p>

<pre><code>Traceback (most recent call last):
  File ""lsms.py"", line 5, in &lt;module&gt;
    dongle = serial.Serial(port=""/dev/serial/by-id/usb-HUAWEI_HUAWEI_Mobile-if02-port0"",baudrate=9600,timeout=0,rtscts=0,xonxoff=0)
  File ""/usr/lib/python2.7/dist-packages/serial/serialutil.py"", line 260, in __init__
    self.open()
  File ""/usr/lib/python2.7/dist-packages/serial/serialposix.py"", line 276, in open
    raise SerialException(""could not open port %s: %s"" % (self._port, msg))
serial.serialutil.SerialException: could not open port /dev/serial/by-id/usb-HUAWEI_HUAWEI_Mobile-if02-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-HUAWEI_HUAWEI_Mobile-if02-port0'
</code></pre>
"
23762,1,2014-10-08T06:11:10.203,0,193,20527,,2014-10-08T07:49:37.403,2014-10-08T07:41:44.677,2,,"<p>I need to do some changes in my audio card driver on the raspberry pi board.</p>

<p>What I need to do is: I have to check which model board it is and then I have to program the GPIO's based on the revision number that I get.</p>

<p>Can anyone suggest me how to do?</p>
"
23777,1,2014-10-08T13:12:51.723,0,1455,20802,,2014-10-08T23:06:24.993,,0,,"<p>I'm really new to <code>Raspberry Pi</code> and <code>Arduino programming (+ I2C)</code>. Recently I start working on a project where I have to connect an Arduino and a Raspberry Pi to send and receive data from each other.</p>

<p>I'm using <code>Wire.h</code> to handle I2C from the Arduino end. Hence it has <code>Wire.onReceive()</code> and <code>Wire.onRequest()</code> methods, I can specify two methods to act as trigger methods. But I've having a trouble in implementing such kind of methods.</p>

<p>I need to implement a method (on <code>Raspberry Pi</code>), which will be invoked only when the Arduino sends some data (some kind of an interrupt). I need this to be written in <code>C/C++</code>, since I already have some other functions (using <code>OpenCV</code>) implemented.</p>

<p>Any ideas or suggestions to achieve this task ?</p>
"
23836,1,2014-10-10T20:20:50.143,3,728,20856,,2015-02-26T01:07:43.783,2014-10-10T22:33:33.507,3,,"<p>I did a bunch of work with my raspberry pi about a year ago. I got busy with other projects, but have started to work with the pi again. I somehow set my IP address to 192.168.1.123, but I don't see how this is happening. I check the configuration settings on my router, and it says 192.168.1.123 has a dhcp lease on its IP. I check /etc/network/interfaces, and it has no reference to static. If I cycle the power on the pi, each time the IP address gets assigned the same value, as if it was static. How is this possible? Could it be that my router associates the MAC address of my pi with a static IP I assigned in a previous version of /etc/network/interfaces?</p>

<p>Here is the current version of /etc/network/interfaces</p>

<p>pi@raspberrypi ~ $ cat /etc/network/interfaces
    auto lo</p>

<pre><code>iface lo inet loopback
iface eth0 inet dhcp

allow-hotplug wlan0
iface wlan0 inet manual
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet dhcp
</code></pre>

<p>Here is /etc/wpa_supplicant/wpa_supplicant.conf</p>

<p>pi@raspberrypi ~ $ sudo cat /etc/wpa_supplicant/wpa_supplicant.conf</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
ssid=""LFI92""
key_mgmt=NONE
auth_alg=SHARED
wep_key0=3f8blahblahblah
}
</code></pre>
"
23909,1,2014-10-14T16:38:44.283,1,7443,21921,,2015-10-09T11:13:34.830,,2,,"<p>What I'd like to do is to create an interrupt one a timer expires after 1 ms ... 100 ms. It doesn't even have to be very accurate.</p>

<p>Working with microcontrollers I'm used to start a timer say in main() and get an interrupt when it expires.</p>

<p>But how do I set this up with the Raspberry Pi? I'm using WiringPi but so far I haven't found how to do this.</p>

<p>I'd be happy to get some insights on this.
Thank you very much.</p>
"
23944,1,2014-10-16T15:35:26.683,0,429,21967,,2014-10-18T17:35:51.740,,1,,"<p>the topic name might seem a bit chaotic, but I'm struggling to describe in one line what I mean. I want to create a python script that plays different sounds when certain button is pressed. So far I came to this point:</p>

<pre><code>import RPi.GPIO as GPIO
import time
import pygame

GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.IN, pull_up_down=GPIO.PUD_UP)
GPIO.setup(17, GPIO.IN, pull_up_down=GPIO.PUD_UP)

pygame.mixer.init()
bang = pygame.mixer.Sound('aa.wav')

while True:
    input_state = GPIO.input(18)
    input_state2 = GPIO.input(17)
    if input_state == False:
        print('Button pressed')
        bang.play()
        time.sleep(1.5)
    if input_state2 == False:
        print('Button2 pressed')
        time.sleep(0.3)

GPIO.cleanup()
</code></pre>

<p>I used time.sleep(1.5), because this is how long the sound is. If I don't do that, when I press the button I hear the sound multiple times (and I understand that this is how it's supposed to be). All this implies that on a button press I want to hear the sound ONCE only, and then it can play again after the previous execution is finished. </p>

<p>Technically the sleep solves the problem... But only when there is one sound I want to use. Is there a chance I can in some way get a polyphonic output? Like... When I press both buttons in the same time, I get two different sounds (but each of them still plays only once)? I believe the sleep function doesn't have use in this case, but as I'm new to python, I don't know an alternative and I don't know how to look for it...</p>

<p>Thanks for any help,
S.</p>
"
23991,1,2014-10-19T19:49:11.387,1,8096,22015,,2014-10-20T10:53:44.483,2014-10-19T21:20:18.770,3,,"<p>I'm quite new to the GPIO portion of the raspberry pi, and I am wondering how to rig up something that will detect button presses. I have a model b+ (40 pin). Which pins do I wire it to? How do I even start on the software component?</p>

<p>My goal is to have the button pulse trigger the escape key.</p>

<p>I can't find much on the Internet that is at my level and works for b+, sadly. Any help is very much appreciated!</p>

<p>Edit: more things after doing more research. What's this about pull up resistors? What do they do? Do I need one, and where should I put it?</p>
"
24092,1,2014-10-24T20:06:51.470,16,13899,5538,,2019-06-04T14:10:04.190,2015-05-18T13:55:17.873,0,,"<p>I'm interested in compiling a custom kernel for the pi.  I have the source from <a href=""https://github.com/raspberrypi/linux/tree/rpi-4.0.y"">the github archive</a>, which includes a make target for a default configuration:</p>

<pre><code>make ARCH=arm bcmrpi_defconfig
</code></pre>

<p>But (as with normal linux distro kernels) this includes a lot of stuff I will never need, and some things that I'd like to change.</p>

<p>What are the options that are actually <em>required</em> to make various common pi-centric things work?</p>
"
24118,1,2014-10-26T11:24:13.283,14,17704,,user20088,2021-02-18T21:49:42.023,2020-10-08T13:43:59.577,4,,"<p>I recently downloaded archlinux, but as embarrassing as it is I simply don't think I am installing it correctly. When I do my version of the install and hook it up to the Raspberry Pi, the screen remains black.</p>
<p>I have never installed a .tar.gz to a SD, I have found this: <a href=""http://archlinuxarm.org/platforms/armv6/raspberry-pi"" rel=""nofollow noreferrer"">http://archlinuxarm.org/platforms/armv6/raspberry-pi</a></p>
<p>But I'm not on linux. Any Help/link to instructions would be Great!</p>
"
24234,1,2014-11-01T15:01:01.113,3,814,22295,,2014-11-22T18:06:09.690,2014-11-02T10:29:23.510,2,,"<p>I have made a simple C++ program that simply counts up a variable to 1,000,000,000 and then displays the time it took. I used a simple for loop to do this.</p>

<pre><code>for(long n=0;n&lt;1000000000;n++);
</code></pre>

<p>The time it took is about 22 seconds. This confuses me a little, because the pi operates at 700Mhz and the program used about 96% of the cpu. Why didn't this take about 2 seconds? Does increasing an integer by 1 take 10 clock cycles in this case? I have previously worked with AVR microprocessors and this was a reasonably good way to estimate the speed in those cases. I didn't use any optimization flags when I compiled the code, and the OS I used is Rasbian.</p>
"
24255,1,2014-11-01T02:57:56.547,10,17246,,Mark Luna,2014-11-03T10:52:53.643,,8,,"<p>I'm trying to write code to get an LED to turn on when it is off and to turn off when it is on using a tactile push button switch. I've written what I believe to be is the right code with the wiringPi library, but I can only get it to turn on when it is off and can't get it to turn off after that. On very rare instances and after many repeated presses will the LED turn off when it is on and I press the button, but I'm sure that's not how it's supposed to work.</p>

<pre><code>#include &lt;wiringPi.h&gt;
int main (void)
{
    wiringPiSetup ();
    pinMode (0, OUTPUT);
    pinMode (1, INPUT);
    digitalWrite (0, LOW);
    for(;;)
    {
        if(digitalRead (1) == LOW)
        {
            if(digitalRead (0) == HIGH)
                digitalWrite (0, LOW);
            else if(digitalRead (0) == LOW)
                digitalWrite (0, HIGH);
         }
     }
     return 0;
}
</code></pre>

<p>I have attached an image of how the circuit is wired.<img src=""https://i.stack.imgur.com/vKRvf.png"" alt=""LEDciruit""></p>
"
24265,1,2014-11-03T20:53:25.620,2,2999,10237,,2018-04-16T06:23:08.277,2018-04-16T06:23:08.277,0,,"<p>I have a network, with no internet connection, with a few computers and a raspberry pi on it. I want to setup a DNS server on the raspberry pi so that the computers on the network may use it.</p>

<p>For example, they could go to example.com and it would go through to the server (which is on a static IP address). Other websites, like google.com, would not work because of the lack of internet connection on the network.</p>

<p>I would prefer to use BIND9, but any other dns server software would work.</p>

<h3>Questions</h3>

<ul>
<li>Is there a tutorial for this?</li>
<li>How would I direct the traffic to the DNS server in the router settings?</li>
</ul>
"
24338,1,2014-11-06T18:52:11.773,6,10411,22249,,2014-11-13T14:20:48.553,,1,,"<p>My mac is connected to four raspberry pi's using a desktop switch. My mac has ip <code>192.168.1.90</code> and my RPi's <code>192.168.1.11, 192.168.1.12, 192.168.1.13, 192.168.1.14</code>. I can control them via ssh using the terminal on my mac, e.g. <code>ssh pi@192.168.1.11</code> and can have four terminal screens open to control each one of them.</p>

<p>I would like to sent the same command (to control the camera) to each of the four raspberry pi's at the same time. Instead of copy pasting the command to the four terminal windows, would it be possible to somehow control the four pi's at the same time in one terminal window?</p>
"
24356,1,2014-11-07T15:45:02.693,0,166,19107,,2014-11-07T17:57:20.697,,3,,"<p>I am building a project which uses the raspberry pi as an embedded PC. In short the device is a data logger which records data and then downloads to a memory stick. </p>

<p>Most of the programming is being carried out in C. I am currently interacting with the terminal using the system() command, such as:</p>

<pre><code>system(""mount /dev/sda1 /media/usbstick -o uid=pi,gid=pi"")
</code></pre>

<p>However, I would like to have some sort of error checking on the responses from the commands to the terminal. I can't think of a good way to do this, and a search didn't provide any useful answers. The error checking will be to simply light a warning LED if something has gone wrong. Can anyone think of a way I could do this?</p>
"
24617,1,2014-11-23T12:53:35.803,3,11524,22776,,2018-05-12T00:52:48.753,2014-11-23T13:18:32.740,3,,"<p>I am trying to get my tablet serve as a screen with VNC connection. After few searches, they pointed me to include these lines to /etc/network/interfaces:</p>

<pre><code>iface usb0 inet static
address 192.168.42.42
netmask 255.255.255.0
network 192.168.42.0
gateway 192.168.42.129
broadcast 192.168.42.255
</code></pre>

<p>Link to tutorial: <a href=""http://rwhitmire.com/2014/03/25/android-tablet-raspberry-pi/"" rel=""nofollow"">http://rwhitmire.com/2014/03/25/android-tablet-raspberry-pi/</a></p>

<p>As the tutorial seems to be for model B, and my rPimodel is B+, I would like to ask if the usb0 is still correct, and how to determine which port on my B+ rPi is usb0.</p>
"
24624,1,2014-11-24T04:10:23.013,1,1699,8223,,2014-11-24T09:22:32.863,,0,,"<p>What is the register used for setting a divisor on the PWM clock on the BCM2835? I looked at the data sheet (Raspberry-Pi-BCM2835-ARM-Peripherals) - but couldn't find this information. </p>

<p>But this information must be available somewhere, because going through the <a href=""https://github.com/WiringPi/WiringPi2-Python/blob/master/WiringPi/wiringPi/wiringPi.c"" rel=""nofollow"">wiringPi code</a>, I find:</p>

<pre><code>#define BCM2708_PERI_BASE   0x20000000
#define CLOCK_BASE  (BCM2708_PERI_BASE + 0x00101000)
#define PWMCLK_DIV  41
...
clk = (uint32_t *)mmap(0, BLOCK_SIZE, PROT_READ|PROT_WRITE, MAP_SHARED, fd, CLOCK_BASE) ;
...
*(clk + PWMCLK_DIV) = BCM_PASSWORD | (divisor &lt;&lt; 12) ;
</code></pre>

<p>I don't know where 0x00101000 and 41 are coming from. Could you point me to documentation that explains the above?</p>
"
24733,1,2014-11-29T16:47:53.213,4,3482,22911,,2017-05-11T07:19:25.840,2014-11-29T22:13:47.307,4,,"<p>I'm developing a UI which also runs on a Raspberry Pi (currently with Raspbian).</p>

<p>With the os object I can get information about the OS. But how can I be sure that I'm running on Raspbian or in general on a Raspberry Pi?</p>

<pre><code>console.log(os.platform()); // 'linux'
console.log(os.release()); //'3.12.28+'
</code></pre>
"
24752,1,2014-11-30T21:34:59.217,3,239,5538,,2015-08-02T17:37:55.270,,1,,"<p>I have a model B in a nice prefab case with a slot through it to connect a 26-wire ribbon to the GPIO header.  However, I'd like to leave a small I<sup>2</sup>C based device inside the case as well.</p>

<p>I've thought about soldering leads from the bottom of the board, but the tight fit on the case makes this awkward -- there's no simple place to bring them out to the top because, e.g., the mounting screw holes are compartmentalized underneath to add structural integrity.</p>

<p>I've thought about soldering onto the male header, but this would be hard to do without leaving the ribbon connector raised, and the clearance inside the case is quite tight.  It also commits me to attaching another plug and cramming that in loosely, or else permanently wiring the device in.  So I've thought about just wrapping the wires and putting the ribbon connector over top, but that seems prone to disaster.</p>

<p>Are there any other options here?</p>
"
24806,1,2014-12-03T10:24:42.213,3,3042,23014,,2015-02-11T19:50:16.303,2014-12-03T11:55:12.530,2,,"<p>I am wondering if it is possible to send 9 data bits framed with a start/stop bit at 1.25MBaud. </p>

<p>I am currently using PySerial to configure the UART pins on the pi. I've stumbled across a few problems. </p>

<p>Pyserial requires you to send in ascii to the port, which is 7 bits, however can be converted into a byte with a leading serial using bytes(data.encode(""ascii"") </p>

<p>Pyserial does not seem to like 1.25MBaud </p>

<p>Any advice to maximize speed and configurability of the UART pins would be appreciated! </p>
"
25979,1,2014-12-13T11:13:11.290,0,103,23078,,2014-12-13T11:28:46.493,2014-12-13T11:21:42.687,0,,"<p>I see a lot of conflicting documentation on how many <code>GND</code> pins are available on model B rev. 2.0. I have hardware revision ""000e"" and there are a lot of <code>DNC</code> (Do Not Connect) pins.</p>

<p><a href=""http://pi4j.com/pins/model-b-rev2.html"" rel=""nofollow"">http://pi4j.com/pins/model-b-rev2.html</a> says there is 1.
<a href=""http://raspberrypi.znix.com/hipidocs/topic_gpiopins.htm"" rel=""nofollow"">http://raspberrypi.znix.com/hipidocs/topic_gpiopins.htm</a> says there are 5.</p>

<p>Which one to trust?</p>

<p>Ideally I want more than one ground pin as I currently have a problem when I detect digital pulses almost simultaneously on multiple pins (I have connected four electrical meters which gives out one pulse per Watt used) - it seems there can be interference, meaning I am detecting ghost pulses. So I want to split my electrical meters in to each seperate <code>GND</code> instead of the common one on pin 6.</p>
"
26010,1,2014-12-14T15:10:11.420,0,3264,24250,,2014-12-15T09:52:23.430,2014-12-15T09:52:23.430,3,,"<p>Did someone install gnuradio tool on raspbian 2014-09-09?</p>

<p>I tried both solutions suggested <a href=""http://k1gto.blogspot.it/2012/09/compiling-gnuradio-on-raspberry-pi-raspi.html"" rel=""nofollow"">http://k1gto.blogspot.it/2012/09/compiling-gnuradio-on-raspberry-pi-raspi.html</a> but probably this link is too old.</p>

<p>Can someone help me?</p>
"
26216,1,2014-12-23T00:57:41.957,4,4813,24257,,2018-05-29T23:02:19.297,2017-02-24T07:24:01.593,0,,"<p>I want to drive a stepper motor driver hardware by its pulse and direction inputs. I need to use a ramp function in order not to make stepper motor stuck. I need to increase the <code>pulse</code> frequency smoothly up to the needed frequency. For that purpose, I use the following code: </p>

<pre><code>import pigpio
import time

try:
  pi = pigpio.pi()
  GPIO_pin=4

  pi.set_mode(GPIO_pin, pigpio.OUTPUT)
  pi = pigpio.pi() # connect to local Pi

  freq = 30000 # Hz 

  period = 1.0 / freq * 10**6

  print ""period: %f"" % period


  ramp_time = 1 # sec

  start_date = time.time()

  for i in range(1000): 

    time_diff =  time.time() - start_date 

    ramp_loc = time_diff / ramp_time
    #c = (i % 2) + 1
    if ramp_loc &gt;= 1.0: 
      break

    print ""ramp location: "", ramp_loc

    if ramp_loc &lt;= .001: 
      ramp_loc = .001

    c = ramp_loc

    square = []
    #                          ON       OFF    MICROS
    square.append(pigpio.pulse(1&lt;&lt;GPIO_pin, 0,       period/2/c))
    square.append(pigpio.pulse(0,       1&lt;&lt;GPIO_pin, period/2/c))



    #pi.wave_clear()
    pi.wave_add_generic(square)

    wid = pi.wave_create()

    if wid &gt;= 0:
      pi.wave_send_repeat(wid)

  time.sleep(5)

finally: 
  pi.wave_clear()
  pi.wave_tx_stop() # &lt;- important!
  pi.stop()
</code></pre>

<p>Unfortunately there is some kind of jitter while increasing the frequency. That makes stepper motor stuck in somewhere in the acceleration period. </p>

<h1>Edit</h1>

<p>This is the fully working C code: </p>

<pre><code>/* original code from Joan
 * modified by Cerem Cem ASLAN
 * 28.12.2014
 * License: Do whatever you want to do
 */

#define GPIO 4

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;signal.h&gt; 

#include &lt;pigpio.h&gt;

/*
gcc -o swave swave.c -lpigpio -lrt -lpthread
sudo ./swave
*/

/* generates a simple stepper ramp. */
int ramp(
   unsigned start_delay,
   unsigned final_delay,
   //unsigned step,
   unsigned count, 
   unsigned rise_time
        )
{
   unsigned step; 
   int i, j, p, npulses, np, wid=-1, each_step_width, step_pulse_count;
   rawWaveInfo_t waveInfo;
   rawCbs_t *cbp1, *cbp2;
   gpioPulse_t *pulses;

   step = (start_delay - final_delay) / count; 

   each_step_width = (rise_time * 1000) / count ; 
   printf(""each step width: %d\n microseconds"", each_step_width); 

   //npulses = (((start_delay-final_delay) / step) + 1 ) * count * 2;

   npulses = 10; 
    for (i=start_delay; i&gt;=final_delay; i-=step)
    {
        step_pulse_count = each_step_width / i; 
        for (j=0; j&lt;step_pulse_count; j++)
        {
          npulses += 2; 
        }
    }

    printf(""number of pulses: %d"", npulses); 


    //npulses += 10;


   pulses = (gpioPulse_t*) malloc(npulses * sizeof(gpioPulse_t));


   if (pulses)
   {
      p = 0;


      for (i=start_delay; i&gt;=final_delay; i-=step)
      {
         step_pulse_count = each_step_width / i; 
         for (j=0; j&lt;step_pulse_count; j++)
         {
            pulses[p].gpioOn = (1&lt;&lt;GPIO);
            pulses[p].gpioOff = 0;
            pulses[p].usDelay = i/2;
            p++;

            pulses[p].gpioOn = 0;
            pulses[p].gpioOff = (1&lt;&lt;GPIO);
            pulses[p].usDelay = i/2;
            p++;
         }
      }

       /* dummy last pulse, will never be executed */

      pulses[p].gpioOn = (1&lt;&lt;GPIO);
      pulses[p].gpioOff = 0;
      pulses[p].usDelay = i;
      p++;

      np = gpioWaveAddGeneric(p, pulses);

      wid = gpioWaveCreate();

      if (wid &gt;= 0)
      {
         waveInfo = rawWaveInfo(wid);
         /*
         -7 gpio off         next-&gt; -6
         -6 delay final step next-&gt; -5
         -5 gpio on          next-&gt; -4
         -4 delay final step next-&gt; -3
         -3 gpio off         next-&gt; -2
         -2 delay final step next-&gt; -1
         -1 dummy gpio on    next-&gt;  0
          0 dummy delay      next-&gt; first CB
         */
         /* patch -2 to point back to -5 */
         cbp1 = rawWaveCBAdr(waveInfo.topCB-2);
         cbp2 = rawWaveCBAdr(waveInfo.topCB-6);
         cbp1-&gt;next = cbp2-&gt;next;
      }
      free(pulses);
   }
   return wid;
}

#define START_DELAY 100 //microseconds
#define FINAL_DELAY 25   // microseconds
#define STEP_COUNT 50
#define RISE_TIME 100 // milliseconds

void start_sig_handler(int signo)
{
  while (signo == SIGCONT)
  {
    printf(""received start signal\n"");
    int arg, pos = 0, np, wid, steps;

    gpioWaveTxStop();
    gpioWaveClear(); 

    wid = ramp(START_DELAY, FINAL_DELAY, STEP_COUNT, RISE_TIME);

    if (wid &gt;= 0)
    {
        gpioWaveTxSend(wid, PI_WAVE_MODE_ONE_SHOT);
    }
    break; 
  }
}


void stop_sig_handler(int signo)
{
  if (signo == SIGUSR2)
  {  
    printf(""received stop signal\n"");
    gpioWaveTxStop();
    gpioWaveClear(); 
  }

}


uint32_t HB_TICK; 

void heartbeat_sig_handler(int signo)
{
  if (signo == SIGUSR1)
  {  
    //printf(""received heartbeat\n"");
    HB_TICK = gpioTick(); 
  }
}

int pigpio_watchdog()
{
  static uint32_t timeout = 500000; // microseconds
  if (gpioTick() &gt; HB_TICK + timeout)
  {
    printf(""watchdog timed out. HB_TICK: %d, gpioTick: %d ||| "", HB_TICK, gpioTick()); 
    return 1;  
  }
  return 0; 
}


int main(int argc, char *argv[])
{

  printf(""starting swave...""); 
  if (gpioInitialise() &lt; 0) 
  {
    printf(""can not initialize gpio library""); 
    return 1;
  }
  else
  {
    printf(""started swave"");

  }

  gpioSetSignalFunc(SIGCONT, start_sig_handler); 
  gpioSetSignalFunc(SIGUSR1, heartbeat_sig_handler); 
  gpioSetSignalFunc(SIGUSR2, stop_sig_handler); 

  // prevent shutdowns by unimportant signals
  gpioSetSignalFunc(28, heartbeat_sig_handler); 

  gpioSetMode(GPIO, PI_OUTPUT);

  printf(""getting into loop..."");
  HB_TICK = gpioTick();
  while(1)
  {
    //printf(""looping..."");
    if (pigpio_watchdog() &gt; 0)
    {
      // stop the output in order not to 
      // physically damage anything without intention
      gpioWaveTxStop();
      gpioWaveClear(); 
      //gpioTerminate();
      //break; 
    }
    time_sleep(0.01); 
  }

}
</code></pre>

<h2>Usage</h2>

<p>In order to use the smooth square wave, first start <code>swave</code> and let it run as a separate process: </p>

<pre><code>$ sudo ./swave
</code></pre>

<p>Start sending heartbeats to <code>swave</code>, else it will clear its output in 0.5 secs:</p>

<pre><code>$ while [[ true ]]; do sudo kill -SIGUSR1 $(pidof swave); sleep .01; done
</code></pre>

<p>To start the square wave, send <code>SIGCONT</code> signal to <code>swave</code>: </p>

<pre><code>$ sudo kill -SIGCONT $(pidof swave)
</code></pre>

<p>To stop the wave, send <code>SIGUSR2</code> signal to <code>swave</code>: </p>

<pre><code>$ sudo kill -SIGUSR2 $(pidof swave)
</code></pre>
"
26222,1,2014-12-23T08:32:59.030,1,1787,24439,,2015-10-07T23:10:24.330,,0,,"<p>I want to configure My Raspberry Pi the same way.</p>

<ol>
<li>I have a USB Modem (D-LINK 3G MiFi) which connect to Internet via 3G
and shows a eth1 in Raspberry Pi and works perfectly to provide
internet</li>
<li>I want to connect my LAN device (old pc) to eth0</li>
<li>I want to connect my WiFi devices to wlan0</li>
<li>I am able to connect my eth0 device to internet and able to
configure wlan0 as HOSTAPD mode.</li>
</ol>

<p>I want to share same Netwrok to eth0 and wlan0 I want to access internet for devices connected on eth0 and wlan0</p>

<p>How shall i configure wlan0 as it shall be on same network to communicate between devices and to internet.</p>
"
26526,1,2015-01-04T21:47:32.533,19,19639,24798,,2018-11-05T21:42:26.030,2018-11-05T21:42:26.030,2,,"<p>Essentially <a href=""https://raspberrypi.stackexchange.com/questions/341/whats-the-current-draw-and-supply-voltage-tolerance"">""What's the current draw and supply voltage tolerance?""</a> but for newer models.</p>
"
26645,1,2015-01-08T18:51:03.247,1,220,10832,,2015-05-10T13:18:37.707,,1,,"<p>I'm configuring a new Rpi A+ with for headless processing. I'm currently running Pidora 2014.  I have already minimized the GPU memory to 16 and switched to run level 3.  After boot, I'm left with about 44Mb of RAM for my application.</p>

<p>What else can I do to maximize the RAM left for my application after all the services are started?</p>
"
26695,1,2015-01-10T18:46:31.333,1,850,23109,,2018-05-21T12:23:57.693,2015-01-10T23:51:42.760,5,,"<p>I've got 2 motors, <a href=""https://www.sparkfun.com/products/12629"" rel=""nofollow"">2 encoders</a>, a motor controller, and my B+ wired up. My B+ is running Arch with kernel: <code>Linux drd 3.12.35-1-ARCH #1 PREEMPT Tue Dec 23 07:14:51 MST 2014 armv6l GNU/Linux</code>.</p>

<p>The 2 encoders each are an 8-pole magnet and hall effect sensor. I've got the face of each sensor 1-2mm away from the edge of the magnetic disc.</p>

<p>I am having issues using the <a href=""http://www.airspayce.com/mikem/bcm2835/index.html"" rel=""nofollow"">BCM2835 library</a> with event detection (falling edge, rising edge, level, or asynchronous falling/rising), like <code>bcm2835_gpio_ren(pin)</code>. With simple pin polling using <code>bcm2835_gpio_lev(pin)</code>, counting the encoder ticks works just fine.</p>

<p>When trying to use event detection, I get very little in the way of events. Here's some of the code:</p>

<pre><code>//poll encoder, returning 1 if the state has switched, 0 otherwise
uint8_t encoderTick(uint8_t pin, uint8_t last)
{
    //return (bcm2835_gpio_lev(pin) != last);
    if (bcm2835_gpio_eds(pin))
    {
        bcm2835_gpio_set_eds(pin);
        return 1;
    }

    return 0;
}
</code></pre>

<p>It's currently very similar to the event example from the library documentation. I would ideally like to switch level polling with rising and/or falling edge detection (if possible to do both), but neither one seems to work. With level polling, I get the 8 events per rotation, but it is highly erratic at certain main loop and motor speeds (it depends too much on when I do the actual polling). With event detection, it seems I only get 0-3 events per 10 rotations of the motor. What's the deal?</p>

<p>In summary:</p>

<ul>
<li>Why is event detection not working?</li>
<li>Can I do both rising and falling edge detection at the same time?</li>
</ul>

<p>I found <a href=""http://www.raspberrypi.org/forums/viewtopic.php?f=33&amp;t=24066"" rel=""nofollow"">this thread</a> which describes a sort of similar situation, but it was no help as I am running a newer kernel, and my library code does not freeze.</p>
"
26714,1,2015-01-10T23:59:50.993,13,22818,25986,,2019-09-07T15:03:43.600,2015-12-31T06:57:31.423,0,,"<p>Given that I have an SD card with sufficient capacity, is it theoretically possible to record a 24 hour video with a camera module or is the recording duration limited? Has anyone tried this?</p>

<p>Do you think 64GB be enough on a 360p recording quality?</p>
"
26985,1,2015-01-20T21:01:32.480,2,1767,13350,,2015-01-25T19:30:59.530,2015-01-20T21:19:55.033,4,,"<p>I made a board that attached a 1602 LCD and three buttons to the GPIO pins of the Pi. Now I need to write a software to go with it.</p>

<p>The software runs under Raspbian.</p>

<p>The software need to interrupt on the three pins, debounce it, and update the screen accordingly. How to create this event loop without hogging up the processor?</p>
"
27358,1,2015-02-05T03:30:57.147,2,2141,26680,,2015-02-05T16:50:39.797,,0,,"<p>I'm running a program on one of my PIs that has a tendency to error out. I'm still trying to figure out the error but would like a cron entry (or maybe a python script, or most likely both) that will check on an hourly basis to see if the particular job is running, if so, do nothing, if not, then restart it. It's been YEARS since I used *nix and I'm not quite sure where to start.</p>

<p>Thanks for any assistance</p>
"
27550,1,2015-02-11T11:28:47.130,1,3647,20527,,2015-02-16T17:34:08.627,,0,,"<p>I am looking for how to use a gpio as an interrupt using device tree dts file.</p>

<p>previously I did that by using the following code in my dts file</p>

<pre><code>                interrupts = &lt;3 30&gt;;
                #interrupt-cells = &lt;2&gt;;
                interrupt-parent = &lt;&amp;intc&gt;;
</code></pre>

<p>where intc is</p>

<pre><code>                intc: interrupt-controller {
                compatible = ""brcm,bcm2708-armctrl-ic"";
                reg = &lt;0x7e00b200 0x200&gt;;
                interrupt-controller;
                #interrupt-cells = &lt;2&gt;;
                };
</code></pre>

<p>But now in 3.18.5 everything changed in the kernel of the rpi, now we need to use the gpio to do the same that we did earlier.</p>

<p>But I stucked in middle of it.</p>

<p>The gpio code is</p>

<pre><code>        gpio: gpio {
        compatible = ""brcm,bcm2835-gpio"";
        reg = &lt;0x7e200000 0xb4&gt;;
        interrupts = &lt;2 17&gt;, &lt;2 18&gt;;

        gpio-controller;
        #gpio-cells = &lt;2&gt;;

        interrupt-controller;
        #interrupt-cells = &lt;2&gt;;
        };
</code></pre>

<p>I need to use this gpio node as my interrupt controller.</p>

<p>How can I do that?
How to specify which gpio is to be used as the interrupt?
Any suggestions are welcome</p>
"
27589,1,2015-02-12T13:53:56.853,1,593,26934,,2015-03-29T05:16:05.330,2015-03-29T05:16:05.330,0,,"<p>Controlling the piTFT backlight requires using some basic shell commands, but they don't explain how to do this in C code, and I'm not sure exactly what these commands do (beyond the obvious sudo sh echo to a file).</p>

<p><a href=""https://learn.adafruit.com/adafruit-pitft-28-inch-resistive-touchscreen-display-raspberry-pi/extras"" rel=""nofollow"">https://learn.adafruit.com/adafruit-pitft-28-inch-resistive-touchscreen-display-raspberry-pi/extras</a></p>

<pre><code>sudo sh -c ""echo 252 &gt; /sys/class/gpio/export""
sudo sh -c ""echo 'out' &gt; /sys/class/gpio/gpio252/direction""
sudo sh -c ""echo '1' &gt; /sys/class/gpio/gpio252/value"" (to turn it on, 0 for off)
</code></pre>

<p>If I understand this correctly, these are not actually GPIO ports on the PI, these commands somehow connect to an IO port on the touchscreen, that is connected over SPI.</p>

<p>I was wondering if somebody could either provide the equivalent in C or (better) explain what is going on here so that I could convert it to C.  What happens in the system when those files are created/modified?  How does the system know that it has to talk to a SPI device and not just enable a Pi GPIO port?</p>

<p>I guess ultimately, I could just use file write commands, but is that really the ""right"" way to do this or should I be calling some SPI API?</p>
"
27676,1,2015-02-14T14:18:22.367,11,72859,26730,,2020-03-11T09:50:39.977,,1,,"<p>I have a Raspberry Pi 2 and have been following the post on <a href=""http://www.raspberrypi.org/documentation/remote-access/vnc/"">Raspberrypi.org</a> but Tight VNC Server does not start on reboot. There doesn't seem to be any error.</p>

<p>How do I get TightVncServer to start on Pi Reboot?</p>
"
27831,1,2015-02-18T12:43:15.237,3,3354,27150,,2015-02-18T14:40:00.657,,0,,"<p>We are evaluating a scenario where we want to run raspbian os on minimal possible memory. I am fine with custom building it. Can someone throw some light on this?</p>
"
27835,1,2015-02-18T13:52:24.127,3,248,27159,,2020-04-22T12:39:17.747,2020-04-22T12:39:17.747,1,,"<p>I am about to change my garden automation project and was wondering if anyone had experience using this <a href=""https://rayshobby.net/wordpress/"" rel=""nofollow noreferrer"">rayshobby.net</a> - <a href=""https://opensprinkler.com/product/opensprinkler/"" rel=""nofollow noreferrer"">OpenSprinkler</a>? Or does anyone have other good approaches for an garden automation system indoors with a raspberry pi? </p>
"
27857,1,2015-02-19T09:07:15.697,0,7092,27191,,2017-10-31T16:18:03.487,2017-10-31T16:18:03.487,9,,"<p>I want to update my Raspberry Pi, but I was not successful. This is the message when I try to update my device:</p>

<pre><code>&gt; pi@raspberrypi ~ $ sudo apt-get update
     Errhttp://mirrordirector.raspbian.org wheezy Release.gpg   Could not
    &gt; connect to 111.111.11.11:8080 (111.111.11.11), connection timed out
    &gt; Err http://archive.raspberrypi.org wheezy Release.gpg   Could not
    &gt; connect to 111.111.11.11:8080 (111.111.11.11), connection timed out
    &gt; Err http://raspberrypi.collabora.com wheezy Release.gpg   Could not
    &gt; connect to 111.111.11.11:8080 (111.111.11.11), connection timed out
    &gt; Err http://repository.wolfram.com stable Release.gpg   Could not
    &gt; connect to 111.111.11.11:8080 (111.111.11.11), connection timed out
    &gt; Reading package lists... Done W: Failed to fetch
    &gt; http://mirrordirector.raspbian.org/raspbian/dists/wheezy/Release.gpg 
    &gt; Could not connect to 111.111.11.11:8080 (111.111.11.11), connection
    &gt; timed out
    &gt; 
    &gt; W: Failed to fetch
    &gt; http://raspberrypi.collabora.com/dists/wheezy/Release.gpg  Could not
    &gt; connect to 111.111.11.11:8080 (111.111.11.11), connection timed out
    &gt; 
    &gt; W: Failed to fetch
    &gt; http://archive.raspberrypi.org/debian/dists/wheezy/Release.gpg  Could
    &gt; not connect to 111.111.11.11:8080 (111.111.11.11), connection timed
    &gt; out
    &gt; 
    &gt; W: Failed to fetch
    &gt; http://repository.wolfram.com/raspbian/dists/stable/Release.gpg  Could
    &gt; not connect to 111.111.11.11:8080 (111.111.11.11), connection timed
    &gt; out
    &gt; 
    &gt; W: Some index files failed to download. They have been ignored, or old
    &gt; ones used instead
</code></pre>

<p>How can I solve this?</p>
"
27883,1,2015-02-19T20:18:58.627,4,1750,27216,,2015-12-25T14:54:25.857,2015-02-20T07:23:46.533,9,,"<p>I have a <code>1080p @ 60fps mp4</code> video saved in a external USB HDD. I've tried playing it on Raspbian in my Pi 2 (the new one, 1 GB RAM, 1 GHz) with Omxplayer, but the audio and video are out of sync. The audio plays at least a second ahead of the video, so it's pretty noticeable. Videos at <code>30 fps</code> seem to play fine and are correctly synced. I've tried memory splitting with up to <code>256 MB</code> for GPU, but the problem persists. I've seen other questions regarding this issue but no one seemed to end up being resolved. </p>
"
28030,1,2015-02-24T03:41:24.980,2,9500,27374,,2016-05-17T17:30:52.827,2016-05-17T17:30:52.827,3,,"<p>I have a relay connected to the RPi. Pin 12 for output on/off and grounded with pin 6. Currently I have two python scripts one for turning pin 12 on and another to turn it off. My goal is to run a single script to toggle pin pin 12 on and off.</p>

<p>Right now I have two scripts to do this.</p>

<p>on.py</p>

<pre><code>import RPi.GPIO as io

io.setmode(io.BOARD)
io.setup(12,io.OUT)
io.output(12,1)
</code></pre>

<p>off.py</p>

<pre><code>import RPi.GPIO as io

io.setmode(io.BOARD)
io.setup(12,io.OUT)
io.output(12,0)
</code></pre>
"
28042,1,2015-02-24T13:11:07.097,4,724,27382,,2016-12-30T12:44:57.063,2016-12-30T12:44:57.063,2,,"<p>Long story short. I moved, put my home server is a closet and started worrying about temp and humidity, saw a guide online to make a network temperature and humidity monitor from a Raspberry Pi and an AM2302 sensor, bought the Raspberry Pi and AM2302 sensor, guide was not working part way through and wanted to be setup logged in as root, gave up and decided to make my own solution.</p>

<p><code>startup.sh</code> - I do not yet know how I am going to have this start. Where everything is working I want it to log once a day to internal memory.</p>

<pre><code>#!/bin/bash
sleep 10
sudo mkdir -p /ram
sudo mount -t tmpfs -o size=64m tmpfs /ram
sudo chown pi /ram

cp /scripts/dblogger.py /ram
cp /scripts/setupdb.py /ram
cd /ram

python setupdb.py

croncmd=""sudo /ram/dblogger.py 2302 4 &gt;&gt; /scripts/job.log 2&gt;&amp;1""
cronjob=""* * * * * $croncmd""
( crontab -l | grep -v ""$croncmd"" ; echo ""$cronjob"" ) | crontab -
</code></pre>

<p>Python <code>setupdb.py</code></p>

<pre><code>#!/usr/bin/python
import os
import sqlite3
os.chdir(""/ram"")
conn = sqlite3.connect('climate.db')
c = conn.cursor()
c.execute('CREATE TABLE climatelog ( Date text, Temperature text, Humidity text)')
conn.commit()
conn.close()
</code></pre>

<p><code>dblogger.py</code> - This query's the sensor, logs it to the database, query's the database, and generates the output graph. Works when ran alone. Requires sudo to work. I hope to set thresholds so email me in the future.</p>

<pre><code>#!/usr/bin/python
import sys
import os
import Adafruit_DHT
import sqlite3
import time
import datetime
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.dates as mdates

# Parse command line parameters.
sensor_args = { '11': Adafruit_DHT.DHT11,
        '22': Adafruit_DHT.DHT22,
        '2302': Adafruit_DHT.AM2302 }

if len(sys.argv) == 3 and sys.argv[1] in sensor_args:
    sensor = sensor_args[sys.argv[1]]
    pin = sys.argv[2]
else:
    print 'usage: sudo ./Adafruit_DHT.py [11|22|2302] GPIOpin#'
    print 'example: sudo ./Adafruit_DHT.py 2302 4 - Read from an AM2302 connected to GPIO #4'
    sys.exit(1)

os.chdir(""/ram"")
humidity, temperature = Adafruit_DHT.read_retry(sensor, pin)
if humidity is not None and temperature is not None:
    print 'Temp={0:0.1f}*F  Humidity={1:0.1f}%'.format(round((temperature*9/5+32), 2), humidity)
    now = datetime.datetime.now()
    con = sqlite3.connect('climate.db')
    c = con.cursor()
    c.execute('INSERT INTO climatelog VALUES (?,?,?)', (now.strftime(""%Y-%m-%d %H:%M""), round((temperature*9/5+32), 2), round(humidity, 2)))
    con.commit()
    sql = ""SELECT * FROM climatelog""
    # WHERE Date &gt;= strftime('%s','now')-(60*60*24)
    grapharray = []
    for row in c.execute(sql):
        startinginfo = str(row).replace('(','').replace(')','').replace('u\'','').replace(""'"","""")
        splitinfo = startinginfo.split(',')
        grapharrayappend = splitinfo[0]+','+splitinfo[1]+','+splitinfo[2]
        grapharray.append(grapharrayappend)
    datestamp, temp, humidity = np.loadtxt(grapharray,delimiter=',', unpack=True,converters={ 0: mdates.strpdate2num(""%Y-%m-%d %H:%M"")})
    fig = plt.figure(figsize=(16, 4))
    rect = fig.patch
    axl = fig.add_subplot(1,1,1, axisbg='white')
    plt.plot_date(x=datestamp, y=temp, fmt='r-', label = 'temp', linewidth=2)
    plt.plot_date(x=datestamp, y=humidity, fmt='b-', label = 'humidity', linewidth=2)
    #plt.show()
    plt.savefig('24.png')
    con.close()
else:
    print 'Failed to get reading. Try again!'
</code></pre>

<p>Ran alone everything works. Ran together and everything works except for dblogger.py. I added >> /scripts/job.log 2>&amp;1 to the command calling dblogger.py to try and troubleshoot it.</p>

<p>job.log - Every minute it logs this error. With Temp and humidity changing slightly of course.</p>

<pre><code>Temp=72.0*F  Humidity=20.8%
Traceback (most recent call last):
  File ""/ram/dblogger.py"", line 53, in &lt;module&gt;
    fig = plt.figure(figsize=(16, 4))
  File ""/usr/lib/pymodules/python2.7/matplotlib/pyplot.py"", line 343, in figure
    **kwargs)
  File ""/usr/lib/pymodules/python2.7/matplotlib/backends/backend_tkagg.py"", line 80, in new_figure_manager
    window = Tk.Tk()
  File ""/usr/lib/python2.7/lib-tk/Tkinter.py"", line 1712, in __init__
    self.tk = _tkinter.create(screenName, baseName, className, interactive, wantobjects, useTk, sync, use)
_tkinter.TclError: no display name and no $DISPLAY environment variable
</code></pre>

<p>I have worked on this till I went cross eyed. Last Friday I had 0 Python experience and my bash shell scripting experience was from a 2 week class on outdated Solaris two and a half years ago. I was going to follow a guide but it was not working at all. I have no idea what is wrong or how to start searching for the issue. I feel like I'm 98% to a working solution. Is there any bash/python/matplotlib users that can identify my issue?</p>

<p>If this is off topic please close the question. I am posting in a hurry due to needing to leave for work. Any help is appreciated.</p>
"
28125,1,2015-02-27T07:35:45.337,1,1572,27406,,2015-02-27T08:33:22.583,2015-02-27T07:42:30.760,7,,"<p>I am the RPi B+ user. Feeling confused about the GPIO. GPIO isn't working. I tried checking it with multimeter by connecting the pin 21 to the gnd, not work. And then i tried the 5 v and 3.3 v, it works. Any idea about this problem. I am working a project using RPi. So i need to solve it immidiately. I am a newbie abou RPi.</p>

<blockquote>
  <p>import RPi.GPIO as GPIO<br>
  from time import sleep<br>
  GPIO.setmode(GPIO.BCM)<br>
  GPIO.setup(21, GPIO.OUT)<br>
  GPIO.output(21, 1)<br>
  GPIO.cleanup()</p>
</blockquote>

<p>Anyway GPIO 21 in the seventh left gpio?? Need Help!! Thanks</p>
"
28139,1,2015-02-27T17:07:20.570,1,4783,14308,,2015-12-14T00:07:55.380,,11,,"<p>I'm trying to install npm's <a href=""https://www.npmjs.com/package/onoff"" rel=""nofollow"">package onOff</a> on my pi.</p>

<p>I'm running this command:</p>

<pre><code>sudo npm install --unsafe-perm --verbose -g  onoff
</code></pre>

<p>And all I get is an error and rollback.
do you know why?</p>

<pre><code>gyp verb validating download checksum for node-v0.12.0.tar.gz (e24fc55d586d197ad1cdf052abedd6e7a1d4d620d75ee6d9276d761f77080fb8 == 9700e23af4e9b3643af48cef5f2ad20a1331ff531a12154eef2bfb0bb1682e32)
gyp WARN install got an error, rolling back install
gyp verb command remove [ '0.12.0' ]
gyp verb remove using node-gyp dir: /root/.node-gyp
gyp verb remove removing target version: 0.12.0
gyp verb remove removing development files for version: 0.12.0
gyp ERR! configure error
gyp ERR! stack Error: node-v0.12.0.tar.gz local checksum e24fc55d586d197ad1cdf052abedd6e7a1d4d620d75ee6d9276d761f77080fb8 not match remote 9700e23af4e9b3643af48cef5f2ad20a1331ff531a12154eef2bfb0bb1682e32
gyp ERR! stack     at deref (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/install.js:299:20)
gyp ERR! stack     at IncomingMessage.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/install.js:340:13)
gyp ERR! stack     at IncomingMessage.emit (events.js:129:20)
gyp ERR! stack     at _stream_readable.js:908:16
gyp ERR! stack     at process._tickCallback (node.js:355:11)
gyp ERR! System Linux 3.12.26-rpi-aufs
gyp ERR! command ""node"" ""/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild""
gyp ERR! cwd /usr/local/lib/node_modules/onoff/node_modules/epoll
gyp ERR! node -v v0.12.0
gyp ERR! node-gyp -v v1.0.2
gyp ERR! not ok
npm verb unsafe-perm in lifecycle true
npm info epoll@0.1.12 Failed to exec install script
npm verb unlock done using /root/.npm/_locks/epoll-4c03fef6dbce0644.lock for /usr/local/lib/node_modules/onoff/node_modules/epoll
npm verb about to build /usr/local/lib/node_modules/onoff
npm verb unlock done using /root/.npm/_locks/onoff-f2713974fa0ced28.lock for /usr/local/lib/node_modules/onoff
npm verb stack Error: epoll@0.1.12 install: `node-gyp rebuild`
npm verb stack Exit status 1
npm verb stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/lib/utils/lifecycle.js:213:16)
npm verb stack     at EventEmitter.emit (events.js:110:17)
npm verb stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/lib/utils/spawn.js:14:12)
npm verb stack     at ChildProcess.emit (events.js:110:17)
npm verb stack     at maybeClose (child_process.js:1008:16)
npm verb stack     at Process.ChildProcess._handle.onexit (child_process.js:1080:5)
npm verb pkgid epoll@0.1.12
npm verb cwd /usr/share/adafruit/webide/repositories/my-pi-projects/Adafruit_DHT_Driver_Python/build/lib.linux-armv6l-2.7/PushNotifications
npm ERR! Linux 3.12.26-rpi-aufs
npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install"" ""--unsafe-perm"" ""--verbose"" ""-g"" ""onoff""
npm ERR! node v0.12.0
npm ERR! npm  v2.5.1
npm ERR! code ELIFECYCLE

npm ERR! epoll@0.1.12 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the epoll@0.1.12 install script 'node-gyp rebuild'.
npm ERR! This is most likely a problem with the epoll package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-gyp rebuild
npm ERR! You can get their info via:
npm ERR!     npm owner ls epoll
npm ERR! There is likely additional logging output above.
npm verb exit [ 1, true ]
npm verb unbuild lib/node_modules/onoff/node_modules/epoll
npm info preuninstall epoll@0.1.12
npm info uninstall epoll@0.1.12
npm verb unbuild rmStuff epoll@0.1.12 from /usr/local/lib/node_modules
npm verb unbuild rmStuff in /usr/local/lib/node_modules/onoff/node_modules
npm info postuninstall epoll@0.1.12
npm verb gentlyRm vacuuming /usr/local/lib/node_modules/onoff/node_modules/epoll
npm verb unbuild lib/node_modules/onoff
npm info preuninstall onoff@1.0.2
npm info uninstall onoff@1.0.2
npm verb unbuild rmStuff onoff@1.0.2 from /usr/local/lib/node_modules
npm info postuninstall onoff@1.0.2
npm verb gentlyRm vacuuming /usr/local/lib/node_modules/onoff

npm ERR! Please include the following file with any support request:
npm ERR!     /usr/share/adafruit/webide/repositories/my-pi-projects/Adafruit_DHT_Driver_Python/build/lib.linux-armv6l-2.7/PushNotifications/npm-debug.log
</code></pre>
"
28158,1,2015-02-28T12:48:51.980,4,3194,27514,,2015-10-08T02:07:14.183,2015-03-01T06:58:42.500,2,,"<p>To configure audio of soundcard I did the following settings:</p>

<pre><code>sudo nano /etc/modprobe.d/alsa-base.conf
</code></pre>

<p>I commented options <code>snd-usb-audio index=-2</code></p>

<p>and added options <code>snd_bcm2835 index=1</code></p>

<p>so speaker was properly working with usb sound card</p>

<p>now for microphone configuration I went to</p>

<pre><code>sudo nano /etc/asound.conf
</code></pre>

<p>and did the following changes:</p>

<pre><code>pcm.!default {
    type plug
    slave {
        pcm ""hw:1,0""
    }
}

ctl.!default {
    type hw
    card 1
}
</code></pre>

<p>using arecord only noise is recorded and also i am not able to play files through speakers.</p>

<p>I am using Storite 7.1 Channel USB External Sound Card Audio Adapter With Mic and r-pi B+ model</p>
"
28176,1,2015-02-28T22:05:28.027,10,39906,27061,,2020-02-04T21:38:59.863,2015-02-28T23:13:43.280,3,,"<p>So I'm trying to add SSL to my web server running on my pi B+ (using cherrypy)</p>

<p>I made sure that OpenSSL was installed with:</p>

<pre><code>sudo apt-get install openssl
</code></pre>

<p>Then I installed pyOpenSSL with:</p>

<pre><code>sudo apt-get install python-openssl
</code></pre>

<p>In both cases it says:</p>

<pre><code>openssl is already the newest version.
python-openssl is already the newest version.
</code></pre>

<p>Because I've run the command more than once. So this seems fine.</p>

<p>By then in python when I do:</p>

<pre><code>import OpenSSL
</code></pre>

<p>I get errors. Specifically:</p>

<pre><code>Python 2.7.3 (default, Mar 18 2014, 05:13:23) 
[GCC 4.6.3] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
&gt;&gt;&gt; import OpenSSL
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
  File ""/usr/local/lib/python2.7/dist-packages/OpenSSL/__init__.py"", line 8, in &lt;module&gt;
    from OpenSSL import rand, crypto, SSL 
  File ""/usr/local/lib/python2.7/dist-packages/OpenSSL/rand.py"", line 11, in &lt;module&gt;
    from OpenSSL._util import (
  File ""/usr/local/lib/python2.7/dist-packages/OpenSSL/_util.py"", line 3, in &lt;module&gt;
    from cryptography.hazmat.bindings.openssl.binding import Binding
ImportError: No module named cryptography.hazmat.bindings.openssl.binding
</code></pre>

<p>Do I have a compatibility issue here? Are the two latest versions incompatible with each other? Anyone seen this before?</p>

<p>The version info I have:</p>

<pre><code>% openssl version
OpenSSL 1.0.1e 11 Feb 2013
</code></pre>

<p>And for python-openssl I have:</p>

<pre><code>% dpkg -s python-openssl
Package: python-openssl
Status: install ok installed
Priority: optional
Section: python
Installed-Size: 532
Maintainer: Debian Python Modules Team &lt;python-modules-team@lists.alioth.debian.org&gt;
Architecture: armhf
Source: pyopenssl
Version: 0.13-2+rpi1+deb7u1
Depends: python (&lt;&lt; 2.8), python (&gt;= 2.6), python-support (&gt;= 0.90.0), libc6 (&gt;= 2.13-28), libssl1.0.0 (&gt;= 1.0.0)
Suggests: python-openssl-doc, python-openssl-dbg
Description: Python 2 wrapper around the OpenSSL library
High-level wrapper around a subset of the OpenSSL library, includes
 .
   * SSL.Connection objects, wrapping the methods of Python's portable
     sockets
   * Callbacks written in Python
   * Extensive error-handling mechanism, mirroring OpenSSL's error
     codes
 .
A lot of the object methods do nothing more than calling a
corresponding function in the OpenSSL library.
Homepage: http://launchpad.net/pyopenssl
</code></pre>

<p>When using the -v flag on python I get:</p>

<pre><code>&gt;&gt;&gt; import OpenSSL
import OpenSSL # directory /usr/local/lib/python2.7/dist-packages/OpenSSL
# /usr/local/lib/python2.7/dist-packages/OpenSSL/__init__.pyc matches /usr/local/lib/python2.7/dist-packages/OpenSSL/__init__.py
import OpenSSL # precompiled from /usr/local/lib/python2.7/dist-packages/OpenSSL/__init__.pyc
# /usr/local/lib/python2.7/dist-packages/OpenSSL/rand.pyc matches /usr/local/lib/python2.7/dist-packages/OpenSSL/rand.py
import OpenSSL.rand # precompiled from /usr/local/lib/python2.7/dist-packages/OpenSSL/rand.pyc
# /usr/lib/python2.7/functools.pyc matches /usr/lib/python2.7/functools.py
import functools # precompiled from /usr/lib/python2.7/functools.pyc
import _functools # builtin
# /usr/local/lib/python2.7/dist-packages/six.pyc matches /usr/local/lib/python2.7/dist-packages/six.py
import six # precompiled from /usr/local/lib/python2.7/dist-packages/six.pyc
# /usr/lib/python2.7/__future__.pyc matches /usr/lib/python2.7/__future__.py
import __future__ # precompiled from /usr/lib/python2.7/__future__.pyc
import itertools # builtin
import operator # builtin
# /usr/lib/python2.7/StringIO.pyc matches /usr/lib/python2.7/StringIO.py
import StringIO # precompiled from /usr/lib/python2.7/StringIO.pyc
# /usr/local/lib/python2.7/dist-packages/OpenSSL/_util.pyc matches /usr/local/lib/python2.7/dist-packages/OpenSSL/_util.py
import OpenSSL._util # precompiled from /usr/local/lib/python2.7/dist-packages/OpenSSL/_util.pyc
Traceback (most recent call last):
  File ""&lt;stdin&gt;"", line 1, in &lt;module&gt;
  File ""/usr/local/lib/python2.7/dist-packages/OpenSSL/__init__.py"", line 8, in &lt;module&gt;
from OpenSSL import rand, crypto, SSL
  File ""/usr/local/lib/python2.7/dist-packages/OpenSSL/rand.py"", line 11, in &lt;module&gt;
from OpenSSL._util import (
  File ""/usr/local/lib/python2.7/dist-packages/OpenSSL/_util.py"", line 3, in &lt;module&gt;
from cryptography.hazmat.bindings.openssl.binding import Binding
ImportError: No module named cryptography.hazmat.bindings.openssl.binding
</code></pre>
"
28340,1,2015-03-05T14:21:28.923,2,5520,12944,,2018-11-22T14:34:09.500,2015-03-06T12:35:55.457,0,,"<p>Firstly, I've googled around, but got myself horribly confused; hence this question.</p>

<p>I have a headless/keyboardless Raspberry pi with a camera board on it, that I connect to via ssh using my windows PC. </p>

<p>I'm trying to display a window, on my windows PC, with a picture taken using a python script and opencv2, but am having problems doing that.</p>

<p>I am using putty and xming, and can see the raspberry pi's desktop. I run the script via the terminal on the PI's desktop.</p>

<p>The below script saves, and rotates the jpg, but doesn't display the picture on my pc and gives an error:</p>

<pre><code>PuTTY X11 proxy: MIT-MAGIC-COOKIE-1 data did not match
(image:18543): Gtk-WARNING **: cannot open display: localhost:10.0
</code></pre>

<p>Script:</p>

<pre><code>#!/usr/bin/env python

import cv2

# Camera 0 is the integrated web cam on my netbook
camera_port = 0

#Number of frames to throw away while the camera adjusts to light levels
ramp_frames = 60

# Now we can initialize the camera capture object with the cv2.VideoCapture class.
# All it needs is the index to a camera port.
camera = cv2.VideoCapture(camera_port)

camera.set(3,900)
camera.set(4,700)

# Captures a single image from the camera and returns it in PIL format
def get_image():
 # read is the easiest way to get a full image out of a VideoCapture object.
 retval, im = camera.read()
 (h, w) = im.shape[:2]
 center = (w / 2, h / 2)

 # rotate the image by 180 degrees
 M = cv2.getRotationMatrix2D(center, 180, 1.0)
 rotated = cv2.warpAffine(im, M, (w, h))

 return rotated

# Ramp the camera - these frames will be discarded and are only used to allow v4l2
# to adjust light levels, if necessary
for i in xrange(ramp_frames):
 temp = get_image()
print(""Taking image..."")
# Take the actual image we want to keep
camera_capture = get_image()


file = ""/usr/src/scripts/test_image_1_from_open_cv2.jpg""
# A nice feature of the imwrite method is that it will automatically choose the
# correct format based on the file extension you provide. Convenient!


cv2.imwrite(file, camera_capture)

cv2.imshow('image', camera_capture)

# You'll want to release the camera, otherwise you won't be able to create a new
# capture object until your script exits
del(camera)
</code></pre>

<p>I also get a load of messages when I start the xming server from putty using <code>startlxde</code></p>

<pre><code>Obt-Message: Xinerama extension is not present on the server

** (lxpolkit:11032): CRITICAL **: polkit_agent_listener_register_with_options: a                                                                              ssertion 'POLKIT_IS_SUBJECT (subject)' failed

(lxpolkit:11032): GLib-GObject-CRITICAL **: g_object_unref: assertion 'G_IS_OBJE                                                                              CT (object)' failed

(lxpanel:11026): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-can-change-accels after class was initialised

(lxpanel:11026): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-menu-popup-delay after class was initialised

(lxpanel:11026): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-menu-popdown-delay after class was initialised

(lxpanel:11026): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-menu-images after class was initialised

(lxpanel:11026): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-label-select-on-focus after class was initialised

(pcmanfm:11027): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-can-change-accels after class was initialised

(pcmanfm:11027): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-menu-popup-delay after class was initialised

(pcmanfm:11027): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-menu-popdown-delay after class was initialised

(pcmanfm:11027): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-label-select-on-focus after class was initialised

(pcmanfm:11027): GLib-GObject-WARNING **: Attempt to add property GtkSettings::g                                                                              tk-menu-images after class was initialised
Openbox-Message: A window manager is already running on screen 0

(lxterminal:11188): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-bar-popup-delay after class was initialised

(lxterminal:11188): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-can-change-accels after class was initialised

(lxterminal:11188): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-popup-delay after class was initialised

(lxterminal:11188): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-popdown-delay after class was initialised

(lxterminal:11188): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-label-select-on-focus after class was initialised

(lxterminal:11188): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-images after class was initialised

(lxterminal:11188): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-button-images after class was initialised

(lxterminal:11313): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-bar-popup-delay after class was initialised

(lxterminal:11313): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-can-change-accels after class was initialised

(lxterminal:11313): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-popup-delay after class was initialised

(lxterminal:11313): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-popdown-delay after class was initialised

(lxterminal:11313): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-label-select-on-focus after class was initialised

(lxterminal:11313): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-images after class was initialised

(lxterminal:11313): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-button-images after class was initialised

(lxterminal:11388): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-bar-popup-delay after class was initialised

(lxterminal:11388): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-can-change-accels after class was initialised

(lxterminal:11388): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-popup-delay after class was initialised

(lxterminal:11388): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-popdown-delay after class was initialised

(lxterminal:11388): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-label-select-on-focus after class was initialised

(lxterminal:11388): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-menu-images after class was initialised

(lxterminal:11388): GLib-GObject-WARNING **: Attempt to add property GtkSettings                                                                              ::gtk-button-images after class was initialised
</code></pre>

<hr>

<p><strong>Iv'e done some more tests and this is what ive found out, so far:</strong></p>

<p>a) I logged in to my pi via xming and putty as user pi. </p>

<p>I then created a shortcut to the script, and ran it, which worked and created an image on the desktop of my pi.</p>

<p><img src=""https://i.stack.imgur.com/sDDUP.jpg"" alt=""enter image description here""></p>

<p>Python script shortcut:</p>

<pre><code>[Desktop Entry]
Name=Python script shortcut
Comment=Integrated DeveLopment Environment for Python3
Exec=/usr/src/scripts/videocap_opencv2_1.py
Terminal=false
Type=Application
Categories=Application;Development;
StartupNotify=true
</code></pre>

<p>It then temporarily displayed a new ""image"" window.</p>

<p>b) But when I changed the <code>Exec=/usr/src/scripts/videocap_opencv2_1.py</code> to <code>Exec=sudo /usr/src/scripts/videocap_opencv2_1.py</code> the script saves a jpg but didn't display a new ""image"" window.  </p>

<p>c) With this in mind, I then tried <code>/usr/src/scripts/videocap_opencv2_1.py</code> in LXTerminal on the desktop, which didn't display the ""image"" window, but did produce the jpg and when I did<code>sudo /usr/src/scripts/videocap_opencv2_1.py</code> it takes the image but i get the error again:</p>

<pre><code>PuTTY X11 proxy: MIT-MAGIC-COOKIE-1 data did not match
(image:4049): Gtk-WARNING **: cannot open display: localhost:10.0
</code></pre>

<p>1) why don't I get the ""image"" , regardless of using sudo window when I launch the script via XLTerminal?</p>

<p>2) is there a non GUI way of launching this script, rather than creating a desktop shortcut?   </p>
"
28648,1,2015-03-13T16:19:28.433,11,18105,12350,,2018-07-12T07:53:47.437,2018-07-12T07:53:47.437,8,,"<p>I need to add a second SD card reader to my Raspberry Pi for the project <a href=""http://www.samplerbox.org"" rel=""nofollow noreferrer"">www.samplerbox.org</a> (the RPi will be embedded in a box, so I need a <em>user</em>-SD-card reader).</p>

<p><a href=""http://www.ebay.fr/itm/Lecteur-Carte-SD-Card-Reader-Module-avec-Socket-Slot-Arduino-pr-MP3-GE-KK-/271539028380?pt=FR_YO_MaisonJardin_Bricolage_ElectroniqueComposants&amp;hash=item3f38fcc19c"" rel=""nofollow noreferrer"">Here is what</a> I would like to use:</p>

<p><img src=""https://i.stack.imgur.com/5dr6T.jpg"" alt=""enter image description here""></p>

<p><strong>How to wire this to the RaspberryPi?</strong> Via GPIO? (if so, how?) Via USB port?
(if so, how to wire these pins to a standard USB plug?)</p>

<p><strong>UPDATE</strong> : Here are the 2 * 8 pins : <code>GND, 3V3, 5V, CS, MOSI, SCK, MISO, GND</code> :</p>

<p><img src=""https://i.stack.imgur.com/xZc29.jpg"" alt=""enter image description here""></p>
"
28664,1,2015-03-14T05:09:35.153,0,4135,24814,,2017-03-24T01:51:46.857,,5,,"<p>I can read a GPIO pin's status as such:</p>

<pre><code>&lt;?php
     exec ( ""gpio read 7"", $status );
     print_r ( $status );
?&gt;
</code></pre>

<p>this works fine. But I want to read the status from within a php if statement, eg:</p>

<pre><code>&lt;?php
if (isset($_GET['trigger']) &amp;&amp; $_GET['trigger'] == 1) {
         exec ( ""gpio read 7"", $status );
         print_r ( $status );
         exec ( ""gpio write 7 1"" );
}
?&gt;
</code></pre>

<p>Though <code>exec ('gpio write 7 1');</code> works, the read and print does not.</p>

<p>Would anyone know what I am doing wrong?</p>
"
28689,1,2015-03-15T09:44:28.467,1,6006,26355,,2017-11-26T09:03:18.980,2015-03-15T13:03:34.460,5,,"<p>I want to make a game with Javascript with LED and pushbutton interaction. My problem is: I don't know how to make Javascript ""talk"" with the GPIO pins. Any help would be highly appreciated. </p>
"
28754,1,2015-03-16T23:25:07.330,4,11588,28072,,2020-10-14T15:35:37.880,2017-02-24T07:22:25.233,2,,"<p>I want to reduce the frequency of operation of my raspberry pi without rebooting. Is there a way to do it ?? </p>

<p>I know I can change the frequency by changing the config.txt but it requires a reboot.</p>
"
28811,1,2015-03-18T22:07:03.250,0,5484,28141,,2016-05-04T19:09:23.370,,0,,"<p>just purchased my first Raspi. I've installed Raspbian Jessie mainly for Bluez5, since I'm interested in the AVRCP features of Bluez5.</p>

<p>I'm struggling with getting audio to pump out over bluetooth. I was able to successfully pair and connect to a little JBL Bluetooth speaker I have using the hci* tools, but I'm lost on how to redirect audio over bluetooth. I'm really interested in using mplayer in slave mode from a terminal, so command-line only solutions that don't rely on X would be appreciated.</p>

<p>Most of the guides/tutorials I've found seem to be for Bluez4. I often see references to bt-audio, which doesn't appear to exist for Jessie (maybe removed as part of the Bluez5 redesign). From what I understand, Bluez5 dropped support for ALSA so I must use PulseAudio, but even with that info I'm still fairly lost.</p>

<p>Can anyone outline the procedure for piping audio from the Raspi out over a BT connection to an A2DP compliant device in Raspbian Jessie? </p>
"
28881,1,2015-03-21T18:43:59.503,0,796,12944,,2015-03-22T04:22:56.273,,0,,"<p>I'm trying to add some http streaming functionality to an existing python motion detection script.  </p>

<p>The script already uses the uv4l driver to access the raspberry pi camera, so I thought I'd try the streaming server that can be bolted to this driver. so I installed it, and to my surprise it only password protects the streaming configuration page and not the stream.</p>

<p>1) can the stream be password protected, and if so how?</p>

<p>2) I installed the extra driver by <code>apt-get install uv4l-server</code>, how would I uninstall this extra driver, and would it cause any problems with the uv4l driver?</p>

<p>3) whats the simplest way to stream from the raspberry pi cam with password protecting the stream, preferably in python?</p>

<p>note: I enabled the password protection on the control page by: <code>uv4l --auto-video_nr --driver raspicam --encoding mjpeg --server-option '--admin-password=blarblar'</code></p>
"
28949,1,2015-03-23T20:49:33.577,0,1484,20379,,2015-05-29T11:45:27.173,2015-03-26T16:46:25.983,9,,"<p>I'm running a Pi B+ rev 1.2 and recently acquired 2 I2C modules:</p>

<p>DS-RGBW.S LED lighting
<img src=""https://i.stack.imgur.com/aidye.jpg"" alt=""DS-RGBW.S LED lighting picture""></p>

<p>Microstack accelerometer:
<img src=""https://i.stack.imgur.com/tkMO3.jpg"" alt=""Microstack accelerometer""></p>

<p>When connecting the LED module, address 70 appears to be occupied as planned. I modify the script to use <code>SMBus(1)</code> instead of <code>SMBus(0)</code>. Script runs, but no response. When terminating the script, python claims to have been at line 96, <code>time.sleep(000.1)</code>. None of the lights have been on. The 48VDC terminal is not used, but I'm not sure it's even supposed to be used. Attached to pin 3/4/5/6 as shown on the diagram given by the supplier.</p>

<p>So, ok. It might be from a bad batch, so I hooked up the accelerometer. I don't have the baseboard, but it fits just fine without (on pin 1/3/5/7/9/11)(leaving the 4+2 pins not connected). But now I <code>i2cdetect -y 1</code> shows an empty address table.</p>

<p>Yes, I did reboot after installing all required dependencies and yes all required configurations have been modified. I'm running the latest software on the latest Raspbian. How should I debug my I2C trouble? Anyone experience with problems like these?</p>

<p>If any pertinent information is missing, please comment.</p>

<h3>Update:</h3>

<p>Script called is from <a href=""http://www.designersystems.co.uk/download/RGBW.S_Disk.zip"" rel=""nofollow noreferrer"">this zip file</a> as stated in the product manual.
/RGBW.S_Disk/R-PI/RGBW.py</p>

<pre><code># Designer Systems DS-RGBW LED Lighting Shield Raspberry-PI Demonstrator

# Requires Raspberry-PI A or B board

# DS-RGBW.S [A0 &amp; A1 jumpers ON] connected to I2C interface (GPIO pin 3 SDA, pin 5 SCL)

# RGBW.py   Date: 13/7/13   Version: 1.00 

# Run from LX terminal window using 'sudo python RGBW.py

# Fades WHITE up/down, outputs a number of RGB colours and then cycles through colour wheel

# Note: May require I2C setup procedure on R-PI

# Use CTRL+C to exit


# import modules needed for this application
import smbus
import time

# NOTE: THE ZERO IN THE COMMAND BELOW MAY NEED CHANGING TO A '1' DEPENDING ON THE RASPBERRY PI USED
bus = smbus.SMBus(1)

# Define DS-RGBW.S I2C address
address = 0x70

# Routine to write to I2c register from DS-RGBW.S
def writeRegister (register, value):
    bus.write_byte_data(address, register, value)

# Routine to write to I2c,define registers
def writeRGBWregisters (red, green, blue):
    bus.write_byte_data(address,3,red)
    bus.write_byte_data(address,4,green)
    bus.write_byte_data(address,5,blue)

# Routine to write to i2c, define registers
def writeHSBregister (hue,saturation,brightness):
    bus.write_byte_data(address,6,hue)
    bus.write_byte_data(address,7,saturation)
    bus.write_byte_data(address,8,brightness)

# Main program
while True:

# All off 
    bus.write_byte_data(address,2,0)
    bus.write_byte_data(address,3,0)
    bus.write_byte_data(address,4,0)
    bus.write_byte_data(address,5,0)

# Fade white LED from 0 to 99%   
for data in range(0,99):    
    writeRegister(2,data)
            time.sleep(0.01)

# Fade white LED from 99 to -1 
for data in range(99,-1,-1):    
    writeRegister(2,data)
            time.sleep(0.01)

# Sleep 2 second
    time.sleep(2)

# Send RGBW colour (Pink)      
    writeRGBWregisters(255,88,67)             

# Sleep 2 second
    time.sleep(2)

# Send RGBW colour (Green)
    writeRGBWregisters(48,187,80)      

# Sleep 2 seconds       
    time.sleep(2)

# Send RGBW colour (Orange)
    writeRGBWregisters(243,99,20)

# Sleep 2 second
    time.sleep(2)

# Send RGBW colour (Dark Purple)
    writeRGBWregisters(86,54,80)

# Sleep 2 seconds
    time.sleep(2)

# Set colour wheel to start colour   
    writeHSBregister(0,255,255)

# Rotate though complete colour wheel by changing HSB Hue value     
    for hue in range(0,255):
           writeRegister(6,hue)
           time.sleep(000.1)

# Sleep 2 seconds
    time.sleep(2)
</code></pre>

<h2>Update 2:</h2>

<p>Re-flashed the RPi with a fresh install. It's still not working as expected, but now I get the following for <code>i2cdetect -y 1</code> with the RGBW connected:</p>

<pre><code>     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          __ __ __ __ __ __ __ __ __ __ __ __ __
10: __ __ __ __ __ __ __ __ __ __ __ UU __ __ __ __
20: __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
30: __ __ __ __ __ __ __ __ __ __ __ UU __ __ __ __
40: __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
50: __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
60: __ __ __ __ __ __ __ __ __ __ __ __ __ __ __ __
70: 70 __ __ __ __ __ __ __
</code></pre>

<p>The <code>UU</code> weren't there before at <code>1b</code> and <code>3b</code>. They're also there when nothing is connected.</p>
"
29074,1,2015-03-27T14:53:57.637,1,5299,3216,,2017-11-27T19:27:49.983,,0,,"<p>When we install Linux on Raspberry Pi with a NOOBS SD card, the original data on the card is erased as it becomes the storage device for the new system.</p>

<p>I have just bought a 16Gb NOOBS SD card, and I would like to make a copy on a blank 16Gb SD card, so that I can keep the original card as backup in case anything goes wrong and I want to repeat the installation.</p>

<p>Please, how do I go about that? I am running Fedora 20 on my PC, with zshell, and I have a USB SD card reader/writer.</p>
"
29159,1,2015-03-30T15:50:56.797,2,304,19207,,2015-03-30T21:00:34.507,2015-03-30T17:38:49.717,6,,"<p>I'm attempting to utilize the <code>bcm2835_peri_read(uint32_t*)</code> function from Mike M's BCM2835 code, however console-output-debugging indicates I'm continually getting back my address.  I'm using <code>g++</code> on the Pi itself... specifically:</p>

<pre><code>sync
g++ registertest.c -lbcm2835 -lcurses -lpthread -o Listen
</code></pre>

<p>...where <code>registertest.c</code> is my own code file - the relevant bit is on Pastebin <a href=""http://pastebin.com/vGkdVs3n"" rel=""nofollow"" title=""byte GetByte() on Pastebin"">here</a> and here:</p>

<pre><code>typedef unsigned char byte;

// snip

byte getByte() {
        volatile uint32_t flagAddr = bscSlaveAddr + 0x10;  // bscSlaveAddr = 0x7E214000
        uint32_t flagRegi = bcm2835_peri_read(&amp;flagAddr);

        pthread_mutex_lock(&amp;screenLock);
        mvprintw(2, 20, ""Flag: %8X"", flagRegi);  // Always reads 7E214010
        refresh();
        pthread_mutex_unlock(&amp;screenLock);

        while((flagRegi &gt;&gt; 1) &amp; 1) { // While the FIFO Queue is empty...
                usleep(1000); // Wait.
                uint32_t flagRegi = bcm2835_peri_read(&amp;flagAddr);

                pthread_mutex_lock(&amp;screenLock);
                mvprintw(2, 20, ""Flag: %8X"", flagRegi);
                refresh();
                pthread_mutex_unlock(&amp;screenLock);
        }
        volatile uint32_t dataAddr = bscSlaveAddr;
        uint32_t dataRegi = bcm2835_peri_read(&amp;dataAddr);

        pthread_mutex_lock(&amp;screenLock);
        mvprintw(2, 40, ""Data: %8X"", dataRegi);  // Always reads 7E214000
        refresh();
        pthread_mutex_unlock(&amp;screenLock);
        return dataRegi &amp;&amp; 0xFF; // Get the value, then spit back just the data.
}
</code></pre>

<p>I compiled and installed Mike's code as was instructed on his website.  Is there something I'm messing up?</p>
"
29402,1,2015-04-07T09:43:12.800,1,1414,24296,,2015-04-10T01:27:47.487,,2,,"<p>I have started coding a program in Python 3 for the Raspberry Pi Camera, here is what my code looks like:</p>

<pre><code>import picamera, time

def Picture_Name_Settings():
    pic_name = input(""To name the image input N\nTo use automatic naming input A "")
    pic_name = pic_name.upper()
    if pic_name == ""N"":
        user_name = input(""Please enter the name of what you want your image to be called "")

    if pic_name == ""A"":
        current_time = (time.strftime(""%H:%M:%S""))
        current_date = (time.strftime(""%d:%m:%Y""))
        automatic_name = (""Image taken at"", current_time, ""on the"", current_date, ""jpeg"")
        print(automatic_name)
        camera = picamera.PiCamera()
        camera.capture(automatic_name)
        print(""Took the picture"")

Picture_Name_Settings()
</code></pre>

<p>And the error I get when it is run and after inputting ""a"" is:</p>

<pre><code>'Format must be specified when output has no filename'

picamera.exc.PiCameraValueError: Format must be specified when output has no filename
</code></pre>

<p>Why am I getting this error? And why can I not put a variable containing the filename and type into the camera.capture brackets?</p>
"
29623,1,2015-04-15T09:17:22.883,0,374,22666,,2015-04-15T11:50:24.447,2015-04-15T11:50:24.447,0,,"<p>When I try to toggle the Raspi pin no 40 using the code it gives me message </p>

<p>RuntimeWarning : The channel is already in use, continuing anways and asks to disable warnings.
Even after doing GPIO.setwarnings(False), the warning doesn't pop but the port does not toggle at all.
I had tested the RPI.GPIO library quite a while ago their was no problem, in toggling the ports.</p>

<pre><code>#! /usr/bin/python

import array
import os
import time
import RPi.GPIO as GPIO

def main():

    GPIO.setmode(GPIO.BCM)
    GPIO.setup(40,GPIO.OUT)
    time.sleep(1)
    while True:

        GPIO.output(40,GPIO.HIGH)
        time.sleep(5)
        GPIO.output(40,GPIO.LOW)
        time.sleep(5)

if __name__=='__main__':
    try:
        main()
    except KeyboardInterrupt:
        spi.close()
        GPIO.cleanup()
    finally:
        GPIO.cleanup()
</code></pre>
"
29720,1,2015-04-18T00:43:25.583,2,1291,28648,,2015-04-18T00:43:25.583,,0,,"<p>The Wii nunchuck is an I2C accessible device and can be wired to the I2C pins of a Pi.  How do I read the data from a Wii nunchuck in C using the WiringPi library?</p>
"
29734,1,2015-04-18T15:20:46.433,4,5935,28648,,2016-01-30T02:21:33.663,,1,,"<p>As I understand it, the mode of a GPIO pin can be INPUT or OUTPUT (and I think there may be other modes such as PWM and I2C).  I believe that the mode of a pin is a global and that if two applications attempt to set the mode, the last one called will be the actual final value.</p>

<p>My goal is to determine a pin's mode before attempting to set it or use it.  This will allow me to detect potential conflicts.</p>

<p>Is there a way to determine the mode for a given pin?  My programming library of choice is wiringPi but I am interested in any solution in this area just now.</p>
"
29783,1,2015-04-20T00:47:59.397,22,137942,29103,,2021-01-13T20:49:33.960,2020-12-09T06:40:51.877,2,,"<p>Is it possible to get Network Manager working on Raspbian? It's easy to install with:</p>

<pre><code>sudo apt-get install network-manager
</code></pre>

<p>but I couldn't get it to manage any of my connections. Unfortunately, it looks like only a old version of NM is available in the Debian repo.</p>
"
29947,1,2015-04-25T14:35:56.717,8,9464,8574,,2020-12-07T10:13:31.277,,1,,"<p>When installing Raspbian, the first thing you're told to do is to expand the file system to stretch across the whole SD card. Works great. But what if I want to save space when doing a disk image. Can I reverse the expansion, and end up with a small disk image which I can use to copy my system to other SD cards and then expand it again on them?</p>
"
29953,1,2015-04-25T16:19:15.587,1,578,29305,,2015-04-25T17:50:33.770,,7,,"<p>I am attempting to write an API for interaction with the GPIO pins in a bare metal environment in C. However , sometimes when I attempt to turn on one of the GPIO pins it turns multiple on. Here is the API :</p>

<pre><code>#include ""gpio.h""

void gpio_setOutput(unsigned int gpioNum) {
  //Check if the value is valid
  if(gpioNum &gt; 53) {
    return;
  }

  //The pointer to the section of memory that contains the function selector
  unsigned int* gpio_FunctionPointer = 0;

  //Figure out which 4 bytes of memory is the correct one for the gpioNum
  if(gpioNum &lt; 10) {
    gpio_FunctionPointer = GPFSEL0;
  } else if(gpioNum &lt; 20) {
    gpio_FunctionPointer = GPFSEL1;
  } else if(gpioNum &lt; 30) {
    gpio_FunctionPointer = GPFSEL2;
  } else if(gpioNum &lt; 40) {
    gpio_FunctionPointer = GPFSEL3;
  } else if(gpioNum &lt; 50) {
    gpio_FunctionPointer = GPFSEL4;
  } else if(gpioNum &lt; 60) {
    gpio_FunctionPointer = GPFSEL5;
  } else {
    return;
  }

  //Get the exact location of the 3 bits for the particular gpioNum
  unsigned int memPart = (gpioNum%10)*3;
  //Get the 4 bytes of memory at the function memory
  unsigned int bytes = *gpio_FunctionPointer;
  //Calaculate the 4 bytes to clear the current function setting of gpioNum
  unsigned int clearFlag = (0b111 &lt;&lt; memPart);
  //calculate the 4 bytes in order to set the function to output for gpioNum
  unsigned int outputFlag = (0xFFFFFFF9 &lt;&lt; memPart) | (0xFFFFFFF9 &gt;&gt; (32 - memPart));
  //Clear the function
  bytes = bytes | clearFlag;
  //Set the function
  bytes = bytes &amp; outputFlag;
  //Put the 4 bytes back
  *gpio_FunctionPointer = bytes;

}
void gpio_outputSet(unsigned int gpioNum) {
  //Check if the value is valid
  if(gpioNum &gt; 53) {
    return;
  }
  unsigned int* gpio_SetPointer = 0;
  unsigned int memPart = 0;

  //Figure out which part of the memory relates to gpioNum
  if(gpioNum &lt; 32) {
    gpio_SetPointer = GPSET0;
    memPart = gpioNum;
  } else {
    gpio_SetPointer = GPSET1;
    memPart = gpioNum - 32;
  }
  //Get the relivant bytes
  unsigned int bytes = *gpio_SetPointer;
  //Calculate the flag for the specific gpioNum
  unsigned int setFlag = 0b1 &lt;&lt; memPart;

  //Add it to bytes
  bytes = bytes | setFlag;

  //Set the relevnat memory.
  *gpio_SetPointer = bytes;



}
void gpio_outputClr(unsigned int gpioNum) {
  //Check if the value is valid
  if(gpioNum &gt; 53) {
    return;
  }
  unsigned int* gpio_SetPointer = 0;
  unsigned int memPart = 0;

  //Figure out which part of the memory relates to gpioNum
  if(gpioNum &lt; 32) {
    gpio_SetPointer = GPCLR0;
    memPart = gpioNum;
  } else {
    gpio_SetPointer = GPCLR1;
    memPart = gpioNum - 32;
  }
  //Get the relivant bytes
  unsigned int bytes = *gpio_SetPointer;
  //Calculate the flag for the specific gpioNum
  unsigned int setFlag = 0b1 &lt;&lt; memPart;

  //Add it to bytes
  bytes = bytes | setFlag;

  //Set the relevnat memory.
  *gpio_SetPointer = bytes;

}
</code></pre>

<p>The code should set the memory as specified in the bcm2835 arm peripherals manual so that the gpio function is set to output and the gpio pins are turned on and off (by setting the Clr or Set memory to 1) , however , it appears to be turing on multiple pins with one call of the function and I am unable to determine why.</p>

<p>When running this code on my own computer the bytes seem to be correctly set. So I assume there is something I need to do in addition to what this code is doing in order to interact with the GPIO. But I do not know what. What is wrong with my code that is causing multiple GPIO pins to come on when my code is only set to turn on one?</p>

<p>The full code can be found <a href=""https://github.com/emwebb/RPiBASIC-OS"" rel=""nofollow"">here</a></p>
"
29983,1,2015-04-27T00:20:15.617,0,3466,28648,,2017-08-06T05:04:20.253,2015-04-27T00:34:57.997,0,,"<p>I have been writing some pigpio apps and all of a sudden, they all start to fail.  The error I get is:</p>

<p><code>initMboxBlock: init mbox zaps failed</code></p>

<p>The error is thrown from calls to</p>

<p><code>gpioInitialise()</code></p>

<p>My next step is to see if rebooting helps but I am hoping that there might be an explanation and a way to prevent this in future (assuming the reboot doesn't help).</p>

<p>Later ... a reboot cured the problem, but I'm still curious as to what may have happened.</p>
"
29989,1,2015-04-27T07:27:12.777,4,1061,205,,2015-04-30T11:43:02.177,,0,,"<p>How can I determine what version of the firmware will be installed by running rpi-update, without making any modifications to the installation?</p>
"
30054,1,2015-04-28T20:38:50.777,3,2667,28759,,2015-05-01T22:29:49.580,2015-04-28T20:48:03.030,3,,"<p>I would like to combine two tutorials (<a href=""https://learn.adafruit.com/adafruits-raspberry-pi-lesson-11-ds18b20-temperature-sensing"" rel=""nofollow"">here</a> and <a href=""https://piamble.wordpress.com/moteinos-and-raspberry-pi/"" rel=""nofollow"">here</a>) that I have found on sensing temperature with Raspberry Pis.  </p>

<p>I am already able to retrieve the temperature from the DS18B20 on multiple pis.  What I am not sure of is how to get the central pi (which will have a SQLite DB) to query all of the other Pis for their current temperature. </p>

<p>So, how do I have the server Pi poll the client for the current temperature value?</p>

<p>A python solution would be preferred since that's what I am most familiar with, but not required. Also, I am running Raspbian if that matters.</p>
"
30170,1,2015-05-03T00:43:25.987,4,4764,13406,,2015-05-03T02:24:26.613,,0,,"<p>I've found Piezo example for Rpi with specific libraries in Java and C (wiring) -- are there any for Python?
I've seen PyPiezo but it seems to be for specific hardware.</p>
"
30179,1,2015-05-03T12:15:10.093,0,319,29518,,2015-05-03T12:52:01.847,2017-04-13T12:56:22.537,0,,"<p>From my RapsBerry Pi 2 B running <strong>Ubuntu 14.04LTS</strong> I do:</p>

<pre><code>sudo poweroff
</code></pre>

<p>So the device <strong>turns off</strong> (nothing on the screen).<br>
If I then try to wake on LAN it up with the usual method:</p>

<pre><code>wakeonlan 11:22:33:44:55:66
</code></pre>

<p>... nothing happens.<br>
Any other desktop computer on my <strong>LAN awakes fine</strong>, so I must suppose this is some issue with the drivers.  </p>

<p>The eth0 info in the RapsBerry seems <strong>correctly configured</strong> for wake on LAN:</p>

<pre><code>luis@Zarzamoro:~$ sudo ethtool eth0
Settings for eth0:
        Supported ports: [ TP MII ]
        Supported link modes:   10baseT/Half 10baseT/Full
                                100baseT/Half 100baseT/Full
        Supported pause frame use: No
        Supports auto-negotiation: Yes
        Advertised link modes:  10baseT/Half 10baseT/Full
                                100baseT/Half 100baseT/Full
        Advertised pause frame use: Symmetric Receive-only
        Advertised auto-negotiation: Yes
        Link partner advertised link modes:  10baseT/Half 10baseT/Full
                                             100baseT/Half 100baseT/Full
        Link partner advertised pause frame use: Symmetric
        Link partner advertised auto-negotiation: Yes
        Speed: 100Mb/s
        Duplex: Full
        Port: MII
        PHYAD: 1
        Transceiver: internal
        Auto-negotiation: on
        Supports Wake-on: pumbag
        Wake-on: g
        Current message level: 0x00000007 (7)
                               drv probe link
        Link detected: yes
</code></pre>

<p>Note the <code>Wake-on: g</code> part.  </p>

<p>As long as the LAN card seems to be <a href=""https://raspberrypi.stackexchange.com/a/1432/29518"">Wake on LAN capable</a>, I assume that maybe another distro would be more optimized in ethernet drivers matter and could put the device in wake on LAN state?  </p>

<p>For those arguing <a href=""https://raspberrypi.stackexchange.com/questions/126/how-do-i-enable-wake-on-lan"">there is no need</a>(?) to wake on LAN the RapsBerry Pi, consider these scenarios:  </p>

<ul>
<li>You have a Rapsberry that you would like to <strong>go unnoticed</strong> (hidden, nobody must know it is there; they could grab it, you know). So you let it off and you start it up (wake on LAN) when desired (only you will know the MAC address).</li>
<li>You would like to fully stop the network to <strong>isolate network traffic</strong> in order to sniff LAN data and detect some misbehavior, failure, virus... etc. Going through all the computers/portables/devices to turn them all off is rather awkward. So you order some sort of <code>poweroff</code> (even massive poweroff by using some .sh script) and, later, you turn them all on again via Wake on LAN (massive method is possible to, for example with <code>wakeonlan</code> tool from Linux).</li>
</ul>
"
30201,1,2015-05-04T09:09:16.717,6,5275,29384,,2015-05-31T17:57:01.647,2015-05-04T12:37:24.160,0,,"<p>I am trying to compile a simple helloworld module on my Raspberry Pi B+ under the 3.18.7+ Kenel. I did it after <a href=""http://www.blaess.fr/christophe/2014/03/06/compilation-native-de-modules-kernel-sur-raspberry-pi/"">THIS</a> tutorial.
When I try to build my module I have this error :</p>

<pre><code>make[1]: *** /lib/modules/3.18.7+/build: No such file or directory.  Stop
</code></pre>

<p>When I go to my /lib/modules/3.18.7+/build directory I have the following files :</p>

<pre><code> modules.alias
 modules.builtin
 modules.dep
 modules.devname
 modules.softdep
 modules.symbols.bin
 kernel
 modules.alias.bin
 modules.builtin.bin
 modules.dep.bin
 modules.order
 modules.symbols
</code></pre>

<p>As you can see, there is no <strong>build</strong> directory. I made some researches on the internet so I find that I have to made a link to the kernel source tree used to build the modules, by using this command</p>

<pre><code>ln -s /path/to/kernel/source  /lib/modules/3.18.7+/build
</code></pre>

<p>So I did so by typing the following command : </p>

<pre><code>ln -s /usr/src/linux-kbuild-3.18  /lib/modules/3.18.7+/build
</code></pre>

<p>Even if I did that, I still got the same error that the one in the beginning.
In the directory <strong>/usr/src/linux-kbuild-3.18</strong> I have only a <strong>scripts</strong> directory containing those files :</p>

<pre><code>basic             gcc-goto.sh                        kallsyms        Makefile.clean      makelst            namespace.pl     ver_linux
checkincludes.pl  gcc-version.sh                     Kbuild.include  Makefile.extrawarn  mksysmap           patch-kernel
checkstack.pl     gcc-x86_32-has-stack-protector.sh  kconfig         Makefile.host       mkuboot.sh         pnmtologo
checkversion.pl   gcc-x86_64-has-stack-protector.sh  kernel-doc      Makefile.lib        mkversion          recordmcount
conmakehash       gen_initramfs_list.sh              Lindent         Makefile.modinst    mod                recordmcount.pl
depmod.sh         genksyms                           Makefile.build  Makefile.modpost    module-common.lds  setlocalversion
</code></pre>

<p>If there is any solution it will be great, thanks </p>
"
31321,1,2015-05-07T12:35:02.637,0,2145,29554,,2015-05-07T13:05:15.387,2015-05-07T12:39:40.193,3,,"<p>When my b+ (raspbian 3.18.12+) boots, it actually loads 6 tty.</p>

<p>Is there a way to reduce the number of tty?</p>
"
31493,1,2015-05-12T21:03:57.700,2,541,30807,,2015-05-12T22:02:53.543,2015-05-12T21:05:03.990,1,,"<p>I'm an embedded software engineer who is not familiar with the linux driver model, but familiar with device drivers in general. </p>

<p>I want to do something simple, namely, wiggling a couple GPIOs from within the SPI driver as individual bytes go out.  </p>

<p>In general SPI is accessed through a simple interface to configure the device, read bytes, and write bytes.    I'm having trouble ""seeing"" that hidden in all of this ""other stuff"" in spi-bcm2708.c.   </p>

<p>This is a hack that I'm not interested in spending a ton of time on, so proposing hacky solutions is definitely OK.    My plan is to simply locate where this driver is actually communicating bytes to the SPI peripheral and wrap it with my direct GPIO wiggles.  These wiggles will be accomplished through an ioremap'd pointer to the GPIO peripheral. </p>

<p>I'm hoping that someone can point me to where this driver is actually writing bytes out to the peripheral.   Perhaps its all DMA driven and synchronizing SPI byte transfers with my gpio wiggles will be impossible.</p>
"
31574,1,2015-05-15T19:16:53.187,7,9217,20236,,2019-07-05T16:49:40.337,,2,,"<p>I am trying to figure out what instruction set (x86_64, IA-32, etc.) is used by the RPi's Broadcom chip (really an ARM 1176JZF-S), because I'd like to understand <em>how</em> linux can run on it.</p>

<p>My understanding is that Linux (Raspbian, Debian, Ubuntu, etc.) is compiled via <code>gcc</code> which uses the x86_64 instruction set.</p>

<p>So unless this ARM chip supports the x86_64 instruction set, I'm totally clueless as to how the RPi ccan even <em>run</em> linux! Thoughts?</p>
"
31666,1,2015-05-18T13:31:50.103,2,6748,29448,,2015-05-18T21:07:02.007,2017-04-13T12:56:23.120,0,,"<p>First of all, I'm not sure if I should be asking this here, or on <a href=""http://stackoverflow.com"">stackoverflow</a>. But, here will be my first shot, if it's not the right place, just tell me and I'll move the question elsewhere.</p>

<p>Ok, now the the problem itself.</p>

<p>I've developed a Qt5 app, and I'd like to see it running on the pi2. First of all I noticed that Ubuntu MATE 15.04 comes with Qt 4.8 by default, and it have qt5-base and qmake5 on it's apt-get repository. But when I tried to use it, I've ran into some dependency problems, and the qt5 ended up not beign installed at all.</p>

<p>I've found <a href=""https://wiki.qt.io/Native_Build_of_Qt5_on_a_Raspberry_Pi"" rel=""nofollow noreferrer"">this tutorial</a> to compile qt5 from scratch on rasp1 with raspbian, and <a href=""https://wiki.qt.io/Native_Build_of_Qt_5.4.1_on_a_Raspberry_Pi"" rel=""nofollow noreferrer"">this one</a> to do the same on rasp2, but that can take a long while, and lots of things can go wrong, so if it's possible to just do an apt-get it'll be A LOT easier for me (and anyone else who might step into this same problem).</p>

<p>And I would also want to know if after it's compiled, if my program will be able to play hardware accelerated videos using <a href=""http://doc.qt.io/qt-5/qmediaplayer.html"" rel=""nofollow noreferrer""><code>QMediaPlayer</code></a>.</p>

<p>P.S.: Yes, I've bought the licenses to decode AVC-1 and MPEG in the hardware.</p>

<p>Edit: I've found <a href=""https://raspberrypi.stackexchange.com/questions/3399/vlc-hardware-acceleration"">this question</a> talking about an Hardware accelerated VLC, it's slightly related to my problem, I guess.</p>

<p>Edit 2: Which packages would be enough to compile a Qt project that needs only the QtCore/QtBase and QtMultimedia?</p>

<p>Edit 3: I've followed the instructions on the answers and comments, using the Raspbian Jessie repository to install qt5. I've ran:</p>

<pre><code>sudo apt-get update
sudo apt-get install qt5-default libqt5multimedia5 libqt5multimedia5-plugins libqt5multimediawidgets5
</code></pre>

<p>And the package manager installed lots of dependencies along.</p>

<p>After that, I've tried to run <code>qtconfig</code> but I got this error:</p>

<pre><code>qtconfig: could not exec '/usr/lib/arm-linux-gnueabihf/qt5/bin/qtconfig': No such file or directory
</code></pre>

<p>And after that, I tried to run <code>qmake</code> on my project, and I got:</p>

<pre><code>Project ERROR: Unknown module(s) in QT: multimediawidgets multimedia
</code></pre>

<p>Well, I feel a little lost here...</p>

<p>Edit 4: I've also found <a href=""https://raspberrypi.stackexchange.com/questions/7519/qtmultimedia-on-raspberry-pi?rq=1"">this question</a> here. I guess this guy is having a similar problem.</p>

<p>Edit 5: Yupp, I'm not the only one with this problem. As you can see <a href=""http://www.qtcentre.org/threads/60410-qtmultimedia-video-hardware-acceleartion-on-raspberry-pi"" rel=""nofollow noreferrer"">here</a>.</p>
"
31728,1,2015-05-20T05:17:32.720,3,1103,31057,,2015-05-20T09:23:56.563,2015-05-20T09:23:56.563,0,,"<p>I've looked at all the info that I could find on I2C repeated starts, and I tested a simple example that uses ioctl calls with the standard two message structure required to cause a repeated start:  </p>

<pre><code>  struct i2c_msg rdwr_msg[] =
  {
    {  // Start address
      .addr = 0x52,
      .flags = 0, // write
      .len = 1,
      .buf = &amp;command
    },
    { // Read buffer
      .addr = 0x52,
      .flags = I2C_M_RD, // read
      .len = 1,
      .buf = read_buffer
    }
  };
...
  rdwr_data.msgs = rdwr_msg;
  rdwr_data.nmsgs = 2;
  command = 0x00;
  read_buffer[0] = 0xEE;  // Preset to see if it is overwritten by read

  result = ioctl( fd, I2C_RDWR, &amp;rdwr_data );
</code></pre>

<p>I can see that the I2C signals are different when the combined parameter is set to enable repeated starts. There is sort of a repeated start, but the data is off by one bit. The repeated start is circled in red in the two following screenshots. The address sent after the restart is 0x52. The first one is from the PI2 and the second one is from a USB I2C interface. Only the second one correctly accesses the device. So the question remains, has anyone successfully used repeated starts on the PI2?</p>

<p><img src=""https://i.stack.imgur.com/ctAJT.jpg"" alt=""Bad repeated restart to addr 0x52 from PI2"">
<img src=""https://i.stack.imgur.com/g4CRF.jpg"" alt=""Good repeated restart to addr 0x52 from a USB I2C interface""></p>
"
31739,1,2015-05-20T10:29:10.410,2,6819,30809,,2019-07-15T08:08:21.597,,0,,"<p>Hello I want to use 2 servo with different gpio pins. But Raspberry has one hardware pwm (GPIO 18). first of all I tried another pin to run servo and my code:</p>

<pre><code> wiringpi.pinMode(18,2)
 wiringpi.pwmSetMode(0)
 wiringpi.pwmSetClock(400)
 wiringpi.pwmSetRange(1024)
 wiringpi.pwmWrite(18, 100)

 wiringpi.pinMode(4,2)
 wiringpi.pwmSetMode(0)
 wiringpi.pwmSetClock(400)
 wiringpi.pwmSetRange(1024)
 wiringpi.pwmWrite(4, 100)
</code></pre>

<p>but my second servo which has connected to gpio 4 did not turn.</p>

<p>I googled my problem and I found a solution such using softpwm. But when I write these codes my servos are shaking not turning. </p>

<p>my codes:</p>

<pre><code>import wiringpi2 as wiringpi


def main():

  print(""starting PWM"")
  wiringpi.wiringPiSetupGpio()                                                                                                                                                                
  wiringpi.pinMode(18,1)
  wiringpi.softPwmCreate(18,0,1000)

  wiringpi.pinMode(4,1)
  wiringpi.softPwmCreate(4,0,1000)


  dt = 100

  try:

    wiringpi.softPwmWrite(18, 50)
    wiringpi.softPwmWrite(11, 50)
</code></pre>

<p>these are not all my code only servo parts. But these are not working.</p>

<p>Is there any slution to using 2 servos with wiringpi</p>

<p>thanks from now</p>
"
31789,1,2015-05-21T21:29:05.750,2,7341,31112,,2015-11-12T14:50:04.057,2015-05-22T02:31:28.040,2,,"<p>I've been trying to make work the NRF24l01 RF module with Raspberry and Arduino, but I can't.</p>

<p>This is the version of the module I have: <a href=""http://www.ebay.com/itm/2-4G-NRF24L01-PA-LNA-SMA-Antenna-Wireless-Transceiver-communication-module-New-/131132832737?pt=LH_DefaultDomain_0&amp;hash=item1e88203be1"" rel=""nofollow noreferrer"">NRF24l01 Module</a></p>

<p>I'm trying to send the data from the Arduino, I already tryed with two Arduinos and all works fine</p>

<p><strong>The Arduino Conection is:</strong></p>

<ul>
<li><strong>PIN   NRF24L01 | Arduino UNO</strong></li>
<li>1 GND___________GND</li>
<li>2 VCC___________3.3V</li>
<li>3 CE____________digIO 9</li>
<li>4 CSN__________digIO 10</li>
<li>5 SCK__________digIO 13</li>
<li>6 MOSI_________digIO 11</li>
<li>7 MISO_________digIO 12</li>
<li>8 IRQ –</li>
</ul>

<p>For Raspberry Pi:</p>

<ul>
<li><strong>PIN   NRF24L01 | RPi</strong></li>
<li>1 GND________RPi-GND(6)</li>
<li>2 VCC________RPi-3.3V(1)</li>
<li>3 CE_________RPi-GPIO25(22)</li>
<li>4 CSN________RPi-GPIO8(24)</li>
<li>5 SCK________RPi-SCKL(23)</li>
<li>6 MOSI_______RPi-MOSI(19)</li>
<li>7 MISO_______RPi-MISO(21)</li>
<li>8 IRQ –</li>
</ul>

<p>The library I'm using for Arduino and Raspberry is: <a href=""https://github.com/maniacbug/RF24"" rel=""nofollow noreferrer"">RF24 Library</a></p>

<p>When I run the ""GettingStarted"" example It shows:</p>

<p><strong>In Arduino</strong></p>

<p><img src=""https://i.stack.imgur.com/yH42m.png"" alt=""Arduino RF24 Configuration""></p>

<p><strong>In the Raspberry</strong></p>

<p><img src=""https://i.stack.imgur.com/5Uauk.png"" alt=""enter image description here""></p>

<p>I've a 10 µF capacitor between VCC and GND in both modules.</p>

<p>However I didn't get comunication between the two modules, does anyone knows what can be wrong? I'll apreciate any help.</p>
"
31829,1,2015-05-23T04:33:45.300,1,1925,30691,,2015-08-14T18:19:01.873,,6,,"<p>when running <code>sudo blkid</code> and <code>sudo fdisk -l</code> no usb drive shows.</p>

<p>The output from <code>dmesg</code> however makes it appear that the external hard drive has no issues</p>

<pre><code>[    3.409324] usb 1-1.3: new high-speed USB device number 4 using dwc_otg
[    3.539853] usb 1-1.3: New USB device found, idVendor=1a40, idProduct=0101
[    3.553142] usb 1-1.3: New USB device strings: Mfr=0, Product=1, SerialNumber=0
[    3.565401] usb 1-1.3: Product: USB 2.0 Hub
[    3.573950] hub 1-1.3:1.0: USB hub found
[    3.582583] hub 1-1.3:1.0: 4 ports detected
[    3.829293] usb 1-1.5: new high-speed USB device number 5 using dwc_otg
[    3.949334] usb 1-1.3.1: new high-speed USB device number 6 using dwc_otg
[    4.070208] usb 1-1.3.1: New USB device found, idVendor=1a40, idProduct=0101
[    4.084125] usb 1-1.3.1: New USB device strings: Mfr=0, Product=1, SerialNumber=0
[    4.097652] usb 1-1.3.1: Product: USB 2.0 Hub
[    4.110172] hub 1-1.3.1:1.0: USB hub found
[    4.124196] hub 1-1.3.1:1.0: 4 ports detected
[    4.289293] usb 1-1.5: new high-speed USB device number 7 using dwc_otg
[    4.375225] udevd[160]: starting version 175
[    4.410746] usb 1-1.5: New USB device found, idVendor=1058, idProduct=07a8
[    4.435876] usb 1-1.5: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[    4.469171] usb 1-1.5: Product: My Passport 07A8
[    4.494288] usb 1-1.5: Manufacturer: Western Digital
[    4.515475] usb 1-1.5: SerialNumber: 5758353145343356434C3834
[    4.550417] usb-storage 1-1.5:1.0: USB Mass Storage device detected
[    4.589716] scsi host0: usb-storage 1-1.5:1.0
[    5.590258] scsi 0:0:0:0: Direct-Access     WD       My Passport 07A8 1042 PQ: 0 ANSI: 6
[    5.642384] sd 0:0:0:0: [sda] Spinning up disk...
[    5.652691] scsi 0:0:0:1: Enclosure         WD       SES Device       1042 PQ: 0 ANSI: 6
[    6.669130] ..
[    8.449797] sd 0:0:0:0: Attached scsi generic sg0 type 0
[    8.460258] scsi 0:0:0:1: Attached scsi generic sg1 type 13
[    8.579095] random: nonblocking pool is initialized
</code></pre>

<p>to be more specific, I have a powered usb hub plugged into the pi (and the wall) and a Western Digital 1TB external hard drive plugged into the pi (I can hear it running)</p>
"
31966,1,2015-05-27T16:13:12.157,1,683,31291,,2015-06-15T18:04:15.780,2015-06-15T18:04:15.780,0,,"<p>Just trying to customize some Picamera functionality though this is my first time coding in Python. Basically I am using the GPIO with a button switch to essentially turn just the preview on and off.  Ideally i did not want to use wait_for_edge because I wanted the pi to do other stuff in the interim and not be locked up waiting for the button press.   Then I submitted to using it after the event detection I set up since its fine that the program waits while in preview mode (for this case).   </p>

<p>The issue comes with just trying to use one button.  I basically initiate event detection on the button, then remove it once preview mode starts. Then I set it up to wait for the button press again.  But I run into:</p>

<pre><code>RuntimeError: Conflicting edge detection already enabled for this GPIO channel
</code></pre>

<p>The following is meat of the code thus far:</p>

<pre><code>from time import sleep
import picamera
import RPi.GPIO as GPIO
import datetime

today = datetime.datetime.today()
captureOn = 25


GPIO.setmode(GPIO.BCM)
GPIO.setup(captureOn, GPIO.IN, pull_up_down=GPIO.PUD_UP)
startPrev = True


def preview(channel):

        global captureOn
        global startPrev

        if GPIO.input(captureOn):
            print (""Rising Edge detected"")
            sleep(.5)
        else:

            if (startPrev == True):

                with picamera.PiCamera() as camera:
                    camera.resolution = 1920, 1080
                    camera.framerate = 30
                    camera.rotation = 0
                    camera.brightness = 50
                    camera.start_preview()
                    while True:
                          sleep(1)
                          print('preview started')
                          startPrev = False
                          if GPIO.input(captureOn):
                                 break

            else:
                ...stop preview code?


                print('stop preview')




GPIO.add_event_detect(captureOn, GPIO.BOTH, callback=preview, bouncetime=1000)
</code></pre>

<p>EDIT: It seems that while in my IF statement, the GPIO event detection is disabled or not being called as pressing the button does nothing (no print outs either)
FIXED: partially due to a wiring issue but added some code in the  while statement above!</p>
"
32240,1,2015-06-05T10:06:21.617,1,985,31562,,2019-08-18T07:02:25.323,,2,,"<p>I need a decent RPM (~100rpm) stepper motor for one of my RPi projects and 28BYJ-48 with ULN2003 driver boards are readily available online.  All works well, however driving ULN2003 (5V-12V rated) using RPi Pin-6 (5V) doesn't provide much RPM (~8-10rpm).</p>

<p>To achieve higher RPM out of 28BYJ-48, I got a LM2577 step-up converter module that is now connected to RPi Pin-6 (5V) and LM2577 Out+ now drives the ULN2003 driver board.  Out+ is set to 10.2V using on-board LM2577 potentiometer. </p>

<p>Now the problem is that as soon as I start my python stepper motor driving script, RPi restarts.  I don't see anything in <code>dmesg</code> either.  Has anyone achieved higher RPM from 28BYJ-48 using an alternate method and/or successfully used LM2577 step-up converter module with RPi?</p>
"
32389,1,2015-06-09T17:56:12.353,3,908,30643,,2015-06-10T19:11:41.323,2015-06-09T19:14:18.433,1,,"<p>I am currently building a remote controlled car with the RPi model A+. I am using pygame to run a continuous loop to check the states of the desired keys on the keyboard(w,a,s,d) and based on that run different functions. That cause the RC car to move in the respective direction. The problem I am having is that, the cpu reaches 100% load, and then it freezes(this happened while at stock, and with a medium overclock). I am running both an ssh server and an x11vnc server to control the RPi. Soon after it freezes, it closes both the vnc connection and the ssh connection to the client(the computer I'm using to control the pi). Is all this too much for the Pi to handle? This is my code for the car:</p>

<pre><code>import pygame
import RCcarFunctions
RCcarFunctions.init()
global forward, reverse, left, right
forward, reverse, left, right = False, False, False, False
pygame.init()
pygame.display.init()
size = (640,480)
pygame.display.set_mode((size))
pygame.key.set_repeat(500,10)
print (""Succesfully initialized"")
try:
  while True:
    keypressed = pygame.key.get_pressed()
    for event in pygame.event.get():
      if event.type == pygame.KEYDOWN:
        if keypressed[pygame.K_w]:
          forward = True
        if keypressed[pygame.K_a]:
          left = True
        if keypressed[pygame.K_s]:
          reverse = True
        if keypressed[pygame.K_d]:
          right = True
      elif event.type == pygame.KEYUP:
        if event.key == pygame.K_w:
          forward = False
        elif event.key == pygame.K_a:
          left = False
        elif event.key == pygame.K_s:
          reverse = False
        elif event.key == pygame.K_d:
          right = False
      elif event.type == pygame.QUIT:
        RCcarFunctions.cleanup()
        pygame.quit()
    if forward &amp; right:
      RCcarFunctions.right()
    elif forward &amp; left:
      RCcarFunctions.left()
    elif left:
      RCcarFunctions.left()
    elif right:
      RCcarFunctions.right()
    elif forward:
      RCcarFunctions.forward()
      RCcarFunctions.straight()
    elif reverse:
      RCcarFunctions.reverse()
      RCcarFunctions.straight()
    else:
      RCcarFunctions.brake()
except KeyboardInterrupt:
  print (""\ncleaning up"")
  RCcarFunctions.cleanup()
  pygame.quit()
</code></pre>

<p>If needed the RCcarFunctions library can be found <a href=""https://github.com/fazerlicourice7/house_of_licourice/blob/master/RaspberryPi/RCcar/RCcarFunctions.py"" rel=""nofollow"" title=""Library of functions for a remote controlled car"">here</a>.</p>
"
32462,1,2015-06-12T07:34:42.510,0,2609,31760,,2015-06-12T11:47:55.453,,0,,"<p>I have a raspberry pi model B, running speech_recognition 4.1 and pyaudio 0.2.8, and I am using a Logitech usb mincrophone. When I try and start speech recognition using <code>with sr.Microphone() as source: audio = r.listen(source)</code>(which I got from the github <a href=""https://github.com/Uberi/speech_recognition"" rel=""nofollow"">page</a>), I get this error</p>

<pre><code>    ALSA lib pcm_dmix.c:957:(snd_pcm_dmix_open) The dmix plugin supports only playback stream
ALSA lib pcm_dmix.c:957:(snd_pcm_dmix_open) The dmix plugin supports only playback stream
Expression 'parameters-&gt;channelCount &lt;= maxChans' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 1438
Expression 'ValidateParameters( inputParameters, hostApi, StreamDirection_In )' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 2742
Traceback (most recent call last):
File ""AI.py"", line 62, in 
with sr.Microphone(0) as source:
File ""/usr/local/lib/python2.7/dist-packages/SpeechRecognition-1.4.0-py2.7.egg/speech_recognition/init.py"", line 61, in enter
input = True, # stream is an input stream
File ""/usr/local/lib/python2.7/dist-packages/pyaudio.py"", line 747, in open
stream = Stream(self, args, kwargs)
File ""/usr/local/lib/python2.7/dist-packages/pyaudio.py"", line 442, in init
self._stream = pa.open(*arguments)
IOError: [Errno Invalid number of channels] -9998
</code></pre>

<p>The part at the bottom <code>IOError: [Errno Invalid number of channels] -9998</code> I had got before when I specified the wrong number of channels in a pyaudio script, but here I am not specifying any channels</p>
"
32516,1,2015-06-15T03:26:21.060,12,34789,31863,,2019-12-06T08:42:04.257,2015-06-16T04:16:46.243,6,,"<p>My Raspberry Pi B+ is running Raspbian (Linux version 3.18.11+) updated, etc.</p>

<p>It's connected to the network by ethernet. I want a static IP, and have assigned it one in /etc/network/interfaces (shown below). However, every boot it requests an address via DHCP and is assigned one! Both the static and dynamic addresses work to access the machine on the network.</p>

<p>Where can I stop the DHCP address from being requested and assigned??</p>

<p>/etc/network/interfaces 
</p>



<pre><code>auto lo
iface lo inet loopback

auto eth0
allow-hotplug eth0
iface eth0 inet static
address 192.168.1.7
netmask 255.255.255.0
gateway 192.168.1.1

auto wlan0
allow-hotplug wlan0
iface wlan0 inet manual
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

auto wlan1
allow-hotplug wlan1
iface wlan1 inet manual
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>



<p>ip addr show eth0</p>

<pre><code>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000
link/ether b8:27:eb:44:bb:23 brd ff:ff:ff:ff:ff:ff
inet 192.168.1.7/24 brd 192.168.1.255 scope global eth0
   valid_lft forever preferred_lft forever
inet 192.168.1.55/24 brd 192.168.1.255 scope global secondary eth0
   valid_lft forever preferred_lft forever
</code></pre>

<p>ifconfig</p>

<pre><code>eth0      Link encap:Ethernet  HWaddr b8:27:eb:44:bb:23  
          inet addr:192.168.1.7  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:11484 errors:0 dropped:4 overruns:0 frame:0
          TX packets:10212 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:4178807 (3.9 MiB)  TX bytes:4019638 (3.8 MiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
</code></pre>

<p>wpa_supplicant.conf</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
</code></pre>
"
32644,1,2015-06-18T07:42:13.973,8,8571,31963,,2017-01-02T10:37:34.843,,0,,"<p>I have a large monitor which I'd like to use with the Raspberry Pi 2 Model B. The monitor is an LG 21:9 ultrawide so a little unusual.</p>

<p>I'm running Ubuntu Mate and the resolution is defaulting to 1824 x 984.</p>

<p>I realise this is optimistic but is there a driver which can handle larger screen sizes or is the onboard graphics just not up to it?</p>
"
32649,1,2015-06-18T12:02:19.620,6,1274,31956,,2020-02-13T08:05:41.173,,3,,"<p>I have my raspberry Pi set up as a headless server running samba and deluge, where the OS's file system is mounted as read-only. It is connected by ethernet cable to the router, and has a USB hard drive (with independent power) attached. Previously it had been working fine and had an uptime of weeks, but recently the network connectivity on it has been crashing just about every day.</p>

<p>When the network connectivity crashes the Pi stays on and all LEDs are on, I can ping the pi, but I can no longer SSH or access other services on the device. Restarting the pi fixes the problem, so it's clearly not a router/port forwarding issue.</p>

<p>What could be causing this, and what steps can I take to fix it? I'd normally think it's a burned out SD card, but since it's mounted as read-only that seems unlikely.</p>
"
32703,1,2015-06-20T12:28:41.037,0,1382,31582,,2015-06-20T12:48:36.710,,0,,"<p>I connected my 20x4 LCD module to Raspberry Pi like this: 
<img src=""https://i.imgur.com/ywj1Cux.png"" alt=""enter image description here""></p>

<p>When I try to use <a href=""http://pastebin.com/M4D32fdi"" rel=""nofollow noreferrer"">code</a> from RaspberyPi-Spy it works but <a href=""https://github.com/dbrgn/RPLCD"" rel=""nofollow noreferrer"">RPLCD</a> doesn't. </p>

<p>This is how I initialize my LCD in 20x4.py (RPLCD test code)</p>

<pre><code>lcd = CharLCD(pin_rs=7, pin_e=8, pins_data=[25, 24, 23, 18], numbering_mode=GPIO.BOARD, cols=20, rows=4, dotsize=8)
</code></pre>

<p>When I run the code(I renamed it to hr.py) I get this error:
<img src=""https://i.stack.imgur.com/nI8cx.jpg"" alt=""enter image description here""></p>

<p>I also noticed that in <a href=""https://github.com/dbrgn/RPLCD#init-setup-teardown"" rel=""nofollow noreferrer"">RPLCD example</a> he set's pin_rw to 18, while my pin_rw is grounded.</p>
"
32728,1,2015-06-21T11:50:50.620,0,2092,19820,,2017-04-11T16:44:57.487,2015-06-21T12:06:12.483,2,,"<p>I try to port my GPIO project from quick2wire to WiringPi. My aim is to read the state of a photocell connected to pin 24 of my raspberry pi (model B, revision 2).</p>

<p>My code (python 3) looks like this:</p>

<pre><code>import wiringpi2 as wiringpi
import time

wiringpi.wiringPiSetupSys()
# wiringpi.wiringPiSetupGpio() # it would work with this instead of wiringPiSetupSys()

counter = 0
status = ""unknown""
while True:
    counter += 1
    light = wiringpi.digitalRead(24)
    if not light:
        status = ""ON""
    else:
        status = ""OFF""
    time.sleep(3)
    print('(' + str(counter) + ') ' + status)
</code></pre>

<p>When I <code>wiringpi.wiringPiSetupGpio()</code> instead of <code>wiringpi.wiringPiSetupSys()</code> the code works as expected. Using <code>wiringpi.wiringPiSetupSys()</code> however the output doesn't change - it would stay <code>ON</code> or <code>OFF</code> no matter how the state of the photo cell changes.</p>

<p>I also made sure that the pin is exported</p>

<pre><code>$ gpio exports
GPIO Pins exported:
   5: in   0  none 
</code></pre>

<p>As I checked the state of the photocell with <code>gpio gpio -g read 24</code> in the shell, I can exclude the possibility of a hardware issue.</p>

<p>As I want to use the code in a web application, I would strongly prefer to use <code>wiringPiSetupSys()</code> as a non-root user.</p>

<p>Can you help me solve or analyze the cause of this issue?</p>
"
32795,1,2015-06-23T13:04:14.917,2,948,32146,,2015-06-23T22:31:31.483,,1,,"<p><strong>Description</strong> : I am trying to make a remote controller for OSMC(Kodi) media player installed on Raspberry pi. Rpi will connected to mobile app through wifi. On the other hand Rpi is connected to switch board using RS232. Let me post a picture here to get an exact idea of connectivity..</p>

<p><img src=""https://i.stack.imgur.com/jx93L.jpg"" alt=""enter image description here""></p>

<p>Now OSMC provides its APIS to control operations like menu left , right , enter , volume up etc. That through Rpi's static IP we can perform from mobile App.</p>

<p>Now our Main Board will have 4 zones which will be connected to 4 display among one of them will display OSMC media player. What I am trying to do is to switch between display to show osmc media player.</p>

<p>I am using <a href=""http://pyserial.sourceforge.net/"" rel=""nofollow noreferrer"">http://pyserial.sourceforge.net/</a> library to send command from from Rpi to switch board to arrange connections between switch board and displays.</p>

<p><strong>Now the question :</strong> How to Send commands from Mobile App to Rpi(like telling Rpi this command you have to call on Rs232), through Web Service? Mobile Developer Suggested me to use some socket programming. But I have very little knowledge about the same. I know if we have static IP of Rpi there can be some data exchange done between Mobile App and Rpi, But I am still confused regarding what medium to use for communication. Any suggestions would be appreciated.</p>
"
32872,1,2015-06-25T03:02:31.060,1,7593,32221,,2016-10-12T00:56:54.040,,0,,"<p>I am connecting a raspberry pi to help a friend of mine. The wifi network it needs to be on is on a hidden SSID that has no password for WEP or WPA (security is done through other means), and it needs to setup for a static ip address.</p>

<p>I can't have access to the router to make it static though DHCP configs, and the gui applications the pi comes with can't seem to handle hidden networks.</p>

<p>This is suppose to be a very lightweight install, so I rather have the setup done through the /etc/network/interface and /etc/wpa-supplicant/wpa-supplicant files if possible and not use any external network manager for it.</p>
"
33036,1,2015-06-30T15:24:56.950,2,1422,32368,,2015-12-28T14:27:06.873,,0,,"<p>My Raspberry Pi 2 has Windows 10 IoT on it but I need to change the ""hosts"" file.</p>

<p>Any idea how to do this?</p>
"
33229,1,2015-07-08T03:29:03.320,2,1641,39697,,2016-07-04T03:31:49.550,,0,,"<p>I'm trying to allow my Pi to connect to a public Wifi network with no password, but I can't seem to get the wpa_supplicant.conf file right. Here's the file:</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

# Public network
network={
    ssid=""PublicSSID""
    key_mgmt=None
}
</code></pre>

<p>When I try to connect, however, I get this error: </p>

<pre><code>wpa_supplicant: /sbin/wpa_supplicant daemon failed to start
run-parts: /etc/network/if-pre-up.d/wpasupplicant exited with return code 1
Failed to connect to wpa_supplicant - wpa_ctrl_open: No such file or directory
wpa_supplicant: /sbin/wpa_cli daemon failed to start
run-parts: /etc/network/if-up.d/wpasupplicant exited with return code 1
</code></pre>

<p>I am able to connect to my home networks and others that have passwords just fine. Any ideas what's going wrong? </p>

<p>Btw, I am connecting like this: (wifi is wlan1):</p>

<pre><code>$ sudo ifdown wlan1
$ sleep 5
$ sudo ifup wlan1
</code></pre>
"
33318,1,2015-07-10T08:09:37.213,3,3095,32676,,2018-04-19T14:21:56.663,2018-04-19T14:21:56.663,5,,"<p>I have been using my raspberry pi and working with the camera module. The lowest time taken by regular raspistill to capture a single image is about 900ms. I use the picamera python interface with video-port set &amp; use camera_sequence function for format = jpeg the time to capture a frame comes down to 80 ms &amp; 30 ms for yuv. Now the project that i am working on requires the time taken to capture a single frame to be at 10ms at least. I know that its possible if we put our raw image data on RAM (possibly the bayers data). Any ideas on how it can be done? </p>

<pre><code>import io
import time
import picamera
import cv2

with picamera.Picamera() as camera:
    camera.resolustion = (750 , 150)
    camera.framerate = 80
    time.sleep(2)
    camera.shutter_speed = 400
    outputs = [io.BytesIO]
    start = time.time()
    camera.capture_sequence(outputs , 'jpeg' , use_video_port=True)
    finish = time.time()
    print(finish-start)
</code></pre>
"
33415,1,2015-07-13T14:53:56.960,1,2234,32756,,2016-04-23T00:30:15.703,2016-04-22T00:02:43.953,5,,"<p>I'm using Mono and the Raspberry Sharp library to try and decode the output of a rotary encoder. </p>

<p>Raspberry sharp: <a href=""https://github.com/raspberry-sharp/raspberry-sharp-io"" rel=""nofollow"">https://github.com/raspberry-sharp/raspberry-sharp-io</a></p>

<p>Rotary encoder data sheet: <a href=""http://www.bourns.com/data/global/pdfs/PEC11R.pdf"" rel=""nofollow"">http://www.bourns.com/data/global/pdfs/PEC11R.pdf</a></p>

<p>So far I've tried using the library's <code>PinStatusChanged</code> event to trigger a simple <code>Console.WriteLine()</code> when either one of the pins changes value:</p>

<pre class=""lang-cs prettyprint-override""><code>private static InputPinConfiguration pinA = ConnectorPin.P1Pin24.Input().PullUp();
private static InputPinConfiguration pinB = ConnectorPin.P1Pin26.Input().PullUp();

static void Main(string[] args)
{
    var pinAConnection = new GpioConnection(pinA);
    pinAConnection.PinStatusChanged += (sender, eventArgs) =&gt;
        {
            Console.WriteLine(eventArgs.Enabled.ToString());
        };

    var pinBConnection = new GpioConnection(pinB);
    pinBConnection.PinStatusChanged += (sender, eventArgs) =&gt;
        {
            Console.WriteLine(eventArgs.Enabled.ToString());
        };
}
</code></pre>

<p>If I run this on the Pi I can see things happening with the above code. The problem I'm facing is that the Raspberry Sharp library doesn't appear to have functionality for monitoring multiple pins at the same time. To the best of my knowledge, correctly assessing the state of the rotary encoder requires interpreting the values of two of its pins simultaneously. Does anyone have any suggestions as to how to go about this using the Raspberry Sharp library?</p>
"
33666,1,2015-07-21T11:12:41.077,2,11560,32986,,2016-12-04T07:45:19.170,2016-12-04T07:45:19.170,20,,"<p>I followed the instructions given in the blog and everything got executed without any errors. But in the end </p>

<p><a href=""https://www.raspberrypi.org/documentation/hardware/raspberrypi/spi/README.md"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/documentation/hardware/raspberrypi/spi/README.md</a></p>

<p>Ran this script:</p>

<pre><code>wget https://raw.githubusercontent.com/raspberrypi/linux/rpi-3.10.y/Documentation/spi/spidev_test.c
gcc -o spidev_test spidev_test.c
./spidev_test -D /dev/spidev0.0
</code></pre>

<p>Expected output: </p>

<pre><code>spi mode: 0
bits per word: 8
max speed: 500000 Hz (500 KHz)

FF FF FF FF FF FF
40 00 00 00 00 95
FF FF FF FF FF FF
FF FF FF FF FF FF
FF FF FF FF FF FF
DE AD BE EF BA AD
F0 0D
</code></pre>

<p>Output which I got: </p>

<pre><code>spi mode: 0
bits per word: 8
max speed: 500000 Hz (500 KHz)

00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00 00 00 00 00
00 00 
</code></pre>

<p>I did connect MOSI and MISO.
Also lsmod does show spibcm2708 drivers being enabled. </p>

<p>I tested the same tutorial on 2 Raspberry Pi, but same result. Where am I going wrong? What am I missing?</p>

<p><img src=""https://i.stack.imgur.com/sSrD6.jpg"" alt=""enter image description here"">
<img src=""https://i.stack.imgur.com/PE13d.jpg"" alt=""enter image description here""></p>

<p>EDIT:</p>

<p>Error fixed. Thanks to @dastaan for spotting. 
I was using a 26 pin reference and hence was doing a wrong connection. It's working fine for me now. </p>
"
33735,1,2015-07-23T11:41:13.260,1,7435,33064,,2015-07-23T18:16:24.617,2015-07-23T18:16:24.617,2,,"<p>I'm intending to use <a href=""http://www.adafruit.com/products/385"" rel=""nofollow"">DHT22</a>s to get temperatures from multiple sites using a RPi2.</p>

<p>Since I'm not much of an electronics guy, how many DHT22s can I connect? From the schematics, it uses the 3V port for power, and RPi has 2 of those only.</p>
"
33875,1,2015-07-27T13:05:41.863,5,9325,33176,,2016-07-19T20:20:17.377,2015-07-30T05:34:44.143,2,,"<p>I'm using a ACS ACR1252U card reader (<a href=""http://www.acs.com.hk/en/products/342/acr1252u-usb-nfc-reader-iii-nfc-forum-certified-reader/"" rel=""noreferrer"">http://www.acs.com.hk/en/products/342/acr1252u-usb-nfc-reader-iii-nfc-forum-certified-reader/</a>) connected via USB and to be honest I have no idea how to get it working. I've Googled a ton of stuff but no luck. The following is more or less what I've done:</p>

<p>I get the following using dmesg:</p>

<pre><code>[ 7173.059710] usb 1-1.3: new full-speed USB device number 6 using dwc_otg
[ 7173.160500] usb 1-1.3: not running at top speed; connect to a high speed hub
[ 7173.163114] usb 1-1.3: New USB device found, idVendor=072f, idProduct=223b
[ 7173.163147] usb 1-1.3: New USB device strings: Mfr=1, Product=2, SerialNumber=0
[ 7173.163168] usb 1-1.3: Product: ACR1252 Dual Reader
[ 7173.163186] usb 1-1.3: Manufacturer: ACS
</code></pre>

<p>I used the following Python code to get more details about the devices:</p>

<pre><code>#!/usr/bin/python

import sys
import usb.core

# find USB devices
dev = usb.core.find(find_all=True)


# loop through devices, printing vendor and product ids in decimal and hex
for cfg in dev:
    print cfg
    sys.stdout.write('Decimal VendorID=' + str(cfg.idVendor) + ' &amp; ProductID=' + str(cfg.idProduct) + '\n')
    sys.stdout.write('Hexadecimal VendorID=' + hex(cfg.idVendor) + ' &amp; ProductID=' + hex(cfg.idProduct) + '\n\n')
</code></pre>

<p>The output for this specific device is:</p>

<pre><code>DEVICE ID 072f:223b on Bus 001 Address 004 =================
 bLength                :   0x12 (18 bytes)
 bDescriptorType        :    0x1 Device
 bcdUSB                 :  0x200 USB 2.0
 bDeviceClass           :    0x0 Specified at interface
 bDeviceSubClass        :    0x0
 bDeviceProtocol        :    0x0
 bMaxPacketSize0        :   0x40 (64 bytes)
 idVendor               : 0x072f
 idProduct              : 0x223b
 bcdDevice              :  0x100 Device 1.0
 iManufacturer          :    0x1 ACS
 iProduct               :    0x2 ACR1252 Dual Reader
 iSerialNumber          :    0x0 
 bNumConfigurations     :    0x1
  CONFIGURATION 1: 200 mA ==================================
   bLength              :    0x9 (9 bytes)
   bDescriptorType      :    0x2 Configuration
   wTotalLength         :   0xb1 (177 bytes)
   bNumInterfaces       :    0x2
   bConfigurationValue  :    0x1
   iConfiguration       :    0x0 
   bmAttributes         :   0x80 Bus Powered
   bMaxPower            :   0x64 (200 mA)
    INTERFACE 0: Smart Card ================================
     bLength            :    0x9 (9 bytes)
     bDescriptorType    :    0x4 Interface
     bInterfaceNumber   :    0x0
     bAlternateSetting  :    0x0
     bNumEndpoints      :    0x3
     bInterfaceClass    :    0xb Smart Card
     bInterfaceSubClass :    0x0
     bInterfaceProtocol :    0x0
     iInterface         :    0x4 ACR1252 Dual Reader PICC
      ENDPOINT 0x1: Bulk OUT ===============================
       bLength          :    0x7 (7 bytes)
       bDescriptorType  :    0x5 Endpoint
       bEndpointAddress :    0x1 OUT
       bmAttributes     :    0x2 Bulk
       wMaxPacketSize   :   0x40 (64 bytes)
       bInterval        :    0x0
      ENDPOINT 0x81: Bulk IN ===============================
       bLength          :    0x7 (7 bytes)
       bDescriptorType  :    0x5 Endpoint
       bEndpointAddress :   0x81 IN
       bmAttributes     :    0x2 Bulk
       wMaxPacketSize   :   0x40 (64 bytes)
       bInterval        :    0x0
      ENDPOINT 0x84: Interrupt IN ==========================
       bLength          :    0x7 (7 bytes)
       bDescriptorType  :    0x5 Endpoint
       bEndpointAddress :   0x84 IN
       bmAttributes     :    0x3 Interrupt
       wMaxPacketSize   :   0x40 (64 bytes)
       bInterval        :    0xa
    INTERFACE 1: Smart Card ================================
     bLength            :    0x9 (9 bytes)
     bDescriptorType    :    0x4 Interface
     bInterfaceNumber   :    0x1
     bAlternateSetting  :    0x0
     bNumEndpoints      :    0x3
     bInterfaceClass    :    0xb Smart Card
     bInterfaceSubClass :    0x0
     bInterfaceProtocol :    0x0
     iInterface         :    0x5 ACR1252 Dual Reader SAM
      ENDPOINT 0x2: Bulk OUT ===============================
       bLength          :    0x7 (7 bytes)
       bDescriptorType  :    0x5 Endpoint
       bEndpointAddress :    0x2 OUT
       bmAttributes     :    0x2 Bulk
       wMaxPacketSize   :   0x40 (64 bytes)
       bInterval        :    0x0
      ENDPOINT 0x82: Bulk IN ===============================
       bLength          :    0x7 (7 bytes)
       bDescriptorType  :    0x5 Endpoint
       bEndpointAddress :   0x82 IN
       bmAttributes     :    0x2 Bulk
       wMaxPacketSize   :   0x40 (64 bytes)
       bInterval        :    0x0
      ENDPOINT 0x83: Interrupt IN ==========================
       bLength          :    0x7 (7 bytes)
       bDescriptorType  :    0x5 Endpoint
       bEndpointAddress :   0x83 IN
       bmAttributes     :    0x3 Interrupt
       wMaxPacketSize   :   0x40 (64 bytes)
       bInterval        :    0xa
Decimal VendorID=1839 &amp; ProductID=8763
Hexadecimal VendorID=0x72f &amp; ProductID=0x223b
</code></pre>

<p>I installed PyUSB and I'm able to detect the device using some of the sample code, but nothing like reading the NFC card when it comes into proximity (although there is a beeping sound, which makes me believe the USB device itself is working fine).</p>

<p>I also installed libacsccid1 package which says it supports this device <a href=""https://github.com/acshk/acsccid"" rel=""noreferrer"">https://github.com/acshk/acsccid</a>, but I don't know exactly how to use this.</p>

<p>Besides that, I don't know what else to do. Any help will be greatly appreciated. The goal of my project is to control a GPIO output dependent on the value of the NFC tag detected.</p>

<p>--- <strong>Update</strong> ---</p>

<p>I've worked a bit more and although I still can't get it working, I have more data. Specifically I'm working off of this: <a href=""http://www.digitalmihailo.com/usb-programming-with-python-on-linux-pyusb-version/"" rel=""noreferrer"">http://www.digitalmihailo.com/usb-programming-with-python-on-linux-pyusb-version/</a></p>

<p>From the datasheets I can confirm it's a USB 2.0 full speed device:</p>

<p><a href=""https://i.stack.imgur.com/7oqzE.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/7oqzE.png"" alt=""enter image description here""></a></p>

<p>For testing, I just want to make the buzzer sound. Here's the screenshot of the device's API doc for this functionality:</p>

<p><a href=""https://i.stack.imgur.com/0oZk9.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/0oZk9.png"" alt=""enter image description here""></a></p>

<p>So, a simplified version of <a href=""http://www.digitalmihailo.com/usb-programming-with-python-on-linux-pyusb-version/"" rel=""noreferrer"">http://www.digitalmihailo.com/usb-programming-with-python-on-linux-pyusb-version/</a> for my device would be:</p>

<pre><code>#!/usr/bin/python

import os
import sys
import time

import usb.core
import usb.util


# According to what I've read, full speed USB is 64 byte packet size.
packet_len = 64

# Packing a request.
# Packets are 64 bytes long, most of the commands are 4 bytes long. So up to 18
# can be batched into a packet. For example command with bytes [0x94, 0x0, 0x0, 0x0] is getting firmware id
def pack_request(*arguments):
    packet = [0x0] * packet_len
    i = 0
    for arg in arguments:
        packet[i] = arg
        i += 1
    #packet[0:4] = [0x94, 0x0, 0x0, 0x0] #get firmware id
    return ''.join([chr(c) for c in packet])


def main():
    #Updated for the ACS ACR1252U
    dev = usb.core.find(idVendor=0x72f, idProduct=0x223b)

    # was it found?
    if dev is None:
        raise ValueError('Device not found')

    try:
        dev.detach_kernel_driver(0)
    except: # this usually mean that kernel driver has already been dettached
        pass

    # ACS ACR1252U only has 1 configuration
    dev.set_configuration()

    # Interface 0: Dual Reader PICC. This is what we want
    # Interface 1: Dual Reader SAM
    try:
        dev.set_interface_altsetting(0)
    except usb.core.USBError:
        print 'Error setting interface!'
        pass

    # According to the API, to sound the buzzer we must send:
    #
    # Class: 0xe0
    # INS: 0x00
    # P1: 0x00
    # P2: 0x28
    # Lc: 0x01
    # DataIn (duration): 0xff (for 255 * 10ms = 2.55 seconds)
    raw = pack_request(0xe0, 0x00, 0x00, 0x28, 0x01, 0xff)

    #send the packet
    # Params are (endpoint, data, timeout)
    #
    # According to the script output:
    # ENDPOINT 0x01: Bulk OUT
    dev.write(endpoint=0x01, data=raw)
    #done


if __name__ == '__main__':
  main()
</code></pre>

<p>When I run this nothing happens... no buzzer, no error message. What could be wrong here?</p>

<p>Thanks!</p>
"
33955,1,2015-07-29T20:13:13.263,5,12196,31990,,2019-10-31T09:38:57.310,,0,,"<p>I want to try out JSN-SR04T, which is an ultrasonic distance measuring module, that is also supposedly water proof. The main reason that i want to try this module over the HC-SR04, is because the JSN-SR04T is waterproof, which is what I need. Unfortunately, I am not sure how to use it on a Raspberry Pi. I am not sure how to connect it, and how to program it using Python. If someone is able to help me, on how to properly connect and program this module using python, on the Raspberry Pi, please post below, and this will help me a lot. </p>

<p>More Information and specifications about the module can be found here : </p>

<p><a href=""http://www.ebay.ca/itm/Ultrasonic-Module-Distance-Measuring-Transducer-Sensor-Perfect-Waterproof-/141728581416?hash=item20ffae8728"" rel=""noreferrer"">http://www.ebay.ca/itm/Ultrasonic-Module-Distance-Measuring-Transducer-Sensor-Perfect-Waterproof-/141728581416?hash=item20ffae8728</a></p>

<p>and </p>

<p><a href=""http://www.icstation.com/ultrasonic-module-sr04t-distance-measuring-transducer-sensor-p-5046.html"" rel=""noreferrer"">http://www.icstation.com/ultrasonic-module-sr04t-distance-measuring-transducer-sensor-p-5046.html</a></p>

<p>Thank You!</p>
"
34124,1,2015-08-05T06:38:57.647,1,1494,33459,,2015-08-05T12:29:02.703,2015-08-05T07:43:56.743,9,,"<p>I'm using a Raspberry pi model B 512MB with 3 HC-SR04 sonarsensors. I want the program to run for a couple of weeks none stop. I am doing it in three separate python-scripts. Every python-script is generating a csv-file with the data in it. I have made a script in /etc/init.d/ so the scripts will be starting when the raspberry pi boots. My problem is that after a few hours the scripts stop working. I can see the processes are still alive through the command: ""ps aux"". Here the process have a ""R"" in the STAT column. </p>

<p>Any idea why the scripts stop working? I have tried to log all exceptions with a try/except-loop, and the use of the library logging but it doesn't show anything.</p>

<p>I suspect that there is some Raspberry Pi configuration that i need to do to keep it running ""forever"" but i don't know. </p>

<p>EDIT:
I have added my code for one of the sonarsensors below.</p>

<p>AfstandsmaalerX.py:</p>

<pre><code>#!/usr/bin/python
import sys
import logging
import RPi.GPIO as GPIO                    #Import GPIO library
import time                                #Import time library
import shutil
import os
import fcntl, socket, struct
from os import path, mkdir
import subprocess
GPIO.setmode(GPIO.BCM)                     #Set GPIO pin numbering 

def getHwAddr(ifname):
   s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
   info = fcntl.ioctl(s.fileno(), 0x8927,  struct.pack('256s', ifname[:15]))
   return ':'.join(['%02x' % ord(char) for char in info[18:24]])

def checkDirectory(thePath):
   if (not path.isdir(thePath)):
       mkdir(thePath)

MACAddress = getHwAddr('eth0')

TRIG = 23                                  #Associate pin 23 to TRIG
ECHO = 24                                  #Associate pin 24 to ECHO
x = 0
antalMaalingerPrFil = 300
newdest = '/home/pi/Result'

print ""Distance Measurement Initiated""

GPIO.setup(TRIG,GPIO.OUT)                  #Set pin as GPIO out
GPIO.setup(ECHO,GPIO.IN)                   #Set pin as GPIO in
GPIO.setwarnings(False)
oldDistance = 0
distance_pic = 0
time_start = time.time()

logging.basicConfig(level=logging.DEBUG, filename='/home/pi/failX.log')

while True:
   try:
     import csv
     timestamp = time.strftime(""_%H-%M-%S-%d-%m-%Y"")
     filenameRange = """".join([MACAddress, timestamp,""_RangeX"", "".csv""])
     RangeFile = open(filenameRange, ""wb"")
     csv_writerRange = csv.writer(RangeFile, delimiter="";"")

     GPIO.output(TRIG, False)                 #Set TRIG as LOW
     print ""Waitng For Sensor To Settle""
     time.sleep(1)                            #Delay of 1 seconds

     while x&lt;antalMaalingerPrFil:
        GPIO.output(TRIG, True)                  #Set TRIG as HIGH
        time.sleep(0.00001)                      #Delay of 0.00001 seconds
        GPIO.output(TRIG, False)                 #Set TRIG as LOW

        pulse_start = time.time()
        while GPIO.input(ECHO) == 0:             #Check whether the ECHO is LOW
           pulse_start = time.time()              #Saves the last known time of LOW pulse

        pulse_end = pulse_start
        timeUp = time.time()
        while GPIO.input(ECHO) == 1:              #Check whether the ECHO is HIGH
           pulse_end = time.time()                #Saves the last known time of HIGH pulse
           timeDown = time.time()
           timeOut = timeDown - timeUp
           if timeOut &gt; 0.050:
               break 

     pulse_duration = pulse_end - pulse_start #Get pulse duration to a variable

     distance = pulse_duration * 17150        #Multiply pulse duration by 17150 to get distance
     distance = round(distance, 2)            #Round to two decimal points
     distance = distance - 0.5

     timestamp_range = time.strftime('%T %d-%m-%Y')
     tmpRange = [timestamp_range]
     tmpRange.extend([distance])
     csv_writerRange.writerows([tmpRange])
     time.sleep(2)

     x += 1

  RangeFile.close()

  checkDirectory(newdest)

  x = 0

  source = os.listdir(""/"")
  destination = newdest
  for files in source:
     if files.endswith(""RangeX.csv""):
        shutil.move(files,destination)


except:
    logging.exception(""Fail:"")
</code></pre>

<p>And here is my script in /etc/init.d to run the script above from boot.</p>

<p>afstandsmaalerX:</p>

<pre><code>#!/bin/bash

### BEGIN INIT INFO
# Provides:     afstandsmaalerX
# Required-Start:   $remote_fs $syslog
# Required-Stop:    $remote_fs $syslog
# Default-Start:    2 3 4 5
# Default-Stop:     0 1 6
# Short-Description:    afstandsmaalerX at boot time
# Description:      afstandsmaalerX
### END INIT INFO


case ""$1"" in
    start)
            echo ""Starting sonarsensorX""            
            /home/pi/codes/Data_Acquisition_System/Maalere/AfstandsmaalerX.py &amp;
            ;;
    stop)
            echo ""Stopping sonarsensor X""
            killall AfstandsmaalerX.py
            ;;
    *)
            echo ""Wrong Command""
            exit 1
            ;;
esac

exit 0
</code></pre>

<p>I have made the script executeable and I have ran the command: 
""sudo update-rc.d afstandsmaalerX defaults""</p>

<p>This is only the code for one of the sonarsensors, but the code is similar for the two others.</p>
"
34207,1,2015-08-08T12:08:23.550,0,52,32830,,2015-08-08T13:45:04.450,,0,,"<p>Though not a default on either, I see the download is available on both OS's. However, considering the different goals of each OS, I wanted to know if they were identical downloads, or were any pen testing tools included in the Kali OS. </p>
"
34308,1,2015-08-11T18:45:59.773,1,545,33654,,2015-08-14T08:27:30.340,2015-08-11T21:16:42.403,2,,"<p>I want to ask if I connect the LCD display to the Raspberry Pi, the pins that the display uses to work, am I able to use them for other stuff? </p>

<p>For example, to connect 433 MHz receiver and have the display the same time?</p>
"
34309,1,2015-08-11T18:55:01.443,4,5648,31545,,2016-07-31T21:04:51.673,2016-04-21T15:38:30.983,0,,"<p>Now that windows 10 Core IoT - final RTM version is available. Are there any ways to program a Windows Universal App to use PWM hardware connected to the GPIO?</p>

<p>I need this for controlling the color of a LED strip. Previously only software / timer based solutions were possible but they do not work well. Documentation is still in Preview.</p>
"
34484,1,2015-08-15T23:58:13.180,0,4022,32657,,2016-05-16T05:53:12.060,2020-06-16T10:47:29.480,3,,"<p>Hi firstly i have tested this command from the official site to install mongodb on the pi :
<a href=""http://docs.mongodb.org/manual/tutorial/install-mongodb-on-debian/"" rel=""nofollow noreferrer"">http://docs.mongodb.org/manual/tutorial/install-mongodb-on-debian/</a></p>
<blockquote>
<p>sudo apt-get install -y mongodb-org</p>
<p>E: Unable to locate package mongodb-org</p>
</blockquote>
<p>i have tried another version</p>
<pre><code>  sudo apt-get install -y mongodb-org=3.0.5 mongodb-org-server=3.0.5
  mongodb-org-shell=3.0.5 mongodb-org-mongos=3.0.5 mongodb-org-tools=3.0.5
  E: Unable to locate package mongodb-org 
  E: Unable to locate package mongodb-org-server E: Unable to locate
  package mongodb-org-shell 
  E: Unable to locate package mongodb-org-mongos
  E: Unable to locate package mongodb-org-tools
</code></pre>
<p>after that , i found the folowing repository to install mongodb on the pi</p>
<p><a href=""https://github.com/RickP/mongopi"" rel=""nofollow noreferrer"" title=""mongopi"">mongopi</a></p>
<p>however when i run</p>
<blockquote>
<p>scons</p>
</blockquote>
<p>i get these errors</p>
<pre><code>scons: Reading SConscript files ...
scons version: 2.3.6
python version: 2 7 3 'final' 0
Checking whether the C++ compiler works... (cached) yes
Checking for C header file unistd.h... (cached) yes
Checking whether clock_gettime is declared... (cached) yes
Checking for C library rt... (cached) yes
Checking for C++ header file execinfo.h... (cached) yes
Checking whether backtrace is declared... (cached) yes
Checking whether backtrace_symbols is declared... (cached) yes
Checking for C library pcap... (cached) no
Checking for C library wpcap... (cached) no
scons: done reading SConscript files.
scons: Building targets ...
g++ -o build/linux2/normal/mongo/util/version.o -c -Wnon-virtual-dtor -Woverloaded-virtual -fPIC -fno-strict-aliasing -ggdb -pthread -Wall -Wsign-compare -Wno-unknown-pragmas -Winvalid-pch -Werror -pipe -fno-builtin-memcmp -O3 -DBOOST_ALL_NO_LIB -D_SCONS -DMONGO_EXPOSE_MACROS -DSUPPORT_UTF8 -D_FILE_OFFSET_BITS=64 -DJS_C_STRINGS_ARE_UTF8 -DMONGO_HAVE_HEADER_UNISTD_H -DMONGO_HAVE_EXECINFO_BACKTRACE -DXP_UNIX -Ibuild/linux2/normal/third_party/boost -Isrc/third_party/boost -Ibuild/linux2/normal/third_party/pcre-8.30 -Isrc/third_party/pcre-8.30 -Ibuild/linux2/normal -Isrc -Ibuild/linux2/normal/mongo -Isrc/mongo -Ibuild/linux2/normal/third_party/snappy -Isrc/third_party/snappy -Ibuild/linux2/normal/third_party/js-1.7 -Isrc/third_party/js-1.7 src/mongo/util/version.cpp
In file included from src/mongo/util/version.cpp:29:0:
src/mongo/util/file.h:33:13: error: 'uint64_t' does not name a type
src/mongo/util/file.h:43:20: error: 'fileofs' has not been declared
src/mongo/util/file.h:44:19: error: 'fileofs' has not been declared
src/mongo/util/file.h:47:9: error: 'fileofs' does not name a type
src/mongo/util/file.h:51:23: error: 'fileofs' has not been declared
src/mongo/util/file.h:188:20: error: 'fileofs' has not been declared
src/mongo/util/file.h:191:19: error: 'fileofs' has not been declared
src/mongo/util/file.h:203:9: error: 'fileofs' does not name a type
src/mongo/util/file.h:217:23: error: 'fileofs' has not been declared
src/mongo/util/file.h: In member function 'void mongo::File::truncate(int)':
src/mongo/util/file.h:218:21: error: 'len' was not declared in this scope
src/third_party/boost/boost/system/error_code.hpp: At global scope:
src/third_party/boost/boost/system/error_code.hpp:214:36: error: 'boost::system::posix_category' defined but not used [-Werror=unused-variable]
src/third_party/boost/boost/system/error_code.hpp:215:36: error: 'boost::system::errno_ecat' defined but not used [-Werror=unused-variable]
src/third_party/boost/boost/system/error_code.hpp:216:36: error: 'boost::system::native_ecat' defined but not used [-Werror=unused-variable]
cc1plus: all warnings being treated as errors
scons: *** [build/linux2/normal/mongo/util/version.o] Error 1
scons: building terminated because of errors.
</code></pre>
<p>is there any others method can i try ?</p>
<p>any suggestions well be appreciated , thanks</p>
"
34593,1,2015-08-19T08:14:51.783,3,1599,24276,,2017-02-25T14:06:40.870,2015-08-20T08:30:55.893,1,,"<p>I can make two arduinos work together (exchange payloads) but not a rPi and an Arduino. I migrated my arduino ""base"" code to raspberry in order to just ""copy"" its behavior. The rPi seems to not proceed with the <code>network.available()</code> :</p>

<p>base.cpp</p>

<pre><code>#include &lt;RF24/RF24.h&gt;
#include &lt;RF24Network/RF24Network.h&gt;
#include &lt;iostream&gt;
#include &lt;ctime&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;

using namespace std;

//////////////////////////////////////
// Create the structures for data
//////////////////////////////////////
struct data_received {
  uint16_t node;
  uint16_t temp;
  uint16_t humi;
  uint16_t light;
  uint16_t door;
  uint16_t pir;
  uint32_t hkey;
};

struct data_to_send {
  uint32_t hkey;
}confirm;

unsigned long finish = 0;
unsigned long elapsed = 0;

//////////////////////////////////////
// Setup nRF24L01+ module &amp; Oled
//////////////////////////////////////
RF24 radio(RPI_V2_GPIO_P1_15, RPI_V2_GPIO_P1_24, BCM2835_SPI_SPEED_8MHZ);

RF24Network network(radio);
const uint64_t this_node  = 00; // base

//////////////////////////////////////
// loop
//////////////////////////////////////

int main(int argc, char** argv)
{

  //////////////////////////////////////
  // setup
  //////////////////////////////////////

  // Initialize interfaces
  cout&lt;&lt;""Starting interfaces..."";
  radio.begin();
  radio.setRetries(7,7);
  delay(5);
  cout&lt;&lt;""complete]\n"";
  network.begin(90, this_node);
  radio.setDataRate(RF24_250KBPS);
  radio.printDetails();

  while(1) {

    network.update();
    data_received payload;

    cout&lt;&lt;""**""&lt;&lt;network.available()&lt;&lt;'\n';

    // listen for incoming clients
    while ( network.available() )
      {
        RF24NetworkHeader header;
        confirm.hkey = 0;

        // read the next available header
        network.peek(header);

        // print NRF24 header data
        cout&lt;&lt;""\n[header info =&gt; id: "";
        cout&lt;&lt;header.id&lt;&lt;"" type: "";
        cout&lt;&lt;header.type&lt;&lt;"" from_node: "";
        cout&lt;&lt;header.from_node&lt;&lt;""]"";

        // read data
        network.read( header, &amp;payload, sizeof(payload) );

        // Print data received
        cout&lt;&lt;""[NODE: ""&lt;&lt;payload.node&lt;&lt;"" ]=&gt;  "";
        cout&lt;&lt;""[temp: ""&lt;&lt;payload.temp&lt;&lt;""*C] "";
        cout&lt;&lt;""[humi: ""&lt;&lt;((float)payload.humi)&lt;&lt;""%] "";
        cout&lt;&lt;""[light: ""&lt;&lt;((float)payload.light)&lt;&lt;""%] "";
        cout&lt;&lt;""[door: ""&lt;&lt;payload.door&lt;&lt;""] "";
        cout&lt;&lt;""[pir: ""&lt;&lt;payload.pir&lt;&lt;""] "";
        cout&lt;&lt;""[hkey: ""&lt;&lt;payload.hkey&lt;&lt;""] "";

        // send back data to confirm integrity
        confirm.hkey = payload.hkey;
        cout&lt;&lt;""..."";
        RF24NetworkHeader header2(header.from_node);

        // starts counting just before sending
        elapsed = 0;
        unsigned long start = millis();

        bool sent_back = network.write( header2, &amp;confirm, sizeof(confirm));

        if (sent_back == true){
          finish = millis();
          elapsed = finish - start;
          cout&lt;&lt;elapsed;
          cout&lt;&lt;""ms"";
          cout&lt;&lt;"" - Confirmed back \n"";
        }
        else{
          cout&lt;&lt;""Not confirmed"";
        }

      }

      int value = 0;
      float vin = 0.0;
      value = payload.light;
      vin = 3.472 * value / 1024;
      cout&lt;&lt;""VIn: ""&lt;&lt;vin&lt;&lt;'\n';

      cout&lt;&lt;""Listening for nodes..""&lt;&lt;'\n';
      delay(1000);
  }
  return 0;
}
</code></pre>

<p>a node (arduino)</p>

<pre><code>#include &lt;dht11.h&gt;
#include ""RF24Network.h""
#include ""RF24.h""
#include &lt;SPI.h&gt;
#include ""printf.h""
#include &lt;JeeLib.h&gt;

//////////////////////////////////////
// Create the structures for data
//////////////////////////////////////
struct data_to_send {
  uint16_t node;
  uint16_t temp;
  uint16_t humi;
  uint16_t light;
  uint16_t door;
  uint16_t pir;
  uint32_t hkey;
};

struct data_received {
  uint32_t hkey = 0;
};

//////////////////////////////////////
// Setup nRF24L01+ module
//////////////////////////////////////
RF24 radio(8,7);
RF24Network rf24Net(radio);
const uint64_t this_node =  02; // node A
const uint64_t other_node = 00; // base

//////////////////////////////////////
// Setup the rest of it
//////////////////////////////////////

const int led_A_Pin = 6;
const int optoPin   = A2;

unsigned long currentTime = 0;
unsigned long startTime   = 0;
bool runOnce = true;

ISR(WDT_vect) { Sleepy::watchdogEvent(); } // Setup the watchdog

//////////////////////////////////////
// setup
//////////////////////////////////////
void setup(void) {

  // Initialize interfaces
  printf_begin();
  Serial.begin(9600);
  Serial.print(F(""Starting interfaces...""));
  SPI.begin();
  radio.begin();
  Serial.print(F(""complete]\n""));
  rf24Net.begin(90, this_node);
  radio.setDataRate(RF24_250KBPS);
  radio.printDetails();
  analogReference(INTERNAL);

  // initialize pins
  pinMode(led_A_Pin, OUTPUT);

}

//////////////////////////////////////
// loop
//////////////////////////////////////
uint32_t txTimer = 0;

void loop(void)
{
    digitalWrite(led_A_Pin, HIGH);
    delay(200);
    digitalWrite(led_A_Pin, LOW);
    delay(200);
    digitalWrite(led_A_Pin, HIGH);

    currentTime = millis();

    if (currentTime - startTime &lt;= 1000) {
      Serial.println(currentTime - startTime);
    }
    else {
       digitalWrite(led_A_Pin, LOW);
    }

  rf24Net.update();

  if (millis() - txTimer &gt; 1000) {
    data_to_send payload;
    payload.node  = 02;
    payload.temp  = 11;
    payload.humi  = 11;

    payload.light = analogRead(A2);
    payload.door  = 0;
    payload.pir   = 0;
    payload.hkey  = random(10000000, 99999999);


    // starts counting
    unsigned long elapsed = 0;
    unsigned long start = millis();
    Serial.println(payload.hkey);

    digitalWrite(led_A_Pin, HIGH);
    delay(100);
    digitalWrite(led_A_Pin, LOW);
    delay(100);
    digitalWrite(led_A_Pin, HIGH);
    delay(100);
    digitalWrite(led_A_Pin, LOW);
    delay(100);

    // sends packet
    RF24NetworkHeader header(other_node);

    Serial.println(""Sending data to base every 30 sec."");
    txTimer = millis();
    bool ok = rf24Net.write( header, &amp;payload, sizeof(payload) );
    if (ok) {
      unsigned long finish = millis();
      elapsed = finish - start;
      Serial.println(""ok."");
      Serial.print(elapsed);
      Serial.print(""ms\n"");
      rf24Net.update();
    }
    else {
      Serial.println(""failed."");
    }
  }

  while ( rf24Net.available() )
  {
    Serial.println(""Received packet"");
    RF24NetworkHeader header2;
    data_received confirm;
    rf24Net.read(header2, &amp;confirm, sizeof(confirm));
    Serial.println(confirm.hkey);
    Serial.println(""------------------------------"");

    Serial.println(F(""Going to sleep...""));
    delay(100);
    radio.powerDown();
    Sleepy::loseSomeTime(2000);
    radio.powerUp();
    Serial.println(F(""Woke up!""));
  }
}
</code></pre>

<p>This is the library I am using: <a href=""https://github.com/TMRh20/RF24Network"" rel=""nofollow noreferrer"">https://github.com/TMRh20/RF24Network</a> </p>

<p>The RPi&lt;=>NRF24 Schematic:  </p>

<p><a href=""https://i.stack.imgur.com/LYu7z.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LYu7z.png"" alt=""enter image description here""></a> </p>

<p>I am executing the program and it fails to receive. 
Can you please help? Is it a bug or am I doing something wrong ?</p>

<p><a href=""https://i.stack.imgur.com/itroc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/itroc.png"" alt=""NRF Configurations""></a></p>

<p>UPDATE: <a href=""https://i.stack.imgur.com/mhcmc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mhcmc.png"" alt=""pingpair_dyn""></a></p>
"
34840,1,2015-08-28T11:52:08.953,0,2005,22952,,2016-06-23T23:24:19.247,2017-04-13T12:56:22.033,0,,"<p>Recently I have bought the Raspberry Pi 2 along with a <a href=""http://www.wvshare.com/product/3.5inch-RPi-LCD-A.htm"" rel=""nofollow noreferrer"">small 3.5 touch screen</a>. It works fine and I'm more or less happy with it (there is some choppiness in the rendering of things (even the cursor is moving in a choppy manner) but from what I've read this is due to it not using the HDMI port, which provides GPU acceleration). However now that I also want to add some extra functionality through various sensors I'm facing the issue that comes from the way its pin connector is designed - it covers all pins from 1 to 26:</p>

<pre><code>1, 17                           3.3V            Power positive (3.3V power input)
2, 4                            5V              Power positive (5V power input)
3, 5, 7, 8, 10, 12, 13, 15, 16  NC              NC
6, 9, 14, 20, 25                GND             Ground
11                              TP_IRQ          Touch Panel interrupt, low level while the Touch Panel detects touching
18                              LCD_RS          Instruction/Data Register selection
19                              LCD_SI/TP_SI    SPI data input of LCD/Touch Panel
21                              TP_SO           SPI data output of Touch Panel
22                              RST             Reset
23                              LCD_SCK/TP_SCK  SPI clock of LCD/Touch Panel
24                              LCD_CS          LCD chip selection, low active
26                              TP_CS           Touch Panel chip selection, low active
</code></pre>

<p>Since I'm pretty new to this kind of thing (and electronics in general) I'd like to ask you guys for some help. Basically what I want to do is figure out which of those pins are indeed required by the display (and its touch module) so that I can free the rest by simply detaching the display and using jumper wires move it to a breadboard or just leave it hanging somewhere (but still able to actually use it). I'm especially interested whether it really requires 2*3.3V + 2*5V (all in all 16.6V) since I need to have as many free power pins as possible. I was unable to find any datasheet whatsoever hence I really don't know the power consumption of this thing. I have a multimeter at hand but I haven't got the slightest idea where to start (especially since I fear I might damage either the LCD display, or the RPi2, or both). I have read <a href=""https://www.raspberrypi.org/forums/viewtopic.php?f=45&amp;t=83428"" rel=""nofollow noreferrer"">here</a> (see answer by tinylcd on Tue Aug 19, 2014, 5:20AM) that such a display draws just 3.3V from the Pi. If it's indeed so - awesome! Further the answer <a href=""https://raspberrypi.stackexchange.com/questions/14671/help-required-with-assembly-of-sain-smart-7-inch-touch-screen-monitor-kit-and-co"">here</a> explains that for a <strong>7 inch</strong> touch display by Sain Smart you require only a single power pin with 5V.</p>

<p>From the description in the table above I can deduce the following:</p>

<p><strong>Note:</strong> I'm using this <a href=""http://pi.gadgetoid.com/pinout"" rel=""nofollow noreferrer"">useful interactive diagram</a> to see which pin does what.</p>

<ul>
<li>It requires a GND (hence 1 GND pin is out)</li>
<li>1 or (hope not) more power pins</li>
<li>Some of the NC pins (clock? I2C?)</li>
<li>Pins 11, 18, 19, 21, 23, 24 and 26</li>
<li>Possibly pin 22 (reset)</li>
</ul>
"
34909,1,2015-08-31T06:26:45.220,1,7098,33494,,2018-01-24T14:57:08.963,2018-01-24T14:57:08.963,0,,"<p>I am exploring <a href=""https://osmc.tv/"" rel=""nofollow noreferrer"">OSMC</a> and <a href=""http://openelec.tv/"" rel=""nofollow noreferrer"">OpenELEC</a> for RaspberryPi. Menu options available in OSMC are:</p>

<ul>
<li>Videos</li>
<li>Music</li>
<li>Pictures</li>
<li>My OSMC</li>
<li>Favorites</li>
<li>Programs etc..</li>
</ul>

<p>Please help me how can I remove any of the menu options without affecting the rest of functionality. For e.g. I am interested in removing Music, and Pictures. </p>
"
34996,1,2015-09-02T18:27:43.693,6,4697,14165,,2016-01-09T08:41:06.287,2015-09-02T20:40:12.657,4,,"<p>I'm doing experiments regarding compilation of the Linux kernel on various platforms, but mainly on the RPi and on x86-64 machines. There's no shortage to the links on Google describing how to compile Raspbian on an x86-64 machine to ARM for either the Raspberry Pi or Raspberry Pi 2, but I have a different idea: is it possible to use Raspberry Pi 2s as a compile farm for x64-86 code? I've been looking around and haven't found anything.</p>

<p>Seems like if it could, it would be a nice way to accelerate the compilation of my Ubuntu kernels on my laptop using something like distcc.</p>
"
36058,1,2015-09-05T01:36:10.207,1,1788,34391,,2018-09-05T13:59:23.527,2015-09-05T02:02:31.377,1,,"<p>I have a piece of simple code that works on a Windows - WAMP environment, e.g.</p>

<pre><code>&lt;?php

`mode com3: BAUD=38400 PARITY=N data=8 stop=1 xon=off`;

file_put_contents(com3, chr(1).chr(255).chr(1).chr(4).chr(64).chr(5));

?&gt;
</code></pre>

<p>It connects via a USB cable (using USB-Serial drivers) to a circuit-board to light some LEDs, and it works fine - so similarly windows software like 232Analyser, can connect to COM3 and send code in DEC like 1,255,255,255,255,5, and light the LEDs. The number 255, is a DEC number from: 1,2,4,8,16,32,64,128,255 which will light a certain LED depending on which number is called.</p>

<p>Anyway, the code above works fine on Windows, and lights LEDs by calling this PHP file. So can call a URL like: <a href=""http://localhost/lightled.php"" rel=""nofollow"">http://localhost/lightled.php</a> which works ok.</p>

<p>Now I need it to work via Linux, on a Raspberry Pi, so I have just installed standard Raspberry Linux, and Apache with PHP.</p>

<p>Then attached the USB cable, and it appears as /dev/ttyUSB0 I have then CHMOD 777 /dev/ttyUSB0</p>

<p>And changed the PHP code to:</p>

<pre><code>&lt;?php

`mode /dev/ttyUSB0: BAUD=38400 PARITY=N data=8 stop=1 xon=off`;

file_put_contents('/dev/ttyUSB0', chr(1).chr(255).chr(1).chr(4).chr(64).chr(5));

?&gt;
</code></pre>

<p>However calling this file on Linux in a browser is not Lighting the LEDs, as it does on Windows.</p>

<p>Now when I call this file it goes through with no errors, without chmod 777, it gave a permission denied error. So it seems like it goes through ok, but something else is wrong.</p>

<p>So question is anyone know how to make it work on Linux, it might be I am calling the USB wrong, or Raspberry Linux needs some kind of drivers, or "" `mode "" needs to be defined differently ...or maybe the decimal/binary code sent is not right like ""chr(2)"" etc. needs to be different and wont be sent in same way on a LAMP setup.</p>

<p>Any ideas on what I can try?</p>
"
36097,1,2015-09-06T12:00:02.093,3,14791,34444,,2016-05-05T16:36:06.307,2017-04-13T12:56:25.953,1,,"<p>I have RPi with usb soundcard
I have follow this answer
<a href=""https://raspberrypi.stackexchange.com/questions/19705/usb-card-as-my-default-audio-device"">USB card as my default Audio Device</a>
But i still can't make it work the settings always changing itself and i can't set my default soundcard to my usbsoundcard </p>

<p>there is no sound if I put my speaker to the usb soundcard
but it have when I put it to default rapsberry 3.5mm jack out</p>

<p>I test it via aplay</p>

<p>my lsub</p>

<pre><code>Bus 001 Device 002: ID 0424:9514 Standard Microsystems Corp. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. 
Bus 001 Device 004: ID 0d8c:013c C-Media Electronics, Inc. CM108 Audio Controller
</code></pre>

<p>my alsa-base.conf</p>

<pre><code># Keep snd-pcsp from beeing loaded as first soundcard
options snd-pcsp index=-2
# Keep snd-usb-audio from beeing loaded as first soundcard
options snd-usb-audio index=0
options snd_bcm2835 index=1
# Prevent abnormal drivers from grabbing index 0
options bt87x index=-2
options cx88_alsa index=-2
options snd-atiixp-modem index=-2
options snd-intel8x0m index=-2
options snd-via82xx-modem index=-2
</code></pre>

<p>aplay -l </p>

<pre><code>**** List of PLAYBACK Hardware Devices ****
card 0: Device [USB PnP Sound Device], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA]
  Subdevices: 8/8
  Subdevice #0: subdevice #0
  Subdevice #1: subdevice #1
  Subdevice #2: subdevice #2
  Subdevice #3: subdevice #3
  Subdevice #4: subdevice #4
  Subdevice #5: subdevice #5
  Subdevice #6: subdevice #6
  Subdevice #7: subdevice #7
card 1: ALSA [bcm2835 ALSA], device 1: bcm2835 ALSA [bcm2835 IEC958/HDMI]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</code></pre>

<p><em>update</em>
It seems like my rpi won't produce sound if I remove my usb sound card
when I remove my usb sound card I can't execute amixer/alsamixer it returns cannot open mixer: No such file or directory</p>
"
36252,1,2015-09-10T08:26:47.807,5,5822,34189,,2016-01-06T23:20:52.377,2016-01-06T23:20:52.377,5,,"<p>I have reproduced this example ""to the T"" using the RPi but when I connect to the USB-TTL device I always get a NULL returned.</p>

<p><a href=""https://ms-iot.github.io/content/en-US/win10/samples/SerialSample.htm"" rel=""nofollow"">The sample and sources used.</a></p>

<p><a href=""http://rads.stackoverflow.com/amzn/click/B00LODGRV8"" rel=""nofollow"">The device</a> is the same one used in the example with the RPi. The device also appears as shown in the sample in the Select Device dialog with the following Id:</p>

<pre><code>\\\\?\\USB#VID_10C4&amp;PID_EA60#0001#{86e0d1e0-8089-11d0-9ce4-08003e301f73}
</code></pre>

<p>Once I select and ""Connect"" as prescribed by the sample, the following line of code always returns null.</p>

<pre><code>serialPort = await SerialDevice.FromIdAsync(entry.Id);
</code></pre>

<p>I have debugged and the entry.Id argument appears correct and is shown as Id:</p>

<pre><code>""\\?\USB#VID_10C4&amp;PID_EA60#0001#{86e0d1e0-8089-11d0-9ce4-08003e301f73}"" string
</code></pre>

<p>I have also read the complete sample document and checked all the caveats. Why isn't this working for me?</p>
"
36493,1,2015-09-17T11:35:02.587,0,512,33288,,2015-09-17T12:06:55.993,2018-12-17T19:02:24.963,0,,"<p>How do I need to modify the C example from <a href=""http://abyz.me.uk/rpi/pigpio/examples.html"" rel=""nofollow noreferrer"">http://abyz.me.uk/rpi/pigpio/examples.html</a> for continious monitoring of Wiegand readers?</p>

<p>I need to run it as background process.</p>

<p>For now I have a code:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;pigpio.h&gt;
#include ""wiegand.h""


void callback1(int bits, uint32_t value)
{

    FILE *saved = stdout;
    stdout = fopen(""log_readers.txt"", ""a"");
    printf(""Reader_1: bits=%d value=%u\n"", bits, value);
    fclose(stdout);
    stdout = saved;
}

void callback2(int bits, uint32_t value)
{
   FILE *saved = stdout;
   stdout = fopen(""log_readers.txt"", ""a"");   
   printf(""Reader_2: bits=%d value=%u\n"", bits, value);
   fclose(stdout);
   stdout = saved;
}

int main(int argc, char *argv[])
{
   Pi_Wieg_t * w1;
   Pi_Wieg_t * w2;
   if (gpioInitialise() &lt; 0) return 1;
   w1 = Pi_Wieg(14, 15, callback1, 5);
   w2 = Pi_Wieg(23, 24, callback2, 5);
   sleep(300);
   Pi_Wieg_cancel(w1);
   Pi_Wieg_cancel(w2);
   gpioTerminate();
}
</code></pre>

<p>After 5 minutes of execution it's terminated, I suppose cause of <code>sleep(300)</code>. If I wrap it by infinite loop like this:</p>

<pre><code>int main(int argc, char *argv[])
    {
    while(0) {
      Pi_Wieg_t * w1;
      ...
    }
}
</code></pre>

<p>it's terminated immediately after running.</p>
"
36595,1,2015-09-20T18:43:16.963,1,1232,9573,,2016-01-21T09:35:40.127,2015-09-22T18:14:32.783,3,,"<p>I want to be able to enter wireless details such as SSID and password onto the OS and have the Pi boot up for the first time and connect to an access point, without having to first configure it via an ethernet connection. How can I do that? </p>

<p>Apart from the Pi I only have access to Mac hardware.</p>
"
36674,1,2015-09-23T21:27:03.530,3,3909,34971,,2015-09-24T21:36:16.730,,3,,"<p>How can I find the Linux tick rate of my Raspberry Pi 2.
I have a Raspberry Pi 2 with Raspbian OS.</p>

<p>Is it 100 or 1000 HZ ?
Can I read it from the command line or a C program ?</p>

<p>I want to know this value because I am using some timers which need precision.</p>

<p>Reference:
<a href=""http://www.makelinux.net/books/lkd2/ch10lev1sec2"" rel=""nofollow"">http://www.makelinux.net/books/lkd2/ch10lev1sec2</a>
<a href=""http://elinux.org/High_Resolution_Timers"" rel=""nofollow"">http://elinux.org/High_Resolution_Timers</a></p>
"
36705,1,2015-09-25T01:14:32.997,1,4909,19675,,2019-10-19T19:59:36.713,,1,,"<p>This <a href=""https://github.com/notro/fbtft-spindle/wiki/Appendix"" rel=""nofollow"">verbiage</a> implies, if you want a desktop on both heads of a Pi(2) with a PiTFT hat, you just <code>startx</code> each desktop:</p>

<pre><code>startx -- -layout TFT &amp;
startx -- -layout HDMI &amp;
</code></pre>

<p>Various combinations of those don't work, including pernicious variations like starting up the PiTFT desktop, then running the command to launch the HDMI desktop in a terminal. </p>

<p>Whichever command runs last turns off the other display.</p>

<p>So, how to run two screens at the same time, JUST LIKE WINDOWS does all the time?</p>
"
36747,1,2015-09-27T01:51:01.387,15,17661,35146,,2020-02-12T12:42:09.840,,3,,"<p>I am trying to enable monitoring mode for a USB wifi dongle with the RTL8188CUS chipset on a raspberry pi model b+ (or any raspberry pi for that matter).</p>

<pre><code>$ lsusb
Bus 001 Device 005: ID 0bda:8176 Realtek Semiconductor Corp. RTL8188CUS 802.11n WLAN Adapter
$ sudo iwconfig wlan0 mode monitor
Error for wireless request ""Set Mode"" (8B06) :
    SET failed on device wlan0 ; Invalid argument.
</code></pre>

<p>According to <a href=""https://github.com/raspberrypi/linux/issues/369"">github/raspberrypi/linux/issues/369</a>, you need to enable the rtlwifi/rtl8192cu kernel module that is included with the kernel distribution but not compiled.  This requires minor modifications to some files as diff'ed below in 'STEP 2'. </p>

<p>The USB issue mentioned in that thread has been resolved as of 4.1.6+, so the rtlwifi driver should work.</p>

<p>Steps to recreate on a fresh raspberry pi (model B+)...</p>

<p><strong>STEP 0: Update existing modules and kernel to latest</strong></p>

<pre><code>$ sudo apt-get update
$ sudo rpi-update
$ uname -a
Linux raspberrypi 4.1.7+ #815 PREEMPT Thu Sep 17 17:59:24 BST 2015 armv6l GNU/Linux
</code></pre>

<p><strong>STEP 1:  Get the raspbian kernel source and add missing dependencies</strong></p>

<pre><code>$ git clone --depth=1 https://github.com/raspberrypi/linux
$ sudo apt-get install bc lshw
</code></pre>

<p><strong>STEP 2:  Enable the rtlwifi (kernel) drivers for RTL8188CUS (RTL8192)</strong></p>

<pre><code>edit linux/drivers/net/wireless/Kconfig
-#source ""drivers/net/wireless/rtlwifi/Kconfig""
-source ""drivers/net/wireless/rtl8192cu/Kconfig""
+source ""drivers/net/wireless/rtlwifi/Kconfig""
+#source ""drivers/net/wireless/rtl8192cu/Kconfig""

edit linux/drivers/net/wireless/Makefile
-#obj-$(CONFIG_RTLWIFI)         += rtlwifi/
+obj-$(CONFIG_RTLWIFI)          += rtlwifi/
</code></pre>

<p><strong>STEP 3: Compile and install kernel (took many hours)</strong></p>

<p>Summarized from <a href=""https://www.raspberrypi.org/documentation/linux/kernel/building.md"">kernel building documentation</a> .</p>

<pre><code>$ cd linux
$ KERNEL=kernel
$ make bcmrpi_defconfig

$ make zImage modules dtbs
$ sudo make modules_install
$ sudo cp arch/arm/boot/dts/*.dtb /boot/
$ sudo cp arch/arm/boot/dts/overlays/*.dtb* /boot/overlays/
$ sudo cp arch/arm/boot/dts/overlays/README /boot/overlays/
$ sudo scripts/mkknlimg arch/arm/boot/zImage /boot/$KERNEL.img
</code></pre>

<p><strong>STEP 4: Reboot</strong></p>

<pre><code>$ sudo reboot
</code></pre>

<p><strong>STEP 5: Check that the rtlwifi/rtl8192cu module is loaded</strong></p>

<pre><code>$ lsmod | fgrep rtl8192cu
rtl8192cu             100806  0 
rtl_usb                14781  1 rtl8192cu
rtl8192c_common        72091  1 rtl8192cu
rtlwifi               101122  3 rtl_usb,rtl8192c_common,rtl8192cu
mac80211              623281  3 rtl_usb,rtlwifi,rtl8192cu
$
$ lshw
  *-network:0
       description: Ethernet interface
       physical id: 1
       bus info: usb@1:1.3
       logical name: wlan0
       serial: 00:0b:81:94:e9:a3
       capabilities: ethernet physical
       configuration: broadcast=yes driver=rtl8192cu driverversion=4.1.7+ firmware=N/A link=no multicast=yes
</code></pre>

<p><strong>STEP 6: Try to activate monitoring mode</strong></p>

<pre><code>$ sudo iwconfig wlan0 mode monitor
Error for wireless request ""Set Mode"" (8B06) :
    SET failed on device wlan0 ; Operation not supported.
</code></pre>

<p>What did i miss?<br>
Issue 369 seems to indicate that it can work with the rtlwifi driver?</p>
"
36869,1,2015-10-01T10:26:46.143,3,1522,35302,,2018-08-08T20:00:24.423,2016-05-10T17:43:02.877,1,,"<p>After an update a few months ago, the taskbar on the desktop disappeared and was replaced with a flashing grey bar.</p>

<p>I am running Jessie and am getting the following errors when running an update:</p>

<pre><code>sub process returned with error code (1)
dependency problems
xserver not configured yet
</code></pre>

<p>and several other error messages relating to x-server components not being configured or present.</p>

<p>How do I sort this lot? I'd rather not reinstall because I've got a LAMP setup for local testing of websites and don't want to have to set it all up again.</p>

<p>I have looked at this <a href=""https://bigdanzblog.wordpress.com/2015/06/19/raspberry-pi-taskbar-xpanel-flashes-grey-for-non-pi-user/"" rel=""nofollow"">page</a>, but it is not relevant, looking in <code>/etc/group</code> pi is in the audio group.</p>
"
37069,1,2015-10-07T14:34:47.043,2,547,35506,,2015-10-19T19:03:49.810,,3,,"<p>Is there a way to get the a RFM12B radio module work with a Raspberry 2 (Windows 10 IOT) over SPI? Can I connect the RFM12B directly to the Raspberry?
Are there any code examples in C#?</p>
"
37096,1,2015-10-08T13:25:00.373,4,2242,35512,,2015-12-08T09:56:38.870,,2,,"<p>Is it possible to use SDL2 with 2D hardware accelerated rendering on Raspberry Pi?</p>

<p>If 2D hardware accelerated rendering is possible on the device, how do you check to see that your application is using hardware acceleration? i.e. How do you ensure that SDL2 and the application are set up correctly to use OpenGL ES 2.0?</p>

<p>I have built SDL2 from source configured with  as described in this post: <a href=""https://solarianprogrammer.com/2015/01/22/raspberry-pi-raspbian-getting-started-sdl-2/"" rel=""nofollow"">https://solarianprogrammer.com/2015/01/22/raspberry-pi-raspbian-getting-started-sdl-2/</a></p>

<p>In summary: </p>

<ul>
<li>Copy Fresh Raspbian Wheezy image to SD card  </li>
<li>Boot to command prompt - no X</li>
<li><code>sudo apt-get update</code></li>
<li><code>sudo apt-get upgrade</code> </li>
<li><code>sudo apt-get install build-essential libfreeimage-dev libopenal-dev libpango1.0-dev libsndfile-dev libudev-dev libasound2-dev libjpeg8-dev libtiff5-dev libwebp-dev automake</code></li>
<li>Use raspi-config to increase the GPU memory to 128MB</li>
<li><code>cd ~</code></li>
<li><code>wget https://www.libsdl.org/release/SDL2-2.0.3.tar.gz</code></li>
<li><code>tar zxvf SDL2-2.0.3.tar.gz</code></li>
<li><code>cd SDL2-2.0.3 &amp;&amp; mkdir build &amp;&amp; cd build</code></li>
<li><code>../configure --disable-pulseaudio --disable-esd --disable-video-mir --disable-video-wayland --disable-video-x11 --disable-video-opengl</code></li>
<li><code>make -j 4</code></li>
<li><code>sudo make install</code></li>
</ul>

<p>I believe the configure step should prevent SDL from using a software implementation of OpenGL, and force it to use an OpenGL ES backend, which is supported by the hardware. I hope this implies that any 2D render calls (e.g. <code>SDL_DrawRect</code>) call through to the OpenGL ES API so access the GPU and are therefore hardware accelerated. </p>

<p>When configure runs it states that it has found the OpenGL ES v1 and v2 headers, and lists <code>Video drivers : dummy, opengl_es1, opengl_es2</code> </p>

<p>I'm using a very simple Tetris clone as a test case. It is initialised like so:</p>

<pre><code>SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, 2);
SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, 0);
SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, SDL_GL_CONTEXT_PROFILE_ES);

window = SDL_CreateWindow(window_name, SDL_WINDOWPOS_CENTERED, SDL_WINDOWPOS_CENTERED,
                                      window_width, window_height, SDL_WINDOW_SHOWN | SDL_WINDOW_OPENGL);

renderer = SDL_CreateRenderer( &amp;window, -1, SDL_RENDERER_ACCELERATED | SDL_RENDERER_PRESENTVSYNC );
</code></pre>

<p>The application's naive render function consists of drawing each of the 200 32x32 pixel squares that make up the board in turn to a 1280x720 buffer. Each square requires 2 calls to <code>SDL_SetRenderDrawColor</code> a call to <code>SDL_RenderDrawRect</code> and <code>SDL_RenderFillRect</code>.  </p>

<p>The executable is built with</p>

<p><code>-L /opt/vc/lib -lEGL -lGLESv2 -I /opt/vc/include/</code></p>

<p>The problem is that the application runs at about 15 FPS, which strikes me as extremely slow and makes me think that software rendering is in use.</p>

<p>Is there anyway to check at runtime that the renderer is using hardware acceleration?</p>

<p>Is there any other set-up/initialisation required in the application to ensure that the GLES backend is used? </p>

<p>To be clear: I don't actually want to use the GL API at all, I just want to use the SDL 2D Render API, ensuring that the rendering happens in hardware and not software.</p>

<p>Incidentally, I have also tried using the Jessie sdl packages and builtbot binaries and seen the same results.</p>

<p>Many thanks!</p>
"
37103,1,2015-10-08T18:37:49.853,3,7392,29567,,2017-04-30T14:44:15.850,2016-05-14T08:11:40.610,0,,"<p>So I have a VNC server running on my windows laptop and I want to connect it to my Raspberry Pi in full-screen. I've been using:</p>

<p>xtightvncviewer -fullscreen</p>

<p>but all I get is this<a href=""https://i.stack.imgur.com/B76Aq.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/B76Aq.jpg"" alt=""enter image description here""></a></p>

<p>Is there any way I can force scale to always fill my display?</p>
"
37151,1,2015-10-10T16:42:29.157,1,477,35605,,2015-11-07T00:56:45.323,,7,,"<p>I would like to know which packages are included in the default raspberry pi 2 image from archlinuxarm.org. Can anybody help me?</p>
"
37177,1,2015-10-11T09:02:19.147,8,51230,35580,,2015-12-22T03:51:05.813,2015-12-22T03:51:05.813,0,,"<p>I am trying to setup Jasper on my RPi 2 B by following these instructions <a href=""http://jasperproject.github.io/documentation/installation/#configure-raspbian"" rel=""noreferrer"">http://jasperproject.github.io/documentation/installation/#configure-raspbian</a> and just figured out that there's no /etc/modprobe.d/alsa-base.conf for me.</p>

<p>I can successfully record sound by specifying USB mic but not sure how to make it default for the system without editing alsa-base.conf.</p>
"
37225,1,2015-10-12T18:50:36.050,3,860,24307,,2015-10-13T17:51:28.890,2015-10-12T18:55:54.437,9,,"<p>I am using <a href=""http://jasperproject.github.io/"" rel=""nofollow"">Jasper</a>.</p>

<p>The <em>voice control</em> part works, however the function I call when a certain word is said, does not.</p>

<p>I'm trying to control a robot, sending high signals to certain pins on an L293D chip. I've made a simple function to easily set multiple pins high:</p>

<pre><code>import wiringpi2 as wiringPi
wiringPi.wiringPiSetupSys()

def goHigh(*arg): #for multiple pins
    for pin in arg: 
        wiringPi.digitalWrite(pin, 1)
</code></pre>

<p>But when I call that function with a certain word, I get the error <code>NameError: global name 'wiringPi' is not defined</code>:</p>

<pre><code>ERROR:client.brain:Failed to execute module
Traceback (most recent call last):
  File ""/home/pi/jasper/boot/../client/brain.py"", line 73, in query
    module.handle(text, self.mic, self.profile)
  File ""/home/pi/jasper/client/modules/robot.py"", line 64, in handle
    goForward(mic, message)
  File ""/home/pi/jasper/client/modules/robot.py"", line 29, in goForward
    goHigh(A1,B2)
  File ""/home/pi/jasper/client/modules/robot.py"", line 12, in goHigh
    wiringPi.digitalWrite(pin, 1)
NameError: global name 'wiringPi' is not defined
</code></pre>

<p>It seems that Jasper cannot see WiringPi as being installed. What I've tried:</p>

<ul>
<li>Building WiringPi in the Jasper directory</li>
<li>Normally building it in my <code>home</code></li>
</ul>

<p>But this still doesn't work; I presume because WiringPi builds in its own folder, and Jasper looks for a single file.</p>

<p>How can I fix this? So I can use WiringPi with Jasper?</p>
"
37366,1,2015-10-17T10:03:28.573,0,4063,23131,,2018-02-26T13:30:36.123,2015-10-17T12:10:34.150,1,,"<p>I try to build computer program that trasfer files use Bluetooth and OBEX technology between <strong>Windows and RPI</strong>. I use BLuetooth  RFCOMM Server @ Windows Side. RPI is @ client side. I use <strong>pybluez and PyObex</strong> for both side. 
Now I sent file from RPI side. However I can't catch  the file @ Windows side. Code elements figured at below.</p>

<p><code></p>

<h2>Server Side:</h2>

<pre><code>class BlueDev(object):
    def __init__(self):
        self.socket = BluetoothSocket(RFCOMM)
        self.server = BrowserServer()
        self.port = None
    def startService(self):
        """""" Starts Socket and Advertising Service """"""

        self.socket.bind(("""",PORT_ANY))
        self.port = self.socket.getsocketname()[1]
        self.socket.listen(1)
        self.server.start_service(self.socket) ## advertise server
        self.server.serve(self.socket) ## accepts connection
if __name__ == ""__main__""
    blueDevServ = BlueDev()
    blueDevServ.startService()
</code></pre>

<h2>Client Side:</h2>

<pre>class BluetoothDev(object):
    def __init__(self):
        self.client = None
        self.socket = Bluetooth(RFCOMM)
        self.port = None
        self.address = """"
    def startService(self):
        if sys.version &lt; '3':
            input = raw_input
        if len(sys.argv) &lt; 2:
            print(""No device"")
        services = bluetooth.find_service(uuid=OBEX_FILETRANS_CLASS, address=self.address)
        servicesMatch = services[0]
        port = servicesMatch[""port""] 
        self.address = servicesMatch[""host""]
        print(port , self.address)
        self.client = client.BrowserClient(self.address,port)
        print(""Client is ready"")
    def connect(self):
        self.client.connect()
        print ""Connected from client Side""
if __name__ == ""__main__"":

    blueClient = BluetoothDev()
    devices = blueClient.discover()
    blueClient.startService()
    print(""Waiting for server service"")
    blueClient.connect()
    client.put('test.txt', 'HelloWorld!')
    print(""File Sent:"")
</code></pre>

<p>I couldn't find missing elements on architecture.How can i catch sent files on Server Side?  </p>
"
37579,1,2015-10-23T22:35:49.813,3,13077,36095,,2018-07-03T21:59:33.453,2018-07-03T21:59:27.267,3,,"<p>I've configured <code>lirc</code> on my Pi.  All seemed to go well, <code>irrecord</code> worked as did <code>mode2</code>, so I'm sure the hardware is wired correctly.  However when I placed the config file in <code>/etc/lirc</code> and did </p>

<pre><code>irw
</code></pre>

<p>nothing showed when I pressed buttons on my remote.</p>

<p>One thing that seems odd is that <code>mode2</code> seems to show different values when I press the same button.  Is that normal? -</p>

<pre><code>  &gt; mode2 -d /dev/lirc0
space 4813301
pulse 1700
space 640287
pulse 1652
space 504625
pulse 1647
space 648709
pulse 1643
space 524612
pulse 1649
space 494338
pulse 1639
space 413367
pulse 1649
space 362895
pulse 1643
</code></pre>

<p>The above output was all from pressing the same button repeatedly.</p>

<p>I'm wondering if perhaps my IR receiver is the wrong frequency or something?</p>

<p>This is the IR receiver I'm using <a href=""http://uk.rs-online.com/web/p/ir-receivers/7085086/"" rel=""nofollow noreferrer"">RS components 708-5086</a>.</p>
"
37605,1,2015-10-24T16:10:55.430,3,2384,19255,,2018-12-28T18:05:18.130,2017-04-13T12:56:22.977,0,,"<p>I am making a graph on the temperature using a NTC resistor and also by reading the CPU temperature, however I'd also like to read the GPU temperature.</p>

<p>I read <a href=""https://raspberrypi.stackexchange.com/a/6979/19255"">this</a> answer explaining briefly how to read the CPU temperature from C. How would I read the GPU temperature aswell?</p>

<p>If there isn't any better solution I persume one can use the output of vcgencmd</p>

<pre><code>/opt/vc/bin/vcgencmd measure_temp
</code></pre>

<p>but is there not a cleaner way?</p>
"
37671,1,2015-10-26T19:18:06.077,5,5993,,user11286,2016-04-13T17:43:23.773,2015-11-03T12:05:49.913,0,,"<p>using Raspberry Pi 2.
have Windows Iot installed.</p>

<p>I am trying to get the devices DHCP address via my C# code.</p>

<p>At the moment I have this:</p>

<pre><code> var hostName = NetworkInformation.GetHostNames();
</code></pre>

<p>Whilst I can read the 'DisplayName' but the IP Address Info is always null?</p>
"
37705,1,2015-10-27T20:22:04.470,0,1924,9081,,2015-10-27T22:37:39.550,,0,,"<p>I am trying to build a motion sensor with my Pi that can deliver notification to a program on my computer when it detects motion. I installed apache on the Pi, the server works. I wrote a very simple python script for motion detection which writes the file 'motion' when it detects something, and deletes it otherwise.</p>

<p>My index.php looks something like this:</p>

<pre><code>&lt;?php
        while(!file_exists('motion')) {
                sleep(0.5);
        }

        echo ""MOTION DETECTED"";
?&gt;
</code></pre>

<p>The program on my computer tries to access the page every 60s until it has a response, in which case it delivers a notification.</p>

<p>Everything works well, but it seems to me that writing a file accesses the disk which is slower than accessing the RAM. I was wondering if there is anyway to communicate between the python script and the php script without having to write a file (or using a file related method). This would also prevent errors in file reading/writing permissons.</p>

<p>Thank you.</p>
"
37733,1,2015-10-28T18:58:46.143,1,2490,35506,,2015-10-30T23:05:30.670,,1,,"<p>With the new insider preview win 10 iot 10556 the serial port from raspberry pi2 is now available. I want to test it but my SerialDevice is always NULL. Here is my code:</p>

<pre><code>private SerialDevice serialPort = null;

public MainPage()
{
    this.InitializeComponent();
    InitSerial();
}

private async void InitSerial()
{
    string portName = ""UART0"";

    string aqs = SerialDevice.GetDeviceSelector(portName);

    var myDevices = await DeviceInformation.FindAllAsync(aqs, null);

    if (myDevices.Count == 0)
    {
        Status.Text = ""Device not found..."";
        return;
    }

    SerialDevice device = await SerialDevice.FromIdAsync(myDevices[0].Id);

    Status.Text = device.PortName;

}
</code></pre>

<p>Does somebody try it with success? Where is my failure?</p>
"
37739,1,2015-10-28T20:54:02.550,1,871,36248,,2015-10-28T22:49:44.680,,0,,"<p>Today I bought a 32GB sd card and inserted it into my Raspberry Pi 2B. I installed Ubuntu Mate on it. Now I was installing some apps, and it says there's no more free space to install apps on. It has only used 3.6GB so far. I want to use the full 32GB. Anyone who knows how to fix this?</p>
"
37796,1,2015-10-31T15:57:44.760,3,6454,205,,2017-08-10T22:16:36.200,2015-11-01T14:32:06.497,5,,"<p>I would like to use the i2c_gpio software i2c kernel module because the broadcom hardware i2c does not support I2C_M_NOSTART. How do I do this?</p>

<p>I think that in order to do it I need to take <a href=""https://www.kernel.org/doc/Documentation/devicetree/bindings/i2c/i2c-gpio.txt"" rel=""nofollow"">the device tree config for i2c_gpio</a> and turn it into a device tree fragment, then <a href=""https://www.raspberrypi.org/documentation/configuration/device-tree.md"" rel=""nofollow"">compile and load it.</a> But I don't know how to rewrite the config as a fragment. Perhaps there is another, easier way.</p>
"
37820,1,2015-11-01T17:18:56.483,8,14531,35538,,2016-11-14T09:19:26.937,,3,,"<p>Lots of websites explain how to do a splash screen on the Pi with SysV init, but I couldn't find any info on how to do it with systemd on Jessie.
I tried just ""converting"" the init-script to a systemd-service, but it doesn't do anything.</p>

<p>Has anyone managed to do this or any helpful advice?</p>
"
37892,1,2015-11-04T10:37:00.003,3,2191,34743,,2016-01-06T10:27:35.423,2016-01-06T10:27:35.423,6,,"<p>I am using a USB-to-serial adapter to let the Raspberry Pi talk with some motor controller through the serial bus.</p>

<p>I made the following Python script:</p>

<pre><code>#!/usr/bin/ipython

import serial
import time

ser =serial.Serial(
    port='/dev/ttyUSB0',
    baudrate=115200,
    parity=serial.PARITY_NONE,
    stopbits=serial.STOPBITS_ONE,
    bytesize=serial.EIGHTBITS,
    writeTimeout = 0,
    timeout = 10,
    rtscts=False,
    dsrdtr=False,
    xonxoff=False)

print(""Port "" + ser.portstr + "" opened : "" + str(ser.isOpen()))

time.sleep(5)

bytesToRead = ser.inWaiting()
print ser.read(bytesToRead)

ser.close()
</code></pre>

<p>The <em>first</em> time the code is executed everything works and gives the following expected answer:</p>

<pre><code>&gt;&gt;&gt;    pi@raspberrypi ~ $ sudo ./Work/Tests/Test_Serial_1.py
&gt;&gt;&gt;    Port /dev/ttyUSB0 opened : True
&gt;&gt;&gt;
&gt;&gt;&gt;    ReceiveMessage: CanInID = 2, CanControllerID = 1, CanBroadcastID = 0
&gt;&gt;&gt;
&gt;&gt;&gt;    ReceiveMessage: CanInID = 2, CanControllerID = 1, CanBroadcastID = 0
</code></pre>

<p>The problem is now that if I directly re-run the script, I get the following incoming messages:</p>

<pre><code>&gt;&gt;&gt; pi@raspberrypi ~ $ sudo ./Work/Tests/Test_Serial_1.py
&gt;&gt;&gt; Port /dev/ttyUSB0 opened : True
&gt;&gt;&gt; wĸ7�a)�    �7ę
</code></pre>

<p>The only solution is then to reboot the Raspberry Pi. I tried unplugging/replug the USB-to-serial adapter, but nothing changed.</p>

<p>It is like if the baud rate were wrong the second time, but the connected devices are exactly the same.</p>

<p>My setup is Raspberry Pi 2, Linux raspberrypi 4.1.10-v7+, and the USB-to-serial adapter is <a href=""http://logilink.eu/Products_LogiLink/Cable_Adapters/USB_20_Adapter/USB_20_to_2x_Serial_Adapter.htm"" rel=""nofollow"">there</a>.</p>

<p>How can I fix this problem?</p>
"
37917,1,2015-11-05T03:16:19.383,3,12623,36382,,2015-11-05T17:51:41.687,,1,,"<p>Is there any way to handle the equivalent of Python's GPIO.cleanup() via the terminal ?</p>
"
37920,1,2015-11-05T07:29:23.320,275,1210642,8697,,2020-10-25T06:55:14.257,2020-08-03T01:15:42.857,0,,"<p>I have followed (any one of hundreds) tutorial, and it does not work.</p>
<p>How do I set up networking/WiFi/static IP address on the Raspberry Pi?</p>
<hr />
<blockquote>
<p>After the Foundation introduced the <code>dhcpcd</code> networking system to <em>Raspbian</em> in May 2015 there were hundreds of questions (partly because the Foundation didn't produce any documentation). After answering dozens of questions I decided to produce a canonical answer.<br />
This proved to be more difficult than anticipated - especially as the implementation keeps changing - hopefully I have continued to keep it up-to-date.</p>
</blockquote>
<blockquote>
<p>(Originally I referred to this as a <a href=""https://en.wiktionary.org/wiki/Dorothy_Dixer#Noun"" rel=""noreferrer"">Dorothy Dixer</a>, but this is apparently an Australian idiom.)</p>
</blockquote>
"
38161,1,2015-11-15T04:49:00.547,4,1828,36788,,2016-02-13T06:28:25.297,2015-11-15T05:27:46.017,0,,"<p>I am attaching a mic to my Raspberry Pi 2 Model B (Jessie) and using it for my PocketSphinx implementation.</p>

<p>I see this in the system:</p>

<pre><code>$cat /proc/asound/cards                                                                                                                            
0 [ALSA           ]: bcm2835 - bcm2835 ALSA                                                                                                                   
                     bcm2835 ALSA                                                                                                                             
1 [Mic            ]: USB-Audio - Samson Meteor Mic                                                                                                            
                     Samson Technologies Samson Meteor Mic at usb-3f980000.usb-1.2, full speed  
</code></pre>

<p>According to PocketSphinx documentation, I need to move the mic to index 0. In Wheezy, you alter the file located at <strong>/etc/modprobe.d/alsa-base.conf</strong> with the following:</p>

<pre><code>options snd-usb-audio index=0
</code></pre>

<p>However, in Jessie, the ALSA configuration system has changed. There is no alsa-base.conf anymore and it is replaced by <strong>/usr/share/alsa/alsa.conf</strong>.</p>

<p>The format in the new conf file doesn't seem to be compatible with the old format. </p>

<p>Help!</p>
"
38186,1,2015-11-15T23:34:49.310,10,10511,3918,,2018-04-06T05:02:15.210,2016-12-30T01:51:09.500,13,,"<p>I have:</p>

<ul>
<li>Raspberry Pi with 2015-05-05-raspbian-wheezy</li>
<li>ds1307 attached (it's an Adafruit board, pullup resistors not installed).</li>
</ul>

<p>How do I:</p>

<ul>
<li>configure drivers</li>
<li>make sure the Pi actually uses the RTC time on startup?</li>
</ul>

<p>I've actually done the first part,as far as I can tell, but no luck with the second. Much of the information out there, including the Adafruit instructions, are obsolete due to this: 
<a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=97314"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/forums/viewtopic.php?t=97314</a></p>

<p>So, first step: you enable the I2c and drivers in raspi-config, add <code>dtoverlay=i2c-rtc,ds1307</code> to the end of /boot/config.txt, and you've got drivers, and <code>hwclock</code> works for me now, apparently (can't run i2cdetect, more on that later).</p>

<p>You now need to remove fake-hwclock and set up so that it actually reads the rtc at startup.
I've been trying to follow this advice - which is  largely in agreement with other things I've seen, and is very recent - <a href=""https://www.raspberrypi.org/forums/viewtopic.php?p=842661#p842661"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/forums/viewtopic.php?p=842661#p842661</a></p>

<p>(that is for a different RTC, but I'm only following the second part about removing fake-hwclock and so forth).</p>

<p>But no luck, and the 'lines to be commented out' there don't exist on my pi. My pi comes up with Jan 1 1970 00:00 and <code>hwclock -r</code> says the RTC is corrupted. Even if I have not powered off since setting the RTC and rebooting the pi, so it seems it must have been corrupted by the startup. </p>

<p>I've also not been able to run i2cdetect at all. It complains that the devices /dev/i2c(something) don't exist - and indeed they don't...</p>

<hr>

<h2>Interim Update</h2>

<p>OK, I've established that:</p>

<ul>
<li>the corruption is only of the time/date info. If I use i2cset to fill the nvram with a pattern, that information is not modified on reboot, but the year goes to 0x66</li>
<li>If I remove the <code>,ds1307</code> from the line <code>dtoverlay=i2c-rtc,ds1307</code> in config.txt, then the system comes up without corrupting the RTC! Which supports the idea that the driver itself is corrupting the data. I've looked at the driver code, and it goes through the time and changes things it doesn't like (e.g. it changes 12 hr to 24 hour format). So, perhaps the problem is that the driver is installed at a time when the I2C port is not actually ready to work (perhaps due to clocks not being ready ?) </li>
<li>If I do this after startup: <code>sudo sh -c 'echo ds1307 0x68 &gt; /sys/class/i2c-adapter/i2c-1/new_device'</code> it causes the rtc_ds1307 driver to load, and the /dev/rtc0 to appear. And the time is still OK. And so that can be used as basis of how to mod the init scripts</li>
<li>One more fun detail: if I use <code>hwclock -s</code> in a script right after writing to /sys/..../new_device, it fails. There needs to be a <code>sleep 0.5</code> or something between. </li>
</ul>

<p>So it seems I now have a system that can be shut down, and started up, and will have the correct time - I'll write this up properly soon.</p>
"
38228,1,2015-11-17T10:42:11.240,0,4533,36889,,2016-01-06T21:47:57.087,2015-11-17T15:18:53.450,0,,"<p>I try to run vncserver on Raspberry Pi but this error is shown:</p>

<pre><code>Couldn’t start Xtightvnc; trying default font path.
Please set correct fontPath in the vncserver script.
Couldn’t start Xtightvnc process.
</code></pre>

<p>Can anyone help me?</p>
"
38326,1,2015-11-19T16:50:17.700,0,125,36953,,2015-12-23T01:20:22.957,,4,,"<p>Hi I've got raspberry pi 2 and wondering which pin is ss on the pi using bcm numbering as I'm trying to connect uart but I'm not sure Which pin is the ss pin anyone help please thx </p>
"
38432,1,2015-11-22T17:30:34.110,5,2202,37143,,2019-04-07T21:16:47.313,2015-11-26T20:55:22.710,2,,"<p>Using the Raspberry Pi 2 with the official 7"" touchscreen, I want to display some high quality text without using an Xorg server.  I'm looking for APIs that provide simple functions such as:</p>

<pre><code>Render_text (""hello"", x,y, blue, size, ""nicefontX"");
</code></pre>

<p>Such a library could be build on top of the linux kernel framebuffer or openGLES/VG.  I have found at least <a href=""https://github.com/ajstarks/openvg"" rel=""noreferrer"">one such thing that appears to be pi specific</a>.</p>

<p>Again, I am interested in C -- I have already found many things involving python.</p>
"
38536,1,2015-11-25T08:58:46.410,5,4360,37250,,2015-12-31T06:30:12.223,2015-12-31T06:30:12.223,3,,"<p>i am currently a newbie fro rp2. I am currently facing the problem when i am using putty and vnc server. </p>

<p>When i am going to press sudo apt-get update. It shows this: </p>

<pre><code>pi@raspberrypi ~ $ sudo apt-get update
0% [Connecting to mirrordirector.raspbian.org (5.153.225.207)] [Connecting to raspberrypi.collabo

Err mirrordirector.raspbian.org wheezy Release.gpg
Could not connect to mirrordirector.raspbian.org:80 (5.153.225.207), connection timed out

Err raspberrypi.collabora.com wheezy Release.gpg

Could not connect to raspberrypi.collabora.com:80 (46.235.227.226), connection timed out

Err archive.raspberrypi.org wheezy Release.gpg

Could not connect to archive.raspberrypi.org:80 (93.93.130.39), connection timed out [IP: 93.93.130.39 80]

Reading package lists... Done

W: Failed to fetch mirrordirector.raspbian.org/raspbian/dists/wheezy/Release.gpg  

Could not connect to mirrordirector.raspbian.org:80 (5.153.225.207), connection timed out

W: Failed to fetch raspberrypi.collabora.com/dists/wheezy/Release.gpg  

Could not connect to raspberrypi.collabora.com:80 (46.235.227.226), connection timed out

W: Failed to fetch archive.raspberrypi.org/debian/dists/wheezy/Release.gpg 

Could not connect to archive.raspberrypi.org:80 (93.93.130.39), connection timed out [IP: 93.93.130.39 80]

W: Some index files failed to download. They have been ignored, or old ones used instead.
</code></pre>
"
38638,1,2015-11-27T10:49:40.837,10,9629,7019,,2019-05-16T19:24:10.990,2018-12-04T11:20:53.977,3,,"<p>I have an existing, half complete, vending machine project running on an Atmel UTC, which I want to port to the Pi.</p>

<p>In order to talk to peripherals, such as coin acceptor, it has to support  <a href=""https://en.wikipedia.org/wiki/Multidrop_bus"" rel=""nofollow noreferrer"">Multi-Drop Bus</a> which has a 9-data bit serial port interface (plus start, stop and parity bits).</p>

<p>I learned the hard way with the Atmel board that hacks which one finds suggested on the net, which rely on using the parity bit as the 9th data bit can cause bad timing problems - difficult to detect and to correct (so, please don't refer me to <a href=""https://raspberrypi.stackexchange.com/questions/24806/9-data-bits-on-uart-pins"">this</a>, or similar. Thanks).</p>

<p>Does anyone know if/where I can buy a true 9 bit serial port for the Pi (bonus points if it can somehow work with the Pi zero).</p>

<p>Is there, perhaps, a Hat available? Or could I easily (I have a s/w guy, with little knowledge of h/w) use another board to handle the 9 data bit UART and control that from a Pi?</p>
"
38702,1,2015-11-28T11:36:54.300,3,3539,37404,,2015-12-19T09:24:18.377,2015-11-29T17:00:18.817,6,,"<p>How can access the GPIO pins <strong>in C</strong> without writing to the <strong><em>sys/class/gpio</em></strong> directory, in a way that would allow me to create my own interface?</p>

<p>I would like to end up able to do something like this:</p>



<pre><code>// Declaring `porta` at some memory address.
unsigned char porta @port 0x7;
// Setting `porta` as input.
porta = 1; 
</code></pre>

<p>I've seen similar syntax in microcontroller programming.</p>

<p>So is it possible to declare my pins like that, then set them as input or output?</p>

<p>Reference: <a href=""http://www.atmel.com/images/avr_3_04.pdf"" rel=""nofollow"">http://www.atmel.com/images/avr_3_04.pdf</a>    </p>
"
38830,1,2015-12-01T10:45:35.913,1,9335,35890,,2016-12-18T22:21:55.993,2015-12-31T06:06:02.443,1,,"<p>I was wondering if its possible to communicate between Arduino ann RPi using Serial Communication in C/C++, it's possible with python but didn't find a suitable library for C/C++ ?</p>
"
38955,1,2015-12-04T09:30:06.003,1,1364,11164,,2015-12-31T07:11:09.783,2015-12-31T07:11:09.783,0,,"<p>Using the python script below I can make my motor run:</p>

<pre><code>import RPi.GPIO as GPIO
from time import sleep

GPIO.setmode(GPIO.BOARD)

Motor1A = 16
Motor1B = 18
Motor1E = 22

GPIO.setup(Motor1A,GPIO.OUT)
GPIO.setup(Motor1B,GPIO.OUT)
GPIO.setup(Motor1E,GPIO.OUT)

print ""Turning motor on""
GPIO.output(Motor1A,GPIO.HIGH)
GPIO.output(Motor1B,GPIO.LOW)
GPIO.output(Motor1E,GPIO.HIGH)

sleep(2)

print ""Stopping motor""
GPIO.output(Motor1E,GPIO.LOW)

GPIO.cleanup()
</code></pre>

<p>I would like to start and stop the engine from my nodejs server. I have already tried to run python scripts from nodejs, but this gave permission problems and it is not ideal to use multiple languages for just a few commands. </p>

<p>For these reasons I want to use <a href=""https://www.npmjs.com/package/rpi-gpio"" rel=""nofollow"">https://www.npmjs.com/package/rpi-gpio</a></p>

<p>This is my first attempt to convert the code to nodejs. I get the error ""Error: Pin has not been exported for write"" </p>

<pre><code>var gpio = require('rpi-gpio');

var Motor1A = 16;
var Motor1B = 18;
var Motor1E = 22;

gpio.setup(Motor1A, gpio.DIR_OUT);
gpio.setup(Motor1B, gpio.DIR_OUT);
gpio.setup(Motor1E, gpio.DIR_OUT);

gpio.write(Motor1A, gpio.HIGH, function(err) {
    if (err) throw err;
    console.log('Written to pin Motor1A');
});

gpio.write(Motor1B, gpio.LOW, function(err) {
    if (err) throw err;
    console.log('Written to pin Motor1B');
});

gpio.write(Motor1E, gpio.HIGH, function(err) {
    if (err) throw err;
    console.log('Written to pin Motor1E');
});

setTimeout(stopMotor_1, 2000);

function stopMotor_1() {
    gpio.write(Motor1E, gpio.LOW, function(err) {
        if (err) throw err;
        console.log('Stopped');
    });
}
</code></pre>

<p>second attempt:</p>

<pre><code>gpio.setup(Motor1A, gpio.DIR_OUT, writeMotor1A);
gpio.setup(Motor1B, gpio.DIR_OUT, writeMotor1B);
gpio.setup(Motor1E, gpio.DIR_OUT, writeMotor1E);

function writeMotor1A(){
  gpio.write(Motor1A, gpio.HIGH, function(err) {
  if (err) throw err;
    console.log('Written to pin Motor1A');
  });
}
function writeMotor1B(){
  gpio.write(Motor1B, gpio.LOW, function(err) {
  if (err) throw err;
    console.log('Written to pin Motor1B');
  });
}
function writeMotor1E(){
  gpio.write(Motor1E, gpio.HIGH, function(err) {
  if (err) throw err;
    console.log('Written to pin Motor1C');
  });
}
</code></pre>

<p>results in the same error 'Error: Pin has not been exported for write'</p>

<p>Interestingly, when I do 'gpio-admin export 16' I get the following error: </p>

<pre><code>gpio-admin: could not flush data to /sys/class/gpio/export: Device or resource busy
</code></pre>

<p>The same command for pin 18 and 22 does not return any messages.</p>

<p>Can anyone help me convert the above script to a nodejs / rpi-gpio script? I have no experience doing this in nodejs and I can't find any good examples.</p>
"
39050,1,2015-12-06T22:21:37.647,2,4486,37679,,2018-12-18T07:09:55.963,2015-12-07T20:58:35.847,1,,"<p>I'm trying to count pulses using the GPIO pins and when I run this script I get the error (it's written in leafpad then I open it in IDLE)</p>

<p>Traceback (most recent call last): File ""/home/Pi/Desktop/revcount.py"", line 10, in  g.add_event_detect(2, g.RISING, callback = increase rev) RuntimeError: Failed to add edge detection</p>

<p>Here's the code</p>

<pre><code>import RPi.GPIO as g
from time import sleep
g.setmode(g.BCM)
g.setup(2, g.IN)
global revcount
revcount = 0
def increaserev(channel):
    global revcount
    revcount += 1
g.add_event_detect(2, g.RISING, callback=increaserev)
while True:
    sleep(60)
    print ""RPM is {0}"".format(revcount)
    revcount = 0
</code></pre>
"
39153,1,2015-12-08T22:46:08.817,8,2186,7045,,2020-01-07T12:07:08.887,2016-05-26T14:51:43.907,6,,"<p>I am setting up some Raspberry Pis for use in demos to colleagues, in order  to show off capabilities of the Pi itself, and of some of the add-on boards that are available.</p>

<p>I would really like to be able to maintain one cron-job/start-up script for all the possible demos I'm setting up, and have that script detect what HAT or older GPIO board is plugged in, so that I can trigger an appropriate demo script/program.</p>

<p>For example,</p>

<ul>
<li>If a SenseHAT is attached, then auto-start a <a href=""https://www.raspberrypi.org/learning/sense-hat-marble-maze/"">Sense HAT Marble Maze</a></li>
<li>If a Display-O-Tron HAT is attached, then auto-run the <a href=""https://github.com/pimoroni/dot3k/blob/master/python/examples/dothat/advanced/menu.py"">menu example</a></li>
<li>If a PiTFT screen is attached, then auto-start a photo slide show</li>
</ul>

<p><strong>Is there any way to run Python, sh or similar, to detect which of some common GPIO boards is connected to a Pi?</strong></p>

<p>Things I considered:</p>

<ul>
<li>Using information from <a href=""http://pinout.xyz/"">Pinout.xyz</a> to detect the pins in use, but that sounds like a lot of work.</li>
</ul>

<p>Note that my intention is to auto-detect the configuration, without needing to attach a keyboard, ssh in, or similar - hence the wish for auto-detection, and why something like setting an environment variable wouldn't help.</p>
"
39171,1,2015-12-09T08:21:51.857,1,488,35769,,2015-12-09T17:21:55.093,,4,,"<p>I have the Official Raspberry Pi Wifi Adaptor on Raspbian Jessie. I can scan and connect to wifi just fine but I would like to get it to connect at boot so I can instantly use the SSH and VNC servers rather than a HDMI cable and monitor.</p>

<p>Does anyone know how I could get the RPi to make the connection at boot?</p>

<p>Thanks.</p>
"
39202,1,2015-12-09T19:28:50.117,1,877,37404,,2015-12-18T19:15:15.117,,3,,"<p>So, I'm trying to make the DHT11 sensor work without any library on a Raspberry Pi 2 using C. I'm using <strong><a href=""http://www.pieter-jan.com/node/15"" rel=""nofollow"">this</a></strong> tutorial to manipulate the GPIO pins registers so i can set them as input,output, HIGH and LOW. I am also using the wiringPi library to be sure that the timers are correct when sending initialization signals to the DHT11 sensor.</p>

<p>Here is the code that i am trying to make work:</p>

<pre><code>#include &lt;wiringPi.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include ""RPI.h""

#define MAXTIMINGS 85

int dht11_dat[5] = {0, 0, 0, 0, 0};

int read_GPIO(int number)
{
    if(GPIO_READ(number))
        return 1;
    else
        return 0;
}
void read_dht11_dat()
{

   uint8_t laststate    = 1;
   uint8_t counter      = 0;
   uint8_t j        = 0, i;
   float    f; /* fahrenheit */

   dht11_dat[0] = dht11_dat[1] = dht11_dat[2] = dht11_dat[3] = dht11_dat[4] = 0;

   if(map_peripheral(&amp;gpio) == -1)
   {
       printf(""Failed to map the physical GPIO register!"");
   }

   INP_GPIO(4);//befot output, must set as INPUT
   OUT_GPIO(4);//set outout
   /* pull pin down for 18 milliseconds */
   GPIO_CLR = 1 &lt;&lt; 4;
   delay( 18 );
   /* then pull it up for 40 microseconds */
   GPIO_SET = 1 &lt;&lt; 4; //    digitalWrite(7, HIGH );
   delayMicroseconds( 40 );
   /* prepare to read the pin */
   INP_GPIO(4);//pinMode( 7, INPUT );


   /* detect change and read data */
   for ( i = 0; i &lt; MAXTIMINGS; i++ )
   {
       counter = 0;

       while ( read_GPIO(4) == laststate )
       {
           counter++;
           delayMicroseconds( 1 );
           if ( counter == 255 )
           {
               break;
           }
       }

       laststate = read_GPIO(4);/*digitalRead( 7 );*/

       if ( counter == 255 )
           break;

       /* ignore first 3 transitions */
       if ( (i &gt;= 4) &amp;&amp; (i % 2 == 0) )
       {
           /* shove each bit into the storage bytes */
           dht11_dat[j / 8] &lt;&lt;= 1;
           if ( counter &gt; 16 )
               dht11_dat[j / 8] |= 1;
           j++;
       }
   }

/*
 * check we read 40 bits (8bit x 5 ) + verify checksum in the last byte
 * print it out if data is good
 */
if ( (j &gt;= 40) &amp;&amp; (dht11_dat[4] == ( (dht11_dat[0] + dht11_dat[1] + dht11_dat[2] + dht11_dat[3]) &amp; 0xFF) ) )
{
    f = dht11_dat[2] * 9. / 5. + 32;
    printf( ""Humidity = %d.%d %% Temperature = %d.%d *C (%.1f *F)\n"",
        dht11_dat[0], dht11_dat[1], dht11_dat[2], dht11_dat[3], f );
}
else  {
    printf( ""Data not good, skip\n"" );
}


//unmap_peripheral(&amp;gpio); should this be here, im confused is this restarting the state of the gpio pin
}

 int main()
 {

   printf( ""Raspberry Pi wiringPi DHT11 Temperature test program\n"" );

   if ( wiringPiSetup() == -1 )
       exit( 1 );

   while ( 1 )
   {
       read_dht11_dat();
       delay( 1000 ); /* wait 1sec to refresh */
   }
   return 0;

}
</code></pre>

<p>So my question is why is this not working? When I test the GPIO manipulations with a simple blinking LED program everything is working OK.
I assume that the problem is in the INP_GPIO, OUT_GPIO, when they are called more than once the addresses of the registers are not set appropriate. Is there a way i can somehow ""restart"" the gpio pins original state at the beginning of the function? I guess this will fix my problem?</p>

<p>Correct me if i'm wrong!</p>
"
39270,1,2015-12-11T12:58:54.220,1,708,35538,,2015-12-16T12:54:21.657,2015-12-11T15:06:54.550,9,,"<p>I've had some trouble getting good wifi performance out of my Pi, but after lots of googling and trying things I get about 2.5Mbit/s and a median ping of about 230ms.</p>

<p>Not great, but tolerable.</p>

<p>Except that the AVERAGE ping is over 1000ms, simply because every few minutes the wifi completely stalls for a few seconds, creating pings with up to 12000ms (but no package loss).</p>

<p>I've already added a seperate power supply to the wifi-dongle (with a USB Y cable) and added <code>options 8192cu rtw_power_mgnt=0 rtw_enusbss=0</code> to <code>/etc/modprobe.d/8192cu.conf</code> which should disable the powersaving mode, but it seems the Pi still sends the dongle to sleep every so often.</p>

<p>What can I do to fix this?</p>

<p>EDIT: I confused MB and Mbit, oops ^^""</p>

<p>EDIT 2: lsusb output: <code>Bus 001 Device 005: ID 7392:7822 Edimax Technology Co., Ltd</code></p>

<p>EDIT 3/4: uname -a output: <code>Linux zehnvorne 4.1.7-v7+ #817 SMP PREEMPT Sat Sep 19 15:32:00 BST 2015 armv7l GNU/Linux</code><br>
Debian version <code>8.0</code></p>
"
39405,1,2015-12-14T17:25:59.247,5,2642,38238,,2015-12-18T19:49:28.300,2015-12-16T22:21:06.970,7,,"<p>English is not my native language so please be patient.</p>

<p>I'm using a Rasp and the Ethernet port is already taken,  so we bought a USB2.0 to Fast Ethernet Adapter, like this one: <a href=""https://www.jacobsparts.com/items/USB-LAN-04"" rel=""nofollow noreferrer"">https://www.jacobsparts.com/items/USB-LAN-04</a></p>

<p>The RasPi detect the QingHeng Electronics device as is show in the following screenshot. The Chipset is suposed to be the CH9200.</p>

<p><a href=""https://i.stack.imgur.com/5nzfu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/5nzfu.png"" alt=""enter image description here""></a></p>

<p>Installing the drivers in a laptop with Ubuntu 14.04 was easy, but same steps for the Rasp didn't work. Aparently the issue is the Kernel, the CD with the drivers bring a ""readme"", which claims:</p>

<blockquote>
  <p>sudo Note:</p>
  
  <ol>
  <li><p>Please run as root</p></li>
  <li><p>Supported linux kernel range from 2.6.x to 3.8.x</p></li>
  <li>CH9x00 module depends on mii and usbnet modules</li>
  <li><p>If you want complied this module in kernel, refer to followed </p>
  
  <p>a. # cp ch9x00.c ~/2.6.25/driver/net/usb/       </p>
  
  <p>b. # cd> ~/2.6.25/driver/net/usb/</p>
  
  <p>c. modified Makefile and Kconfig for ch9x00.c</p></li>
  </ol>
  
  <p>Install:  # make  # make load</p>
  
  <p>Uninstall:    # make unload</p>
</blockquote>

<p>So i verify the kernel version of the rasp using <code>uname -a</code>, gives the following:</p>

<pre><code>Linux raspberrypi 4.1.7-v7+ #817 SMP PREEMPT Sat Sep 19 15:32:00 BST 2015 armv7l GNU/Linux
</code></pre>

<p>I copy the files from the CD driver to <code>home/pi/linux</code>, the command <code>sudo make</code> returns the following:</p>

<pre><code>make -C /lib/modules/4.1.7-v7+/build M=/home/pi/linux
make[1]: *** /lib/modules/4.1.7-v7+/build: No existe el fichero o el directorio.  Alto.
Makefile:13: recipe for target 'modules' failed
make: *** [modules] Error 2
</code></pre>

<p>the output of <code>ls -l</code> acording to Diederik comment. This is before I used the linux-headers method.</p>

<p><a href=""https://i.stack.imgur.com/jI7oJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jI7oJ.png"" alt=""ls -l acording to Diederik comment""></a></p>

<p>In the Raspberry forums there is a <a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=67347&amp;p=495080"" rel=""nofollow noreferrer"">posible solution in the seventh post</a> that lead to install the ""linux-headers-3.10-3-rpi"" and then link the modules:</p>

<pre><code>sudo ln -s /lib/modules/3.10-3-rpi/build /lib/modules/ 4.1.7-v7+/build
</code></pre>

<p>This let me compile the files, once there I tried to run <code>sudo make load</code>, but this time the answer was:</p>

<pre><code>modprobe mii
modprobe usbnet
insmod ch9x00.ko
Error: could not insert module ch9x00.ko: Invalid module format
Makefile:16: recipe for target 'load' failed
make: *** [load] Error 1
</code></pre>

<p>Also tried with ""linux-headers-3.18.0-trunk-rpi2"" because those are made for the RasPi2, but that didn't work either.</p>

<p>Thanks to Diederik de Haas for his response and the updates, i just followed his detailed steps, in the <strong>Step 1</strong> choosed the ""Commit"" published on Nov 18th with the ""2a329e0"", using the <code>Module7.symvers</code> and the <code>git_hash</code> from that date.</p>

<p><strong>Step 2 and 3</strong> went just ok, compilation too, but when the time for waking up the module come, got the following result:</p>

<p><a href=""https://i.stack.imgur.com/Gb3VD.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Gb3VD.png"" alt=""Almost there""></a></p>

<p>Also tried with <code>--force</code>, finally post the <code>dmesg | tail</code> for clues.</p>

<p><strong>Update Dic 16</strong></p>

<p>When I start this question already have a working web server in the RasPi (raspbian wheezy) using tomcat7, which was quite difficult to setup, so i made an RasPi_14_12_16.img for safety, in this image i have the following setup that can differs from a standard "".img""</p>

<p>1 - Got network with static ip runing on a wifi usb module.</p>

<p>2 - Change some rules (rules.d - udev) to auto-mount usb with full permissions.</p>

<p>3 - Internationalisation Options was changed to es_CO. UTF-8 UTF-8 and SPI Interface was disabled.</p>

<p>Just uploaded the "".img"" once again and the detailed info for the procedure acording to my kernel,is the next:</p>

<p>1 - <code>uname -a</code> got the following <code>Linux raspberrypi 4.1.7-v7+ #817 SMP PREEMPT Sat Sep 19 15:32:00 BST 2015 armv7l GNU/Linux</code></p>

<p>2 - Installed gcc (i have previously removed) <code>sudo apt-get install gcc</code> (works fine install other packages along)</p>

<p>3 - <code>sudo apt-get update &amp;&amp; sudo apt-get upgrade</code>, Then <code>uname -r</code> ---> still <code>4.1.7-v7+</code></p>

<p>4 - Then I get the <code>git_hash</code> from my Pi : <code>zgrep '* firmware as of' /usr/share/doc/raspberrypi-bootloader/changelog.Debian.gz | head -1</code></p>

<p><code>* firmware as of 960832a6c2590635216c296b6ee0bebf67b2****</code></p>

<p>5 - Like the <strong>Step 1 on Diederik's answer</strong>: download (raw --> right click --> save link as...) the Module7.symvers from <a href=""https://github.com/raspberrypi/firmware/tree/2a329e0c7d8ea19c085bac5633aa4fccee0f21be/extra"" rel=""nofollow noreferrer"">https://github.com/raspberrypi/firmware/tree/2a329e0c7d8ea19c085bac5633aa4fccee0f21be/extra</a></p>

<p>6 - Like the <strong>Step 2 on Diederik's answer</strong>: Got the kernel sources and put them into the rpf-linux-kernel folder:
<code>~ $ git clone https://github.com/raspberrypi/linux rpf-linux-kernel</code></p>

<p>also:</p>

<p><code>git checkout -b rpi-bootloader-4.1.7 960832a6c2590635216c296b6ee0bebf67b2****
make mrproper
make bcm2709_defconfig
make modules_prepare</code></p>

<p>7 - Like the <strong>Step 3 on Diederik's answer</strong>: I made the virtual links using: <code>sudo ln -s /home/pi/rpf-linux-kernel/ /lib/modules/$(uname -r)/build</code></p>

<p>@DiederikdeHaas Upload the ch9200.ko (<a href=""https://drive.google.com/file/d/0BxmrihUj-8tSa2YxUDAzY1NyNkU/view?usp=sharing"" rel=""nofollow noreferrer"">https://drive.google.com/file/d/0BxmrihUj-8tSa2YxUDAzY1NyNkU/view?usp=sharing</a>) and detailed the following steps to install the module:</p>

<p>1 - To install it, do: <code>sudo install -p -m 644 ch9200.ko /lib/modules/4.1.7-v7+/kernel/drivers/net/usb</code>
2 - Then: <code>sudo /sbin/depmod -a 4.1.7-v7+</code>
3 - After that you can load the module with: <code>sudo modprobe ch9200</code></p>
"
39688,1,2015-12-18T10:31:01.953,5,382,38436,,2016-01-05T09:05:38.910,2015-12-19T22:08:48.927,4,,"<p>I have purchased the 4-digit 0.54"" 14-segment Alphanumeric (<a href=""https://www.adafruit.com/products/1911"" rel=""nofollow"">https://www.adafruit.com/products/1911</a>). I noticed there are helper classes for Python and Ardunio, but there isn't anything for Windows 10 IOT. </p>

<p><strong>C++</strong> <a href=""https://github.com/Adafruit/Adafruit-LED-Backpack-Library"" rel=""nofollow"">https://github.com/Adafruit/Adafruit-LED-Backpack-Library</a></p>

<p><strong>Python</strong> <a href=""https://github.com/adafruit/Adafruit_Python_LED_Backpack/blob/master/Adafruit_LED_Backpack/AlphaNum4.py"" rel=""nofollow"">https://github.com/adafruit/Adafruit_Python_LED_Backpack/blob/master/Adafruit_LED_Backpack/AlphaNum4.py</a></p>

<p>Has anyone got any experience with this or can point me in the right direction. </p>

<p>I found the below on I2C on <a href=""https://ms-iot.github.io/content/en-US/win10/samples/PinMappingsRPi2.htm"" rel=""nofollow"">https://ms-iot.github.io/content/en-US/win10/samples/PinMappingsRPi2.htm</a></p>

<p>I've updated the connection settings to the same as I can see in the python script. I'm not sure what bytes I should be writing out to display letters and characters. Can anyone give me any pointers on this please?</p>

<pre><code>public async void I2C()
{
    // Get a selector string for bus ""I2C1""
    string aqs = I2cDevice.GetDeviceSelector(""I2C1"");

    // Find the I2C bus controller with our selector string
    var dis = await DeviceInformation.FindAllAsync(aqs);
    if (dis.Count == 0)
        return; // bus not found

    // 0x40 is the I2C device address
    var settings = new I2cConnectionSettings(0x70);

    // Create an I2cDevice with our selected bus controller and I2C settings
    using (I2cDevice device = await I2cDevice.FromIdAsync(dis[0].Id, settings))
    {
        byte[] writeBuf = { 0x01, 0x02, 0x03, 0x04 };
        device.Write(writeBuf);
    }
}
</code></pre>

<p>I have found this for the 4 digit 7 segment display </p>

<p>writei2c (0x00, 0x06, 0xff, 0x5b, 0xff, 0x00, 0x00, 0x4f, 0xff, 0x66)   'Now, display ""1 2 3 4""</p>

<p><a href=""http://www.picaxeforum.co.uk/showthread.php?26028-Programming-Adafruit-4-Digit-Displa7-(HT16K33)"" rel=""nofollow"">http://www.picaxeforum.co.uk/showthread.php?26028-Programming-Adafruit-4-Digit-Displa7-(HT16K33)</a></p>

<p>Could you give me an example of the equivalent how to write 1 2 3 4 on the alphanumeric display please?</p>
"
39773,1,2015-12-20T01:40:14.500,3,4179,36054,,2018-07-06T14:22:59.090,2020-06-16T10:47:29.480,3,,"<p>I'm trying to use multiple LCD devices with I2C single Raspberry Pi.</p>
<p>How can I connect multiple devices via I2C on same Raspberry Pi?</p>
<p>As I understand this is possible. Because <a href=""http://quick2wire.com/articles/i2c-and-spi/"" rel=""nofollow noreferrer"">this page</a> says:</p>
<blockquote>
<p>I2C can be used to connect up to 127 nodes via a bus that only requires two data wires, known as SDA and SCL.</p>
</blockquote>
<p>This page explains simple using for one LCD via I2C: <a href=""http://www.raspberrypi-spy.co.uk/2015/05/using-an-i2c-enabled-lcd-screen-with-the-raspberry-pi/"" rel=""nofollow noreferrer"">http://www.raspberrypi-spy.co.uk/2015/05/using-an-i2c-enabled-lcd-screen-with-the-raspberry-pi/</a></p>
<p>There is a forum page also discussed: <a href=""http://forum.pimatic.org/topic/688/multiple-lcds-and-special-characters"" rel=""nofollow noreferrer"">http://forum.pimatic.org/topic/688/multiple-lcds-and-special-characters</a></p>
<p>This video is describing something related for that subject: <a href=""https://www.youtube.com/watch?v=ojBlRkQ1WKs"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=ojBlRkQ1WKs</a></p>
<p>I searched too much. I couldn't find a solution...</p>
"
39845,1,2015-12-21T00:04:26.517,21,34481,38114,,2020-08-27T12:03:58.157,2015-12-23T00:32:40.413,1,,"<p>I have read quite a bit about how to compile a kernel module on (and for) the Raspberry Pi, but I'm still not quite able to figure out why it's not working.  I have been able to build the module, but it reports <code>Invalid module format</code> when I try to <code>insmod</code> the result.  Here is the process I followed.  First, as root under <code>/root</code> I executed the following shell script:</p>

<h1>getKernel.sh</h1>

<pre><code>#! /usr/bin/bash
FIRMWARE_HASH=$(zgrep ""* firmware as of"" /usr/share/doc/raspberrypi-bootloader/changelog.Debian.gz | head -1 | awk '{ print $5 }')
KERNEL_HASH=$(wget https://raw.githubusercontent.com/raspberrypi/firmware/$FIRMWARE_HASH/extra/git_hash -O -)
git clone https://github.com/raspberrypi/linux 
cd linux
git checkout $KERNEL_HASH
wget https://raw.githubusercontent.com/raspberrypi/firmware/$FIRMWARE_HASH/extra/Module.symvers 
zcat /proc/config.gz &gt;.config
make oldconfig
make modules_prepare
ln -s /root/linux /lib/modules/$(uname -r)/build 
</code></pre>

<p>The first few lines are from <a href=""http://lostindetails.com/blog/post/Compiling-a-kernel-module-for-the-raspberry-pi-2"">http://lostindetails.com/blog/post/Compiling-a-kernel-module-for-the-raspberry-pi-2</a></p>

<p>The rest I wrote to automate more of the process. Once all of that runs successfully, I have the source that should exactly match the running kernel, the configuration to match and a symlink.  There were some redirects from the github web location (apparently it's now <a href=""https://raw.githubusercontent.com/"">https://raw.githubusercontent.com/</a> ) but no actual errors.</p>

<p>Then I become the default <code>pi</code> user and in a directory named <code>/home/pi/projects/lkm</code> I have this source code for a very simple toy module:</p>

<h1>hello.c</h1>

<pre class=""lang-c prettyprint-override""><code>#include &lt;linux/init.h&gt;  
#include &lt;linux/kernel.h&gt; 
#include &lt;linux/module.h&gt;

MODULE_LICENSE(""GPL"");
MODULE_DESCRIPTION(""Do-nothing test driver"");
MODULE_VERSION(""0.1"");

static int __init hello_init(void){
   printk(KERN_INFO ""Hello, world.\n"");
   return 0;
}

static void __exit hello_exit(void){
   printk(KERN_INFO ""Goodbye, world.\n"");
}

module_init(hello_init);
module_exit(hello_exit);
</code></pre>

<p>Finally, I build the module with this Makefile</p>

<h1>Makefile</h1>

<pre><code>MODSRC=/home/pi/projects/lkm
obj-m+=hello.o

all:
    make -C /lib/modules/$(shell uname -r)/build M=${MODSRC} modules

clean:
    make -C /lib/modules/$(shell uname -r)/build M=${MODSRC} clean
</code></pre>

<p>Finally, I attempt to load the module:</p>

<pre><code>sudo insmod hello.ko
</code></pre>

<p>The result, however, is disappointing:</p>

<blockquote>
  <p>insmod: ERROR: could not insert module hello.ko: Invalid module format</p>
</blockquote>

<h2>Possibly relevant details</h2>

<p>I'm using the currently latest <code>jessie</code> version of Raspbian on a Raspberry Pi2.</p>

<pre><code>$ uname --kernel-release --kernel-version
4.1.13-v7+ #826 SMP PREEMPT Fri Nov 13 20:19:03 GMT 2015
$ gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/lib/gcc/arm-linux-gnueabihf/4.9/lto-wrapper
Target: arm-linux-gnueabihf
Configured with: ../src/configure -v --with-pkgversion='Raspbian 4.9.2-10' --with-bugurl=file:///usr/share/doc/gcc-4.9/README.Bugs --enable-languages=c,c++,java,go,d,fortran,objc,obj-c++ --prefix=/usr --program-suffix=-4.9 --enable-shared --enable-linker-build-id --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --with-gxx-include-dir=/usr/include/c++/4.9 --libdir=/usr/lib --enable-nls --with-sysroot=/ --enable-clocale=gnu --enable-libstdcxx-debug --enable-libstdcxx-time=yes --enable-gnu-unique-object --disable-libitm --disable-libquadmath --enable-plugin --with-system-zlib --disable-browser-plugin --enable-java-awt=gtk --enable-gtk-cairo --with-java-home=/usr/lib/jvm/java-1.5.0-gcj-4.9-armhf/jre --enable-java-home --with-jvm-root-dir=/usr/lib/jvm/java-1.5.0-gcj-4.9-armhf --with-jvm-jar-dir=/usr/lib/jvm-exports/java-1.5.0-gcj-4.9-armhf --with-arch-directory=arm --with-ecj-jar=/usr/share/java/eclipse-ecj.jar --enable-objc-gc --enable-multiarch --disable-sjlj-exceptions --with-arch=armv6 --with-fpu=vfp --with-float=hard --enable-checking=release --build=arm-linux-gnueabihf --host=arm-linux-gnueabihf --target=arm-linux-gnueabihf
Thread model: posix
gcc version 4.9.2 (Raspbian 4.9.2-10) 
</code></pre>

<p>Unfortunately, I'm not sure how to further troubleshoot this or fix it.  Any clues?</p>
"
39869,1,2015-12-21T19:25:45.307,4,9179,38579,,2018-07-16T16:35:09.117,2015-12-21T19:47:16.060,34,,"<p>I'm trying to host an apache2 server on my RasPi, but I can't seem to even complete the first step of updating all the software. Here's the error message:</p>

<pre><code>Err http://archive.raspberrypi.org jessie InRelease

Err http://mirrordirector.raspbian.org jessie InRelease

Err http://mirrordirector.raspbian.org jessie Release.gpg
  Could not resolve 'mirrordirector.raspbian.org'
Err http://archive.raspberrypi.org jessie Release.gpg
  Could not resolve 'archive.raspberrypi.org'
Reading package lists... Done
    W: Failed to fetch http://mirrordirector.raspbian.org/raspbian/dists/jessie/InRelease

W: Failed to fetch http://archive.raspberrypi.org/debian/dists/jessie/InRelease 

W: Failed to fetch http://archive.raspberrypi.org/debian/dists/jessie/Release.gpg  Could not resolve 'archive.raspberrypi.org'

W: Failed to fetch http://mirrordirector.raspbian.org/raspbian/dists/jessie/Release.gpg  Could not resolve 'mirrordirector.raspbian.org'

W: Some index files failed to download. They have been ignored, or old ones used instead.
</code></pre>

<p>I installed Raspbian from NOOBS just yesterday, so I think I'm already up to date, but I am still very lost.</p>

<p>EDIT: /etc/resolv.conf and ifconfig</p>

<pre><code>eth0      Link encap:Ethernet  HWaddr b8:27:eb:06:21:c7
      inet addr:192.168.1.119  Bcast:192.168.1.255  Mask:255.255.255.0
      inet6 addr: fe80::142:63fc:b304:5620/64 Scope:Link
      UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
      RX packets:3701 errors:0 dropped:4 overruns:0 frame:0
      TX packets:1266 errors:0 dropped:0 overruns:0 carrier:0
      collisions:0 txqueuelen:1000
      RX bytes:330709 (322.9 KiB)  TX bytes:222832 (217.6 KiB)

lo        Link encap:Local Loopback
      inet addr:127.0.0.1  Mask:255.0.0.0
      inet6 addr: ::1/128 Scope:Host
      UP LOOPBACK RUNNING  MTU:65536  Metric:1
      RX packets:576 errors:0 dropped:0 overruns:0 frame:0
      TX packets:576 errors:0 dropped:0 overruns:0 carrier:0
      collisions:0 txqueuelen:0
      RX bytes:46904 (45.8 KiB)  TX bytes:46904 (45.8 KiB)
</code></pre>

<p>/etc/resolv.conf doesn't seem to be holding anything. I just get this:</p>

<pre><code>#Generated by resolvconf
</code></pre>
"
39928,1,2015-12-23T14:32:14.257,14,45704,38651,,2018-03-02T03:56:44.780,2017-04-13T12:56:25.647,7,,"<p>I am facing a similar problem as described in this <a href=""https://raspberrypi.stackexchange.com/questions/19705/usb-card-as-my-default-audio-device"">question</a>. However I am running Jessie on Raspberry Pi and that it does not have a <code>/etc/modprobe.d/alsa-base.conf</code> file. </p>

<p>So can someone tell me where and how to set the default input and output audio device on Jessie. </p>
"
39964,1,2015-12-24T02:45:16.270,5,178,38682,,2015-12-24T13:13:58.183,2015-12-24T02:47:48.703,0,,"<p>I am following this tutorial: <a href=""http://www.cl.cam.ac.uk/projects/raspberrypi/tutorials/temperature/"">http://www.cl.cam.ac.uk/projects/raspberrypi/tutorials/temperature/</a>.</p>

<p>The problem is I don't have that specific temperature sensor on me. Since I don't have that specific sensor on me currently, would I be connect a potentiometer to an ADC and get similar results (obviously not getting temperature, but some kind of data I can play around with)? If I can't do that, what other possibilities are available?</p>
"
40027,1,2015-12-25T20:46:36.730,3,2342,37821,,2016-05-29T15:07:47.330,2015-12-25T21:16:42.273,6,,"<p>I overclocked the raspberry pi to 900mhz with raspi-config, however, when I use ""cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq"" to check the speed, I get 600,000 (600 Mhz). This is causing lag for my raspberry pi minecraft server. Is there a way to force the clock speed to increase to <strong>at least</strong> 800Mhz? Or, what should I do to make the raspberry pi increase its speed on it own? (I did restart after I changed the clock speed)</p>
"
40184,1,2015-12-29T02:50:50.520,2,593,38924,,2020-10-22T15:13:06.080,2015-12-30T22:26:33.663,3,,"<p>I'm developing a RPi application that uses an external IR remote with LIRC.  For some reason when I press certain keys on the remote, like the number keys, characters get entered into my current command shell - whatever shell is active at the time.</p>

<p>Why is this happening and is there a way to disable it?  It really threw me when I saw all these extra characters in the shell.</p>

<p>I've got an empty .lircrc file, so there should be no conflict there.</p>

<p>EDIT:  I'm using Raspberry PI Raspian with a DELL USB keyboard hanging off it.  The remote is RC6-based remote that I pulled away from a Hauppage TV Tuner card.  The receiver device is an external IR component (TSO38238) that is tied directly to the GPIO pins.</p>
"
40203,1,2015-12-29T11:57:01.130,2,2056,8521,,2015-12-31T16:20:11.640,2015-12-30T00:34:59.027,4,,"<p>On a Rpi2, <code>gpio readall</code> output:</p>

<p><a href=""https://i.stack.imgur.com/v7Dam.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/v7Dam.png"" alt=""ASCII graphic of gpio readall program output""></a></p>

<p>Seems completely different from this image (on <a href=""http://elinux.org/File:Pi-GPIO-header.png"" rel=""nofollow noreferrer"">elinux.org</a>):</p>

<p><a href=""https://i.stack.imgur.com/nzpl6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nzpl6.png"" alt=""Diagram of RPi B+ and 2 GPIO pinout""></a></p>

<p>What am I missing?</p>
"
40222,1,2015-12-29T18:47:51.303,3,5409,38540,,2017-03-30T13:46:48.477,,3,,"<p>I want to read temperature from DS18B20 sensors. Sensors are connected and works fine.
How can I read temperature using Pi4J? Is there API for this?</p>
"
40228,1,2015-12-29T20:57:34.543,10,22780,33929,,2016-07-07T21:55:11.413,2017-04-13T12:56:25.627,0,,"<p>I have a Raspberry PI 2 model B with Raspbian version Jessie and I'm trying to bring the internet from my PC to the Raspberry. I have 2 network interfaces between them, one is over Ethernet and the other one is over Wifi. I have configured the Ethernet ip address in the Raspberry to be static, because I have a small computer network at home all with static IP adresses and I want the raspberry to be part of it. As my internet is very slow (I use a dial up modem) I don't want to share this slow internet through the ethernet interface because I don't want all the computers connected to this network to drain my internet speed. As I only intend to bring the internet to the Raspberry I have created a Wifi hotspot in my PC which dynamically assigns an IP adress to my Raspberry (the hotspot software has some sort of DHCP) and that's how I share my slow internet just with the Raspberry. </p>

<p>But then my problem begins, by default after I turn it on (or if I disconnect and connect again), the Raspberry doesn't connect to internet. By typing <code>ifconfig</code> I get:</p>

<pre><code>eth0     
Link encap:Ethernet  HWaddr b8:27:eb:4e:35:65  
inet addr:100.100.100.25  Bcast:100.100.100.255  Mask:255.255.255.0
inet6 addr: fe80::ba27:ebff:fe4e:3565/64 Scope:Link
UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1

wlan0     
Link encap:Ethernet  HWaddr 74:da:38:55:f3:a2  
inet addr:192.168.137.201  Bcast:192.168.137.255  Mask:255.255.255.0
inet6 addr: fec0::12:c4f1:c3fc:eb1e:3153/64 Scope:Site
inet6 addr: 2002:be0f:9cea:12:1bc0:1969:c17d:f854/64 Scope:Global
inet6 addr: fe80::bdca:7255:2e27:8341/64 Scope:Link
UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
</code></pre>

<p>When I type <code>route -n</code> I get:</p>

<pre><code>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         100.100.100.1   0.0.0.0         UG    202    0        0 eth0
0.0.0.0         192.168.137.1   0.0.0.0         UG    303    0        0 wlan0
100.100.100.0   0.0.0.0         255.255.255.0   U     202    0        0 eth0
192.168.137.0   0.0.0.0         255.255.255.0   U     303    0        0 wlan0
</code></pre>

<p>Here you can see how the metric of my static Ethernet connection gateway (100.100.100.1) is smaller than the metric of my DHCP Wifi connection gateway (192.168.137.1) so my Raspberry tries to get the internet through the wrong interface</p>

<p>after I type: </p>

<pre><code>sudo route delete  default gateway 192.168.137.1 
</code></pre>

<p>and then :</p>

<pre><code>sudo route add  default gateway 192.168.137.1
</code></pre>

<p>my routing table is fixed to:</p>

<pre><code>Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.137.1   0.0.0.0         UG    0      0        0 wlan0
0.0.0.0         100.100.100.1   0.0.0.0         UG    202    0        0 eth0
100.100.100.0   0.0.0.0         255.255.255.0   U     202    0        0 eth0
192.168.137.0   0.0.0.0         255.255.255.0   U     303    0        0 wlan0
</code></pre>

<p>and the Raspberry is able to access to internet.</p>

<p>My questions are: </p>

<ol>
<li>Is there a way to automatize this process so I won't have to
manually do it every time I turn on the Raspberry ? </li>
<li>Is there a way to automatize it so that it will always recognize it must get the
internet from the Wifi independently of the IP range given by the hotspot
DCHP to this interface?</li>
<li>Why was the lower metric automatically assigned to the Ethernet interface?</li>
</ol>

<p>I have already checked the solution in <a href=""https://raspberrypi.stackexchange.com/questions/11863/how-to-make-a-change-to-the-routing-table-persist"">How to make a change to the routing table persist?</a> but is doesn't work for me because in Raspbian Jessie you don't directly edit the <code>/etc/network/interfaces</code> rather you edit the <code>/etc/dhcpcd.conf</code> to get the static ip address  </p>
"
40310,1,2015-12-31T00:49:41.483,6,4509,39032,,2019-11-15T13:46:35.927,2015-12-31T01:30:56.380,1,,"<p>Is it possible to play different audio, for example audio from video file to my HDMI and audio from music player to 3,5 jack in the same time?</p>
"
40318,1,2015-12-31T03:28:57.657,1,34672,39036,,2015-12-31T06:12:51.520,2015-12-31T06:04:10.157,1,,"<p>I am currently working on the electronic interface for the Raspberry PI 2 for a high school teacher at Arlington Public Schools. The GPIO pin-out diagram of the 40 pin connector has no specific description for pins 29-40. I personally do not have a Raspberry PI 2 yet so I can't test the new pins and would like to rap up the design by the time the kids return to school on 1/2/2016. I have tested the 26 pin version GPIO_GEN0-GPIO_GEN8 and it worked great.</p>

<p>I would like to be able to utilize up to 12 GPIO_GEN input/output pins and designate them as in or out by pin number within Python.  <strong>Are the new pins 29-40 of the type GPIO_GEN and configurable via Python by pin number?</strong></p>

<p>To make it a little clearer why I need so may pins I am addressing two MC14028B BCD-To-Decimal Decoders and one CD40147B 10 to 4 line Encoder. I only really need 3 of the 4 binary bits for each chip which in total I would need 9 bits dedicated to GPIO_GEN.</p>
"
40372,1,2016-01-01T04:15:42.867,2,1133,39093,,2016-01-01T17:16:19.833,2020-06-16T10:47:29.480,2,,"<p>I have an Apple charger that says:</p>
<blockquote>
<p>12W - USB Power Adapter 2012</p>
<p>Input: 100-240V ~ 0.5A (0,5A)</p>
<p>50-60Hz Output: 5.2V === 2.4A</p>
</blockquote>
<p>I also have a PS4 with its controller - they used Mini-USB, so will it work? My dad doesn't know much about volts and all so he didn't know.</p>
"
40460,1,2016-01-03T00:04:29.870,4,1515,39192,,2018-09-05T12:05:31.457,2018-09-05T10:52:54.327,0,,"<p>I am trying to mute my Visio TV with <code>cec-client</code> through my Raspberry Pi 2.  I have enabled the CEC features of the TV and have successfully seen status and turned the TV on and off.  However, when trying the following to mute, I am not having any luck:</p>

<pre><code>echo 'mute' | cec-client -s -d 
</code></pre>
"
40615,1,2016-01-05T17:53:25.730,5,7928,39339,,2018-04-26T00:10:41.760,2016-01-05T19:02:19.117,4,,"<p>So my daughter and I have each bought a few Pi computers (A, B+ and two 2's). We'll likely be playing with a couple more in the future.</p>

<p>I'm running out of plugs for all these and would prefer a single power option. Can I get a powered USB hub, plus the appropriate cables, and power the Pi's through that? </p>

<p>What is everyone else doing for an organized, plug-and-play easy approach to powering several Pi computers?</p>
"
40740,1,2016-01-07T23:31:51.820,0,914,31133,,2020-04-22T07:07:05.720,2016-01-08T12:39:03.637,1,,"<p>I have Ethernet <code>eth0</code> and Wireless <code>wlan0</code>, each one connected on a different ISP.  </p>

<p>If I disconnect <code>eth0</code> <code>/etc/resolv.conf</code> is kept unchanged, in my case ATT, pointing at their 'private' 'dns-servers' (75.75.75.75).  </p>

<p>My other network belongs to, in my case <code>Comcast</code>; <code>Att</code> is not happy lending their DNS servers to a competitor, so they block the access.  </p>

<p>If I do a <code>ifdown wlan0 &amp;&amp; ifup wlan0</code> the communication is established again.</p>

<p>I may use public DNS like 8.8.8.8 or 8.8.4.4, but I want a more generic fix to this issue.</p>

<pre><code>dig | grep SERVER
;; SERVER: 75.75.75.75#53(75.75.75.75)
</code></pre>

<p>Will add that not only DNS is at fault, also the default route is not updated as it should be.</p>
"
40868,1,2015-12-29T16:24:50.213,0,3018,40291,Mesogi,2016-03-10T21:52:21.373,,1,,"<p>I have installed Raspbian using Noobs.</p>

<p>I need to set a static ip address.</p>

<p>The config files on my Pi bears not relation the articles I can find on the internet.</p>

<p>Can anyone point me to a good article or advise me of the settings.</p>

<pre><code># interfaces(5) file used by ifup(8) and ifdown(8)

# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d

auto lo
iface lo inet loopback

iface eth0 inet manual

allow-hotplug wlan0
iface wlan0 inet manual
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

allow-hotplug wlan1
iface wlan1 inet manual
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

<p>Thanks for reading.</p>
"
40883,1,2016-01-10T22:50:03.613,3,4706,35249,,2019-12-05T11:12:25.057,,0,,"<p>I've been hitting a number off issues with a personal site I've been trying to run off of a raspberry pi 2.</p>

<p>The error logs in nginx have the follow error repeated several times:</p>

<pre><code>[alert] 13551#0: worker process 1709 exited on signal 9
</code></pre>

<p>Looking online I eventually found some reference to memory being related to signal 9 issues and the advice was to check syslogs.</p>

<p>Looking through syslog there are quite a few errors along the lines of:</p>

<pre><code>nginx invoked oom-killer: gfp_mask=0x200da, order=0, oom_score_adj=0
nginx cpuset=/ mems_allowed=0
CPU: 2 PID: 15840 Comm: nginx Not tainted 4.1.13-v7+ #826
Hardware name: BCM2709
[&lt;80018444&gt;] (unwind_backtrace) from [&lt;80013e08&gt;] (show_stack+0x20/0x24)
[&lt;80013e08&gt;] (show_stack) from [&lt;8055a188&gt;] (dump_stack+0x98/0xe0)
[&lt;8055a188&gt;] (dump_stack) from [&lt;80557b00&gt;] (dump_header+0xb0/0x1e4)
[&lt;80557b00&gt;] (dump_header) from [&lt;800f63c0&gt;] (oom_kill_process+0x200/0x3f0)
[&lt;800f63c0&gt;] (oom_kill_process) from [&lt;800f68a4&gt;] (__out_of_memory+0x274/0x380)
[&lt;800f68a4&gt;] (__out_of_memory) from [&lt;800f6b48&gt;] (out_of_memory+0x60/0x80)
[&lt;800f6b48&gt;] (out_of_memory) from [&lt;800fb43c&gt;] (__alloc_pages_nodemask+0x890/0x8ec)
[&lt;800fb43c&gt;] (__alloc_pages_nodemask) from [&lt;8011e370&gt;] (handle_mm_fault+0xbb8/0xf90)
[&lt;8011e370&gt;] (handle_mm_fault) from [&lt;80560964&gt;] (do_page_fault+0x2dc/0x3f4)
[&lt;80560964&gt;] (do_page_fault) from [&lt;800091e4&gt;] (do_DataAbort+0x44/0xc4)
[&lt;800091e4&gt;] (do_DataAbort) from [&lt;805601e4&gt;] (__dabt_usr+0x44/0x60)
Exception stack(0xb4159fb0 to 0xb4159ff8)
9fa0:                                     00001031 00000000 0000daf1 369304e0
9fc0: 369304e8 769864d4 00000063 36931510 76986504 00001028 000001ff 00000001
9fe0: 00001031 7eb148d0 768bea4c 768bf020 60000010 ffffffffMem-Info:active_anon:123769 inactive_anon:87871 isolated_anon:32
active_file:142 inactive_file:265 isolated_file:0
unevictable:0 dirty:0 writeback:2767 unstable:0
slab_reclaimable:1447 slab_unreclaimable:1952
mapped:338 shmem:128 pagetables:800 bounce:0
free:2034 free_pcp:128 free_cma:0Normal free:8136kB min:8192kB low:10240kB high:12288kB active_anon:495076kB inactive_anon:351484kB active_file:568kB inactive_file:1060kB unevictable:0kB isolated(anon):128kB isolated(file):0kB present:901120kB managed:883148kB mlocked:0kB dirty:0kB writeback:11068kB mapped:1352kB shmem:512kB slab_reclaimable:5788kB slab_unreclaimable:7808kB kernel_stack:944kB pagetables:3200kB unstable:0kB bounce:0kB free_pcp:512kB local_pcp:240kB free_cma:0kB writeback_tmp:0kB pages_scanned:15608 all_unreclaimable? yeslowmem_reserve[]: 0 0Normal: 2*4kB (UR) 2*8kB (UM) 1*16kB (R) 1*32kB (U) 0*64kB 1*128kB (R) 1*256kB (R) 1*512kB (R) 1*1024kB (R) 1*2048kB (R) 1*4096kB (R) = 8136kB3339 total pagecache pages2776 pages in swap cacheSwap cache stats: add 478548, delete 475772, find 56890/94212Free swap  = 0kBTotal swap = 102396kB225280 pages RAM0 pages HighMem/MovableOnly2445 pages reserved
2048 pages cma reserved
[ pid ]   uid  tgid total_vm      rss nr_ptes nr_pmds swapents oom_score_adj name
[  108]     0   108     2468      153      10       0       59             0 systemd-journal
[  110]     0   110     2960        1       7       0      181         -1000 systemd-udevd
[  345]     0   345     1255       11       6       0       54             0 cron
[  350]     0   350      958       24       6       0       39             0 systemd-logind
[  353]   106   353      964       32       6       0       43             0 avahi-daemon
[  355]   105   355     1368        0       7       0       90          -900 dbus-daemon
[  375] 65534   375      568        0       5       0       35             0 thd
[  381]     0   381      637       32       6       0       61             0 dhcpcd
[  388]   106   388      964        0       5       0       56             0 avahi-daemon
[  441]     0   441     8031       21      11       0      183             0 rsyslogd
[  450]     0   450     1952       29       8       0       97         -1000 sshd
[  497]   107   497     1416       38       7       0       94             0 ntpd
[  623]     0   623     1008        1       7       0       32             0 agetty
[14333]     0 14333     2909       16      11       0      169             0 sshd
[14341]  1000 14341     1231       15       7       0       97             0 systemd
[14346]  1000 14346     1667       10       7       0      297             0 (sd-pam)
[14350]  1000 14350     2942        0       9       0      181             0 sshd
[14353]  1000 14353     1577       15       8       0      369             0 bash
[14399]     0 14399     2909       16       9       0      167             0 sshd
[14409]  1000 14409     2946       14       8       0      195             0 sshd
[14412]  1000 14412      620       15       6       0       82             0 sftp-server
[15709]  1000 15709    22122       15      41       0     3479             0 nodejs
[15839]     0 15839    16685        4      12       0      234             0 nginx
[15840]    33 15840   233000   208490     434       0     7960             0 nginx
[15841]    33 15841    16722        0      12       0      275             0 nginx
[15867]  1000 15867    22167        0      42       0     3790             0 nodejs
[15876]  1000 15876    22121        0      44       0     3501             0 nodejs
[15887]  1000 15887    30995       15      45       0     2837             0 nodejs
[15927]  1000 15927     1273       25       8       0       65             0 top
Out of memory: Kill process 15840 (nginx) score 880 or sacrifice child
Killed process 15840 (nginx) total-vm:932000kB, anon-rss:833880kB, file-rss:80kB
</code></pre>

<p>Nginx config is fine if I use it locally (which skips SSL negotiation). Accessing via a url with SSL seems to result in sketchy performance and this looks like it could be the cause.</p>

<p>Has anyone else hit this issue or know of some tips / tricks / advice on checking memory footprint or ways to adapt my config to be a bit tighter in terms of memory usage?</p>

<p>Cheers,
Matt </p>
"
40912,1,2016-01-11T10:23:47.850,-1,623,37919,,2020-12-28T05:06:20.710,2016-01-11T11:10:02.517,1,,"<p>I have a Raspberry connected with the WittyPi board.<br>
Been strugling to get it running without it dead locking. 
I have followed the steps in Witty Pi's manual<br>
<a href=""http://www.uugear.com/doc/WittyPi_UserManual.pdf"" rel=""nofollow"">http://www.uugear.com/doc/WittyPi_UserManual.pdf</a>
and from this guide for the green jumper.<br>
<a href=""http://www.uugear.com/portfolio/change-the-pin-that-used-by-witty-pi/"" rel=""nofollow"">http://www.uugear.com/portfolio/change-the-pin-that-used-by-witty-pi/</a><br>
I got the Raspberry running, changed the daemon.sh so instead of GPIO4 pin 7, I changed it to the GPIO8 pin 24.<br>
I made a shutdown, so that i could move the jumper, connect the jumper pin to Pin24 (GPIO8) and my DS18B20 temperature sensor to GPIO4.<br>
When I try to start up the Raspberry, it runs some of the startup script, but at some point, it starts to stop all the scripts, and then shuts down. </p>

<p>I have tryed to reinstall jessie and start up from scrath with no code installed.  </p>

<p>Anyone got experience with the Witty Pi? Who have had the same kind of problem?  </p>

<p><strong>EDIT</strong><br>
It get to the login in terminal, few seconds later it starts to shut down.</p>
"
40973,1,2016-01-12T11:16:38.017,2,1193,39742,,2016-09-12T07:07:26.810,2016-01-14T23:24:27.583,0,,"<p>For a demo that I want to prepare I need a pressure switch (pressure sensor) that regulate the pressure inside the balloon.
The schema is the following: balloon inflated by an air compressor, regulated by a pressure switch (or sensor or whatever) connected to the Raspberry. So, inflate the balloon until the pressure is <em>n</em>, so the Raspberry will open the relay and shut the air compressor.</p>

<p>Which type of sensor can I use? I need an inline sensor or switch for the pressure and I'm not able to find it, I'm only able to find Barometrical sensor, or physical pressure sensor (touch).</p>
"
41014,1,2016-01-12T22:17:19.567,6,3056,5538,,2018-07-12T12:59:58.930,2018-07-12T12:59:58.930,1,,"<p>I know the linux kernel has a language agnostic GPIO interface through <code>/sys/class/gpio</code> which can be manipulated with <code>echo</code>, <code>cat</code>, etc.  How can this be used to create event driven callbacks programmatically?</p>

<hr>

<p>Part of the reason for this question is that someone recently pointed out that the ruby <code>ruby-gpio</code> gem, which is built on the linux kernel's sysfs interface, makes the odd choice to <a href=""https://github.com/sausheong/ruby-gpio/blob/master/lib/ruby-gpio.rb#L61"" rel=""nofollow noreferrer""><em>busy loop</em> in callbacks</a>.  This is something people occasionally do here in their own code, but it is a very bad approach.  Better but also unnecessary are loops with timed sleeps.  </p>

<p>The kernel interface can be used to fire interrupt based callbacks that do not require any spurious processor time or commitments to an arbitrarily timed granularity.  Although this is <a href=""https://www.kernel.org/doc/Documentation/gpio/sysfs.txt"" rel=""nofollow noreferrer"">already documented</a>, the official documentation presumes a knowledge of C and its use value may not be clear to people working in other languages.</p>

<p>Note that interface is generic and cannot (or should not) be used for any of the special purposes (PWM, I2C, SPI, UART, etc.).  There are other general purpose interfaces for I2C, SPI, and UART.  For hardware PWM you should use one of the pi libraries: <strong>pigpio, wiringPi,</strong> or <strong>libbcm2835</strong>.  These do require language specific bindings.  You should be able to mix and match them with sysfs access if you are sensible.</p>
"
41069,1,2016-01-13T22:22:02.460,10,14033,38461,,2020-05-12T13:49:05.670,2016-01-13T23:04:04.237,11,,"<p>Newer iPhones will broadcast an SSID in hotspot mode as such:</p>

<pre><code>My Name\342\\\200\\\231\\s iPhone
</code></pre>

<p>I observed this SSID in the GUI.</p>

<p>When I grab the SSID via the command line:</p>

<pre><code>$ sudo iwlist wlan0 scan | grep ESSID
&gt; My Name\xE52\x80\x99s iPhone
</code></pre>

<p>In the iPhone it shows up as:</p>

<pre><code>My Name's iPhone
</code></pre>

<p>If, in wpa_supplicant.conf, I enter:</p>

<pre><code>network={
    ssid=""My Name's iPhone""
    psk=""my_passcode""
}
</code></pre>

<p>The Raspberry Pi will not connect to the iPhone hotspot.</p>

<p>However, if, in <code>wpa_supplicant.conf</code>, I enter:</p>

<pre><code>network={
    ssid=""My Name\342\\\200\\\231\s iPhone""
    psk=""my_passcode""
}
</code></pre>

<p>I get an error in the command line.</p>

<pre><code>$ sudo ifdown wlan0
$ sudo ifup wlan0
&gt; wpa_supplicant: /sbin/wpa_supplicant daemon failed to start
&gt; run-parts: /etc/network/if-pre-up/wpasupplicant exited with return code 1
&gt; Failed to bring up wlan0
</code></pre>

<p>Via GUI, I get the error ""Invalid argument"". </p>

<p>If, in <code>wpa_supplicant.conf</code> I enter:</p>

<pre><code>network={
    ssid=""My Name\xE52\x80\x99s iPhone""
    psk=""my_passcode""
}
</code></pre>

<p>Then raspbian will not connect to it, and will connect to a lower priority network (assume I have the priorities set correctly, which I have tested).</p>
"
41079,1,2016-01-14T05:03:25.927,1,582,39849,,2016-01-20T21:54:23.803,,1,,"<p>I am making a drink making robot. I was going to set the RPi as a webpage that can only be accessed when on my local Wifi network. </p>

<p>Then on the page you would select what drink you want and when the user hits submit the pour commands are sent to python I/O control. </p>

<p>My problem is the first half, how do I set up a local webpage and have it submit say an array of int to a python program on the pi. Any ideas on what I should do? or how I should tackle this? </p>
"
41316,1,2016-01-19T11:45:22.080,3,4975,40126,,2016-12-06T19:47:42.573,,0,,"<p>I'm willing to send 20 bytes at a time to Arduinos via I2C bus. I'm writing a C program (that will become a Daemon) that should achieve this, and thus I downloaded via Git the last wiringPi library, and it is working great when sending one byte of data to the Arduino :</p>

<pre><code>wiringPiI2CWrite(0x77, 0x40);
</code></pre>

<p>Sends byte 0x40 to the slave device with address 0x77.</p>

<p>Then it comes to sending more than a byte. The following works great :</p>

<pre><code>wiringPiI2CWriteReg8(0x77, 0x40, 0x01);
</code></pre>

<p>Sends bytes 0x40 then 0x01 to the slave device with address 0x77.</p>

<pre><code>wiringPiI2CWriteReg16(0x77, 0x40, 0xFD01);
</code></pre>

<p>Sends bytes 0x40 then 0x01 then 0xFD to the slave device with address 0x77.</p>

<p>Now I went into the wiringPi source code, in wiringPiI2C.c, and based on what I saw, added a new function :</p>

<pre><code>static int WriteBigData (int fd, uint8_t* b)
{
  union i2c_smbus_data data;
  int i;
  for(i = 0; i &lt; 19)
    data.block[i] = b[i + 1];

  return i2c_smbus_access(fd, I2C_SMBUS_WRITE, b[0], 19, &amp;data);
}
</code></pre>

<p>Which would result in fact in :</p>

<pre><code>static int WriteBigData (int fd, uint8_t* b)
{
  union i2c_smbus_data data;
  int i;
  for(i = 0; i &lt; 19)
    data.block[i] = b[i + 1];

  struct i2c_smbus_ioctl_data args ;
  args.read_write = I2C_SMBUS_WRITE ;
  args.command    = b[0] ;
  args.size       = 19 ;
  args.data       = data ;
  return ioctl (fd, I2C_SMBUS, &amp;args) ;
}
</code></pre>

<p>But when executing, Arduino gets nothing. If I change size to 5, Arduino receives 3 bytes (Command + 2 first data bytes), if I change size to 8, Arduino receives 2 bytes (Command + first data byte). If I change size to 10, Arduino receives nothing.</p>

<p>So I'm wondering, may understand that Raspberry Pi's I2C is in fact the SMBus version of I2C ? Are there any limitations ? I also found that SMBus has limitation of 32 data bytes, which should be enough for my 20 bytes ...</p>

<p>Is this a limitation of the Linux (Raspbian) driver for I2C ?</p>

<p>Did anyone manage to send more than 2 data bytes over I2C from a Raspberry Pi ?</p>

<p>(Just to clarify if the detail is needed : I use a Model 1 Raspberry Pi B Rev. 2)</p>
"
41465,1,2016-01-22T10:33:49.380,1,1266,40290,,2016-01-29T09:46:43.037,2016-01-29T09:46:43.037,0,,"<p>I have configured the PPTPD serice on my Pi and it works well.</p>

<p>When I reboot the Pi the PPTPD service is not starting automatically.</p>

<p>When seaching Google there are many ways suggested.</p>

<p>Should I use something like <code>sudo nano /etc/rc.local</code> or upstart?</p>

<p>Please can someone advise which is the best way?</p>
"
41503,1,2016-01-22T23:16:57.630,1,196,26754,,2016-01-26T07:45:45.230,2017-04-13T12:56:22.977,2,,"<p>I've read (here: <a href=""https://raspberrypi.stackexchange.com/questions/325/is-the-raspberry-pi-suitable-for-running-continuously-24-7/1276"">Is the Raspberry Pi suitable for running continuously, 24/7?</a>) that using a Raspberry Pi 24/7 is possible as long as you don't write too much on the SD card. So, how do you know if your system/application writes on it ? Are there kind of log of this ?</p>

<p>To be more precise, in my case I'm using the Raspberry as a DSP and I guess I'm not writing anything on it but, how to be sure ?</p>
"
41534,1,2016-01-23T16:51:01.967,4,4846,40352,,2021-02-13T00:07:15.133,2016-01-23T17:03:16.377,6,,"<p>I use my Raspbery PI model B for capturing images for a timelapse. I capture an image every 30 seconds (roughly) using the build in <code>raspistill</code> command within a simple bash script seen below:</p>

<pre><code>#!/bin/bash

imagePath=""/home/pi/weatherPi-images/""

echo ""Press [CTRL+C] to stop..""
echo ""AutoImage process started @ ""`date +""%FT%H_%M_%S""`
while :
do
  timestamp=`date +""%FT%H_%M_%S""`
  imageName=$imagePath$timestamp"".jpg""
  echo ""Taking picture $imageName""
  raspistill -o $imageName -e jpg
  sleep 30
done
</code></pre>

<p>Regardless of what I do after sometimes a few hours or this time after four days of straight image capturing (7600+ images) the Pi freezes / the camera LED stays red and the pi is not responding anymore. There is no recurring time interval between these crashes.</p>

<p>The only way to fix this is by cutting the power input from the Pi and restarting it.</p>

<p>After some research most people told that the cause for such a behaviour is a low power- / quality PSU. 
But in my case the PSU is no problem. It is a <a href=""http://cdn-reichelt.de/documents/datenblatt/D400/RS-25-SPEC.pdf"" rel=""nofollow"">5V/5A/25W</a> power supply which is directly connected to the mains power (which is stable over the year / no blackouts) and has a big power overhead for such a use case. The output voltage is set to ~ 5.1V (±0.05V) so even if the Raspberry Pi draws a lot of power, the voltage is never dropping below 5V.</p>

<p>Right before the Raspberry Pi crashed this time I got this in the :
<a href=""https://paste.ee/p/USQ73#TRkp0A65xuMye8Cib0dwW2erC3n7xumy"" rel=""nofollow""><code>kern.log</code></a> (click to see more)</p>

<p>It seems that the raspistill script which is written in Python is hanging / filling up all memory.</p>

<p>What can I do to avoid such crashes? If my Pi stays as unreliable for image capturing as it is right now I cannot use it for a long term timelapse (1+ years).</p>

<p>One more thing to mention is that if the outside temperature is higher, the more likely the Pi crashes. The Pi is mounted outside and the temperatures here were lower than 0°C / 32°F for the last Week, today the temperatures were above freezing point again. </p>

<p>The Pi's case temperature has been at around 10°C (50°F)for the past week and because of the higher outside temperatures was going up to 15-18°C (59-64.4°F)today</p>

<p>My Raspberry Pi is overclocked with <code>raspi-config</code> to 1 GHz, this was never an issue as the CPU has a heatsink on it and is always below 40°C (104°F). The Pi had an uptime of 35 days before the crash.</p>

<p>System information:</p>

<p><strong>lsb_release -a</strong></p>

<pre><code>No LSB modules are available.
Distributor ID: Raspbian
Description:    Raspbian GNU/Linux 8.0 (jessie)
Release:    8.0
Codename:   jessie
</code></pre>

<p><strong>uname -a</strong></p>

<pre><code>Linux horizon 4.1.13+ #826 PREEMPT Fri Nov 13 20:13:22 GMT 2015 armv6l GNU/Linux
</code></pre>

<p><strong>lsusb</strong></p>

<pre><code>Bus 001 Device 004: ID 7392:7811 Edimax Technology Co., Ltd EW-7811Un 802.11n Wireless Adapter [Realtek RTL8188CUS]
Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter
Bus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. LAN9500 Ethernet 10/100 Adapter / SMSC9512/9514 Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</code></pre>

<p><strong>EDIT:</strong></p>

<p><code>raspistill</code> <a href=""https://github.com/raspberrypi/userland/blob/master/host_applications/linux/apps/raspicam/RaspiStill.c"" rel=""nofollow"">is written in C</a>. This makes the crash even more strange to me.</p>

<p><strong>EDIT2:</strong></p>

<p>Some more research brought me to <a href=""http://www.blackmoreops.com/2014/09/22/linux-kernel-panic-issue-fix-hung_task_timeout_secs-blocked-120-seconds-problem/"" rel=""nofollow"">this article</a>. Testing the suggested fixes now, for a long timespan (7+ days).</p>
"
41757,1,2016-01-28T00:49:54.157,8,9796,40580,,2020-01-16T05:44:56.320,2017-04-13T12:56:25.530,2,,"<p>I am attempting to setup a Plantronics .Audio 400 DSP with a Raspberry Pi 2 Model B as the default device with Jessie installed.
Headset Link: <a href=""http://www.plantronics.com/us/product/audio-400-dsp"" rel=""nofollow noreferrer"">http://www.plantronics.com/us/product/audio-400-dsp</a> </p>

<p>So far in all attempts I have been unsuccessful in setting this up as the default device.  The USB is recognized by the Pi, and manually selecting this via aplay or arecord work:</p>

<pre><code>aplay test.wav –Dsysdefault:CARD=DSP
arecord test.wav –Dsysdefault:CARD=DSP
</code></pre>

<p>Below I will include some research I have done and what I attempted:</p>

<ul>
<li><p><a href=""https://raspberrypi.stackexchange.com/questions/39928/unable-to-set-default-input-and-output-audio-device-on-raspberry-jessie"">Unable to set default input and output audio device on Raspberry jessie</a></p>

<ul>
<li>On reboot of the device, it appears asoundrc is getting rewritten so
that card 1 is now card 0.</li>
</ul></li>
<li><p><a href=""https://www.raspberrypi.org/forums/viewtopic.php?f=66&amp;t=129514"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/forums/viewtopic.php?f=66&amp;t=129514</a></p>

<ul>
<li>This removes the default sound/microphone from the devices.  However, when trying to test this with aplay or arecord, I am getting a ‘Channels count not available’.</li>
<li>This does however allow me to listen to sound via a browser</li>
</ul></li>
<li><p><a href=""https://raspberrypi.stackexchange.com/questions/38161/how-to-reorder-the-index-for-mic-on-new-raspbian-jessie-for-pocketsphinx"">How to reorder the index for mic on new Raspbian Jessie for PocketSphinx?</a></p>

<ul>
<li>Did not adjust anything</li>
</ul></li>
<li><p><a href=""https://raspberrypi.stackexchange.com/questions/40831/how-do-i-configure-my-sound-for-jasper-on-raspbian-jessie"">How do I configure my sound for Jasper on Raspbian Jessie?</a></p>

<ul>
<li>The indexing did not work for me, but I would love to see if Housni creates a bash script</li>
</ul></li>
</ul>

<p>In short, does anyone have detailed instructions on how to connect a USB Headset (microphone + headphones) to a Raspberry Pi 2 with Jessie installed as the default device?</p>

<p>Thanks!</p>
"
41784,1,2016-01-28T14:49:48.583,3,2106,32790,,2016-01-29T12:23:59.390,2016-01-29T07:21:35.147,6,,"<p>So recently I was interested in CPU and GPU temperatures and did some work displaying the temperatures in real time on a page and also recording the temperatures on a graph using <code>rrdtool</code> (which is very awesome). I've also been logging the temperatures for a while now.</p>

<p><a href=""https://i.stack.imgur.com/qQrZC.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qQrZC.png"" alt=""enter image description here""></a></p>

<p>Pop quiz: Can you see where I added the active cooling?</p>

<p>But then I got to wondering if the one temperature affected the other. Makes sense. So I did a (very brief) Google search to find out which chip was the CPU and which the GPU.</p>

<p><a href=""https://i.stack.imgur.com/z5bQU.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/z5bQU.png"" alt=""enter image description here""></a></p>

<p>Ok, so, wait, they're on the same chip.... So why Am I getting (slightly) different temperatures?
<a href=""https://i.stack.imgur.com/LVpI1.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LVpI1.png"" alt=""enter image description here""></a></p>

<p>And are there really 2 separate temperature sensors on the one chip?</p>

<p>Here's an ""close up"" of the last 15 minutes (5 minute heartbeat)
<a href=""https://i.stack.imgur.com/tCtvM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tCtvM.png"" alt=""enter image description here""></a></p>
"
41920,1,2016-01-31T11:38:27.620,16,31229,39611,,2017-02-04T14:27:23.353,2017-04-13T12:56:25.530,2,,"<p>I'm attempting to connect to my Pi via VNC for the first time.</p>

<p>I performed the initial set up of the Pi in a headless fashion using a direct connection to my laptop (via an ethernet cable). I didn't use a monitor or keyboard, and had to fiddle around to ensure <code>sshd</code> was up and running. (See this thread: <a href=""https://raspberrypi.stackexchange.com/questions/41879/initial-setup-without-a-monitor-or-keyboard"">Initial setup without a monitor or keyboard</a>)</p>

<p>The Pi is now connected to my home network, so there's no longer a need for the direct connection. I'm now attempting to access the Pi via VNC from my laptop, over the network.</p>

<p>I can create the session on the Pi (via <code>ssh</code>) using <a href=""https://www.raspberrypi.org/documentation/remote-access/vnc/README.md"" rel=""noreferrer"">these instructions</a>, but on connecting to the session with the laptop I hit the following error:</p>

<blockquote>
  <p>Xsession: unable to start X session --- no ""/home/pi/.xsession"" file,
  no  ""/home/pi/.Xsession"" file, no session managers, no window
  managers, and no terminal emulators found; aborting.</p>
</blockquote>

<p>I notice a <a href=""https://raspberrypi.stackexchange.com/questions/40994/vnc-problem-on-mac-and-pi-2-no-xsession-file"">similar question has been asked before</a>, and with the only answer suggesting it <em>should</em> just work.</p>

<p>However, I'm using a Jessie Lite image, and <a href=""https://raspberrypi.stackexchange.com/a/39933/39611"">this post</a> would suggest that certain X windows packages are deliberately not included in the image. </p>

<p>So, should this just work, or are any additional X server packages required for the Lite image? (Does VNC actually require additional X server packages, or are all requirements pulled in when VNC is installed?)</p>

<p>Note that I haven't configured anything via <code>raspbi-config</code>.</p>
"
42039,1,2016-02-02T12:01:57.043,6,9138,34081,,2017-08-15T19:44:01.733,2016-02-02T12:15:28.927,0,,"<p>When I wanted to start working with <em>Raspberry Pi Zero</em>, I presumed the GPIO configuration is the same as for <em>A+</em>, <em>B+</em> and <em>Pi2</em> and I wanted to confirm it is true. However, I couldn't find an <strong>official</strong> confirmation.</p>

<p>Is the GPIO BCM layout for <em>Raspberry Pi Zero</em> like below (<a href=""https://www.raspberrypi.org/documentation/usage/gpio-plus-and-raspi2"" rel=""noreferrer"">source</a>) ?
<a href=""https://i.stack.imgur.com/YkgK1.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/YkgK1.png"" alt=""enter image description here""></a></p>
"
42104,1,2016-02-03T18:37:25.307,2,3358,37149,,2016-02-04T10:29:45.277,2016-02-03T19:30:30.287,9,,"<p>I got 10 Raspberry Pis and each of them records video from a USB camera. I want to control them simultaneously with simple commands like ""start"" or ""stop"" the recording script. Is there a way to connect all of them to another Raspberry Pi and send those commands from that Raspberry Pi over direct (I don't want the system to be dependent on an internet connection) wireless connection? All the Raspberry Pis have USB Wi-fi dongles and they are placed close to each other. </p>

<p>Thank you.</p>
"
42145,1,2016-02-04T15:45:17.133,22,32363,34081,,2020-11-06T17:28:36.370,2016-02-04T16:04:31.173,3,,"<p>Is there a possibility to store a hardware ID for each Raspberry Pi based device?</p>

<p>Let's say I have 10 custom devices based on Raspberry Pi platform that are used for distributed tasks. At some point, for some reason, I want to erase everything from one of them. How can I re-identify the board after that?</p>

<p>Does Pi have a chip that stores a unique ID like a serial number for every board? If not, can I add a (read-only) memory (that can store a simple value even when not powered) to be able to communicate with it through GPIO at any time?</p>

<p>What are the alternatives?</p>
"
42473,1,2016-02-11T17:50:24.297,3,1712,41344,,2016-03-18T21:07:01.247,2016-02-11T23:11:09.503,0,,"<p>I want build a web page that has a button to start <code>omxplayer</code> on my Raspberry Pi. I've been searching but with no results. Does anyone know how to do this? I have Apache and Php installed on my Pi.</p>
"
42474,1,2016-02-11T19:41:23.170,0,332,39301,,2016-02-11T21:41:06.530,2016-02-11T20:16:53.160,0,,"<p>I have a project running a 32x32 LED grid based on these instructions:</p>

<p><a href=""https://learn.adafruit.com/adafruit-rgb-matrix-plus-real-time-clock-hat-for-raspberry-pi/driving-matrices"" rel=""nofollow"">https://learn.adafruit.com/adafruit-rgb-matrix-plus-real-time-clock-hat-for-raspberry-pi/driving-matrices</a></p>

<p>which relies on these drivers:</p>

<p><a href=""https://github.com/adafruit/rpi-rgb-led-matrix/"" rel=""nofollow"">https://github.com/adafruit/rpi-rgb-led-matrix/</a></p>

<p>At the same time, my Rasp Pi 2 is running a full Bitcoin node. A python script interacts both with the bitcoind server via JSON-RPC, and the LED matrix.</p>

<p>I found that when the Adafruit driver is running...</p>

<p><code>from rgbmatrix import Adafruit_RGBmatrix</code></p>

<p><code>matrix = Adafruit_RGBmatrix(32, 1)</code></p>

<p>...many other processes involving Bitcoind and the JSON-RPC interface time-out. Sometimes the calls never return, sometimes it takes up to an hour!</p>

<p>I'm stuck on trouble-shooting this. I don't even know how the LED matrix / GPIO signals are affecting the other systems. Staring at <code>htop</code> I don't see anything strange when it's running. But for sure, when I run my scripts WITHOUT <code>Adafruit_RGBmatrix</code> I have zero problems interacting with bitcoind server.</p>

<p>What kind of resources does <code>Adafruit_RGBmatrix</code> suck up? How can I monitor it? How can I retard the driver for a moment to get my other process through?</p>

<p>Sorry this is a confusing one, throwing a hail mary here...</p>
"
42487,1,2016-02-11T22:39:15.413,4,6206,41351,,2016-02-12T14:18:36.640,2016-02-12T08:17:07.300,8,,"<p>I need the IP address of my Raspberry Pi so that I can SSH into it. This must be possible to do at my university without a monitor connected. So I made a Python script which sends me the IP address by email, but I can't get it to run at boot. I tried adding <code>python3 /home/pi/code/ipmailer.py</code>
to the end of <code>/home/pi/.bashrc</code> but I couldn't get it to work. Does anyone know how to get this to work? Or another way to get the IP?</p>

<p>I have a Raspberry Pi 2 model B running Raspbian.</p>

<p>The Python script:</p>

<pre class=""lang-python prettyprint-override""><code>import smtplib from email.mime.text
import MIMEText
import datetime
import subprocess

ip = subprocess.check_output(['hostname', '-I'])
to = 'My email address'
gmail_user = 'Gmail used to send from'
gmail_password = 'Password'

smtpserver = smtplib.SMTP('smtp.gmail.com', 587)
smtpserver.ehlo()
smtpserver.starttls()
smtpserver.ehlo()
smtpserver.login(gmail_user, gmail_password)

today = datetime.date.today()
my_msg = '%s' % today.strftime('%b %d %Y')
msg = MIMEText(my_msg)
msg['Subject'] = 'Raspberry Pi IP: %s' % ip[:-2].decode(""UTF-8"")
msg['From'] = gmail_user
msg['To'] = to
smtpserver.sendmail(gmail_user, [to], msg.as_string())
smtpserver.quit()
</code></pre>
"
42520,1,2016-02-12T14:12:55.067,1,869,18,,2016-02-13T07:25:55.067,2017-04-13T12:56:22.977,13,,"<p>What would be the best way to manage multiple raspberry Pi in kiosk mode? I was thinking on pointing them to a website that has the information they need to display. But I don't know if there's anything or I need to build something to be able to remote edit those raspberry pi kiosk to point to a different website. (Not all the raspberry pi will point to the same url).</p>

<p>I was thinking on searching Raspberry Pi in the network with something like this: <a href=""https://raspberrypi.stackexchange.com/questions/13936/find-raspberry-pi-address-on-local-network"">Find Raspberry PI address on local network</a> But then I don't know if they will be in the same network or not. So it's better if I assume that will need WAN access.</p>

<p>So to make it short:
- Multiple Raspberry pi in Kiosk mode pointing to a url (can be different for different Pi)
- Wan access to modify the url they are pointing to or restart it.
- Will only display a website each of those Pi</p>
"
42570,1,2016-02-13T16:07:03.107,0,2670,16202,,2016-12-30T21:14:28.220,,0,,"<p>I selected a Ralink 5572 based USB dongle to enable creating a 5 GHz access point on a Raspberry Pi 2. </p>

<p>I have found from trial and error that hostapd cannot use 5 GHz frequencies, unless first run in the 2.4 GHz band.</p>

<p>Here's the hostapd.conf file:</p>

<pre><code>interface=wlan0
driver=nl80211
country_code=US
ssid=**********
ieee80211n=1
hw_mode=a
channel=44
wpa=3
wpa_passphrase=**********
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_pairwise=CCMP
beacon_int=100
auth_algs=3
macaddr_acl=0
wmm_enabled=1
eap_reauth_period=360000000
</code></pre>

<p>With hostapd.conf settings of hw_mode=a, and channel=44, hostapd gives this output:</p>

<pre><code>sudo hostapd -d /etc/hostapd/hostapd.conf
random: Trying to read entropy from /dev/random
Configuration file: /etc/hostapd/hostapd.conf
nl80211: interface wlan0 in phy phy0
rfkill: initial event: idx=0 type=1 op=0 soft=0 hard=0
nl80211: Using driver-based off-channel TX
nl80211: Add own interface ifindex 3
nl80211: Set mode ifindex 3 iftype 3 (AP)
nl80211: Create interface iftype 6 (MONITOR)
nl80211: New interface mon.wlan0 created: ifindex=4
nl80211: Add own interface ifindex 4
BSS count 1, BSSID mask 00:00:00:00:00:00 (0 bits)
nl80211: Regulatory information - country=00
nl80211: 2402-2472 @ 40 MHz
nl80211: 2457-2482 @ 40 MHz
nl80211: 2474-2494 @ 20 MHz
nl80211: 5170-5250 @ 80 MHz
nl80211: 5250-5330 @ 80 MHz
nl80211: 5490-5730 @ 160 MHz
nl80211: 5735-5835 @ 80 MHz
nl80211: 57240-63720 @ 2160 MHz
nl80211: Added 802.11b mode based on 802.11g information
channel [4] (44) is disabled for use in AP mode, flags: 0x77
wlan0: IEEE 802.11 Configured channel (44) not found from the channel list of current mode (2) IEEE 802.11a
wlan0: IEEE 802.11 Hardware does not support configured channel
Could not select hw_mode and channel. (-4)
wlan0: Unable to setup interface.
</code></pre>

<p>Next I change to hw_mode=g, channel=6, and run hostapd again:</p>

<pre><code>sudo hostapd -d /etc/hostapd/hostapd.conf
random: Trying to read entropy from /dev/random
Configuration file: /etc/hostapd/hostapd.conf
nl80211: interface wlan0 in phy phy0
rfkill: initial event: idx=0 type=1 op=0 soft=0 hard=0
nl80211: Using driver-based off-channel TX
nl80211: Add own interface ifindex 3
nl80211: Set mode ifindex 3 iftype 3 (AP)
nl80211: Create interface iftype 6 (MONITOR)
nl80211: New interface mon.wlan0 created: ifindex=5
nl80211: Add own interface ifindex 5
BSS count 1, BSSID mask 00:00:00:00:00:00 (0 bits)
nl80211: Regulatory information - country=US
nl80211: 2402-2472 @ 40 MHz
nl80211: 5170-5250 @ 80 MHz
nl80211: 5250-5330 @ 80 MHz
nl80211: 5735-5835 @ 80 MHz
nl80211: 57240-63720 @ 2160 MHz
nl80211: Added 802.11b mode based on 802.11g information
Completing interface initialization
Mode: IEEE 802.11g  Channel: 6  Frequency: 2437 MHz
</code></pre>

<p>Finally I change hostapd.conf back to hw_mode=a, channel=44, and run hostapd again:</p>

<pre><code>sudo hostapd -d /etc/hostapd/hostapd.conf
random: Trying to read entropy from /dev/random
Configuration file: /etc/hostapd/hostapd.conf
nl80211: interface wlan0 in phy phy0
rfkill: initial event: idx=0 type=1 op=0 soft=0 hard=0
nl80211: Using driver-based off-channel TX
nl80211: Add own interface ifindex 3
nl80211: Set mode ifindex 3 iftype 3 (AP)
nl80211: Create interface iftype 6 (MONITOR)
nl80211: New interface mon.wlan0 created: ifindex=6
nl80211: Add own interface ifindex 6
BSS count 1, BSSID mask 00:00:00:00:00:00 (0 bits)
nl80211: Regulatory information - country=US
nl80211: 2402-2472 @ 40 MHz
nl80211: 5170-5250 @ 80 MHz
nl80211: 5250-5330 @ 80 MHz
nl80211: 5735-5835 @ 80 MHz
nl80211: 57240-63720 @ 2160 MHz
nl80211: Added 802.11b mode based on 802.11g information
Completing interface initialization
Mode: IEEE 802.11a  Channel: 44  Frequency: 5220 MHz
nl80211: Set freq 5220 (ht_enabled=1 sec_channel_offset=0)
</code></pre>

<p>At this point, I can connect to the AP, perform WPA authentication, and receive an IP address. </p>

<p>As I compare the output, I notice the first run says ""Regulatory information - country=00"", even though the hostapd.conf file contains ""country_code=US"" After changing to the 2.4 GHz band, hostapd reports ""Regulatory information - country=US"", and then remains set to US after restoring to channel 44.  </p>

<p>Does anyone know what is happening on the first run, and how to get the country code properly recognized the first time? </p>
"
42728,1,2016-02-17T12:32:47.780,1,438,41327,,2016-02-17T13:02:01.337,,0,,"<p>I have some concerns with the L296N module.</p>

<p>Let's consider the below module notation.</p>

<ol>
<li><p>I understand what all the connections do except the pair (7 and above) and (12 and above).
Let's consider only the pair 7 and above(7b).
To what should be 7 and 7b connected? To two different GPIO or to GPIO and GND?</p></li>
<li><p>Why do they need 2 pins for the motor direction?Souldn't be only one enough since there are only two directions?(HIGH-HIGH and LOW-LOW encodings are not used).</p></li>
</ol>

<p><a href=""https://i.stack.imgur.com/jkonJ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jkonJ.jpg"" alt=""enter image description here""></a></p>
"
42988,1,2016-02-22T22:32:16.937,3,3602,,Mads,2016-02-23T09:57:14.680,,4,,"<p>So I'm planning on making an arcade style machine using a raspberry pi. Doing this will require some inputs like up, down, left, right, start etc. Exactly how would I go about doing this. Can the input be passed directly from the button to the pi, or would it have to go through something else first to turn it into something like a USB output? The model of Raspberry Pi is: Model B+ V1. </p>
"
43037,1,2016-02-23T21:21:25.780,3,6034,35811,,2020-09-12T22:36:25.597,2016-02-23T21:33:59.647,3,,"<p>I have a HAT which blocks <code>GPIO4</code> so I cannot use the default pin for the temperature sensor, but I just cannot get it to work on another pin!</p>

<p>I just get lots of <code>00-</code> instead of <code>28-</code> in <code>/sys/bus/w1/devices</code></p>

<p>Tried every available free pin using </p>

<pre><code>dtoverlay=w1-gpio,gpiopin=16
</code></pre>

<p>in <code>/boot/config.txt</code> to no avail.</p>

<p>Is there something else I need to do?</p>
"
43042,1,2016-02-23T22:29:37.297,11,3851,41953,,2016-02-24T16:51:42.867,,6,,"<p>This kind of project has been done with Bluetooth before but the 30 foot range and extra battery consumption make me want to just ping the router instead of people's phones. I know that routers keep track of unique MAC address's for each device. I was hoping to register each phone's address and have the PI Periodically check the router to update a dynamic web page to display who is home.</p>

<p>I want to know if there is a reasonable way to pull this info with the PI. </p>
"
43052,1,2016-02-24T03:22:32.080,5,9977,41959,,2018-02-21T08:43:43.197,2017-12-13T07:58:04.107,4,,"<p>I've set up samba on raspbian Jessie, and I am able to get to the ""pi"" user's folder from a windows box. </p>

<p>I want to be able to get to the <code>/etc/</code> directory from windows because I want to edit conf files in the warm bosom of notepad instead of using nano. I've set up the below with the path specifically pointing at <code>/etc</code> and with just <code>/.</code></p>

<pre><code>[root]
   read only = no
   locking = no
   path = /etc
   guest ok = yes
</code></pre>

<p>and I gave All users write access to the <code>/etc</code> folder with <code>chmod</code>. I can see the <code>\\raspberrypi\root</code> share in windows, and it prompts me for my credentials. but then it says it's not accessible, because either I don't have permissions, or I have another connection to the server with a different username. </p>

<p>I've searched around the internet for this, but it's difficult searching for ""raspbian etc"" because every configuration tutorial in the world seems to involve the <code>/etc</code> folder. </p>
"
43118,1,2016-02-25T06:49:30.303,2,14478,39084,,2016-02-25T06:49:30.303,,0,,"<p>I am playing around with the <a href=""http://www.logitech.com/en-us/product/hd-pro-webcam-c920"" rel=""nofollow"">logitech c920</a> as a baby monitor. Hence I would like to turn off the blue status light if possible; preferably via unix command line. </p>

<p>Is that possible?</p>
"
43185,1,2016-02-27T03:15:57.673,4,36159,42074,,2017-11-12T08:07:20.340,2016-02-27T04:04:53.910,1,,"<p>I was using a Raspberry PI 2 Model B, and I installed NOOBS. I selected and installed Raspbian, and I used my Pi for about 24 hours before I decided to re-install the OS. When I plugged in my micro SD card, I deleted all of the files inside. I'm not sure if this happened before or after I deleted the files, but my SD card was renamed ""RECOVERY"" and it went from 8GB to only 1GB storage. How can I fix my SD card?</p>

<p>NOTE: When I plugged the card into my mac, there were two Disks that were on my desktop, one of them was titled ""BOOT"", the other was titled ""RECOVERY"".</p>
"
43303,1,2016-02-29T15:46:20.307,12,30639,33979,,2017-03-29T10:11:58.560,2016-03-09T03:34:59.853,3,,"<p>With the release of the Raspberry Pi Model B 3 today, I'm sure we're all very excited to see the speed of this new Pi. The standard clock is 1.2Ghz, but I'd like to push mine further. I know the Pi 3 uses the 64-bit BCM2837 processor, but I couldn't find any fact sheets on the BCM2837, as all search results for it are about the Pi 3. </p>

<p>Does this new processor have any overclocking abilities? Or is it like the Pi Zero, which came at it's maximum clock speed?</p>
"
43414,1,2016-03-02T04:10:21.887,5,855,42349,,2018-10-31T19:32:46.067,,0,,"<p>I recently bought a <a href=""http://rads.stackoverflow.com/amzn/click/B001MSS6CS"" rel=""noreferrer"">USB sound card</a> to improve the audio output on my pi while continuing to use my <a href=""http://rads.stackoverflow.com/amzn/click/B008CNZOJY"" rel=""noreferrer"">USB microphone</a> for audio input.</p>

<p>The problem is that I do not know how to configure the pi to use the USB sound card as the default for audio out while continuing to use the separate USB mic for audio in.   The USB sound card technically has a 3.5 mm mic in but I would rather not buy another microphone (non-USB) just to get this working.</p>
"
43459,1,2016-03-03T03:11:52.990,6,1974,42413,,2020-07-29T23:16:06.803,2016-03-03T15:47:41.190,0,,"<p>I'm trying to stream video from the camera module using ffserver.  My server configuration is</p>

<pre><code>HTTPPort 8090
HTTPBindAddress 0.0.0.0
MaxHTTPConnections 8
MaxClients 4
MaxBandwidth 1000
CustomLog -
#NoDaemon

&lt;Feed feed1.ffm&gt;
    File /tmp/feed1.ffm
    FileMaxSize 5M
    ACL allow 127.0.0.1
&lt;/Feed&gt;

&lt;Stream live.flv&gt;
    Feed feed1.ffm
    NoAudio
&lt;/Stream&gt;

##################################################################
# Special streams
##################################################################
&lt;Stream stat.html&gt;
    Format status
    # Only allow local people to get the status
    ACL allow localhost
    ACL allow 192.168.0.0 192.168.255.255
&lt;/Stream&gt;

# Redirect index.html to the appropriate site
&lt;Redirect index.html&gt;
    URL http://www.ffmpeg.org/
&lt;/Redirect&gt;
##################################################################
</code></pre>

<p>I run</p>

<pre><code>ffserver -f server.conf &amp;
</code></pre>

<p>and then</p>

<pre><code>raspivid -t 0 -w 640 -h 480 -b 1024000 -fps 5 -ih -n -o - | \
  ffmpeg -i - -c:v copy -r 5 -an -f flv -override_ffserver \
  http://localhost:8090/feed1.ffm
</code></pre>

<p>However ffmpeg complains</p>

<pre><code>[flv @ 0x215e520] Timestamps are unset in a packet for stream 0. This is deprecated and will stop working in the future. Fix your code to set the timestamps properly
Thu Mar  3 02:58:36 2016 127.0.0.1 - - [POST] ""/feed1.ffm HTTP/1.1"" 200 276
av_interleaved_write_frame(): Connection reset by peer
[flv @ 0x215e520] Failed to update header with correct duration.
[flv @ 0x215e520] Failed to update header with correct filesize.
Error writing trailer of http://localhost:8090/feed1.ffm: Connection reset by peer
</code></pre>

<p>and then quit.</p>

<p>How do I fix this?</p>

<p>BTW, I tested <code>raspivid</code> and <code>ffmpeg</code> with something like</p>

<pre><code>raspivid -t 0 -w 640 -h 480 -o - | ffmpeg -i - -c:v copy test.mkv
</code></pre>

<p>and it worked normally.</p>
"
43598,1,2016-03-05T09:55:47.477,0,987,40028,,2016-03-05T11:08:27.723,2016-03-05T10:26:55.137,3,,"<p>Good day</p>

<p>I am trying to sample distance using a sonar/ultrasonic sensor for altitude measurement. When the PWM is not active, the sensor gives accurate measurements in centimeters, however with the PWM active, the sensors outputs unrealistic measurements. I have seen other having issues with the arduino platform and have resolved this issue by decoupling the supply of the sensor with an electrolytic capacitor. However this does not resolve the issue and upon closer inspection, with the PWM active, the measured pulse/echo is wrong. Is this an issue with the sonar and PWM fighting over the raspi's timer? </p>

<blockquote>
  <p>Is there anyway to fix this?</p>
</blockquote>

<p>I have been trying to debug this problem for 3 days now. I tried using the wiring-pi library and the pigpio library but both have the same problem.</p>

<p>This is an example code with the same issue:</p>

<pre><code>int main(int argc, char** argv){

        //Sonar Sensor Initialize LOW
        gpioInitialise(); //Initialize Wiring Pi using broadcom pin numbering
        gpioSetMode(27, PI_OUTPUT); //Set up gpio pins
        gpioSetMode(25, PI_INPUT);

        //Set-up PWM pins
        gpioSetMode(24, PI_OUTPUT);
        gpioSetMode(17, PI_OUTPUT);
        gpioSetMode(22, PI_OUTPUT);
        gpioSetMode(18, PI_OUTPUT);
        gpioSetPWMfrequency(24,400);
        gpioSetPWMfrequency(17,400);
        gpioSetPWMfrequency(22,400);
        gpioSetPWMfrequency(18,400);
        gpioPWM(24,113);  //1
        gpioPWM(17,113);  //2
        gpioPWM(22,113);  //3
        gpioPWM(18,113);  //4

        delay(30);


    while(1){ //While loop (pseudo pid control loop)
        //-------Poll Sensor-------
        //Start TRIG pulse HIGH
        gpioWrite(27, 1);
        delayMicroseconds(10);      
        gpioWrite(27, 0);

        while(gpioRead(25) == 0){};
        long timeInitial = micros(); //Get time since program started in microseconds
        while(gpioRead(25) == 1){};
        long timeEcho = micros() - timeInitial; 
        cout &lt;&lt; ""timeInitial = ""&lt;&lt; (double)timeInitial &lt;&lt; endl;
        cout &lt;&lt; ""timeEcho = ""&lt;&lt; (double)timeEcho &lt;&lt; endl;
        //Get distance in cm
        float altitude = timeEcho / 58.2;
        cout &lt;&lt; ""Altitude ""&lt;&lt; altitude &lt;&lt; endl;

        //-------""Update PWM""-------
        gpioPWM(24,155);  //1
        gpioPWM(17,155);  //2
        gpioPWM(22,155);  //3
        gpioPWM(18,155);  //4
        delay(50);
    }

        return 0;

}
</code></pre>
"
43629,1,2016-03-06T06:38:01.797,2,692,42631,,2016-03-10T07:22:37.483,,0,,"<p>So, I'm making what's turning out to be a pretty difficult project for me to code. In short, <strong>I'm making a speaker that will play audio when you get near it (thanks to a sonar), with a knob interface (rotary encoder) that allows you to change volume and/or track. And I’m writing it all in Python.</strong></p>

<p>But, here's the rub: because it's a rotary encoder, I have to be constantly checking for rotation changes, and with the sonar, I have to constantly be checking to see if anybody's near. So, both these constant loops need to be running at essentially the same time and in the background.</p>

<p>I've done a fair amount of research into multithreading, multiprocessing, and asynchronous code and I can't seem to find a solution that works correctly.</p>

<p>For the rotary encoder, I'm using code I found here (<a href=""http://guy.carpenter.id.au/gaugette/2013/01/14/rotary-encoder-library-for-the-raspberry-pi/"" rel=""nofollow"">Rotary Encoder library for RPI</a>), and for the sonar, I’m attempting to use  <a href=""https://www.raspberrypi.org/forums/viewtopic.php?p=309163#p309163"" rel=""nofollow"">this code I found on the RPI forums</a>.</p>

<p>The problem is, when I run the sonar code from above in a process or thread, it seems to misread and give a lot of crap data, so it’s not trustworthy. When it’s alone, it’s fine.</p>

<p>Right now my most recent attempt has me starting a thread timer for the sonar that restarts every 3 seconds.</p>

<pre><code>def sonar_handler():
    print ""sonar handler starting""
    distance = measure_average()
    print ""  Distance : %.1f cm"" % distance
    threading.Timer(3, sonar_handler).start()
</code></pre>

<p>BUT, I have to have the knob working on a constant loop on its own thread, and when I add this into the loop, I get constant bad readings from my sonar:</p>

<pre><code>def knob_handler():
    while True:
        global last_state
        delta = encoder.get_delta()
        if delta!=0:
            print ""rotate %d"" % delta
            if delta&gt;0:
                volume_up(delta)
            if delta&lt;0:
                volume_down(delta)

        sw_state = switch.get_state()
        if sw_state != last_state:
            print ""switch %d"" % sw_state
            last_state = sw_state

try:
    knob_thread = threading.Thread(target=knob_handler)
    knob_thread.start()
</code></pre>

<p>In case it's helpful, here's the code that the sonar_handler() is referring to:</p>

<pre><code>def measure():
  # This function measures a distance
  # Pulse the trigger/echo line to initiate a measurement
  GPIO.output(GPIO_TRIGECHO, True)
  time.sleep(0.00001)
  GPIO.output(GPIO_TRIGECHO, False)
  #ensure start time is set in case of very quick return
  start = time.time()

  # set line to input to check for start of echo response
  GPIO.setup(GPIO_TRIGECHO, GPIO.IN)
  while GPIO.input(GPIO_TRIGECHO)==0:
    start = time.time()

  # Wait for end of echo response
  while GPIO.input(GPIO_TRIGECHO)==1:
    stop = time.time()

  GPIO.setup(GPIO_TRIGECHO, GPIO.OUT)
  GPIO.output(GPIO_TRIGECHO, False)

  elapsed = stop-start
  distance = (elapsed * 34300)/2.0
  time.sleep(0.1)
  return distance

def measure_average():
  # This function takes n measurements ignoring any rogue values
  # returns the average.
  MAX_TRIES = 5 # Attempts to get consistent results
  MEASURE_COUNT = 3 # Nof raw measures in each attempt
  CHECK = 2.0 # tolerance in cm between measurements

  midpoint = MEASURE_COUNT / 2
  for tries in range(MAX_TRIES):
    distances = []
    for i in range(MEASURE_COUNT):
      distances.append(measure())
    distances.sort()
    measureOK = True
    for i in range(MEASURE_COUNT - 1):
      if abs(distances[i] - distances[midpoint]) &gt; CHECK:
        measureOK = False
        break
    if measureOK:
      break
    print ""Inconsistent results. "", distances, "" Retrying..""  

  if measureOK:
    distance = sum(distances) / len(distances)
  else:
    print ""Inconsistent after retries. Best guess value""
    distance = distances[len(distances)/2]

  return distance
</code></pre>

<p><strong>At the end of the day, is there an easier, more straightforward way to do this?</strong></p>
"
43750,1,2016-03-08T17:44:22.830,5,12157,33570,,2018-11-16T11:06:45.347,,0,,"<p>I have connected Raspberry pi 2 model B with arduino uno via Bi-Directional Level shifter.</p>

<pre><code>Raspberry pi    GND    ----------   GND     Arduino
                3.3v   ----------   5v
                SCL    ----------   A5
                SDA    ----------   A4
</code></pre>

<p>Hope my I2C connection is correct ?</p>

<p>and my Arduino is connected to 8-Channel Relay Board.</p>

<p>Now I have written code in which I can control the Relay board by Raspberry pi. For ex if i Press '1' the Relay 1 goes high.</p>

<p>Now I want to send data back from arduino to raspberry pi in order to cross check if Relay 1 is high or not, if Relay 1 is high then it should send some data back to Raspberry pi or else not.</p>

<p>My Rpi code is</p>

<pre><code>import smbus
import time
# for RPI version 1, use ""bus = smbus.SMBus(0)""
bus = smbus.SMBus(1)

# This is the address we setup in the Arduino Program
address = 0x04

def writeNumber(value):
    bus.write_byte(address, value)
    # bus.write_byte_data(address, 0, value)
    return -1

def readNumber():
    number = bus.read_byte(address)
    # number = bus.read_byte_data(address, 1)
    return number

while True:
    var = input("""")
    if not var:
        continue

    writeNumber(var)
    number = readNumber()
</code></pre>

<p>My Arduino code:</p>

<pre><code>#include &lt;Wire.h&gt;

#define SLAVE_ADDRESS 0x04
#define RELAY1 9

int number = 0;
int state = 0;

void setup() {
    pinMode(RELAY1, OUTPUT);

    Serial.begin(9600); // start serial for output
    // initialize i2c as slave
    Wire.begin(SLAVE_ADDRESS);

    // define callbacks for i2c communication
    Wire.onReceive(receiveData);
    Wire.onRequest(sendData);

    Serial.println(""Ready!"");
}

void loop() {
    delay(100);
}

// callback for received data
void receiveData(int byteCount){

    while(Wire.available()) {
       number = Wire.read();
       Serial.print(""data received: "");
        Serial.println(number);

        if (number == 1){

            if (state == 0){
                digitalWrite(RELAY1, HIGH); // set the LED on
                state = 1;
            }
            else{
                digitalWrite(RELAY1, LOW); // set the LED off
                state = 0;
            }
        }
    }
}

// callback for sending data
void sendData(){
    Wire.write(number);
}
</code></pre>

<p>Now if I type 1 and due to some loose connection Relay 1 doesn't goes high, So in this case I want the arduino to take data from relay board and send it to Raspberry pi every time.</p>

<p>It will be great if someone can explain also that how it works.</p>

<p>Hope I was able to explain the problem. I have done lots of research but was not able to find some answer.</p>

<p>I am a beginner in python so please help me.</p>

<p>Thanks in advance.</p>
"
43825,1,2016-03-10T02:29:01.990,5,12012,42870,,2017-05-01T12:45:51.037,2016-03-11T02:29:23.453,3,,"<p>How do I make a device tree overlay which turns GPIO 7 on my Raspberry Pi Rev 2 Model B to a HIGH OUTPUT pin?</p>

<p>EDIT: I require the pin to be this way as early as possible. That is why I am thinking of DT overlays. Setting the pin when the operating system is running is too late.</p>
"
43921,1,2016-03-11T13:17:55.260,59,78334,33176,,2020-08-26T16:59:14.123,2019-12-02T18:45:28.620,6,,"<p>In <a href=""https://www.raspberrypi.org/blog/raspberry-pi-3-on-sale/"">this page</a>, the official RPi3 announcement states:</p>

<blockquote>
  <p>You’ll need a recent NOOBS or Raspbian image from our downloads page. At launch, we are using the same 32-bit Raspbian userland that we use on other Raspberry Pi devices; over the next few months we will investigate whether there is value in moving to 64-bit mode.</p>
</blockquote>

<p>My question is, given that the processor is 64 bits, isn't it <em>obvious</em> that running the OS in 64 bits will be better in every way? What am I missing?</p>
"
43977,1,2016-03-12T15:31:54.907,2,1631,41867,,2020-11-11T09:37:25.187,2020-11-11T09:37:25.187,5,,"<p>In order to create an AP on my Pi I followed this tutorial at adafruit, which seems to be very similar to many others on the web: <a href=""https://learn.adafruit.com/setting-up-a-raspberry-pi-as-a-wifi-access-point/install-software"" rel=""nofollow noreferrer"">https://learn.adafruit.com/setting-up-a-raspberry-pi-as-a-wifi-access-point/install-software</a>. </p>

<p>I've just replaced ""eth0"" for ""wlan1"" as I'm using wireless connection and would like to replace it further by ""ppp0"" to establish 3G-WIFI connection. As you can expect when I get through the tutorial, it doesn't work :-) It seems HostAPD is configured for its visible in wifi networks list, but it isn't possible to connect to it. Perhaps something wrong with DHCP or bridge forwarding? The Terminal has been <code>ioctl[RTL_IOCTL_HOSTAPD]: Invalid argument</code> which has been fixed by downloading driver from Realtek's website but althought the AP is visible, it is still unable to connect to is as Terminal output of HostAPD is: </p>

<pre><code>sudo /usr/sbin/hostapd /etc/hostapd/hostapd.conf
Configuration file: /etc/hostapd/hostapd.conf
drv-&gt;ifindex=3
l2_sock_recv==l2_sock_xmit=0x0x50c638
+rtl871x_sta_deauth_ops, ff:ff:ff:ff:ff:ff is deauth, reason=2
rtl871x_set_key_ops
rtl871x_set_key_ops
rtl871x_set_key_ops
rtl871x_set_key_ops
Using interface wlan0 with hwaddr 74:da:38:5b:4f:f4 and ssid 'PiNet'
rtl871x_set_wps_assoc_resp_ie
rtl871x_set_wps_beacon_ie
rtl871x_set_wps_probe_resp_ie
rtl871x_set_key_ops
rtl871x_set_beacon_ops
rtl871x_set_hidden_ssid ignore_broadcast_ssid:0, PiNet,5
rtl871x_set_acl
+rtl871x_get_sta_wpaie, 18:34:51:53:60:85 is sta's address
wlan0: STA 18:34:51:53:60:85 IEEE 802.11: associated
rtl871x_set_key_ops
rtl871x_set_key_ops
rtl871x_set_key_ops
+rtl871x_send_eapol
+rtl871x_send_eapol
rtl871x_set_key_ops
wlan0: AP-STA-CONNECTED 18:34:51:53:60:85
wlan0: STA 18:34:51:53:60:85 RADIUS: starting accounting session 56E50D15-00000000
wlan0: STA 18:34:51:53:60:85 WPA: pairwise key handshake completed (RSN)
wlan0: STA 18:34:51:53:60:85 WPA: received EAPOL-Key 2/4 Pairwise with unexpected replay counter
wlan0: STA 18:34:51:53:60:85 WPA: received EAPOL-Key 4/4 Pairwise with unexpected replay counter
wlan0: STA 18:34:51:53:60:85 IEEE 802.11: disassociated
wlan0: AP-STA-DISCONNECTED 18:34:51:53:60:85
rtl871x_set_key_ops
rtl871x_set_key_ops
+rtl871x_sta_remove_ops, 18:34:51:53:60:85 is sta address removed
</code></pre>

<p>It seems that's something wrong with DHCP:</p>

<pre><code>systemctl status isc-dhcp-server.service
● isc-dhcp-server.service - LSB: DHCP server
   Loaded: loaded (/etc/init.d/isc-dhcp-server)
   Active: failed (Result: exit-code) since Sun 2016-03-13 08:48:26 UTC; 23s ago
  Process: 1465 ExecStart=/etc/init.d/isc-dhcp-server start (code=exited, status=1/FAILURE)
</code></pre>

<p>I followed the tutorial mentioned above and have no idea what could go wrong with setting up DHCP.
My network interfaces file is below.</p>

<pre><code>auto lo
iface lo inet loopback

iface eth0 inet manual

allow-hotplug wlan0
#iface wlan0 inet manual
#    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

iface wlan0 inet static
        address 192.168.42.1
        netmask 255.255.255.0

allow-hotplug wlan1
iface wlan1 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

#auto br0
#iface br0 inet dhcp
#bridge_ports wlan1 wlan0

up iptables-restore &lt; /etc/iptables.ipv4.nat
</code></pre>
"
44089,1,2016-03-14T17:59:56.413,24,130373,30666,,2016-12-27T17:06:10.077,,0,,"<p>It looks like the Raspberry Pi 3 may be powerful enough to output 4K video, but I haven't seen anything about it anywhere.</p>

<p>Does anyone know if the Raspberry Pi 3 can output video over HDMI at 4K resolution? If so, is it 30Hz or 60Hz?</p>
"
44168,1,2016-03-16T03:58:56.127,6,8066,1312,,2017-07-08T23:31:31.043,2017-07-08T23:31:31.043,0,,"<p>I just acquired the latest Pi-3. In the Pi B+ and Pi 2 it was possible to access both the red and green LED through <code>/sys/class/leds/led0</code> and <code>/sys/class/leds/led1</code>. </p>

<p>After setting up the Pi 3, I have seen that I have lost <code>/sys/class/leds/led1</code>, which is the green LED. I am suspecting that one of the GPIOs controlling the LED may have been taken by the wifi/bt module. Would there be a way to recover the functionality?</p>
"
44194,1,2016-03-16T14:29:22.543,4,5179,734,,2020-01-25T20:53:22.317,2018-01-01T03:23:23.253,3,,"<p>I am working on a project that involves Raspberry Pis which run 24/7, periodically fetch data from a server and display it on a screen.</p>

<p>We have a problem with the USB ports - they appear to stop working after about a week of uptime. This happens on five different units. Normally, the only device plugged into each RPi is a 3G/WiFi dongle through a powered USB hub.</p>

<p>I looked at server logs and found that a certain unit has stopped updating the data.<br>
After driving to see the device, it was still running and looping the data on the screen but I couldn't connect a keyboard. I assumed that the USB controller or something related to it stopped working.<br>
When I restarted the unit, everything was fine.</p>

<p>The Raspberry Pi is revision <code>000e</code> (v1 model B, 512MB, PCB rev. 2).</p>

<p>I am in the process of updating the operating system image from <em>Wheezy</em> to <em>Jessie</em>.<br>
It is possible that this problem was fixed in some kernel update or a similar thing.<br>
With two extra units, I'd just do <code>rpi-update</code> on one and leave it<br>
for a week while working on the upgrade using the other device.</p>

<p>It is possible that when I finish the new image and try running it for a few weeks, it works.<br>
However I would appreciate any information about the cause of this problem<br>
because a week is a long time to wait and I could find it still broken then.</p>

<p>EDIT: Unfortunately I couldn't allocate time for the testing. In the meantime I've worked around the issue by restarting the devices nightly during a quiet period.</p>
"
44218,1,2016-03-16T22:59:32.097,1,2212,43268,,2019-03-01T22:15:40.807,2016-03-16T23:34:53.303,0,,"<p>I'm using gstreamer-1.0 to stream a live video feed from the Raspberry PI camera module to a Windows 7 machine. The pipeline on the PI is:</p>

<pre><code>raspivid -o - -t 0 -hf -w 800 -h 600 -b 1500000 -g 5 -awb incandescent -ex antishake -mm backlit -fps 24 | gst-launch-1.0 -e fdsrc ! h264parse ! rtph264pay pt=96 config-interval=10 ! queue max-size-bytes=0 max-size-buffers=0 max-size-time=5000000000 ! udpsink force-ipv4=true host=10.1.2.80 port=4200
</code></pre>

<p>And on the windows machine, also using gstreamer-1.0</p>

<pre><code>gst-launch-1.0.exe udpsrc port=4200 ! application/x-rtp, payload=96 ! rtpjitterbuffer ! rtph264depay ! avdec_h264 ! textoverlay text=""blahblahblah"" ! fpsdisplaysink sync=false text-overlay=false
</code></pre>

<p>This all works fine, I get a nice clear lag free feed. But after .5-2hrs the feed will hang. </p>

<p>On the windows machine, if I close the stream and try to reopen it I will not get anything displayed and additionally there is no network traffic from the PI.</p>

<p>On the PI if I use <code>ctrl-c</code> to end the process and restart it. It will begin displaying on the windows machine immediately, so obviously something has stopped working on the PI.</p>

<p>On the raspi if I use <code>-vvvv</code> for verbose output, I can see the following errors:</p>

<blockquote>
  <p>Error sending message: Network is unreachable</p>
</blockquote>

<p>followed by</p>

<blockquote>
  <p>gstmultiudpsink.c(602): gst_multiudpsink_render (): /GstPipeline:pipeline0/GstUDPSink:udpsink0:*</p>
</blockquote>

<p>The Pi definitely sees the network though! I can ping my pc (<code>10.1.2.80</code>) and my gateway (<code>10.1.2.1</code>) from the Pi, and from my PC I can ping the Pi. Likewise, the Putty shell does not terminate and I can give commands to the Pi just fine. what is going on??</p>

<p>I'd like to get it so that the stream doesn't hang and I can run it continuously. I could probably do this by just having a cron job to restart the Pi every half hour, and then bring the stream back up upon reboot. But I'd rather address the issue, not work around it. I'm just not linux savvy enough to know where to begin, and I've run out of Google links.</p>
"
44224,1,2016-03-17T01:26:29.377,3,3662,43275,,2016-03-17T02:22:12.840,2016-03-17T01:48:56.060,1,,"<p>I'm trying to control my OSMC via SSH. I'm sending commands via an SSH link with a Crestron Control system and want to play files directly from that interface as well as stop play and any other available transport controls and menu Navigation controls via SSH or some other Ethernet control protocol. Would love to add CEC control too at some point. But I'll cross that bridge later. </p>
"
44277,1,2016-03-17T22:08:16.717,7,14944,43333,,2017-04-27T08:09:32.967,2016-03-18T09:09:00.423,4,,"<p>I'm trying to have a Raspberry PI act as a SPI master and send data to an Arduino Nano (one of the cheap clones). I partly succeeded, but I don't get a continuous communication, and some bytes get lost.</p>

<p>I only use simple wires on a breadboard to connect the two devices, no other components involved. These are the connections:</p>

<ul>
<li>Pi MOSI - Arduino D11</li>
<li>Pi MISO - Arduino D12</li>
<li>Pi SCLK - Arduino D13</li>
<li>Pi GND - Arduino GND</li>
</ul>

<p>Pi 5V is connected to a bench power supply. The Arduino is powered via USB cable connected to my Mac. Ground is common.</p>

<p>Here's a picture:</p>

<p><a href=""https://i.stack.imgur.com/Eh3RN.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/Eh3RN.jpg"" alt=""enter image description here""></a></p>

<p>Following the instructions I found <a href=""http://www.gammon.com.au/spi"" rel=""noreferrer"">here</a>, on the Arduino sketch I initialize SPI slave mode (I know it can't be master, or it will send 5V down the line and fry the Pi) this way:</p>

<pre><code>pinMode(SCK, INPUT);
pinMode(MOSI, INPUT);
pinMode(MISO, INPUT);
SPCR |= _BV(SPE);
</code></pre>

<p>then I use <code>SPI.attachInterrupt()</code> and define a function <code>ISR (SPI_STC_vect) { byte c = SPDR; ... }</code> to read the bytes into a memory buffer in the quickest possible way (since it's an interrupt).</p>

<p>On the RaspberryPI side I tried several libraries:</p>

<ul>
<li>node.js <a href=""https://www.npmjs.com/package/pi-spi"" rel=""noreferrer"">pi-spi</a></li>
<li>python wiringpi</li>
<li>python spidev</li>
</ul>

<p>With all the above libraries I tried to:</p>

<ul>
<li>change frequency from 1 KHz to 5 MHz</li>
<li>change all the 4 possible SPI modes (2 x 2 combinations of clock polarity and phase)</li>
<li>send a burst of 10-20 bytes, or send one byte at a time, with a program waiting for my user input on the keyboard</li>
</ul>

<p>In all cases, as I said, I experienced a significant data loss (from, say, 10% to 80%).</p>

<p>I even tried to debug the signal with an oscilloscope. It looked pretty good to me, but I'm no expert.</p>

<p>I saw posts from people having (supposedly) done this with success. Why am I failing?</p>

<p>Hypothesis:</p>

<ol>
<li>My wires are crappy</li>
<li>My Arduino is crappy</li>
<li>My Raspberry PI is crappy (actually I tried 2 different ones at some point)</li>
<li>My interrupt handler is too slow</li>
</ol>

<p>Is there a better way to communicate?</p>

<p>A. I2C
 B. serial over USB</p>

<p>Please advice, oh knowledgeable crowd, and I shall be happy.</p>
"
44393,1,2016-03-20T10:10:31.040,0,873,40028,,2016-03-20T10:56:10.183,2018-12-17T19:02:24.963,0,,"<p>Good day,
I am currently working on a quadcopter project and am currently using the pigpio library for the PWM used to command the ESC's of the quadcopter motors. </p>

<blockquote>
  <p>Will increasing the range of the values used let say (0-40000) from (0-255), will there be a noticable improvement with the fineness or precision of the response of the motors? </p>
</blockquote>

<p>I am currently using the default range of 0-255 and a frequency of 400Hz.</p>

<p>int gpioSetPWMrange(unsigned user_gpio, unsigned range);
from: <a href=""http://abyz.me.uk/rpi/pigpio/cif.html#gpioSetPWMrange"" rel=""nofollow noreferrer"">http://abyz.me.uk/rpi/pigpio/cif.html#gpioSetPWMrange</a></p>
"
44404,1,2016-03-20T12:53:51.487,0,2347,40352,,2016-03-24T09:19:17.393,2017-04-13T12:56:25.627,12,,"<p>I asked <a href=""https://raspberrypi.stackexchange.com/questions/41534/raspberry-pi-camera-randomly-freezes-crashes-soc"">this question</a> in January here on the platform and thought that the reason for my Pi crashing was the raspistill script I used. This turned out to be a false positive.</p>

<p>After some hassle and trying, I decided to give this issue another go and completely re-setup my RPi with the latest 
<code>RASPBIAN JESSIE LITE</code> released at <code>2016-03-18</code> and gave it another try about 20 hours ago. </p>

<p>After about 12 hours of operation my RPi hung up / crashed again and only a hard reboot (power cut) could fix it.</p>

<p>Side info, the RPi is used for weather tracking + timelapsing. It gathers weather data from BMP085, DS18b20 and DHT22 sensors. Images are taken with the <a href=""https://www.raspberrypi.org/products/camera-module/"" rel=""nofollow noreferrer"">Raspberry Pi Camera module</a> rev 1.3.</p>

<p><strong>To my setup:</strong></p>

<p>Raspbery PI model B</p>

<pre><code>Distributor ID: Raspbian
Description:    Raspbian GNU/Linux 8.0 (jessie)
Release:    8.0
Codename:   jessie
Linux carbon 4.1.19+ #858 Tue Mar 15 15:52:03 GMT 2016 armv6l GNU/Linux
</code></pre>

<hr>

<pre><code>root@hostname ~ # python --version
Python 2.7.9
root@hostname ~ # python3 --version
Python 3.4.2
</code></pre>

<p>Upon my Pi crashing I get <a href=""http://paste.ee/p/8No45#a6l434Fcb5QN4ztVxBGwLl2gGNgGAdSv"" rel=""nofollow noreferrer"">this message</a> in my <code>kern.log</code> file.</p>

<p>As one can easily see, the crash seems to be caused by my <code>weatherPi</code> script which is called every minute via a cronjob. But why?</p>

<p>This is my script:</p>

<pre><code>#!/usr/bin/python
# -*- coding: utf-8 -*-

# This software is used to gather basic environmennt data from sensors
# connected to the Rapsberry Pi Model B. The gathered data is stored into 
# MySQL database and printed to the console.

import os
import sys
import re
import Adafruit_DHT
import Adafruit_BMP.BMP085 as BMP085
import MySQLdb
import time

# make sure script is run as root
euid = os.geteuid()
if euid != 0:
    print('Script not started as root. Running sudo...')
    args = ['sudo', sys.executable] + sys.argv + [os.environ]
    # the next line replaces the currently-running process with the sudo
    os.execlpe('sudo', *args)

# create timestamp
timestamp = time.strftime('%Y-%m-%d %H:%M:%S')

print('Gathering data...')
# grab humidity data from DHT22 sensor
sensor = 22
pin = 4
humidity, temperature_DHT22 = Adafruit_DHT.read_retry(sensor, pin)

# grab barometric data
sensor = BMP085.BMP085()
temperature_bmp9985 = sensor.read_temperature()
pressure_bmp9985  = (sensor.read_pressure()/100)

# grab outside temperature from ds18b20
f = open('/sys/bus/w1/devices/28-00043c9677ff/w1_slave', 'r')
lines = f.read()
match = re.search('t=(-?[0-9]+)', lines)
temperature_18b20 = (float(match.group(1))/1000)

# grab cpu temperature
cpuTempFile = open( ""/sys/class/thermal/thermal_zone0/temp"" )
cpu_temp = float(cpuTempFile.read())/1000
cpuTempFile.close()

# calculate aproximate dew point
DewPoint = ((humidity / 100) ** 0.125) * (112 + 0.9 * temperature_18b20) + (0.1 * temperature_18b20) - 112

print('Opening database connection')
# connecting to MySQL database and creating cursor
# all queries are executed by the cursor
db = MySQLdb.connect(host=""HOST"", user=""USER"", passwd=""PASSWORD"", db=""DATABASE"")
cur = db.cursor()

print('Preparing SQL statement')
sql = (('INSERT INTO `weather_data` (`t_out`, `t_out_wall`, `t_case`, `t_cpu`, `humidity`, `pressure`, `dewpoint`) VALUES ({:.2f}, {:.1f}, {:.2f}, {:.2f}, {:.2f}, {:.0f}, {:.2f});').format(temperature_18b20, temperature_DHT22, temperature_bmp9985, cpu_temp, humidity, pressure_bmp9985, DewPoint))

print('Executing SQL statement')
cur.execute(sql)
print('Commiting SQL statement')
db.commit()
print('Closing database connection')
db.close

print('Acquired data:')
print(timestamp)
print('temperature_18b20   =     {:0.2f} °C').format(temperature_18b20)
print('temperature_dht22   =     {:0.1f} °C').format(temperature_DHT22)
print('temperature_bmp9985 =     {:0.2f} °C').format(temperature_bmp9985)
print('temperature_cpu     =     {:0.2f} °C').format(cpu_temp)
print('humidity_dht22      =     {:0.1f}%').format(humidity)
print('pressure_bmp9985    =     {:0.0f} hPa').format(pressure_bmp9985)
print('dew_point           =     {:.2f} °C').format(DewPoint)
</code></pre>

<hr>

<p>This is the crontab line I use (as root):</p>

<pre><code># gather weather data and commit to database  
* * * * * /usr/local/bin/weatherPi
</code></pre>

<hr>

<p><strong>My questions are:</strong></p>

<ul>
<li>What exactly does take up all the RAM? </li>
<li>Why is the RAM not freed up after executing the script? </li>
<li>How can I resolve the issue?</li>
</ul>

<hr>

<p><strong>Additional info:</strong></p>

<p>I already tried setting a timeout for the weatherPi script I use in cron, so if the script ran longer than 10 seconds, it would be killed with signal 9. This made no difference, whatsoever.</p>

<p>The Pi runs overclocked at <code>Turbo</code>, but this makes no difference to the crashes (tried several settings).</p>

<p>If any other information is needed, please let me know. I don't know any further on how to debug this issue.</p>

<hr>

<p>EDIT:</p>

<p>After updating my code like the following the script seems to not close anymore. First tests (with same conditions above) crashed the Pi within an hour.</p>

<pre><code>#!/usr/bin/python2.7
# -*- coding: utf-8 -*-

# This software is used to gather basic environmennt data
# with the Rapsberry Pi Model B. This software was sepecifically
# designed for one single system

import os
import sys
import re
import Adafruit_DHT
import Adafruit_BMP.BMP085 as BMP085
import MySQLdb
import time

# make sure script is run as root
euid = os.geteuid()
if euid != 0:
    print('Script not started as root. Running sudo...')
    args = ['sudo', sys.executable] + sys.argv + [os.environ]
    # the next line replaces the currently-running process with the sudo
    os.execlpe('sudo', *args)

# create timestamp
timestamp = time.strftime('%Y-%m-%d %H:%M:%S')

print('Gathering data...')
# grab humidity data from DHT22 sensor
sensor = 22
pin = 4
humidity, temperature_DHT22 = Adafruit_DHT.read_retry(sensor, pin)

# grab barometric data
sensor = BMP085.BMP085()
temperature_bmp9985 = sensor.read_temperature()
pressure_bmp9985  = (sensor.read_pressure()/100)

# grab outside temperature from ds18b20
f = open('/sys/bus/w1/devices/28-00043c9677ff/w1_slave', 'r')
lines = f.read()
f.close()
match = re.search('t=(-?[0-9]+)', lines)
temperature_18b20 = (float(match.group(1))/1000)

# grab cpu temperature
cpuTempFile = open( ""/sys/class/thermal/thermal_zone0/temp"" )
cpu_temp = float(cpuTempFile.read())/1000
cpuTempFile.close()

# calculate aproximate dew point
DewPoint = ((humidity / 100) ** 0.125) * (112 + 0.9 * temperature_18b20) + (0.1 * temperature_18b20) - 112

print('Opening database connection')
# connecting to MySQL database and creating cursor
# all queries are executed by the cursor
db = MySQLdb.connect(host=""HOST"", user=""USER"", passwd=""PASSWORD"", db=""DATABASE"")
cur = db.cursor()

print('Preparing SQL statement')
sql = (('INSERT INTO `weather_data` (`t_out`, `t_out_wall`, `t_case`, `t_cpu`, `humidity`, `pressure`, `dewpoint`) VALUES ({:.2f}, {:.1f}, {:.2f}, {:.2f}, {:.2f}, {:.0f}, {:.2f});').format(temperature_18b20, temperature_DHT22, temperature_bmp9985, cpu_temp, humidity, pressure_bmp9985, DewPoint))

print('Executing SQL statement')
cur.execute(sql)
print('Commiting SQL statement')
db.commit()
print('Closing database connection')
cur.close()
db.close()

print('Acquired data:')
print(timestamp)
print('temperature_18b20   =     {:0.2f} °C').format(temperature_18b20)
print('temperature_dht22   =     {:0.1f} °C').format(temperature_DHT22)
print('temperature_bmp9985 =     {:0.2f} °C').format(temperature_bmp9985)
print('temperature_cpu     =     {:0.2f} °C').format(cpu_temp)
print('humidity_dht22      =     {:0.1f}%').format(humidity)
print('pressure_bmp9985    =     {:0.0f} hPa').format(pressure_bmp9985)
print('dew_point           =     {:.2f} °C').format(DewPoint)
</code></pre>

<p>Asked by tac:</p>

<p>Output of <code>cat /sys/bus/w1/devices/28-00043c9677ff/w1_slave</code></p>

<pre><code>56 00 55 00 7f ff 0c 10 7b : crc=7b YES
56 00 55 00 7f ff 0c 10 7b t=5375
</code></pre>

<p>This is just the temperature reading of the ds18b20 I2C temperature sensor on the bus.</p>

<p><strong>Update 24.03.2016:</strong></p>

<p>After using the suggested fixes from @tac all seemed to work fine for about 24 hours. But suddenly the RPi crashed again with the same <code>kern.log</code> which indicated that there was a mass of my <code>weatherPi</code> scripts running. </p>

<p>My guess is that the script starts hanging if the database connection cannot be established. From the Python MySQL docs I found that you can set a timeout for <code>MySQLdb.connect</code>. I added a 15 second timeout for testing purposes.</p>

<p><code>MySQLdb.connect(host=""HOST"", user=""USER"", passwd=""PASSWORD"", db=""DATABASE"", connect_timeout=15)</code></p>

<p>Another change that I made was to add a <code>killall</code> to the crontab, to assure that all remaining scripts are stopped before running a new one:</p>

<pre><code># gather weather data and commit to database
* * * * * killall weatherPi &amp;&amp; /usr/local/bin/weatherPi
</code></pre>

<p>Of course the connection timeout is currently redundant because of the prefixed <code>killall</code>. I currently want to see if this helps at all. After some testing of about 48 hours I will remove this command again and try out my connection timeout solution solely</p>
"
44416,1,2016-03-21T00:07:32.353,5,10805,43505,,2016-03-21T00:28:09.577,,0,,"<p>I'm using C to read the GPIO pins from <code>/sys/class/gpio</code>. I have a separate thread that I'd like to get notified when a pin changes value, so I'm opening the file for read, then calling <code>poll()</code> on it, hoping to only return when its value has changed. Apparently, however, I'm doing something wrong.</p>

<pre class=""lang-c prettyprint-override""><code>int fd = open(file, O_RDONLY);

// ...

struct pollfd pfd;
pfd.fd = fd;
pfd.events = POLLIN;

int pollRet = poll(&amp;pfd, 1, 100);
if (pollRet &gt; 0) {
    if (pfd.revents &amp; POLLIN) {
        int value = readFileValue(fd);
        printf(""Value is now %d\n"", value);
    }
}

// ...

int readFileValue(int fd) {
    lseek(fd, 0, SEEK_SET);
    char buffer[32] = {0};
    size_t br = read(fd, buffer, 32);
    return atoi(buffer);
}
</code></pre>

<p>This ends up reading the current value (<code>0</code> or <code>1</code>) from the file (in my case <code>/sys/class/gpio/gpio21/value</code>) immediately every time, even if it hasn't changed.</p>

<p>Is <code>POLLIN</code> the wrong flag to be checking for? Is there something I'm supposed to be doing to tell it, ""yes, I've read that now"" or something? I'm not really sure.</p>

<p>Ideas?</p>
"
44573,1,2016-03-23T17:49:12.820,6,9603,43676,,2018-06-23T09:44:33.940,,2,,"<p>Can I run FreeBSD on Raspberry Pi 3?</p>

<p>I also have a Raspberry Pi 1 B+ has issues booting FreeBSD: It ends up in a ""mountroot"" prompt.</p>
"
44731,1,2016-03-26T17:29:38.233,1,1282,43858,,2016-07-30T03:57:51.707,2016-03-27T08:59:20.233,7,,"<p>I have installed Apache2 and I am running Raspbian Jessie. Then I installed WiringPi and PHP and now I want to access the GPIO headers on Pi using the PHP Web page. </p>

<p>Here is how my page looks. I want to access GPIO 29 ( Pin No. 40 ) . </p>

<pre><code>&lt;?php 
system(""gpio -g mode 29 out"");
system(""gpio -g write 29 1"");
?&gt;
</code></pre>
"
44858,1,2016-03-28T18:35:06.183,0,3326,43969,,2016-03-29T19:25:03.897,2017-04-13T12:56:22.977,1,,"<p>My question is similar to this: <a href=""https://raspberrypi.stackexchange.com/questions/40190/convert-a-pic-to-bit-stream-and-write-it-to-gpio"">convert a pic to bit stream and write it to gpio</a>.<br>
I want to expose printed circuit boards line by line with a laser diode. That means, I have to switch the laser diode 10000 times on and off in 1/10th of a second. The binary pattern I want to pick from an uncompressed bitmap (or an array), which contents the whole print. So, my idea is, that I want to read the bytes that represent one line of my bitmap, push it through some kind of software shift register and output the ""zeros"" and ""ones"" to a GPIO pin to drive my laser diode. If this can be done with the help of the build in UART, SPI or I2C, I would be lucky, but I don't want any protocol with start- and stop bits. I want to program in ""C"", because, if it works, I want to do it in ""Bare Metal"", to avoid any Multi Task OS.</p>

<p>I would be lucky, if anybody turns me in the right direction and gives me a push.</p>
"
44867,1,2016-03-28T19:08:00.537,3,12859,13836,,2017-11-04T02:00:59.820,2017-04-13T12:56:22.977,8,,"<p>My Raspberry Pi runs ArchLinux and since I enabled IPv6 in our local router config, the pi only fires up an IPv6 connection in LAN. But I have trouble to find out the address.</p>

<p><del>Once I connected a display and found out the address is fe80::ba27:ebff:fe4a:6a12. I was able to connect to the pi with the following command:</del></p>

<p><del>ssh -6 user@fe80::ba27:ebff:fe4a:6a12%wlp3s0</del></p>

<p><del>Where <code>wlp3s0</code> is the wifi device of my local client.</del> <strong>Update</strong>: I removed that part as it was confusing. <strong>I have no display available. I need to find out the IPv6 address from remote!</strong></p>

<p>For IPv4 <a href=""https://raspberrypi.stackexchange.com/q/13936/13836"">I use nmap</a>, but I have trouble to translate that command to work with a local IPv6 network. I understand <code>nmap</code> also offers an <code>--ipv6</code> or <code>-6</code> flag, but what is the correct subnet string? And, does that even work? Is that even possible?</p>

<p>Here is my client's <code>ip a</code> output:</p>

<pre><code> user@computer ~ $ ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eno1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether d4:3d:7e:**:**:** brd ff:ff:ff:ff:ff:ff
    inet 192.168.178.28/24 brd 192.168.178.255 scope global eno1
       valid_lft forever preferred_lft forever
    inet6 2002:5dc4:6c0e:*:****:****:****:****/64 scope global mngtmpaddr noprefixroute dynamic 
       valid_lft 7191sec preferred_lft 3591sec
    inet6 fe80::1543:f119:fbae:743b/64 scope link 
       valid_lft forever preferred_lft forever
</code></pre>

<p>Is it even possible to scan an IPv6 network?</p>
"
44924,1,2016-03-29T18:40:33.973,2,3430,44034,,2016-03-30T19:26:19.933,,5,,"<p>Hellow I'm enthusiast newbie in linux kernel modules development. I started writing basic kernel modules that control Pi's gpio. But i came in to sticky situation i need to set pull up/down of pins and i can't find any function for that (I've been searching /include/linux directory whole day). For now I'm controlling gpios with functions from &lt; linux/gpio.h> but there is nothing for setting internal resistors ... Any one knows any functions that i can use is in kernel space. I'm 100% sure there is one since there is /sys/ interface for controlling the gpios and setting up/downs? I've also searched github for source code of the interface that exports gpios in sys but still nothing (For sure that they are exported with gpio_export() but can't find where calls are made).</p>
"
44961,1,2016-03-30T14:40:14.467,2,2323,42148,,2016-07-04T14:27:20.980,2017-04-13T12:56:25.627,0,,"<p>I need to work on a serial protocol that uses the 9th bit as a 'wakeup' bit. All bytes are transmitted with the 9th bit in zero except for the first one, indication the message start.</p>

<p>On the Raspi' usart PL011, I tried to use the method I'm using over the years on a x86, accessing the hardware port itself:</p>

<p>I look at the port addrees on /proc/tty/driver/ttyAMA to get the address: </p>

<pre><code>0: uart:PL011 rev3 mmio:0x3F201000 irq:83
</code></pre>

<p>Then I try to open and use the port, like getting the permission:</p>

<pre><code>ioperm (0x3F201000, 7, 1)
</code></pre>

<p>I wasn't really expecting this to work since the address is 'mmio:' and not 'port:'. And it doesn't.</p>

<p>So, I tried to use the serial port the basic way, opening a file descriptor and setting the parameters.</p>

<p>2 issues so far:</p>

<p>1 - Mark/Space parity doesn't seem to work. Besides that, even setting the IGNPAR flag on the termios structure, the driver 'drops' received bytes that comes with the wrong parity. I'm logging the transmission on the 'server' machine and bytes are all been sent correctly (code works fine on x86 clients).
I read on post <a href=""https://raspberrypi.stackexchange.com/questions/38638/true-9-bit-serial-port-data"">here</a> there is a patch to add MARK/SPACE parity and will try it ASAP. Even though, I guess there is nothing to do with the IGNPAR bit, as I was supposed to read all bytes anyway. But this is all irrelevant if not solved issue 2 below:</p>

<p>2 - How can I detect partity error on RAW communication? Today, using the port itself, I can set the port to SPACE and when whe first byte arrives with a MARK, I get the byte and the parity bit error, like this:</p>

<pre><code>int uart_test_receive_char ()
{
    return (inb (portcom + UART_LSR) &amp; 0x05);
}
</code></pre>

<p>where portcom is the port address. The return value &amp; 1 says there is a byte on the buffer and value &amp; 4 indicates a parity error.</p>

<p>I didn't find a way to check for this using a file descriptor and 'read' or 'select' commands.</p>

<p>Any hint?
Thanks!</p>
"
45266,1,2016-04-05T08:09:09.963,2,6781,31277,,2020-04-08T20:29:22.353,2016-04-08T22:18:06.980,4,,"<p>I tried to connect an Arduino Uno with my Raspberry using the i2c bus, with code and wiring suggested <a href=""http://blog.oscarliang.net/raspberry-pi-arduino-connected-i2c/"" rel=""nofollow"">here</a>. This example is sending only one byte from RPi to Arduino and back, and everything works fine.</p>

<p>Now, since I need to send a larger number (which is a value from the ultrasonic sensor on Arduino) to RPi, I edited the code, but I just receive zeros. I was reading on the <a href=""https://www.arduino.cc/en/Reference/WireWrite"" rel=""nofollow"">documentation</a> of the <code>Wire.h</code> library (Arduino side) and the <code>smbus</code> python module (RPi side) but I haven't spotted anything helpful.
What I try to do is to send 4 bytes one by one and then read them using <code>struct.unpack</code> </p>

<p>This is the code on Arduino</p>

<pre><code>/*
 i2c
  pin A4   SDA (raspi pin3)
  pin A5   SCL (raspi pin5)

 */
#include &lt;Wire.h&gt;
#define SLAVE_ADDRESS 0x04

void setup() {
  Serial.begin (9600); // start serial for output

  // initialize i2c as slave
  Wire.begin(SLAVE_ADDRESS);
  Wire.onRequest(requestEvent); // register event
  Serial.println(""Ready!"");
}

void loop() {     
  delay(500);
}

void requestEvent()
{
  long d;
  d=10; // mockup value, in the real script is acquired by the sensor
  Serial.println(d);
  Wire.write((const uint8_t*)&amp;d, sizeof(long));
}
</code></pre>

<p>And this is the script on RPi</p>

<pre><code>import smbus
import time
import struct
# for RPI version 1, use ""bus = smbus.SMBus(0)""
bus = smbus.SMBus(1)

# This is the address we setup in the Arduino Program
address = 0x04

def readLong():
   #number = bus.read_byte(address)
   number=""""
   for i in xrange(4):
      number += chr(bus.read_byte(address))
   return struct.unpack('l', number)

while True:
   time.sleep(1)
   number = readLong()
   print ""[Arduino]"", number, ""mm""
</code></pre>
"
45458,1,2016-04-08T11:00:35.190,2,13440,44608,,2016-09-28T07:23:43.407,2017-04-13T12:56:26.360,1,,"<p>On my Raspberry Pi 3 running Raspbian <code>iwconifg</code> produces the following output:</p>

<pre><code>wlan0     IEEE 802.11bgn  ESSID:""ssid of my network""  
          Mode:Managed  Frequency:2.452 GHz  Access Point:*******   
          Bit Rate=72 Mb/s   Tx-Power=1496 dBm   
          Retry short limit:7   RTS thr:off   Fragment thr:off
          Power Management:on
          Link Quality=39/70  Signal level=-71 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

lo        no wireless extensions.

eth0      no wireless extensions.
</code></pre>

<p>According to the definition of dBm (see <a href=""https://en.wikipedia.org/wiki/DBm"" rel=""nofollow noreferrer"">https://en.wikipedia.org/wiki/DBm</a>) such a high tx power is not possible due to energy conservation :-). </p>

<p>Thus I have the following questions:<br>
* What do I have to do, to see the right tx-power?<br>
* Is it a bug of iwconfig or the broadcom kernel driver? </p>

<p><em>Additional Information:</em><br>
The Raspberry Pi uses for wlan the BCM43438 (see www.raspberrypi.org/magpi-issues/MagPi43.pdf, page 10 of pdf). I see exactly the same tx power on a Raspberry Pi 1 running ArchLinux ARM with the official Raspberry Pi Wifi Dongle (www.raspberrypi.org/products/usb-wifi-dongle/), which has the BCM43143 chipset.
Also other users with the same hardware seem to have this problem: 
<a href=""https://raspberrypi.stackexchange.com/questions/43830/does-bcm43438-wireless-chip-in-raspberry-pi-3-support-ad-hoc-networking/45255"">Does BCM43438 Wireless chip in Raspberry Pi 3 support ad-hoc networking?</a></p>
"
45500,1,2016-04-09T01:21:37.067,2,14100,44648,,2017-02-17T01:32:07.453,,3,,"<p>I have a USB sound card that has an audio out and a microphone in. That sound card works fine - a small microphone records fine and a small speaker plays sound back fine.</p>

<p>However, I now have an additional USB microphone (a PS eye) that plugs into a differnt USB port. So my RPI now has two microphone inputs: one from my sound card and one from the PS Eye. My /etc/modprobe.d/alsa-base.conf has these lines:</p>

<pre><code>options snd-usb-audio index=0
options snd-bcm2835 index=1
</code></pre>

<p>I have not done any additional configuration for the PS Eye, all I did was plug it in. So, how can I tell my RPI to use the microphone in the PSEye instead of the sound card microphone? I still want to use the sound card for audio out.</p>
"
45512,1,2016-04-09T06:37:39.673,0,1846,8697,,2017-06-11T08:57:43.687,2017-06-11T08:57:43.687,2,,"<p>After some experimentation with a MFRC-522 13.56&nbsp;MHz RC522 RFID Reader I decided to try 125&nbsp;kHz tags.</p>

<p>I bought a <code>125 kHz USB RFID Contactless Proximity Sensor Smart ID Card Reader EM4100</code> which comes with a USB interface, but absolutely no documentation (that I could find) although every second vendor on eBay seems to sell them.</p>

<p>The Pi sees the vendor as <code>AuthenTec, Inc</code> and mounts as character mode device on <code>\dev\hidraw3</code>.</p>

<p>I can <code>cat \dev\hidraw3</code> and see it is obviously reading the card and outputting something that looks like the card number.</p>

<p>Can anyone help with software or documentation?</p>
"
45570,1,2016-04-10T06:31:26.260,48,238274,8697,,2021-01-09T23:06:02.987,2019-11-07T04:59:26.757,0,,"<p>My Pi3 serial console produces rubbish and fails to respond to the keyboard.</p>
"
45574,1,2016-04-10T07:57:12.537,2,1854,44713,,2016-04-11T11:12:48.097,2016-04-10T14:08:16.217,2,,"<p>I am using Raspberry Pi2 with Windows 10 IoT Core OS, I am developing an UWP app in that I want to get Device Name of my Raspberry Pi 2. Can any one help me how to get it?</p>

<p>I tried using the following code but dont know is it correct way or not</p>

<pre><code>public string GetDeviceName()
    {
        List&lt;string&gt; IpAddress = new List&lt;string&gt;();
        var Hosts = Windows.Networking.Connectivity.NetworkInformation.GetHostNames().ToList();
        foreach (var Host in Hosts)
        {
            string deviceName = Host.DisplayName;
            return deviceName;
        }

        return null;

    }
</code></pre>
"
45607,1,2016-04-10T19:42:37.413,2,2799,44736,,2016-04-22T18:05:40.650,2016-04-10T21:03:43.423,0,,"<p>I'm trying to interface with MCP3002 ADC using SPI and it's working nicely except for the amount of the samples I'm able to collect per second. I'm using WiringPi and the code is very simple:</p>

<pre><code>wiringPiSPISetup(0, 2 * 1000 * 1000);

unsigned char buf[2];

for (;;) {
  buf[0] = 104; // x start_bit single_mode ch1 msbf xxx
  buf[1] = 0;

  wiringPiSPIDataRW(0, buf, 2);

  // convert buf to an int and print to stdout
}
</code></pre>

<p>The problem is that regardless of the clock speed set, the <code>wiringPiSPIDataRW</code> call takes about 70us which limits the speed of the whole system to 14k samples / sec.</p>

<p>Has anyone had better luck with SPI on Raspberry Pi with very short messages?</p>

<p>The MCP3002 can conservatively handle 80k samples at 3.3V which then assuming some extra clock cycles for asserting the CS line should run at 1.6Mhz clock and perform a RW call in 12.5 usec. Is then the speed limited by WiringPi overhead?</p>

<p><strong>EDIT</strong>: I tried using spidev directly using <code>SPI_IOC_MESSAGE</code> and the speed is the same so it's not WiringPi. I forgot to mention I'm using a slightly older Raspberry board, <code>v1 rev.B</code> if I'm not mistaken. <code>lsmod</code> shows that <code>spi_bcm2835</code> is loaded, so that should be fine. Using <code>SPI_IOC_MESSAGE</code> with an array of 128 messages gets the speed up to 45k samples / sec, but that's about as high as it will go.</p>

<p>I appreciate any pointers. Thanks.</p>
"
45617,1,2016-04-11T00:31:00.270,1,428,36970,,2016-04-11T15:16:11.707,,0,,"<p>I've been looking at the signal handling in a library I am using in a project of my own {Joan's <strong>pigpio</strong> as it happens} but having read the Raspbian man pages for <code>signal(7)</code>, <code>sigaction(2)</code> and finally <code>signal(2)</code>, I am trying to determine what happens if a custom signal handler is installed and the process receives a signal of the specified type.  Under the following heading of the <code>signal(2)</code> manpage is:</p>

<blockquote>
  <h2>Portability</h2>
  
  <p>The only portable use of <code>signal()</code> is to set a signal's disposition to <code>SIG_DFL</code> or <code>SIG_IGN</code>. The semantics when using <code>signal()</code> to establish a signal handler vary across systems (and POSIX.1 explicitly permits this variation); do not use it for this purpose.
  POSIX.1 solved the portability mess by specifying <code>sigaction(2)</code>, which provides explicit control of the semantics when a signal handler is invoked; use that interface instead of <code>signal()</code>.
  In the original UNIX systems, when a handler that was established using <code>signal()</code> was invoked by the delivery of a signal, the disposition of the signal would be reset to <code>SIG_DFL</code>, and the system did not block delivery of further instances of the signal. This is equivalent to calling <code>sigaction(2)</code> with the following flags:    </p>
  
  <p><code>sa.sa_flags = SA_RESETHAND | SA_NODEFER;</code></p>
  
  <p>System V also provides these semantics for <code>signal()</code>. This was bad because the signal might be delivered again before the handler had a chance to reestablish itself. Furthermore, rapid deliveries of the same signal could result in recursive invocations of the handler.</p>
  
  <p>BSD improved on this situation, but unfortunately also changed the semantics of the existing <code>signal()</code> interface while doing so. On BSD, when a signal handler is invoked, the signal disposition is not reset, and further instances of the signal are blocked from being delivered while the handler is executing.  Furthermore, certain blocking system calls are automatically restarted if interrupted by a signal handler (see <code>signal(7)</code>). The BSD semantics are equivalent to calling <code>sigaction(2)</code> with the following flags:    </p>
  
  <p><code>sa.sa_flags = SA_RESTART;</code></p>
  
  <p>The situation on Linux is as follows:</p>
  
  <ul>
  <li>The kernel's <code>signal()</code> system call provides System V semantics.</li>
  <li>By default, in <code>glibc</code> 2 and later, the <code>signal()</code> wrapper function does not invoke the kernel system call. Instead, it calls <code>sigaction(2)</code> using flags that supply BSD semantics. This default behavior is provided as long as the <code>_BSD_SOURCE</code> feature test macro is defined. By default, <code>_BSD_SOURCE</code> is defined; it is also implicitly defined if one defines <code>_GNU_SOURCE</code>, and can of course be explicitly defined.</li>
  <li>On glibc 2 and later, if the <code>_BSD_SOURCE</code> feature test macro is not defined, then signal() provides System V semantics. (The default implicit definition of <code>_BSD_SOURCE</code> is not provided if one invokes <code>gcc(1)</code> in one of its standard modes (<code>-std=xxx</code> or <code>-ansi</code>) or defines various other feature test macros such as <code>_POSIX_SOURCE</code>, <code>_XOPEN_SOURCE</code>, or <code>_SVID_SOURCE</code>; see <code>feature_test_macros(7)</code>.)</li>
  </ul>
</blockquote>

<p>Given that <em>persistent</em> signal handlers are those on systems where a handler is <strong>NOT</strong> reset to <code>SIG_DFL</code> on receipt of that signal (and <em>non-persistent</em> ones are those that are):</p>

<p><strong><em>Are the handlers persistent on RPis?</em></strong></p>

<p>Does it depend on those <em>feature test macros</em> when the library and/or my project is (re)compiled OR, perhaps, what they were when the <em>kernel</em> was compiled?</p>
"
45634,1,2016-04-11T09:45:22.500,0,675,42939,,2016-04-11T11:53:18.017,2016-04-11T10:40:32.713,1,,"<p>I wrote a program using nano and tried to compile it using gcc command on Lx-terminal. It's showing stray error. Can anyone tell me what is the problem? For simple ""hello world"" program also is showing errors.</p>

<p>Code:</p>

<pre><code>#include&lt;stdio.h&gt;
main()
{
printf(hello world;
}
</code></pre>

<p>Output:</p>

<pre><code>ello.c:49:14: error: stray \253 in program
hello.c:49:14: error: stray \217 in program
hello.c:49:14: error: stray \33 in program
hello.c:49:14: error: stray \1 in program
hello.c:49:939: warning: null character(s) ignored
hello.c:49:14: error: stray \4 in program
hello.c:49:943: warning: null character(s) ignored
hello.c:49:14: error: stray \25 in program
hello.c:49:946: warning: null character(s) ignored
hello.c:49:14: error: stray \5 in program
hello.c:49:14: error: stray \6 in program
hello.c:49:988: warning: null character(s) ignored
hello.c:49:14: error: stray \21 in program
hello.c:49:993: warning: null character(s) ignored
hello.c:49:14: error: stray \21 in program
hello.c:49:995: warning: null character(s) ignored
hello.c:49:14: error: stray \4 in program
hello.c:49:998: warning: null character(s) ignored
hello.c:49:1002: warning: null character(s) ignored
ello.c:49:14: error: stray ‘\253’ in program
hello.c:49:14: error: stray ‘\217’ in program
hello.c:49:14: error: stray ‘\33’ in program
hello.c:49:14: error: stray ‘\1’ in program
hello.c:49:939: warning: null character(s) ignored
hello.c:49:14: error: stray ‘\4’ in program
hello.c:49:943: warning: null character(s) ignored
hello.c:49:14: error: stray ‘\25’ in program
hello.c:49:946: warning: null character(s) ignored
hello.c:49:14: error: stray ‘\5’ in program
hello.c:49:14: error: stray ‘\6’ in program
hello.c:49:988: warning: null character(s) ignored
hello.c:49:14: error: stray ‘\21’ in program
hello.c:49:993: warning: null character(s) ignored
hello.c:49:14: error: stray ‘\21’ in program
hello.c:49:995: warning: null character(s) ignored
hello.c:49:14: error: stray ‘\4’ in program
hello.c:49:998: warning: null character(s) ignored
hello.c:49:1002: warning: null character(s) ignored
ello.c:49:14: error: stray \253 in program
hello.c:49:14: error: stray \217 in program
hello.c:49:14: error: stray \33 in program
hello.c:49:14: error: stray \1 in program
hello.c:49:939: warning: null character(s) ignored
hello.c:49:14: error: stray \4 in program
hello.c:49:943: warning: null character(s) ignored
hello.c:49:14: error: stray \25 in program
hello.c:49:946: warning: null character(s) ignored
hello.c:49:14: error: stray \5 in program
hello.c:49:14: error: stray \6 in program
hello.c:49:988: warning: null character(s) ignored
hello.c:49:14: error: stray \21 in program
hello.c:49:993: warning: null character(s) ignored
hello.c:49:14: error: stray \21 in program
hello.c:49:995: warning: null character(s) ignored
hello.c:49:14: error: stray \4 in program
hello.c:49:998: warning: null character(s) ignored
hello.c:49:1002: warning: null character(s) ignored
ello.c:49:14: error: stray \253 in program
hello.c:49:14: error: stray \217 in program
hello.c:49:14: error: stray \33 in program
hello.c:49:14: error: stray \1 in program
hello.c:49:939: warning: null character(s) ignored
hello.c:49:14: error: stray \4 in program
hello.c:49:943: warning: null character(s) ignored
hello.c:49:14: error: stray \25 in program
hello.c:49:946: warning: null character(s) ignored
hello.c:49:14: error: stray \5 in program
hello.c:49:14: error: stray \6 in program
hello.c:49:988: warning: null character(s) ignored
hello.c:49:14: error: stray \21 in program
hello.c:49:993: warning: null character(s) ignored
hello.c:49:14: error: stray \21 in program
hello.c:49:995: warning: null character(s) ignored
hello.c:49:14: error: stray \4 in program
hello.c:49:998: warning: null character(s) ignored
hello.c:49:1002: warning: null character(s) ignored
</code></pre>
"
45856,1,2016-04-15T06:10:50.507,1,82,44964,,2016-04-15T11:03:50.630,,1,,"<p>Is it possible to let my rPi connect to a Wifi with a given SSID without a monitor, keyboard, mouse and LAN? Let's say I brought my Pi with me and want to access a public Wifi and I only have a Mac with no ethernet port. </p>
"
45903,1,2016-04-16T05:10:11.053,8,15206,45053,,2020-06-06T15:12:43.837,,5,,"<p>I purchased several Raspberry Pi 3s, reading the spec that their max resolution was 1920x1080.</p>

<p>I purchased several HP 22uh monitors to go with these, knowing their max resolution matches this.</p>

<p>On fully setting up my Pi, there is a 3/4"" black frame around the border of the screen. For the parts displayed, the image is sharp, however I would like to use the full screen as the current display looks dumb.</p>

<p>I played around with the Pi and the monitor, and cannot find what settings adjustments will fix this.</p>

<p>Any ideas?</p>
"
46114,1,2016-04-20T05:03:51.557,0,549,45264,,2020-12-15T01:02:35.243,2016-04-20T08:27:23.617,4,,"<p>I am new to Raspberry Pi. I would like to do the Wi-Fi configuration for the Pi 3 from an Android app.</p>

<p>On researching I found there are many approaches to setting up a web server on the Pi side. </p>

<p>So by going with this approach I assume the web server will do the task of setting up the Wi-Fi server using the user name and pwd, provided as the HTTP request parameters.</p>

<p>Is this approach correct?</p>

<p>If yes then how will the web server be sending commands to the command prompt?</p>
"
46148,1,2016-04-20T19:39:41.640,5,13979,45246,,2020-03-01T20:06:20.267,2016-04-25T20:25:57.663,4,,"<p>This may sound like a duplicate question, but the answers to similar questions are not solving my problem.  I have plugged the USB cable from my Logitech S-150 digital speakers into a powered USB hub connected to my Pi 3.  The speakers show that they're on - ""DIGITAL"" appears on the one with the controls and cable.  My <code>aplay -l</code> output is </p>

<pre><code>**** List of PLAYBACK Hardware Devices ****
card 0: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA]
  Subdevices: 8/8
  Subdevice #0: subdevice #0
  Subdevice #1: subdevice #1
  Subdevice #2: subdevice #2
  Subdevice #3: subdevice #3
  Subdevice #4: subdevice #4
  Subdevice #5: subdevice #5
  Subdevice #6: subdevice #6
  Subdevice #7: subdevice #7
card 0: ALSA [bcm2835 ALSA], device 1: bcm2835 ALSA [bcm2835 IEC958/HDMI]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: AUDIO [USB  AUDIO], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</code></pre>

<p>I used <code>sudo nano /usr/share/alsa/alsa.conf</code> to change the <code>defaults.ctl.card 0
defaults.pcm.card 0</code> values to 1 as I read in an answer to a similar problem.  I don't know if the speakers are working or the Pi is not recognizing them.  I have used the GUI Audio Device Settings (under Preferences) to set the Control to PCM for both <strong>bcm2835 ALSA (Alsa mixer)(Default)</strong> and <strong>USB AUDIO (Alsa mixer)</strong>.
Is there a way I can test the speakers' output without finding &amp; using an MP3 file with <code>aplay</code>?</p>

<p>I issued <code>wget goo.gl/XJuOUW -O example.mp3 --no-check-certificate</code> and got -</p>

<pre><code>-2016-04-21 14:55:57--  http://goo.gl/XJuOUW
Resolving goo.gl (goo.gl)... 2607:f8b0:4002:c05::66, 216.58.217.238
Connecting to goo.gl (goo.gl)|2607:f8b0:4002:c05::66|:80... connected.
HTTP request sent, awaiting response... 301 Moved Permanently
Location: https://raw.githubusercontent.com/raspberrypilearning/burping-jelly-baby/master/sounds/la.mp3 [following]
--2016-04-21 14:55:58--  https://raw.githubusercontent.com/raspberrypilearning/burping-jelly-baby/master/sounds/la.mp3
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 23.235.44.133
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|23.235.44.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 17260 (17K) [audio/mpeg]
Saving to: ‘example.mp3’

example.mp3         100%[=====================&gt;]  16.86K  --.-KB/s   in 0.001s 

2016-04-21 14:55:59 (27.5 MB/s) - ‘example.mp3’ saved [17260/17260]
</code></pre>

<p>I then issued o<code>mxplayer example.mp3</code> and got</p>

<pre><code>Audio codec mp3 channels 1 samplerate 11025 bitspersample 16
Subtitle count: 0, state: off, index: 1, delay: 0
have a nice day ;)
</code></pre>

<p>Through my Pi 3's GUI Preferences, I've set both <strong>bcm2835 ALSA (Alsa mixer) (Default)</strong> and <strong>USB AUDIO (Alsa Mixer)</strong>.</p>
"
46475,1,2016-04-27T00:57:45.417,1,2898,45646,,2018-02-07T09:39:39.887,2016-04-27T03:47:53.527,0,,"<p>I'm trying to use my Raspberry Pi 2 to broadcast an ad-hoc network that my laptop can connect to and use for file transfer and SSH. This connection does not need to provide internet access to the laptop. I have succeeded at creating this ad-hoc network by modifying <code>/etc/network/interfaces</code> and running a DHCP server on <code>wlan0</code>. I am using <code>isc-dhcp-server</code> to accomplish this.</p>

<p>This is my <code>/etc/network/interfaces</code> setup:</p>

<pre><code># interfaces(5) file used by ifup(8) and ifdown(8)

# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d

auto lo
iface lo inet loopback

iface eth0 inet manual

allow-hotplug wlan0
iface wlan0 inet static
    address 192.168.1.1
    netmask 255.255.255.0
    gateway 192.168.1.2
    wireless-channel 3
    wireless-essid Test-Network
    wireless-mode ad-hoc

#allow-hotplug wlan0
#iface wlan0 inet manual
#    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

allow-hotplug wlan1
iface wlan1 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

<p>This is my <code>/etc/dhcp/dhcpd.conf</code> setup:</p>

<pre><code>ddns-update-style none;

option domain-name ""example.org"";
option domain-name-servers ns1.example.org, ns2.example.org;

default-lease-time 600;
max-lease-time 7200;

authoritative;

log-facility local7;

subnet 192.168.1.0 netmask 255.255.255.0 {
range 192.168.1.1 192.168.1.50;
option broadcast-address 192.168.1.1;
option routers 192.168.1.1;
}
</code></pre>

<p>This is my <code>/etc/default/isc-dhcp-server</code> setup:</p>

<pre><code>DHCPD_CONF=/etc/dhcp/dhcpd.conf
INTERFACES=""wlan0""
</code></pre>

<p>Everything else in the above files is commented out (and not included in this post).</p>

<p>The problem I'm having involves using <code>eth0</code> to connect to the internet. I plug in <code>eth0</code> to update packages, pull git repositories, etc. This is important for keeping my Raspberry Pi maintained. </p>

<p>When I plug in an active Ethernet cable to <code>eth0</code>, I don't get any internet connection on the Raspberry Pi. The ad-hoc network still runs, and I can connect and ssh at 192.168.1.1, but the Pi has no internet access.</p>

<p>I've successfully gotten an internet connection using <code>eth0</code> by disabling the ad-hoc network, but I need both working at the same time. </p>

<p>Any suggestions?</p>
"
46481,1,2016-04-27T02:41:46.977,1,748,,user45649,2017-08-27T14:54:42.057,2017-08-27T14:54:42.057,14,,"<p>I am working on a project for my C programming class and need to use wiringPi on my raspberryPi. I need to create a traffic light (like a real one- red to green to yellow to red, etc.) and a pedestrian signal that turns on a white light and turns off the other colors when the button is pushed. This program is in c language and created on putty for raspberryPi. <br/>
I have the idea that:<br/>
While red is HIGH, yellow, green, and white are LOW. <br/>
While green is HIGH, yellow, red, and white are LOW. <br/>
While yellow is HIGH, red, green, and white are LOW. <br/>
If button is pushed, white is HIGH and red, yellow, green are LOW. <br/>
The order must go: red, green, yellow, red, green, yellow, red... Until the button is pushed and the white light turns on. <br/>
Once the white light turns off, the traffic light (red, green, yellow...) continues as usual. 

<p>This is my code so far: <br/></p>

<pre><code>#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt;
#include &lt;wiringPi.h&gt;

int main(void)
{
    // RED is pinMode 1 (18)
    // YELLOW is pinMode 4 (23)
    // GREEN is pinMode 5 (24)
    // WHITE is pinMode 6 (25)
    // SWITCH is pineMode 0 (17)

    wiringPiSetup ();
    pinMode (1, OUTPUT);
    pinMode (4, OUTPUT);
    pinMode (5, OUTPUT);
    pinMode (6, OUTPUT);
    pinMode (0, INPUT);

    for (;;) {
        if (digitalRead(6) == LOW &amp;&amp; digitalRead(0) == LOW) {
            digitalWrite (1, LOW);
            digitalWrite (4, LOW);
            digitalWrite (5, LOW);
            digitalWrite (6, HIGH);
            delay (2000);
        }
        if (digitalRead(0) == LOW) {
            digitalWrite (1, HIGH);
            delay (1000);
            digitalWrite (4, HIGH);
            delay (1000);
            digitalWrite (5, HIGH);
            delay (1000);
            digitalWrite (6, LOW);
            delay (1000);
        }

    }
    return 0;
}
</code></pre>

<p>No error message appears when I compile it (gcc -Wall -o student student.c -lwiringPi) (my project is named student.c) however it doesn't turn anything on and the button doesn't work either. <br/>
I have my breadboard set up right now correctly (confirmed with the professor.) <br/> 
What is the problem with my code?</p>
"
46631,1,2016-04-29T19:48:19.987,3,2588,44151,,2016-04-30T07:22:34.953,,0,,"<p>I recomplie the Raspbian kernel for Cirrus Logic audio card, following this description.</p>

<p><a href=""https://github.com/CirrusLogic/rpi-linux/wiki/Building-the-code"" rel=""nofollow"">https://github.com/CirrusLogic/rpi-linux/wiki/Building-the-code</a></p>

<p>and I wonder what does mkknlimg exaclty do.</p>

<p>and I found these:</p>

<p>""Note that DT and ATAGs are mutually exclusive. As a result, passing a DT blob to a kernel that doesn't understand it causes a boot failure. To guard against this, the loader checks kernel images for DT-compatibility, which is marked by a <strong>trailer</strong> added by the mkknlimg utility; this can be found here, or in the scripts directory of a recent kernel source tree. Any kernel without a trailer is assumed to be non-DT-capable.""
at <a href=""https://www.raspberrypi.org/documentation/configuration/device-tree.md"" rel=""nofollow"">https://www.raspberrypi.org/documentation/configuration/device-tree.md</a></p>

<p><strong>What I found:</strong>
From ATAGs I found that They are used to pass physical memory layouts to the kernel at booting process on ARM arch, and they are incompatible with the Device Tree blob.</p>

<p><strong>My question:</strong>
What is a ""trailer""?</p>
"
46633,1,2016-04-29T22:13:46.750,0,2267,45819,,2020-10-21T10:02:02.440,,0,,"<p>What is the best way to connect a Raspberry Pi3 to a L9110S H-Bridge Dual DC Stepper Motor Controller ?</p>

<p>Will be driving a ""17HS4401 4 Lead NEMA 17"" Stepper Motor with this unit. </p>

<p>Any help with which IO Pins to use for communication and power would be helpful.</p>

<p><a href=""https://i.stack.imgur.com/ksmlg.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ksmlg.jpg"" alt=""enter image description here""></a></p>

<p>Also, will it work with the stepper motor python library ?</p>

<p>Thanks</p>
"
46664,1,2016-04-30T12:24:57.500,1,1227,45843,,2020-07-15T17:28:05.177,2020-07-15T17:28:05.177,6,,"<p>A colleague of mine gave me a device that is able to send data via I2C. He has already been able to receive this data on the Arduino via the following library/Function <a href=""https://www.arduino.cc/en/Reference/WireRequestFrom"" rel=""nofollow noreferrer"">https://www.arduino.cc/en/Reference/WireRequestFrom</a></p>
<p>However if i try to read out the bus on the raspberry pi (raspbian), I'm only able to receive the first 5 values when using &quot;i2cdump&quot; or &quot;i2cget&quot;. Afterwards there is a delay about 1 second when executing &quot;i2cget&quot; and I receive a &quot;Error: Read failed&quot;.</p>
<p><a href=""https://i.stack.imgur.com/mPdW6.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mPdW6.png"" alt=""enter image description here"" /></a></p>
<p>Does anybody have experience with I2C Read Errors or have a clue about what the cause could be?</p>
<p>About the Setup:
Raspbian Jessy, I2C switched on via the raspi-config menu. No further Changes.</p>
"
46735,1,2016-05-01T22:04:16.500,0,5482,29416,,2016-08-07T18:24:06.730,2016-05-03T18:57:32.257,20,,"<p>I have this gamepad PCB from Adafruit: <a href=""https://www.adafruit.com/products/3015"" rel=""nofollow noreferrer"">https://www.adafruit.com/products/3015</a></p>

<p>In their guide it's supposed to work with the file they give you but that image only works on raspberry pi 2 and I'm using a raspberry pi 3 so I can't use that image on my sd card. How do I figure out which GPIO pins the buttons are on? and then set those up to work on my raspberry pi 3?</p>

<p>UPDATE: 
Here's the image of the Adafruit PiGRRL Gamepad PCB @MohammadAli added in the comments to help</p>

<p><a href=""https://i.stack.imgur.com/IPxPp.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/IPxPp.png"" alt=""Adafruit Gamepad PCB""></a></p>
"
46830,1,2016-05-03T21:10:30.007,0,1723,46020,,2016-05-05T13:46:45.240,2016-05-04T12:16:54.377,3,,"<p>I'm new to this and I have a problem that I'm strugglin' with and I really hope someone can solve it. 
I've headlessly installed my RPi but I'm unable to find the IP address of it and SSH to it.
I connected the RPi via Ethernet to my router and used my laptop to search for the IP. I tried everything:
I used nmap, I used the Pi Finder app from Adafruit, I logged into my router and listed the devices connected to it. Result: nothing, just a big headache and I can't find the IP. 
I know it's not a problem of bad installation of Raspian 'cause at the university today I tried to connect my Pi to a monitor via HDMI and everything was working correctly.
DHCP server is workin' on my router, and I have also unplugged and plugged it again before startin' the search of the IP
What could be the problem? Workin' with a plugged monitor is not an option 'cause I don't have one.</p>
"
46879,1,2016-05-04T21:03:05.740,0,2143,46066,,2016-05-04T21:40:44.880,,3,,"<pre><code>class LIS2DH_Class(object):
mySpi = 0
def __init__(self):
    self.spi = spidev.SpiDev()
    self.spi.open(0,0)
    self.spi.max_speed_hz = 10000000 #10 Mhz is max limit on LIS2DH SPI communication
def whoAmI(self):
    resp = self.spi.xfer2([0x8f,0x8f])
    return resp
print accel.whoAmI()
</code></pre>

<p>above is the code i wrote for an LIS2DH accelerometer.
0x0F is the whoami register. I'm bitwise OR with 0x80 to send a read command, followed by the register address. see protocol below;</p>

<p>this code above will return [255,51]</p>

<p>51 is the expected value, 255 is garbage. How can i reduce a read command to just sending 1 byte? </p>

<p><a href=""https://i.stack.imgur.com/aUUfQ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/aUUfQ.png"" alt=""Spi read protocol""></a></p>
"
46881,1,2016-05-04T21:26:37.220,2,946,46067,,2017-03-31T08:11:36.597,,0,,"<p>What I am trying to do is have pocket sphinx get my mic input and have it then translate and based on the results compare it to predefined words and then execute a command/script. I was able to get pocketsphinx installed and running on my Raspberry Pi3, and the use with the terminal works, but what I am looking for is a template of code that will use the API and use the mic as input. I was able to find a C++ code for it, but not C. I have been digging online and no luck I hope someone can help me put something together with comments, I hope that is not too much to ask. Here is the C++ code: <a href=""http://www.robotrebels.org/index.php?topic=239.msg1234#msg1234"" rel=""nofollow"">http://www.robotrebels.org/index.php?topic=239.msg1234#msg1234</a></p>

<p>Thank you in advance.</p>
"
47097,1,2016-05-09T19:06:32.113,2,818,42282,,2016-05-10T07:53:49.753,2016-05-10T04:37:56.300,3,,"<p>I have three libraries (is library the right word?) that I'm using in my Python code: </p>

<ul>
<li>An Adafruit <a href=""https://github.com/bobtiki/Lava-Lounge/blob/master/tikinook/neopixel.py"" rel=""nofollow"">NeoPixels</a> library, which comes from the <a href=""https://github.com/jgarff/rpi_ws281x"" rel=""nofollow"">rpi_281x</a> library to control them via PWM, on GPIO pin 18.</li>
<li>One to control WS2801 Adafruit pixels (which I call ""<a href=""https://github.com/bobtiki/Lava-Lounge/blob/master/tikinook/paleopixel.py"" rel=""nofollow"">PaleoPixels</a>"" in my code. This uses SPI to write to the chips, using MOSI (GPIO pin 10) and SCLK (GPIO pin 11) pins for control.</li>
<li>A ""<a href=""https://github.com/bobtiki/Lava-Lounge/blob/master/tikinook/superpixel.py"" rel=""nofollow"">SuperPixel</a>"" library to gang together multiple strands of both types into a super-strand, and control them with a single command set.</li>
</ul>

<p>All of this works quite well on its own, and I can run animations at a pretty decent frame rate, if I just run a script from the terminal.</p>

<p>My problem seems to start when I try to use GPIO interrupts to detect button presses to trigger different LED patterns. The NeoPixels continue to work, but the SPI-driven PaleoPixels just go haywire. After a little trial and error, it seems to be related to listening for the GPIO interrupts that's somehow conflicting with the PaleoPixel control signal.</p>

<p>I don't have a logic analyzer, so I'm not sure exactly what's going wrong yet, but is there anything in my control script that's an obvious conflict with the SPI ontrol of the PaleoPixels, or something else I'm doing wrong with how I'm handling interrupts?</p>

<pre><code>import RPi.GPIO as GPIO
import neopixel
import paleopixel
from superpixel import *

GPIO.setmode(GPIO.BCM)

GPIO.setup(23, GPIO.IN, pull_up_down=GPIO.PUD_UP)
GPIO.setup(24, GPIO.IN, pull_up_down=GPIO.PUD_UP)
GPIO.setup(25, GPIO.IN, pull_up_down=GPIO.PUD_UP)


# Set up the strand

# My LED strip configurations (for test):
NEOPIXEL_COUNT   = 244   # Number of NeoPixels in the strand
NEOPIXEL_PIN     = 18    # GPIO pin connected to the pixels (must support PWM!)
PALEOPIXEL_COUNT = 50    # Number of PaleoPixels in the strand

# Create pixel strands with appropriate configuration.
strand1 = neopixel.Adafruit_NeoPixel(NEOPIXEL_COUNT, NEOPIXEL_PIN)
strand2 = paleopixel.PaleoPixel(PALEOPIXEL_COUNT)

# Combine them into one SuperPixel strand
strand = SuperPixel(strand1, strand2)

# Intialize the SuperPixel strand (must be called once, before other
# functions, if the SuperPixel strand contains any NeoPixel sub-strands)
strand.begin()


# FIXME: Setting up these GPIO interrupts seems to be killing the control
#        stream to the PaleoPixels

# Set up our GPIO callbacks
def button_white(channel):
    print(""button_white"")
    colorAll(strand, Color(255, 0, 0))  # Set all LEDs to Red

def button_amber(channel):
    print(""button_amber"")
    colorAll(strand, Color(0, 255, 0))  # Set all LEDs to Green

def button_red(channel):
    print(""button_red"")
    colorAll(strand, Color(0, 0, 255))  # Set all LEDs to Blue

# Physical button interrupts
GPIO.add_event_detect(23, GPIO.FALLING, callback=button_white, bouncetime=300)
GPIO.add_event_detect(24, GPIO.FALLING, callback=button_amber, bouncetime=300)
GPIO.add_event_detect(25, GPIO.FALLING, callback=button_red, bouncetime=300)


# Idle loop
while 1:
    # Should I be doing something else here?
    pass

GPIO.cleanup()
</code></pre>
"
47300,1,2016-05-13T17:35:19.203,0,875,46321,,2018-11-10T13:26:37.643,2018-11-10T13:26:37.643,2,,"<p>I connected my Rasp. to an ESC, which I want to control with this part of code:</p>

<pre><code>import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BOARD)
GPIO.setup(37, GPIO.OUT)

servo = GPIO.PWM(37,60)

servo.start(10)

while True:
    servo.ChangeDutyCycle(5)
    servo.ChangeDutyCycle(10)

print('***Programm started.')

servo.stop()
GPIO.cleanup()
</code></pre>

<p>It worked too but the motors turned On and Off...
They didn't run stable.
Now i want to know what Frequ. i need and how the code has to be modified so that the motors are running stable (without having to turn On and Off On and Off.....).
Maybe somebody knows how i can realize that in Pi4J.</p>

<p>Thanks in advance :D</p>
"
47355,1,2016-05-14T23:06:15.953,3,1200,24378,,2017-11-03T02:59:19.893,2016-05-15T12:51:57.530,7,,"<p>Does the linux driver for the Raspberry Pi 3 Wifi chip support multiple virtual interfaces? </p>
"
47364,1,2016-05-15T07:46:16.240,1,401,46321,,2021-02-01T11:03:30.323,2016-05-15T08:38:52.423,0,,"<p>I would like to control a brushless motor with a Java program running on a Raspberry Pi model b+.</p>

<p>This is the code that I am using:</p>

<pre><code>package de.ye.boat_eng;

import com.pi4j.wiringpi.Gpio;
import com.pi4j.wiringpi.SoftPwm;

public class ON implements Runnable{


public static boolean stop = false;

@Override
public void run() {
    System.out.println(""ON_ENG"");
    Gpio.wiringPiSetup();
    SoftPwm.softPwmCreate(24, 0, 60);
    SoftPwm.softPwmWrite(24, 12);
    Thread.sleep(100);
    while((true)){
        SoftPwm.softPwmWrite(24, 12);
        Thread.sleep(100);
        SoftPwm.softPwmWrite(24, 20);
        Thread.sleep(100);

        if(stop){
            SoftPwm.softPwmWrite(24, 0);
            Thread.currentThread().destroy();
        }
    }
}
}
</code></pre>

<p>But the motor isn't running ""stable"", it turns on and off sometimes slower sometimes faster...</p>

<p>Thanks in advance.</p>
"
47461,1,2016-05-17T04:30:23.473,3,8104,46648,,2017-01-08T18:40:49.953,,1,,"<p>I need to set the serial port /dev/ttyS0 to 250k bit/sec in order to send commands to another device expecting 250k.
I am using Python and trying to set the speed with the command</p>

<p>ser=serial.Serial(
   port='/dev/ttyS0',
   baudrate=250000,
   parity  ....and so on</p>

<p>This generates an error because the port speed is a non standard unix speed the nearest being 230400   ....which is not close enough.</p>

<p>Note this is not USB. The Rasberry Pi B has the ability to go to this speeds and I have confirmed to myself that it gets to the higher speed ranges with and oscilloscope.</p>

<p>Looks like I need to recompile the kernel. I can do that, but can someone help with which code needs to be modified to get a new non standard uart speed.</p>
"
47671,1,2016-05-20T15:58:47.370,4,27933,37947,,2017-02-17T00:59:58.160,,2,,"<p>I am running two different Raspberry PI and they are running Raspbian Wheezy and Jessie. On Wheezy, I simply commented out a line <code>T0:23: respawn:/sbin/getty -L ttyAMA0 115200 Vt00</code> in /etc/inittab file. That worked and my program was able to get access to ttyAMA0. However, when I try to do the same on Jessie, I can't even find the file /etc/inittab. Then, I learned it is completely based on Debian. So, ttyAMA0 is treated like a service.</p>

<p>I searched online for solution about this and found a terminal command to stop or disable getty ttyAMA0 service as follow. So, my program could get access to ttyAMA0.</p>

<pre><code>sudo systemctl stop serial-getty@ttyAMA0.service
</code></pre>

<p>or</p>

<pre><code>sudo systemctl disable serial-getty@ttyAMA0.service
</code></pre>

<p>These commands did not help or make any changes. My program complains it can't connect. How do I make my program get access to ttyAMA0 on Jessie?</p>
"
48307,1,2016-06-03T12:34:02.210,34,92955,,user47488,2020-08-22T00:21:58.053,2017-05-21T19:04:31.680,4,,"<p>I have a pi running the latest release of raspbian and it's connected to the Internet using a wireless USB dongle. What I would like to do, is to share the pi's wifi connection so that any computer connected to the pi using a LAN cable would be able to receive the Internet. I had a look around the Internet but I can't seem to find anything of relevance. I'm familiar with this process on Windows and Mac OS X, but doing this on the pi has just got me stumped.</p>

<p><strong>EDIT:</strong> I don't know whether this helps anyone but I am connected to the Internet on my pi via wlan0, but I would like to share that Internet connection via eth0.</p>
"
48320,1,2016-06-03T17:59:01.887,3,814,47503,,2016-12-31T09:59:45.737,2016-12-31T09:59:45.737,4,,"<p>I have a gas sensor connected to my Raspberry Pi 2 (5V, GND, SDA, SCL) I use the Raspbian OS. I try to communicate with the sensor according to this manual:</p>

<p><a href=""http://co2meters.com/Documentation/AppNotes/AN142-RaspberryPi-K_series.pdf"" rel=""nofollow noreferrer"">http://co2meters.com/Documentation/AppNotes/AN142-RaspberryPi-K_series.pdf</a></p>

<p>i2cdetect delivers the following the right address : 0x68</p>

<p>I used the following test program: ( <a href=""http://www.byvac.com/downloads/sws/notsmb_1_0.zip"" rel=""nofollow noreferrer"">http://www.byvac.com/downloads/sws/notsmb_1_0.zip</a> ) </p>

<p>GNU nano 2.2.6               File: test.py</p>

<pre><code>from notsmb import notSMB
bus = notSMB(I2CBUS)
resp = bus.i2c(0x68,[0x22,0x00,0x08,0x2A],4)
print(resp)
</code></pre>

<p>But I get write errors all the time:</p>

<pre><code>pi@raspberrypi ~ $ sudo python test.py
Traceback (most recent call last):
File ""test.py"", line 5, in &lt;module&gt;
resp = bus.i2c(0x68,[0x22,0x00,0x08,0x2A],4)
</code></pre>

<p>EDIT to add:</p>

<p>The complete code I have used:</p>

<pre><code>#!/usr/bin/python

import time
from notsmb import notSMB
I2CBUS = 1
CO2ADDR = 0x68
READ = 0x22
readBytes = [0x00,0x08,0x2A]
bus = notSMB(1)
while True:
   try:
      pi=bus.i2c(CO2ADDR,[0x22,0x00,0x08,0x2A],4)
      time.sleep(0.1)
      co2Val=(pi[1]*256+pi[2])
      print(co2Val);
      f=open(""/var/www/bhm/K-30/co2wert.txt"",""w"")
      f.write(str(co2Val))
      f.close
      break
   except:
      blank=0;
</code></pre>

<p>And the error message:</p>

<pre><code>pi@raspberrypi:~ $ sudo python /var/www/bhm/K-30/co2messung.py
Traceback (most recent call last):
File ""/var/www/bhm/K-30/co2messung.py"", line 12, in &lt;module&gt;
pi=bus.i2c(CO2ADDR,[0x22,0x00,0x08,0x2A],4)
KeyboardInterrupt
</code></pre>
"
49374,1,2016-06-05T09:22:54.580,1,661,47566,,2016-06-05T11:43:30.727,2016-06-05T10:13:03.647,3,,"<p>I'm trying to write a small C program that reads the Pi's serial number, just the serial number and not all the other information, to do this I'm using <code>fseek</code>
here is my code, based on a few C examples and tutorials:</p>

<pre><code>int main()

{

FILE *fp = fopen(""/proc/cpuinfo"", ""r"");

fseek(fp, -10, SEEK_END);

int ch = getc(fp);

while (ch != EOF)

{

/* display contents of file on screen */

putchar(ch);

    ch = getc(fp);

}

if (feof(fp))

   printf(""\n End of file reached."");
else

   printf(""\n Something went wrong."");

fclose(fp);

return 0;

}
</code></pre>

<p>I'm not getting any warnings or errors when compiling but it always seems to ignore the <code>fseek</code> and prints out the whole file.  What am I doing wrong, or not doing right?</p>
"
49440,1,2016-06-07T05:50:37.493,2,6239,47653,,2017-12-31T15:09:55.580,2017-12-21T06:20:56.867,2,,"<p>For an embedded system I need to be able to switch certain USB devices on a RPi on and off without physically disconnecting them. The whole setup will be in an enclosed casing. My idea now was to hardwire the USB devices to the USB ports from the Pi but separate the +5V power line and connecting that to a GPIO pin. In theory I could control the GPIO pin now to a high or low state with a small C program to 'emulate' the plugging of the USB device / to power it on and off.</p>

<p>What do you think about that? Is that possible or will it fry my Raspberry Pi?</p>
"
49522,1,2016-06-08T19:42:41.507,1,9216,47045,,2017-02-14T01:57:31.260,2017-01-10T20:41:27.220,3,,"<p>I have currently started looking into raspberry pi projects. My background is in C# and Java. I do not have much experience with Python which seems to be the preferred programming language to do raspberry pi projects. I wanted to use the Arduino Motor Shield as my motor controller because it is the cheapest controller I can find that can control 4 separate DC/stepper motors as well as 2 servo motors. I've looked around the raspberry pi forums and found this <a href=""https://github.com/lipoja/AMSpi"" rel=""nofollow"">https://github.com/lipoja/AMSpi</a> to accomplish what I wanted. But there seems to a problem stopping the motors when running the test files. Once the motor starts running it will not stop until I manually turn off the raspberry pi. Can someone help me with this? I am using Raspberry Pi 3 Model B BTW.</p>
"
49621,1,2016-06-10T14:39:49.207,2,435,47834,,2020-12-05T11:06:45.740,2016-06-28T16:47:30.117,4,,"<p>Using Node.js, express and <a href=""https://cylonjs.com"" rel=""nofollow"">cylon.js</a>, I'm getting a post request and blinking an LED using a raspberry Pi. I receive the first post request fine, the code runs and the LED blinks. However on the second post request I receive an error:</p>

<pre><code>events.js:146
      throw err;
      ^

Error: Uncaught, unspecified ""error"" event. (Error occurred while writing value 1 to pin 23)
    at DigitalPin.emit (events.js:144:17)
    at DigitalPin.&lt;anonymous&gt; (/home/pi/tech-corner/devTracker/node_modules/cylon/lib/io/digital-pin.js:70:12)
    at fs.js:1134:21
    at FSReqWrap.oncomplete (fs.js:82:15)
</code></pre>

<p>Note that in the code below I'm using <code>pin: 16</code>. So I'm confused as to why it's trying to write to pin 23.</p>

<pre><code>var express = require('express')
var bodyParser = require('body-parser')
var app = express()
var Cylon = require('cylon')

var pi = Cylon.robot({
  connections: {
    raspi: { adaptor: 'raspi' }
  },

  devices: {
    led: { driver: 'led', pin: 16 }
  },

  work: function (my) {
    after((1).second(), function () {
      console.log('Post request recieved! Toggle the LED')
      my.led.toggle()
    })

    after((2).second(), function () {
      my.led.toggle()
    })

    after((5).seconds(), function () {
      console.log('I\'m shutting down now.')
      pi.halt()
    })
  }
})

app.set('port', process.env.PORT || 1337 - 1)

// parse application/x-www-form-urlencoded
app.use(bodyParser.urlencoded({ extended: false }))

// parse application/json
app.use(bodyParser.json())

app.post('/', function (req, res) {
  console.log(req.body.user_name)

  pi.start()

  res.end('Hello')
})

app.listen(app.get('port'), function () {
  console.log('Node app is running at http://localhost:' + app.get('port'))
})
</code></pre>

<p>Any help greatly appreciated. I assume my raspberryPi set-up is fine since it works on the first hook.</p>

<p>EDIT: Incase anyone comes across this and has a similar problem. I decided to go with <a href=""https://www.npmjs.com/package/pigpio"" rel=""nofollow"">pigpio</a> which was a lot easier.</p>
"
49669,1,2016-06-11T10:14:07.983,0,4175,43954,,2016-06-11T20:13:00.963,2016-06-11T20:13:00.963,3,,"<p>I use snip all the time on windows for taking screenshots.</p>

<p>Is there something similar in raspbian?</p>

<p><strong>Note</strong>: I wish to take screenshots in the raspbian desktop environment, (LXDE).  </p>

<p>My desktop details are as follows:</p>

<pre><code>pi@raspberrypi:~ $ dpkg --get-selections | grep desktop
desktop-base                                    install
desktop-file-utils                              install
gir1.2-freedesktop:armhf                        install
gnome-desktop3-data                             install
gsettings-desktop-schemas                       install
libgnome-desktop-3-10                           install
</code></pre>

<p>The linux standard base is as follows:</p>

<pre><code>pi@raspberrypi:~ $ lsb_release -a
    No LSB modules are available.
    Distributor ID: Raspbian
    Description:    Raspbian GNU/Linux 8.0 (jessie)
    Release:        8.0
    Codename:       jessie
</code></pre>
"
49689,1,2016-06-11T15:55:36.030,1,2633,34176,,2018-08-27T12:00:46.110,2016-06-11T23:27:45.797,5,,"<p>I've installed Raspbian (Raspbian GNU/Linux 8.0 (jessie)) on the Raspberry Pi 2 Model B. To be able to reach it by its hostname, I installed <code>winbind</code> and then modified the <code>hosts</code> section in the file <code>/etc/nsswitch.conf</code> to:</p>

<pre><code>hosts: files dns wins
</code></pre>

<p>Unfortunately, pinging is only possible to <code>raspberrypi.local</code>, but not <code>raspberrypi</code>.</p>

<p>What do I have to do to make pinging without <code>.local</code> possible on Raspbian?</p>

<p><strong>EDIT</strong>:</p>

<p>The <code>/etc/hosts</code> looked like this:</p>

<pre><code>127.0.0.1       localhost
::1             localhost ip6-localhost ip6-loopback
ff02::1         ip6-allnodes
ff02::2         ip6-allrouters

127.0.1.1       raspberrypi
</code></pre>

<p>and I changed it to this:</p>

<pre><code>127.0.0.1       localhost
::1             localhost ip6-localhost ip6-loopback
ff02::1         ip6-allnodes
ff02::2         ip6-allrouters

127.0.1.1       raspberrypi
127.0.0.1       raspberrypi
</code></pre>

<p>But it still fails when I <code>ping raspberrypi</code> from another computer within the same network.</p>
"
49891,1,2016-06-15T23:10:56.367,2,524,33857,,2019-07-23T10:44:28.760,2019-07-22T20:52:35.243,0,,"<p>I'm using Python class <a href=""http://abyz.me.uk/rpi/pigpio/examples.html#Python_rotary_encoder_py"" rel=""nofollow noreferrer"">Rotary Encoder</a> to implement a Position PI on a <a href=""https://www.ebay.com/itm/US-Free-Ship-3Axis-Nema34-Stepper-Motor-Single-Shaft-1600oz-in-Driver-CNC-kit-/303219117857?oid=151340545611"" rel=""nofollow noreferrer"">stepper motor</a> and using this encoder <a href=""http://www.usdigital.com/products/encoders/incremental/rotary/hollow-bore/hb6m"" rel=""nofollow noreferrer"">H6BM-1000-500-IE-S-H</a></p>

<p>The code is working quite well, however I'm getting an error of ~5mm when I run large distances. My guess is that I'm missing interrupts because of speed, however my whole code is on Python. I wanted to know if I could use <a href=""http://abyz.me.uk/rpi/pigpio/examples.html#pdif2_RED"" rel=""nofollow noreferrer"">this C code</a> via ctypes to wrap it to Python. I'm new to this Python module (ctypes) and don't use C at all. If it is possible, how should I compile it in order to use it on Python? </p>

<p>It doesn't have to be exclusively the C code mentioned above, but preferably pigpio code.</p>

<p>It can also be this <a href=""http://abyz.me.uk/rpi/pigpio/examples.html#C_rotary_encoder_c"" rel=""nofollow noreferrer"">C code</a> for Rotary Encoder.</p>
"
49940,1,2016-06-16T19:10:45.910,1,659,37947,,2017-03-02T18:48:08.720,,2,,"<p>I am having hard time understanding the Raspberry PI 2 Model B's PINOUT. I have RTC Module I want to use with my PI, but no matter what I do there seems to be NO response at all from RTC. I even scoped the pinout's output. None of their signals change state when I try to write into RTC. Here is the wiring information that I got from a website <a href=""http://www.hobbytronics.co.uk/raspberry-pi-real-time-clock"" rel=""nofollow"">Hobbytronics</a></p>

<pre><code>VCC - 3.3V
GND - GND
(CLK) SCLK- GPIO#21
(DAT) IO  - GPIO#18
(RST) CE  - GPIO#17
</code></pre>

<p>For the life of me, I simply can't get anything toggling either. So, could someone please tell me where these PINS are located physically on the Board itself for PI 2 Model B.</p>
"
50233,1,2016-06-22T18:16:37.687,3,4180,48365,,2016-07-18T10:55:40.860,,1,,"<p><strong>Issue</strong></p>

<p>I'm running CentOS 7 on a Raspberry Pi 3 (image here: <a href=""http://buildlogs.centos.org/centos/7/isos/armhfp/CentOS-Userland-7-armv7hl-Minimal-1602-RaspberryPi3.img.xz"" rel=""nofollow"">http://buildlogs.centos.org/centos/7/isos/armhfp/CentOS-Userland-7-armv7hl-Minimal-1602-RaspberryPi3.img.xz</a>). I'm attempting to enable SELinux on the Pi. After installing the necessary packages, changing the parameter <code>SELINUX=disabled</code> to <code>SELINUX=permissive</code>, and running:</p>

<pre><code>touch /.autorelabel
reboot
</code></pre>

<p>all as the root user, I'm still faced with the following output after reboot:</p>

<pre><code>$ getenforce
Disabled
$ sestatus
SELinux status:                 disabled
</code></pre>

<p><strong>Troubleshooting</strong></p>

<p>I've installed the following packages:</p>

<pre><code>policycoreutils 
policycoreutils-python 
selinux-policy 
selinux-policy-targeted 
libselinux-utils 
setroubleshoot-server 
setools 
setools-console
</code></pre>

<p>The current content of <code>/etc/selinux/config</code>:</p>

<pre><code># This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=permissive
# SELINUXTYPE= can take one of three two values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected.
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
</code></pre>

<p>I know that bootloaders such as grub sometimes disable SELinux in their config files during boot but I checked the native raspberry pi boot configs (<code>/boot/config.txt</code> and <code>/boot/cmdline.txt</code>) and there doesn't seem to be anything that would disable SELinux in those either. </p>

<p>Any help or suggestion is appreciated!</p>
"
50316,1,2016-06-24T14:40:50.427,1,624,48439,,2017-04-02T10:04:30.120,2016-06-24T14:47:07.643,3,,"<p>Having followed the adafruit ""overview playing music with buttons raspberry pi"" I thought I knew it all but then I wanted to play random files and then to scroll through the files and play them by button press. </p>

<p>couple notes: the mp3 files are in the same \home\pi directory as the python script. What I want is to flow through 4 separate music folders by genre, but don't know why adafruit neglected to address this topic.</p>

<p>The error(s) you ask? 
1)<strong>""subprocess is not defined"" What do I do?</strong>
2)""the file could not be found to even play </p>

<pre><code>#!/usr/bin/env python

from os import listdir
import subprocess
from time import sleep

import RPi.GPIO as GPIO

GPIO.setmode(GPIO.BCM)
GPIO.setup(23, GPIO.IN)
GPIO.setup(24, GPIO.IN)
GPIO.setup(25, GPIO.IN)

mp3_files = [ f for f in listdir('.') if f[-4:] == '.mp3' ]

if not (len(mp3_files) &gt; 0):
    print ""No mp3 files found!""

print '--- Available mp3 files ---'
print mp3_files
print '--- Press button #1 to select mp3, button #2 to play current. ---'

index = 0
while True:
    if (GPIO.input(23) == False):
        index += 1
        if index &gt;= len(mp3_files):
            index = 0
        print ""--- "" + mp3_files[index] + "" ---""

    if (GPIO.input(24) == False):
        subprocess.Popen(['mpg123', mp3_files[index]])
        print '--- Playing ' + mp3_files[index] + ' ---'
        print '--- Press button #3 to clear playing mp3s. ---'
        sleep(1)

    if (GPIO.input(25) == False):
        subprocess.call(['killall', 'mpg123'])
        print '--- Cleared all existing mp3s. ---'

    sleep(0.1);
</code></pre>
"
50561,1,2016-06-29T22:39:24.370,2,688,48745,,2020-04-12T06:01:55.247,,3,,"<p>Trying to connect a Pi 2 running Raspian Jessie to a really borked wifi network. There's one persistently bad access point that unfortunately is closest. So I'm trying to tell it to ignore that one and try something else (there's plenty in range).</p>

<p>I've tried the following in /etc/wpa_supplicant/wpa_supplicant.conf :</p>

<pre><code>network={
        ssid=""BorkedNet""
        psk=""PasswordGoesHere""
        key_mgmt=WPA-PSK
        bssid_blacklist=11:22:33:aa:bb:cc
}
</code></pre>

<p>but when I try to restart the adapter I get </p>

<pre><code>wpa_supplicant: /sbin/wpa_supplicant daemon failed to start
run-parts: /etc/network/if-pre-up.d/wpasupplicant exited with return code 1
Failed to bring up wlan1.
</code></pre>

<p>Leaving out the bssid_blacklist line and trying:</p>

<pre><code>wpa_cli blacklist 11:22:33:aa:bb:cc
</code></pre>

<p>gives me:</p>

<pre><code>Failed to connect to non-global ctrl_ifname: (null)  error: No such file or directory
</code></pre>

<p>Any thoughts?</p>
"
50609,1,2016-07-01T02:23:27.470,-1,269,34463,,2020-01-13T09:03:40.517,,0,,"<p>I'm trying to create a light automation system with my Raspberry Pi 2, PHP, Python and an Apache server.  Unlike some people, I want to be able to access this server from anywhere in the world.  The only problem with this, of course, is that if it's made public, anyone would be able to access the server.</p>

<p>This will be a huge security risk.</p>

<p>If anyone knows a way that the server could either be made private or very secure, that would be most appreciated.</p>

<p>I suppose it would be possible to setup a password system, but there could be ways that it could be broken into.  This includes.</p>

<ul>
<li>SQL Injections</li>
<li>Brute Force Attacks</li>
</ul>

<p>I'm already trying to avoid brute force attacks from bots by putting my server on a port other than 80.  I don't have much experience with apache servers, but if it's possible, I'd like to learn if I could use something to avoid brute force attacks on that port.</p>

<p>An example would that I use Fail2Ban for my SSH servers.</p>

<p>Although this may not be important, I'm running <strong>Raspbian</strong> on a <strong>Raspberry Pi 2</strong> with <strong>Apache 2</strong> and <strong>PHP 5</strong>.</p>
"
50967,1,2016-07-08T09:40:20.750,12,61880,39872,,2017-03-01T21:58:14.997,,7,,"<p>I have two RasPi3, both on the newest Jessie and updated &amp;&amp; upgraded. The problem is that both Pis can see networks but are not connecting to them. </p>

<pre><code>sudo iwlist wlan0 scan
</code></pre>

<p>Gives me multiple networks including the one I want to connect to. Typing in the credentials and authentication into the wpa_supplicant.conf file doesn't work. Then I installed xrdp on the Pis to see if a connection over that is possible. Again I see available networks including the one I want to connect to. I click it, type in the requested key and nothing happens. Afterwards a mouseover on the networks button in the upper right corner shows ""wlan0 not associated"". </p>

<pre><code>sudo ifup wlan0
</code></pre>

<p>tells me that the wlan0 interface is already configured. Makes sense. 
The newest firmware for the WiFi chip on the board is installed. </p>

<p>When I set the Pis up, they connected without any problems. Even to the same network as they should now. Nothing changed in the meantime. </p>

<p>What can I try?</p>

<p>EDIT:
Just tested to connect to my phone using the mobile hotspot. No problem at all...It gets confusing.</p>
"
51016,1,2016-07-09T15:59:52.417,3,1446,49196,,2019-12-29T16:01:40.210,2016-07-10T14:51:33.993,2,,"<p>I've been trying for two days, have not been able to get my WiFi to work on Raspberry Pi 3</p>

<p>I've tried the Jessie Lite build from FR24, and even the full download from Raspberry site.</p>

<p>wpa_supplicant.conf:</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
ssid=""-----""
psk=""------""
proto=RSN
key_mgmt=WPA-PSK
pairwise=CCMP
group=CCMP
auth_alg=OPEN
}
</code></pre>

<p>interfaces:</p>

<pre><code>auto lo

iface lo inet loopback
iface eth0 inet dhcp

allow-hotplug wlan0
auto wlan0
iface wlan0 inet dhcp
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

<p>pi@raspberrypi:~ $ ifconfig -a</p>

<pre><code>eth0      Link encap:Ethernet  HWaddr b8:27:eb:4b:d5:3d
          inet addr:192.168.1.74  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: 2602:306:36c9:c70:e7a9:fcae:b690:40a6/64 Scope:Global
          inet6 addr: fe80::66b9:e804:a95e:8576/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:837 errors:0 dropped:0 overruns:0 frame:0
          TX packets:371 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:53193 (51.9 KiB)  TX bytes:50627 (49.4 KiB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:13776 errors:0 dropped:0 overruns:0 frame:0
          TX packets:13776 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1
          RX bytes:1145608 (1.0 MiB)  TX bytes:1145608 (1.0 MiB)
</code></pre>

<p>pi@raspberrypi:~ $ sudo ifup wlan0</p>

<pre><code>wpa_supplicant: /sbin/wpa_supplicant daemon failed to start
run-parts: /etc/network/if-pre-up.d/wpasupplicant exited with return code 1
Failed to bring up wlan0.
</code></pre>

<p>pi@raspberrypi:~ $ sudo ifdown wlan0</p>

<pre><code>ifdown: interface wlan0 not configured
</code></pre>

<p>completely confused, please help.
Thanks,
Brian.</p>

<p>Hi Joe,, the Flight Radar 24 dist is built on Raspbian Jessie light
here is the lsmod</p>

<pre><code>pi@raspberrypi:~ $ lsmod
Module                  Size  Used by
bnep                   10340  2
hci_uart               17943  1
btbcm                   5929  1 hci_uart
bluetooth             326105  22 bnep,btbcm,hci_uart
cfg80211              427855  0
rfkill                 16037  3 cfg80211,bluetooth
ir_xmp_decoder          2903  0
ir_lirc_codec           4863  0
lirc_dev                8310  1 ir_lirc_codec
ir_mce_kbd_decoder      3921  0
ir_sharp_decoder        2177  0
ir_sanyo_decoder        2433  0
ir_sony_decoder         2175  0
ir_jvc_decoder          2173  0
ir_rc6_decoder          2813  0
ir_rc5_decoder          2493  0
ir_nec_decoder          2621  0
r820t                  16592  0
rtl2832                11329  0
i2c_mux                 2457  1 rtl2832
dvb_usb_v2             13297  0
dvb_core               81104  2 rtl2832,dvb_usb_v2
rc_core                16468  12 ir_sharp_decoder,ir_xmp_decoder,lirc_dev,ir_lirc_codec,ir_rc5_decoder,ir_nec_decoder,ir_sony_decoder,ir_mce_kbd_decoder,ir_jvc_decoder,dvb_usb_v2,ir_rc6_decoder,ir_sanyo_decoder
joydev                  9024  0
snd_bcm2835            20511  0
snd_pcm                75698  1 snd_bcm2835
snd_timer              19160  1 snd_pcm
bcm2835_wdt             3225  0
snd                    51844  3 snd_bcm2835,snd_timer,snd_pcm
spi_bcm2835             7286  0
bcm2835_gpiomem         3040  0
evdev                  11396  3
hid_logitech           20832  0
ff_memless              4750  1 hid_logitech
uio_pdrv_genirq         3164  0
uio                     8000  1 uio_pdrv_genirq
ipv6                  347530  32
</code></pre>

<p>and the lsusb:</p>

<pre><code>pi@raspberrypi:~ $ lsusb
Bus 001 Device 006: ID 0bda:2838 Realtek Semiconductor Corp. RTL2838 DVB-T
Bus 001 Device 005: ID 046d:c06a Logitech, Inc. USB Optical Mouse
Bus 001 Device 004: ID 046d:c517 Logitech, Inc. LX710 Cordless Desktop Laser
Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter
Bus 001 Device 002: ID 0424:9514 Standard Microsystems Corp.
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</code></pre>
"
51094,1,2016-07-11T17:34:16.350,4,2752,49307,,2019-06-30T12:18:50.073,,7,,"<p>I am trying to upgrade my Raspberry Pi Zero and have been fighting a multitude of segmentation faults, and I am at a loss as to how to fix this.  When I enter sudo apt-get upgrade, this is the output:</p>

<pre><code>osmc@OSMCPIZERO32:~$ sudo apt-get upgrade
Reading package lists... Done
Building dependency tree
Reading state information... Done
Calculating upgrade... Done
The following packages have been kept back:
rbp1-kernel-osmc
The following packages will be upgraded:
armv6l-eventlircd-osmc armv6l-remote-osmc base-files-osmc diskmount-osmc libxslt1.1 mediacenter-addon-osmc
perftune-osmc rbp-bootloader-osmc rbp-userland-dev-osmc rbp-userland-osmc rbp1-mediacenter-osmc
wireless-firmware-osmc
12 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
Need to get 58.6 MB of archives.
After this operation, 279 kB disk space will be freed.
Do you want to continue? [Y/n] yes
Get:1 http://archive.raspbian.org/raspbian/ jessie/main libxslt1.1 armhf 1.1.28-2+deb8u1 [213 kB]
Get:2 http://apt.osmc.tv/ jessie/main base-files-osmc all 1.9.5 [15.4 kB]
Get:3 http://apt.osmc.tv/ jessie/main diskmount-osmc all 1.4.4 [3,684 B]
Get:4 http://apt.osmc.tv/ jessie/main perftune-osmc all 1.2.0 [2,042 B]
Get:5 http://apt.osmc.tv/ jessie/main rbp-bootloader-osmc armhf 1.2.9-1 [2,165 kB]
Get:6 http://apt.osmc.tv/ jessie/main rbp-userland-dev-osmc armhf 1.2.0-5 [417 kB]
Get:7 http://apt.osmc.tv/ jessie/main rbp-userland-osmc armhf 1.2.0-5 [1,874 kB]
Get:8 http://apt.osmc.tv/ jessie/main mediacenter-addon-osmc all 3.0.618 [18.0 MB]
Get:9 http://apt.osmc.tv/ jessie/main rbp1-mediacenter-osmc armhf 16.1.0-12 [30.3 MB]
Get:10 http://apt.osmc.tv/ jessie/main armv6l-eventlircd-osmc armhf 1.2.0 [34.8 kB]
Get:11 http://apt.osmc.tv/ jessie/main armv6l-remote-osmc armhf 1.2.1 [1,343 kB]
Get:12 http://apt.osmc.tv/ jessie/main wireless-firmware-osmc all 1.1.2 [4,266 kB]
Fetched 58.6 MB in 3min 37s (269 kB/s)
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/libxslt1.1_1.1.28-2+deb8u1_armhf.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/base-files-osmc_1.9.5_all.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/diskmount-osmc_1.4.4_all.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/perftune-osmc_1.2.0_all.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/rbp-bootloader-osmc_1.2.9-1_armhf.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/rbp-userland-dev-osmc_1.2.0-5_armhf.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/rbp-userland-osmc_1.2.0-5_armhf.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/mediacenter-addon-osmc_3.0.618_all.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/rbp1-mediacenter-osmc_16.1.0-12_armhf.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/armv6l-eventlircd-osmc_1.2.0_armhf.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/armv6l-remote-osmc_1.2.1_armhf.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
dpkg-deb: error: subprocess tar was killed by signal (Segmentation fault)
dpkg: error processing archive /var/cache/apt/archives/wireless-firmware-osmc_1.1.2_all.deb (--unpack):
subprocess dpkg-deb --control returned error exit status 2
 Errors were encountered while processing:
/var/cache/apt/archives/libxslt1.1_1.1.28-2+deb8u1_armhf.deb
/var/cache/apt/archives/base-files-osmc_1.9.5_all.deb
/var/cache/apt/archives/diskmount-osmc_1.4.4_all.deb
/var/cache/apt/archives/perftune-osmc_1.2.0_all.deb
/var/cache/apt/archives/rbp-bootloader-osmc_1.2.9-1_armhf.deb
/var/cache/apt/archives/rbp-userland-dev-osmc_1.2.0-5_armhf.deb
/var/cache/apt/archives/rbp-userland-osmc_1.2.0-5_armhf.deb
/var/cache/apt/archives/mediacenter-addon-osmc_3.0.618_all.deb
/var/cache/apt/archives/rbp1-mediacenter-osmc_16.1.0-12_armhf.deb
/var/cache/apt/archives/armv6l-eventlircd-osmc_1.2.0_armhf.deb
/var/cache/apt/archives/armv6l-remote-osmc_1.2.1_armhf.deb
/var/cache/apt/archives/wireless-firmware-osmc_1.1.2_all.deb
E: Sub-process /usr/bin/dpkg returned an error code (1)
</code></pre>

<p>Any thoughts or advice would be most appreciated before I tear out the rest of my hair.  :)  Thanks!</p>
"
51248,1,2016-07-15T00:55:52.857,2,1011,38114,,2017-11-30T15:57:44.543,2016-07-15T11:11:21.073,7,,"<h2>The goal</h2>

<p>I'm attempting to connect two Raspberry Pi's together using IPv6 over SLIP but it's not quite working.  Here's what I've done:</p>

<h2>The attempt</h2>

<p>Both Pis are Model B running Jessie and the same process was applied to both. First, I edited the <code>/boot/config.txt</code> to enable <code>uart0</code> on both machines.  Next, I used <code>raspi-config</code> to turn off the redirection of tty to the uart.</p>

<p>The connection was then made between the two by connecting gnd (pin 6), tx0 (pin 8), and rx0, (pin 10).  Naturally, gnd to gnd, and tx0 to rx0.  Then the following commands:</p>

<pre><code>sudo slattach -p slip -s 115200 /dev/ttyAMA0 &amp;
sudo ifconfig sl0 mtu 1280
sudo ifconfig sl0 add 2016:0bd8:0:f101::101/64
ping6 -c 4 -I sl0 2016:bd8:0:f101::102
</code></pre>

<p>One of the devices was given <code>::101</code> and the other <code>::102</code>.  </p>

<p>On the <code>102</code> box, I run <code>sudo tcpdump -i sl0</code> and on the <code>101</code> box, I run <code>ping -c4 2016:bd8:0:f101::102</code>.  </p>

<h2>The results</h2>

<p>I see that the <code>102</code> box is actually receiving the ICMP6 echo requests, but never answers:</p>

<pre><code>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on sl0, link-type RAW (Raw IP), capture size 262144 bytes
20:47:17.096858 IP6 2016:bd8:0:f101::101 &gt; 2016:bd8:0:f101::102: ICMP6, echo request, seq 1, length 64
20:47:18.104029 IP6 2016:bd8:0:f101::101 &gt; 2016:bd8:0:f101::102: ICMP6, echo request, seq 2, length 64
20:47:19.103880 IP6 2016:bd8:0:f101::101 &gt; 2016:bd8:0:f101::102: ICMP6, echo request, seq 3, length 64
20:47:20.103889 IP6 2016:bd8:0:f101::101 &gt; 2016:bd8:0:f101::102: ICMP6, echo request, seq 4, length 64
</code></pre>

<p>Also, the ipv6 firewalls are clear.  That is, I ran <code>ip6tables -F</code> on both devices.</p>

<p>Both devices also have Ethernet ports which obtain IPv6 addresses via a local DHCP server that hands out both IPv4 and IPv6 addresses.  Over <code>eth0</code> I can ping one from the other using IPv4 or IPv6 with no problem.</p>

<p>I should also mention that I can try from either end and I get the same result, so clearly it's not a wiring or UART problem.</p>

<h3>Additional notes</h3>

<p>I can issue a <code>ping6</code> without specifying the interface and the routing is handled correctly.  That is, if I type <code>ping6 -c4 2016:bd8:0:f101::102</code>, I can see the <code>echo</code> requests coming in on the serial interface on <code>::102</code>.</p>

<p>Just in case something funny was happening, I also did a <code>tcpdump</code> on the <code>eth0</code> port of <code>::2</code> and did <em>not</em> see my missing ICMP echoreply messages heading out that way.  When I do a ping6 on the eth0 port, I see both echo and echoreply messages just fine.</p>

<p>I've also used <code>ping6 -c4 ff02::1%sl0</code> to find all neighbors, but each node only reports itself.</p>

<h2>The question</h2>

<p>What can I do to figure out why the Pi is not responding?  If I substitute IPv4 addresses, everything works just fine.  Is there some strange interaction between SLIP and IPv6?</p>
"
51375,1,2016-07-18T00:16:58.343,7,9953,29103,,2016-07-18T15:01:14.100,,1,,"<p>How do you allow non-root users to access I2C on the Raspberry Pi 2?</p>

<p>I've compiled <a href=""https://github.com/jrowberg/i2cdevlib/blob/master/RaspberryPi_bcm2835/MPU6050/examples/MPU6050_example_1.cpp"">this code</a> for accessing an MPU6050 sensor via I2C, and it works perfectly, but only when I call it via sudo.</p>

<p>I tried adding the pi user to the spi and i2c groups, and adding udev rules as explained <a href=""http://quick2wire.com/non-root-access-to-spi-on-the-pi/"">here</a> and <a href=""https://github.com/fivdi/i2c-bus/blob/master/doc/raspberry-pi-i2c.md"">here</a>, but even after rebooting, those had little effect. I can run <code>/usr/sbin/i2cdetect</code> as a non-root user, but the C code <code>I2Cdev::initialize()</code> still crashes if run without sudo.</p>

<p>This is documented in the <a href=""http://www.airspayce.com/mikem/bcm2835/"">underlying bcm2835 library</a>:</p>

<blockquote>
  <p>If the library runs with any other effective UID (ie not root), then
  bcm2835_init() will attempt to open /dev/gpiomem, and, if successful,
  will only permit GPIO operations. In particular, bcm2835_spi_begin()
  and bcm2835_i2c_begin() will return false and all other non-gpio
  operations may fail silently or crash.</p>
</blockquote>

<p>Is there any workaround for this? Even if I add the pi user to the root group, it still silently crashes.</p>
"
51464,1,2016-07-19T20:23:44.877,2,1708,49636,,2019-03-01T20:53:36.627,,6,,"<p>Well these days Im trying to design a software which use smart card readers, I am using ACR1252u and I have discovered how to buzz my smart card reader if a tag or card is on the reader. but still wondering how can I do this without the card on the reader. the code which works for when the card is on the reader is below:</p>

<pre><code>retCode = Card.SCardConnect(hContext, readername, Card.SCARD_SHARE_SHARED,
Card.SCARD_PROTOCOL_T0 | Card.SCARD_PROTOCOL_T1, ref hCard, ref Protocol);

    Byte[] setBuzzerLoud = new Byte[6];
    setBuzzerLoud[0] = 0xE0;
    setBuzzerLoud[1] = 0x00;
    setBuzzerLoud[2] = 0x00;
    setBuzzerLoud[3] = 0x21;
    setBuzzerLoud[4] = 0x01;
    setBuzzerLoud[5] = 0x77;
    uint pcBytesReturned = 0;
    Byte[] RecieveBuff = new Byte[64];
    uint controlcode = 3225264;
    int status = Card.SCardControl(hCard, controlcode, ref setBuzzerLoud[0], 6, ref RecieveBuff[0], RecieveBuff.Length, ref pcBytesReturned);
MessageBox.Show(status.ToString());
</code></pre>

<p>The problem is when hcard is on the reader the status which is the error shows 6. which means wrong handle!. But why buzzing a reader is connected to if the card is over the reader? is there anyway to turn this over? cause after this I want to turn on LEDs while the card is not over the reader- Guys plz if anyone have solved this problem tell us.</p>
"
51574,1,2016-07-22T11:49:00.047,1,865,49837,,2016-08-12T22:07:54.840,2016-07-22T15:52:27.207,1,,"<p>I would like to create an Amazon Echo using the Matrix Creator connected with to a Raspberry Pi. </p>

<p>My actual idea is use a beamforming algorithm to define the direction of the sound and turn on an LED according to the direction detected. Do you think it's possible with Matrix Creator? How can I get the stream from the microphones? Is there any ready software? </p>
"
51642,1,2016-07-23T22:36:51.390,3,20108,49910,,2020-04-26T22:09:27.753,2016-07-23T22:43:21.580,3,,"<p>Using: Model B Version 2</p>

<p>Dongle: TP-Link model TL-WN823N</p>

<p>os: raspbian</p>

<p>Tutorial: <a href=""http://www.circuitbasics.com/raspberry-pi-wifi-installing-wifi-dongle/"" rel=""nofollow"">http://www.circuitbasics.com/raspberry-pi-wifi-installing-wifi-dongle/</a></p>

<p>Following the tutorial above i have altered the files:</p>

<blockquote>
  <p>/etc/network/interfaces</p>
  
  <p>/etc/wpa_supplicant/wpa_supplicant.conf</p>
</blockquote>

<p>Despite hours of my best(though limited in ability) efforts, i cannot get the pi connected to the internet through the wifi.</p>

<p>I assume that dongle works, and is compatible with my pi as i can use the command to return a list of wireless networks:</p>

<p><code>sudo iwlist wlan0 scan</code></p>

<p>the two files have been altered to show:</p>

<pre><code>#/etc/network/interfaces    
auto lo

iface lo inet loopback
iface eth0 inet dhcp

auto wlan0
iface wlan0 inet dhcp
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

<p>and</p>

<pre><code>#/etc/wpa_supplicant/wpa_supplicant.conf
ctrl_interface=/var/run/wpa_supplicant
ctrl_interface_group=0
update_config=1

network={
    ssid=""YOUR WIFI NETWORK NAME""
    psk=""YOUR WIFI PASSWORD""
}
</code></pre>

<p>i simplified the later after seeing it was possible on websites offering similar tutorials.  When i type iwconfig i get:</p>

<blockquote>
  <p>wlan0    unassociated    nickname:""WIFI@Realtec""</p>
</blockquote>

<p>Any help with this situation would be appreciated.</p>

<p>In my rage i have also managed to hide the network icon on the GUI, bonus points for how to turn that back on...</p>

<p>EDIT:  I've now come code which works, but i'm unsure of why the initial bit did not, will be happy to accept an answer which can tell me this.  I've also added the code i'm now using below to help anyone like myself who could end up here from google.</p>
"
51736,1,2016-07-26T04:43:47.990,2,2512,49836,,2016-10-06T11:21:28.197,,3,,"<p>From the range of OSs available for Raspberry Pi, I would like to know whether the distro impacts the performance of the OS in pure terminal mode. I plan to run computationally power consuming algorithms with it and hence I would like to get the best out of its performance.</p>

<p>Specifically, I am interested in Raspbian, Ubuntu MATE and ArchLinux. How does the performance compare when there is not GUI related process running at the backround? Suppose if I were to disable the <code>startx</code> to boot in <code>text</code> mode, will there be a difference in the speed between these distros?</p>

<p>I would prefer Raspbian or Ubuntu MATE as it already has its WiFi and Bluetooth readily configured (I need them both), but was wondering if Arch can be any faster.</p>
"
51764,1,2016-07-26T15:47:14.850,0,361,49500,,2019-10-17T05:50:04.133,2016-07-27T09:26:52.863,0,,"<p>I am connecting the Lepton FLIR thermal scanner to my Raspberry Pi and I've gotten everything setup and working but when I try to run the program all I see is a red box surrounded by black. </p>

<p>According to <a href=""https://learn.sparkfun.com/tutorials/flir-lepton-hookup-guide"" rel=""nofollow"">SparkFun</a>, I could fix this problem by unplugging and then plugging back in the camera, but this didn't work for me. I searched somewhere else and I found <a href=""https://groups.google.com/forum/#!msg/flir-lepton/aMxbDvNw0qw/QOB6v2Vl9MwJ"" rel=""nofollow"">this solution</a>, but it's telling me to edit the LeptonThread.cpp file, but I can't figure out where to add it. </p>

<p>Can anyone on here help me break down what I need to do? I've written the bash script and I've opened the <code>LeptonThread.cpp</code> file and looked through it, but I can't figure out where to add the code shown.</p>

<p>Where in the <code>LeptonThread.cpp</code> do I add the code in <a href=""https://groups.google.com/forum/#!msg/flir-lepton/aMxbDvNw0qw/QOB6v2Vl9MwJ"" rel=""nofollow"">this solution</a>, and then what do I need to do with it?</p>
"
51889,1,2016-07-29T20:30:47.600,1,6095,49802,,2020-12-12T18:05:55.450,2017-02-03T18:41:07.230,4,,"<p>The red LED on my Pi Camera is not turning off. Does this mean the camera is still on even after the <code>camera.stop_preview()</code> command is executed?</p>

<pre class=""lang-python prettyprint-override""><code>def setup_camera():
    camera = picamera.PiCamera()
    camera.resolution = (700,780)
    camera.preview_fullscreen = False
    camera.preview_window = (0, 0, 700, 780)
    camera.start_preview()
    time.sleep(5)
    camera.stop_preview()
    return;

setup_camera()
</code></pre>
"
53146,1,2016-08-04T21:39:48.660,0,917,11827,,2016-08-13T11:19:42.747,2016-08-13T11:19:42.747,0,,"<p>I'm looking for something like picamera python library, for USB webcams.
Is there a python library that allows for image capture, and streaming for USB web-cameras?</p>
"
53195,1,2016-08-05T15:43:08.417,0,220,41423,,2016-08-09T01:35:03.200,2017-04-13T12:56:25.647,10,,"<p><strong>Device</strong> : <em>Raspberry-Pi 2 Model B</em></p>

<p>I upgraded from <strong>Wheezy 7.11</strong> to <strong>Jessie 8.0</strong></p>

<p>I upgraded using :</p>

<pre><code>apt-get update
apt-get upgrade
apt-get dist-upgrade
</code></pre>

<p>I am connected to my <code>eth0</code> (Wired LAN) when I was upgraded the distribution (<em>Wheezy</em> -> <em>Jessie</em>)</p>

<p>But once I had Jessie installed the same <code>eth0</code> interface on which I was connected to the Internet started giving this Error:</p>

<pre><code>ping www.google.de
connect: Network is unreachable
</code></pre>

<p>I have not configured anything new in my <code>/etc/network/interface</code> files which I have have kept to the default in Jessie as mentioned in the this <a href=""https://raspberrypi.stackexchange.com/questions/37920/how-do-i-set-up-networking-wifi-static-ip?noredirect=1&amp;lq=1"">Thread on Raspberry Pi StackExchange</a></p>

<p>Here is my <code>/etc/network/interface</code> file:</p>

<p><pre><code>
   # interfaces(5) file used by ifup(8) and ifdown(8)</p>

<p># Please note that this file is written to be used with dhcpcd
   # For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'</p>

<p># Include files from /etc/network/interfaces.d:
   source-directory /etc/network/interfaces.d</p>

<p>auto lo
   iface lo inet loopback</p>

<p>iface eth0 inet manual</p>

<p>allow-hotplug wlan0
   iface wlan0 inet manual
     wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf</p>

<p>allow-hotplug wlan1
   iface wlan1 inet manual
     wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf</p>

<p></pre></code></p>

<h2>Acquiring IPv4 on Pi</h2>

<p>I used the following options:</p>

<pre><code> sudo ifup eth0
</code></pre>

<p>and also </p>

<pre><code> sudo dhclient -v eth0
</code></pre>

<p>I get the IPv4 address which I can see from <code>ifconfig eth0</code></p>

<p><pre><code>
eth0      Link encap:Ethernet  HWaddr aa:bb:cc:dd:ee:ff<br>
          <strong>inet addr:10.10.155.187  Bcast:10.10.155.255  Mask:255.255.255.0</strong>
          inet6 addr: fe80::aabb:ccff:fedd:eeff/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:5390 errors:0 dropped:344 overruns:0 frame:0
          TX packets:100 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:1613922 (1.5 MiB)  TX bytes:9856 (9.6 KiB)
</pre></code></p>

<p>I can ping other network devices from my Pi but I cannot connect to the Internet. Why?</p>
"
53387,1,2016-08-11T08:52:35.127,0,2856,51791,,2018-07-24T07:48:15.853,2016-08-11T11:12:02.747,0,,"<p>Im trying to change the i2c sda1 and slc1 Pins from Pin 3 / 5 to Pin 19 / 21
I want to connect a DS3231 HW Clock to such Pins, and 3 / 5 are already used by other things. </p>

<p>I configured:</p>

<pre><code># cat /boot/config.txt
[...]
dtoverlay=i2c-gpio,i2c_gpio_sda=19,i2c_gpio_scl=21
</code></pre>

<p>And rebooted the device, but the pins are still in original configuration:</p>

<pre><code># gpio readall
+-----+-----+---------+------+---+---Pi 2---+---+------+---------+-----+-----+
| BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |
+-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+
|     |     |    3.3v |      |   |  1 || 2  |   |      | 5v      |     |     |
|   2 |   8 |   SDA.1 | ALT0 | 1 |  3 || 4  |   |      | 5V      |     |     |
|   3 |   9 |   SCL.1 | ALT0 | 1 |  5 || 6  |   |      | 0v      |     |     |
|   4 |   7 | GPIO. 7 |  OUT | 1 |  7 || 8  | 1 | ALT0 | TxD     | 15  | 14  |
|     |     |      0v |      |   |  9 || 10 | 1 | ALT0 | RxD     | 16  | 15  |
|  17 |   0 | GPIO. 0 |   IN | 0 | 11 || 12 | 0 | IN   | GPIO. 1 | 1   | 18  |
|  27 |   2 | GPIO. 2 |   IN | 0 | 13 || 14 |   |      | 0v      |     |     |
|  22 |   3 | GPIO. 3 |   IN | 0 | 15 || 16 | 0 | IN   | GPIO. 4 | 4   | 23  |
|     |     |    3.3v |      |   | 17 || 18 | 0 | IN   | GPIO. 5 | 5   | 24  |
|  10 |  12 |    MOSI |   IN | 1 | 19 || 20 |   |      | 0v      |     |     |
|   9 |  13 |    MISO |   IN | 1 | 21 || 22 | 0 | IN   | GPIO. 6 | 6   | 25  |
|  11 |  14 |    SCLK |   IN | 0 | 23 || 24 | 1 | IN   | CE0     | 10  | 8   |
|     |     |      0v |      |   | 25 || 26 | 1 | IN   | CE1     | 11  | 7   |
|   0 |  30 |   SDA.0 |   IN | 1 | 27 || 28 | 1 | IN   | SCL.0   | 31  | 1   |
|   5 |  21 | GPIO.21 |   IN | 1 | 29 || 30 |   |      | 0v      |     |     |
|   6 |  22 | GPIO.22 |   IN | 1 | 31 || 32 | 0 | IN   | GPIO.26 | 26  | 12  |
|  13 |  23 | GPIO.23 |   IN | 0 | 33 || 34 |   |      | 0v      |     |     |
|  19 |  24 | GPIO.24 |   IN | 0 | 35 || 36 | 0 | IN   | GPIO.27 | 27  | 16  |
|  26 |  25 | GPIO.25 |   IN | 0 | 37 || 38 | 0 | IN   | GPIO.28 | 28  | 20  |
|     |     |      0v |      |   | 39 || 40 | 0 | IN   | GPIO.29 | 29  | 21  |
+-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+
| BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |
+-----+-----+---------+------+---+---Pi 2---+---+------+---------+-----+-----+
</code></pre>

<p>Any ideas what i have to doto get this work?</p>

<p>Model is: Raspberry Pi 2 Model B.</p>

<p>EDIT:
Bus was created:</p>

<pre><code># ls -l /dev/i2*
crw-rw---- 1 root i2c 89, 1 Aug 10 15:41 /dev/i2c-1
crw-rw---- 1 root i2c 89, 3 Aug 10 15:41 /dev/i2c-3
</code></pre>

<p>But the device does not appear:</p>

<pre><code># i2cdetect -y 3
0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- --
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
70: -- -- -- -- -- -- -- --
</code></pre>

<p>Enabled internal pull-ups:</p>

<pre><code>  sudo pigpiod
  pigs pud 12 u
  pigs pud 13 u
</code></pre>

<p>But still no luck. When connected to pins 1-5, the hwclocks shows up fine:</p>

<pre><code># i2cdetect -y 1
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- --
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
60: -- -- -- -- -- -- -- -- 68 -- -- -- -- -- -- --
70: -- -- -- -- -- -- -- --
</code></pre>
"
53393,1,2016-08-11T12:04:17.683,1,7129,51797,,2017-05-17T21:37:49.383,2016-08-27T06:43:19.073,2,,"<p>Is there any way to have pulseaudio 6.0 or above working on raspbian system? The thing is that last jessie version comes with pulseaudio 5.0 and this version does not support HSP/HFP bluetooth profiles, so i need a stable version of pulseaudio 6.0 or above to have my bluetooth headset working both speaker and microphone.</p>

<p>Thanks</p>
"
53408,1,2016-08-11T20:41:54.383,12,62156,51824,,2019-01-11T11:33:51.097,,0,,"<p>I have followed the following tutorial (<a href=""http://mygeeks014.blogspot.nl/2015/01/audio-streaming-to-bluetooth-speaker.html"" rel=""noreferrer"">http://mygeeks014.blogspot.nl/2015/01/audio-streaming-to-bluetooth-speaker.html</a>) to connect a Bluetooth speaker to my Raspberry Pi. Everything works as it's supposed to, but the speaker will not automatically reconnect when the Raspberry gets restarted or the speaker gets turned on/off. Right now I manually reconnect the speaker via the Raspbian GUI, but I wonder if there's a simple solution to reconnect the speaker via the CLI. I will then be able to write a simple CRON to reconnect the speaker if it's not connected yet. </p>
"
53436,1,2016-08-12T16:14:57.913,0,356,48994,,2016-08-13T00:26:46.457,2016-08-13T00:26:46.457,0,,"<p>What I want to do is that for a set number of locations of my choosing, I would like to provide a list of WiFi ID's and corresponding Passwords that my raspberry pi 3 can cycle through in an attempt to connect to detected wifi routers until a connection has been established upon boot. Is there any way to do this? Would it be possible for even open wifi routers such as coffee shops or school campuses? Thank you and I greatly appreciate your guys' input, thoughts, and advice. </p>
"
53490,1,2016-08-14T02:46:38.637,1,576,50038,,2016-08-22T19:35:19.590,2016-08-22T19:35:19.590,0,,"<p>Is there any way to reconfigure default Ethernet settings on Raspberry Pi 3 with Win 10 IoT? I managed to get it working with WiFi and it does connect with my PC over Ethernet cable, but still I would like static address possibly etc.</p>
"
53528,1,2016-08-15T08:45:50.387,2,3198,51966,,2018-11-14T10:24:52.503,2016-10-06T08:38:41.217,3,,"<p>I want generate many 40khz square wave on GPIO pin by simulink but when I try generate more than 10khz is oscillascope not display accurately. 
I must fix this problem how ? I think supported language on simulink not appropriate with rasp or sample time ...but I not know solve.</p>

<p>I pursuring a project about acoustic levitation, using  many ultrasonic sensor to lift the object in the specific medium. I must generate  phase array to create a focal point that where can lift object. Ultrasound I using is MA40S4S murata, to it operate I must generate a 40khz square wave. Beside that, to create a phased array is that I must caculate delay time from each ultrasound to focal point. And my main task now, I must generate 25 of 40khz square wave with each wave have a delay time differently as the figure following. Because of  caculatation of time delay very complex so I choose matlab to do it and I use matlab with raspberry pi to generate waves, but I only generated 20khz. Finally, I tried using python to programming. but I not sure whether your library can support 25 pin GPIO to I can generate 25 of 40 khz square wave. please help me, my  english not good, sympathy for me.
<a href=""https://i.stack.imgur.com/Iy5Af.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Iy5Af.png"" alt=""enter image description here""></a></p>
"
53854,1,2016-08-23T11:05:28.603,8,17132,52338,,2017-11-01T16:14:52.683,2017-02-24T07:20:04.640,0,,"<p>After many hours of fruitless searching and reading, I still didn't have a complete understanding of how and why to output specific frequencies from the hardware PWM pin on the RPi without using someone else's 'blackbox'.</p>

<p>There seems to be quite a bit of either inaccurate or incomplete information on the specifics, as well as the various terms used - 'clock divider', 'duty cycle', 'PWM range' and the PWM data itself, and how they all relate together to output a specific frequency - in my case to drive specific audio frequencies out of a piezo sounder.</p>
"
53916,1,2016-07-23T00:14:13.637,0,1551,,Mason Younger,2020-12-31T08:02:40.270,2016-11-15T19:29:37.277,0,,"<p>So I set uncommitted over scan in the config.txt file like I found on Google, but still didn't fix it. </p>

<p>How do I get all of my screen to display? It's a 7"" screen.  I had a 2.8"" display... used the ads fruit easy install for that one. Did it change something else somewhere?</p>
"
53975,1,2016-08-25T14:32:06.550,5,2951,29103,,2016-08-25T19:40:30.777,2017-04-13T12:59:01.953,1,,"<p>Is there any way to configure the Pi3's audio jack to automatically produce balanced mono output? i.e. act as a ""balanced mono jack"" <a href=""https://sound.stackexchange.com/a/26254"">as described here</a>, where the regular sound wave is on one channel, and an equal-but-opposite signal is on the other channel?</p>

<p>I'm currently using <a href=""https://www.adafruit.com/product/2130"" rel=""nofollow noreferrer"">this mono amplifier</a> to power a small speaker from the Pi. Since it's mono, I have its ""In+"" pin wired to the Pi's right audio channel, and I leave the left channel wire disconnected. However, I'm experiencing a lot of ground noise. Even with no sound actively being played, the speaker emit what seems like white noise, which seems to increase with pops and periodic pulses when the Pi is under load.</p>

<p>The amplifier supports a ""In-"" pin for cancelling out this noise by using an inverted signal, so I'm trying to see if I can convert the jack's output to produce this signal. However, I'm not sure how to do that, short of creating some sort of middleware audio system that accepts normal dual-channel wav data, merges into one channel, then produces the inverted signal and places that on the opposite channel, and then sends that to the actual sound server to play.</p>

<p>Has this been done before? Are there easier ways to reduce ground noise on the speaker?</p>

<p>Edit: A user asked <a href=""http://www.spinics.net/linux/fedora/alsa-user/msg13781.html"" rel=""nofollow noreferrer"">a similar question</a>, but involving input, with converting an unbalanced stereo input to a balanced mono input, and was presented with a potential solution through an ALSA configuration. I'm not well-versed in ALSA configs, but would something similar be possible with output?</p>
"
54058,1,2016-08-26T17:38:01.993,0,52,52528,,2016-08-26T18:03:48.830,2016-08-26T18:03:48.830,2,,"<p>I just started my developments with wiring pi but i'm facing some problems with method not always being executed on Raspberry.</p>

<pre><code>    // LED1
    SoftPwm.softPwmCreate(0, 0, 100); // RED
    SoftPwm.softPwmCreate(1, 0, 100); // GREEN
    SoftPwm.softPwmCreate(2, 0, 100); // BLUE

    // LED2
    SoftPwm.softPwmCreate(3, 0, 100); // RED
    SoftPwm.softPwmCreate(4, 0, 100); // GREEN
    SoftPwm.softPwmCreate(5, 0, 100); // BLUE

    for (int i = 0; i &lt; 10; i++) {
        SoftPwm.softPwmWrite(0, 0);
        SoftPwm.softPwmWrite(1, 100);
        SoftPwm.softPwmWrite(2, 0);
        SoftPwm.softPwmWrite(3, 0);
        SoftPwm.softPwmWrite(4, 100);
        SoftPwm.softPwmWrite(5, 0);
        Thread.sleep(2000);
        SoftPwm.softPwmWrite(0, 0);
        SoftPwm.softPwmWrite(1, 0);
        SoftPwm.softPwmWrite(2, 0);
        SoftPwm.softPwmWrite(3, 0);
        SoftPwm.softPwmWrite(4, 0);
        SoftPwm.softPwmWrite(5, 0);
        Thread.sleep(2000); //THIS WAS MISSING
    }

    Thread.sleep(2000);

    SoftPwm.softPwmWrite(0, 100);
    SoftPwm.softPwmWrite(1, 0);
    SoftPwm.softPwmWrite(2, 0);
    SoftPwm.softPwmWrite(3, 100);
    SoftPwm.softPwmWrite(4, 0);
    SoftPwm.softPwmWrite(5, 0);

    Thread.sleep(2000);

    SoftPwm.softPwmWrite(0, 0);
    SoftPwm.softPwmWrite(1, 0);
    SoftPwm.softPwmWrite(2, 0);
    SoftPwm.softPwmWrite(3, 0);
    SoftPwm.softPwmWrite(4, 0);
    SoftPwm.softPwmWrite(5, 0);
</code></pre>

<p>This is nothing complex but in the for loop the led never turns off, and sometimes the last piece ( turn off the leds) doesn't happen.</p>

<p>Do you have any idea why?
I have an Pl9823-F8 led </p>
"
54143,1,2016-08-28T20:12:06.523,1,609,26189,,2017-08-21T00:20:59.257,2017-05-12T20:23:14.973,0,,"<p>I'm looking for an explanation and/or a solution for resolving an issue when connecting to the Pi by its serial console connection:  After using the <a href=""http://man7.org/linux/man-pages/man1/reset.1.html"" rel=""nofollow noreferrer"">""reset"" command</a> at any point during a session - a subsequent log-off causes the entire system to hang (at least systemd).</p>

<p>I can reproduce this on multiple units - including a Pi 2 and a Pi 3.  I'm using a clean install of <code>2016-05-27-raspbian-jessie-lite.img</code> - and can reproduce without any updates, as well as with all updates applied.</p>

<p>I was / still am suspecting a systemd-related issue here.  I've tried repeating the same with both Debian Jessie and CentOS 7 within VirtualBox, and have not been able to reproduce - so this appears to be Raspbian-specific.</p>

<p>Can anyone else at least reproduce the following?</p>

<ol>
<li>Use of a Raspberry Pi 2 or 3 Model B, using the May 2016 version of Raspbian Jessie Lite.</li>
<li>The serial console enabled and connected, as per <a href=""http://elinux.org/RPi_Serial_Connection"" rel=""nofollow noreferrer"">http://elinux.org/RPi_Serial_Connection</a>.

<ul>
<li>Note that the Pi 3 requires adding <code>enable_uart=1</code> at the end of <code>/boot/config.txt</code>.</li>
</ul></li>
<li><p>Using a separate SSH or tty0 (keyboard/monitor) console, validate that any or all of the following complete successfully and immediately:</p>

<pre><code>systemctl status --no-pager
systemctl --no-pager
systemctl status serial-getty@ttyS0.service
</code></pre>

<p>Also observe using <code>ps -Afl|grep agetty</code>, that the following is running on <code>ttyS0</code>:</p>

<pre><code>/sbin/agetty --keep-baud 115200 38400 9600 ttyS0 vt102
</code></pre></li>
<li><p>Using the serial console (ttyS0):</p>

<ol>
<li>Log-in and out (<code>exit</code>) repeatedly, observing no changes in the above.</li>
<li>Log-in, then issue the <code>reset</code> command.  Observe still no changes in system status / operation.</li>
<li><code>exit</code>  Observe that the command hangs indefinitely and never returns.</li>
</ol></li>
<li><p>Using a separate SSH or tty0 console (still open from above), attempt to repeat any of the above systemctl status commands.  Observe that all queries to systemctl now fail after timing out:</p>

<pre><code>pi@raspberrypi:~ $ systemctl status --no-pager
Failed to read server status: Connection timed out
pi@raspberrypi:~ $ systemctl --no-pager
Failed to list units: Connection timed out
pi@raspberrypi:~ $ systemctl status serial-getty@ttyS0.service
Failed to get properties: Connection timed out
</code></pre>

<p>Also observe that any new login attempts also time out.</p></li>
</ol>

<p>At this point, there is no agetty process left running on ttyS0, which explains why the serial console is now left unusable (short of a reboot).</p>

<p><code>/var/log/syslog</code> shows a previous successful respawn of the Serial Getty service - but after the after the last reset/exit, there are no additional logs.  It is almost as if something in systemd has hung, or is left unaware that the process has stopped:</p>

<pre><code>Aug 25 05:17:48 raspberrypi systemd[1]: serial-getty@ttyS0.service holdoff time over, scheduling restart.
Aug 25 05:17:48 raspberrypi systemd[1]: Stopping Serial Getty on ttyS0...
Aug 25 05:17:48 raspberrypi systemd[1]: Starting Serial Getty on ttyS0...
Aug 25 05:17:48 raspberrypi systemd[1]: Started Serial Getty on ttyS0.
Aug 25 05:17:53 raspberrypi systemd[1]: serial-getty@ttyS0.service holdoff time over, scheduling restart.
Aug 25 05:17:53 raspberrypi systemd[1]: Stopping Serial Getty on ttyS0...
Aug 25 05:17:53 raspberrypi systemd[1]: Starting Serial Getty on ttyS0...
Aug 25 05:17:53 raspberrypi systemd[1]: Started Serial Getty on ttyS0.
</code></pre>

<p><code>/var/log/auth.log</code> does report that the session has successfully closed:</p>

<pre><code>Aug 25 05:17:46 raspberrypi login[624]: pam_unix(login:session): session opened for user pi by LOGIN(uid=0)
Aug 25 05:17:48 raspberrypi login[624]: pam_unix(login:session): session closed for user pi
Aug 25 05:17:52 raspberrypi login[686]: pam_unix(login:session): session opened for user pi by LOGIN(uid=0)
Aug 25 05:17:53 raspberrypi login[686]: pam_unix(login:session): session closed for user pi
Aug 25 05:17:57 raspberrypi login[710]: pam_unix(login:session): session opened for user pi by LOGIN(uid=0)
Aug 25 05:18:01 raspberrypi login[710]: pam_unix(login:session): session closed for user pi
</code></pre>

<p><code>sudo reboot</code> doesn't even complete at this point.  The system hangs for a number of seconds, and eventually returns:</p>

<pre><code>Failed to start reboot.target: Connection timed out

Broadcast message from pi@raspberrypi on pts/0 (Thu 2016-08-25 05:22:34 UTC):

The system is going down for reboot NOW!
</code></pre>

<p>... but the system never actually halts, nor does it restart.  A hard reset using the power plug seems to be the only successful method of recovery at this point.  (Having done this repeatedly, I've managed to corrupt the filesystem beyond simple repairs by fsck, and have needed to re-image the SD card at least once.)</p>

<p><code>reset</code> is documented at <a href=""http://man7.org/linux/man-pages/man1/reset.1.html"" rel=""nofollow noreferrer"">http://man7.org/linux/man-pages/man1/reset.1.html</a> as:</p>

<blockquote>
  <p>reset calls tput(1) with the clear, rmacs, rmm, rmul, rs1, rs2, and rs3 arguments.</p>
  
  <p>...</p>
  
  <p>For good measure, stty(1) is called with the sane argument in an attempt to get cooked mode back.</p>
</blockquote>

<p>So if I run the following in place of <code>reset</code>, I appear to receive the same functionality, but do <em>not</em> hang the system at logout:</p>

<pre><code>tput clear rmacs rmm rmu1 rs1 rs2 rs3 ; stty sane
</code></pre>

<p>For reference:</p>

<pre><code>pi@raspberrypi:~ $ uname -a
Linux raspberrypi 4.4.11-v7+ #888 SMP Mon May 23 20:10:33 BST 2016 armv7l GNU/Linux

pi@raspberrypi:~ $ systemd --version
systemd 215
+PAM +AUDIT +SELINUX +IMA +SYSVINIT +LIBCRYPTSETUP +GCRYPT +ACL +XZ -SECCOMP -APPARMOR
</code></pre>

<p>... and as of <s>2016-10-07</s> <s>2017-02-07</s> 2017-05-12 after applying all current updates, the problem still remains:</p>

<pre><code>pi@raspberrypi:~ $ uname -a
Linux raspberrypi 4.9.24-v7+ #993 SMP Wed Apr 26 18:01:23 BST 2017 armv7l GNU/Linux
</code></pre>

<p>The output of <code>systemd --version</code> did not change, but <code>/var/log/apt/history.log</code> includes <code>systemd-sysv:armhf (215-17+deb8u4, 215-17+deb8u5)</code> (now at <code>215-17+deb8u7</code>).</p>

<p>Why is this happening, and how can this be fixed?  Sure, I could just refrain from running <code>reset</code> from a serial console - but I don't see any reason why this should be causing a problem, and it is rather disastrous to the system when executed (as demonstrated above).  I'm not exactly sure what the next debugging steps would be for this, but will certainly provide any additional outputs or test results that may be requested.</p>

<p>Edit (2016-09-04):  This has now also been reported as a Raspbian bug at <a href=""https://bugs.launchpad.net/raspbian/+bug/1620117"" rel=""nofollow noreferrer"">https://bugs.launchpad.net/raspbian/+bug/1620117</a>.</p>
"
54199,1,2016-08-29T20:19:18.913,4,11846,52670,,2018-09-11T11:25:10.777,2016-08-30T21:20:42.437,2,,"<p>I have a raspberry pi 3 with usb dac for plug my microphone and I have a usb speacker too.</p>

<p>I installed on my pi, mopidy and other litle project.</p>

<p>I modified my <code>~/.asoundsrc</code> for</p>

<pre><code>pcm.!default {
  type asym
   playback.pcm {
     type plug
     slave.pcm ""hw:1,0""
   }
   capture.pcm {
     type plug
     slave.pcm ""hw:0,0""
   }
}
</code></pre>

<p>Everything work and when I reboot I have a new configuration added in the end of my <code>.asoundrc</code> file</p>

<pre><code>pcm.!default {
      type asym
       playback.pcm {
         type plug
         slave.pcm ""hw:1,0""
       }
       capture.pcm {
         type plug
         slave.pcm ""hw:0,0""
       }
    }



    pcm.!default {
            type hw
            card 2
    }

    ctl.!default {
            type hw
            card 2
    }
</code></pre>

<p>With this modification, my litle project doesn't work, I must to delete </p>

<pre><code>pcm.!default {
        type hw
        card 2
}

ctl.!default {
        type hw
        card 2
}
</code></pre>

<p>Do you know why, this configuration is added every reboot ?</p>

<p>Maybe this, can you help you to help me :)</p>

<pre><code>cat /proc/asound/modules
   0 snd_usb_audio
   1 snd_usb_audio
   2 snd_bcm2835
</code></pre>

<p>Thanks</p>
"
54263,1,2016-08-30T23:56:23.447,0,179,52735,,2016-08-31T19:45:01.100,,0,,"<p>I share a backup generator with several houses on a campus.  I would like to install an indicator light in each home to indicate when we are on backup power.  My thought is to install a RasPi at the generator to signal when the generator is on-line.  Is there a way to use a Wi-Fi enabled relay to turn on lights (maybe with a ESP8266?), or would I need a RasPi in each home?  </p>

<p>I'm new to RasPi and would appreciate any help!</p>
"
54320,1,2016-09-01T05:22:13.743,2,3939,49991,,2017-05-01T14:01:38.703,,1,,"<p>is it possible to add this speaker to Raspberry pi 3 via GPIO to get indicated by beep on error.</p>

<p><a href=""https://i.stack.imgur.com/WPksU.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WPksU.jpg"" alt=""enter image description here""></a></p>

<p>How should I plug it in where on GPIO ?</p>
"
54514,1,2016-09-05T19:12:50.373,8,8756,38148,,2016-10-18T02:17:28.017,2016-09-11T10:36:47.207,3,,"<p>I am testing a sensor attached to the GPIO in raspberry using python 3.5. The idea is something similar to this <a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=141520&amp;p=937599"" rel=""noreferrer"">link</a>.</p>

<p>My code is:</p>

<pre><code>gpio.add_event_detect(4, gpio.RISING, callback=lambda x: self.motion_sensor(message_manager_f), bouncetime=500)

def motion_sensor(self, message_manager_f):
            asyncio.async(message_manager_f(""Motion detected!""))
</code></pre>

<p>Where <code>message_manager_f</code> is a callback to a function that process the string message. This callback can have a complex operation (i.e. send to a server an alert) and therefore I am trying to perform an asyncio operation. </p>

<p>If I run this code, when the sensor detects a presence, I have this error:</p>

<pre><code>RuntimeError: There is no current event loop in thread 'Dummy-4'.
</code></pre>

<p>If I remove the asyncio operator, and for example I only print the message to console, it works fine as the example of the previous link. Of course, I have tried to search for this error in the web (python is not my strongest language) but nothing that helps me to explain this error (only a few entries with this issue). I am wandering if maybe mixing <code>gpio.add_event_detect</code> with a function that uses <code>asyncio</code> is not possible, but I have no idea where to check it. </p>

<p>Is it is possible to achieve what I want? If it is, can somebody explain what really means the obtained error and how to solve it?</p>

<p>The complete code is available in this <a href=""https://github.com/jorgehortelano/RedOwl/blob/master/RedOwl/sensors/sensors.py"" rel=""noreferrer"">link</a> if somebody thinks that the error can be elsewhere. </p>

<p><strong>--EDIT--</strong></p>

<p>Seems that same behavior is obtained with the next code:</p>

<pre><code>self._message_manager = message_manager_f
gpio.add_event_detect(4, gpio.RISING, self.motion_sensor, bouncetime=500)

def motion_sensor(self):
    asyncio.async(self._message_manager(""Motion detected!""))
</code></pre>

<p>Obviously, is related to the <code>asyncio.async</code>.</p>
"
54760,1,2016-09-11T01:51:36.587,0,4413,31426,,2017-09-20T08:35:18.960,2017-05-23T12:37:05.773,7,,"<p>I picked up an <a href=""http://www.mouser.com/search/ProductDetail.aspx?r=485-1085"" rel=""nofollow noreferrer"">ADS1115</a> and some <a href=""http://www.mouser.com/search/ProductDetail.aspx?r=956-32208550"" rel=""nofollow noreferrer"">PT100 sensors</a> to do some high temperature readings. I'm a noob when it comes to electronics, so I'm looking for some guidance before I do something stupid :D</p>

<p>I thought I had this figured out, but now I'm worried that I need a constant current source to set this up (I just read about them a few minutes ago, so I'm not sure). My initial plan was to run 1 wire to one end of the sensor, and two wires off the other to A0 and A1 on the ADS1115 to take a differential reading in order to account for resistance down the wires. But I think I need to control for the amperage that goes across the PT100. I think I had planned to do a circuit like <a href=""https://stackoverflow.com/a/35302628/435460"">in this other SO answer</a>, but I'm not sure if that's what I actually need.</p>

<p>Any guidance is very much appreciated.</p>

<p><strong>edit</strong> I also keep reading about bridge configurations, but I'm not sure exactly how that fits in :/</p>
"
54953,1,2016-09-14T19:59:33.853,1,100,35827,,2016-09-14T20:22:23.353,,1,,"<p>Will a device, e.g. this <a href=""https://shop.pimoroni.com/products/slice-of-radio-wireless-rf-transciever-for-the-raspberry-pi"" rel=""nofollow"">transciever</a>, that is designed to be placed on the 2x13 pins of a Model A Raspberry also work if used with a 40pin Raspberry, i.e. are the pins that same?</p>

<p>When viewing some pin diagrams of the two it looks like there are some differences but in pther places it says they are compatible. </p>
"
55026,1,2016-09-16T05:57:36.000,1,3495,39607,,2019-04-05T20:19:43.917,2017-05-23T12:37:05.627,6,,"<p>Cross posting here, since the question suits at both sites - <a href=""https://stackoverflow.com/questions/39524234/bug-with-writing-to-file-in-linux-sys-class-gpio"">https://stackoverflow.com/questions/39524234/bug-with-writing-to-file-in-linux-sys-class-gpio</a></p>

<hr>

<p>I'm having the strangest bug I've ever seen with a linux system right now and there seem to be only two possible explanations for it -</p>

<ul>
<li>Either appending sudo makes file writes instant</li>
<li>Or appending sudo produces a short delay in executing statements</li>
<li>Or I've got no clue what's happening with my program</li>
</ul>

<hr>

<p>Well let me give you some background. I'm currently writing a c++ program for raspberry pi gpio manipulation. There are no visible error in the program as far as I know &amp; since it works with sudo successfully and with delays successfully too. So here's how rpi's gpio work - </p>

<blockquote>
  <ul>
  <li><p>First you've to export one, to reserve it for manipulation, it will create a new directory as <code>gpio+number</code> with several files in it.</p>
  
  <p><code>echo 17 &gt; /sys/class/gpio/export</code></p></li>
  <li><p>Then set it's direction(in means read and out means write)</p>
  
  <p><code>echo ""write"" &gt; /sys/class/gpio/gpio17/direction</code></p></li>
  <li><p>Then write the value (0 or 1 for off and on)</p>
  
  <p><code>echo 1 &gt; /sys/class/gpio/gpio17/value</code></p></li>
  <li><p>At the end, unexport it back, the directory will get deleted.</p>
  
  <p><code>echo 17 &gt; /sys/class/gpio/unexport</code></p></li>
  </ul>
</blockquote>

<p>It doesn't matter whether you do this through bash commands or through c/c++ or any other language IO, since in unix these are just files and you just need to read/write to them. Everything works fine till now. I've tested this manually and it works, so my manual test passes.</p>

<hr>

<p>Now I've a simple test written for my program which looks like this - </p>

<pre><code>TEST(LEDWrites, LedDevice)
{
    Led led1(17, ""MyLED"");
    // auto b = sleep(1);
    EXPECT_EQ(true, led1.on());
}
</code></pre>

<p>The Led class <code>constructor</code> does the export part - <code>echo 17 &gt; /sys/class/gpio/export</code>, while the <code>.on()</code> call sets the direction - <code>echo ""write"" &gt; /sys/class/gpio/gpio17/direction</code> and outputs the value as well - <code>echo 1 &gt; /sys/class/gpio/gpio17/value</code>. Forget about unexport here since it is handled by destructor and plays no role here.</p>

<p>If you're curious, these functions handle I/O like this -</p>

<pre><code>{
    const std::string direction = _dir ? ""out"" : ""in"";

    const std::string path = GPIO_PATH + ""/gpio"" + std::to_string(powerPin) + ""/direction"";

    std::ofstream dirStream(path.c_str(), std::ofstream::trunc);
    if (dirStream) {
        dirStream &lt;&lt; direction;
    } else {
        // LOG error here
        return false;
    }
    return true;
}
</code></pre>

<p>means basic c++ file/io. Now let me explain the bug.</p>

<p>First, here are 3 runs of same test - </p>

<p><strong><code>Normal run</code></strong> <strong>FAILS</strong> </p>

<pre><code>[isaac@alarmpi build]$ ./test/testexe
Running main() from gtest_main.cc
[==========] Running 2 tests from 2 test cases.
[----------] Global test environment set-up.
[----------] 1 test from LEDConstruction
[ RUN      ] LEDConstruction.LedDevice
[       OK ] LEDConstruction.LedDevice (1 ms)
[----------] 1 test from LEDConstruction (1 ms total)

[----------] 1 test from LEDWrites
[ RUN      ] LEDWrites.LedDevice
../test/test.cpp:20: Failure
Value of: led1.on()
  Actual: false
Expected: true
[  FAILED  ] LEDWrites.LedDevice (2 ms)
[----------] 1 test from LEDWrites (3 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 2 test cases ran. (6 ms total)
[  PASSED  ] 1 test.
[  FAILED  ] 1 test, listed below:
[  FAILED  ] LEDWrites.LedDevice

 1 FAILED TEST
</code></pre>

<p><strong><code>run with sudo</code></strong> <strong>PASSES</strong> </p>

<pre><code>[isaac@alarmpi build]$ sudo ./test/testexe
[sudo] password for isaac: 
Running main() from gtest_main.cc
[==========] Running 2 tests from 2 test cases.
[----------] Global test environment set-up.
[----------] 1 test from LEDConstruction
[ RUN      ] LEDConstruction.LedDevice
[       OK ] LEDConstruction.LedDevice (1 ms)
[----------] 1 test from LEDConstruction (2 ms total)

[----------] 1 test from LEDWrites
[ RUN      ] LEDWrites.LedDevice
[       OK ] LEDWrites.LedDevice (2 ms)
[----------] 1 test from LEDWrites (2 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 2 test cases ran. (5 ms total)
[  PASSED  ] 2 tests.
</code></pre>

<p><strong><code>wtf delay run</code></strong>  <strong>PASSES</strong>  has uncommented <code>// auto b = sleep(1);</code></p>

<pre><code>[isaac@alarmpi build]$ ./test/testexe
Running main() from gtest_main.cc
[==========] Running 2 tests from 2 test cases.
[----------] Global test environment set-up.
[----------] 1 test from LEDConstruction
[ RUN      ] LEDConstruction.LedDevice
[       OK ] LEDConstruction.LedDevice (1 ms)
[----------] 1 test from LEDConstruction (2 ms total)

[----------] 1 test from LEDWrites
[ RUN      ] LEDWrites.LedDevice
[       OK ] LEDWrites.LedDevice (1001 ms)
[----------] 1 test from LEDWrites (1003 ms total)

[----------] Global test environment tear-down
[==========] 2 tests from 2 test cases ran. (1005 ms total)
[  PASSED  ] 2 tests.
</code></pre>

<p>The only difference b/w delay and normal run is of single uncommented line - <code>// auto b = sleep(1);</code> Everything is same including device, directory structure, build conf and everything. <strong>The only things that explains this is linux might be creating that file and its friends sometimes later or it takes some time? and I call <code>.on()</code> before that.</strong> Well that could explain it...</p>

<p><strong>But then why does sudo invocation with no delay passes? Does it makes those writes faster/instant or does it puts the delay statement by itself?</strong> Is this the cause of some kind of buffering? Please say no :/</p>

<hr>

<p>If it matters, I'm using following dev rule for getting non sudo access to gpio directory - </p>

<pre><code>SUBSYSTEM==""gpio*"", PROGRAM=""/bin/sh -c 'chown -R root:gpio /sys/class/gpio &amp;&amp; chmod -R 770 /sys/class/gpio; chown -R root:gpio /sys/devices/virtual/gpio &amp;&amp; chmod -R 770 /sys/devices/virtual/gpio'""
</code></pre>

<hr>

<p><strong>Strace to the rescue</strong></p>

<hr>

<p>Let's see the execution of the failing build command - </p>

<pre><code>open(""/sys/class/gpio/export"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/unexport"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/export"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/gpio17/value"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = -1 EACCES (Permission denied)
open(""/sys/class/gpio/gpio17/direction"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = -1 EACCES (Permission denied)
open(""/sys/class/gpio/unexport"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
</code></pre>

<p><code>..., 0666) = -1 EACCES (Permission denied)</code> </p>

<p>Okaaay, here's something, that explains why it is passing with sudo. But why is it passing with delay? Let's check that too, </p>

<pre><code>open(""/sys/class/gpio/export"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/unexport"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/export"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/gpio17/value"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/gpio17/direction"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 4
open(""/sys/class/gpio/unexport"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
</code></pre>

<p>No wait, wtf? This means the permission denied must be for if files aren't created at that time. But how does using <code>sudo</code> solves that?</p>

<p>Here's relevant output for sudo -</p>

<pre><code>open(""/sys/class/gpio/export"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/unexport"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/export"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/gpio17/value"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
open(""/sys/class/gpio/gpio17/direction"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 4
open(""/sys/class/gpio/unexport"", O_WRONLY|O_CREAT|O_TRUNC|O_LARGEFILE, 0666) = 3
</code></pre>
"
55029,1,2016-09-16T08:06:52.880,1,2658,53561,,2016-09-16T10:51:41.730,2016-09-16T10:51:41.730,3,,"<p>I wrote some Python to read data from an SPI A/D converter <a href=""http://ww1.microchip.com/downloads/en/DeviceDoc/21298c.pdf"" rel=""nofollow"">MCP3208</a> using:</p>

<pre><code>dat = spi.xfer([0x06, 0x00, 0x00])
</code></pre>

<p>for the first channel. The variable <code>dat</code> contains the data which I need to shift and convert to voltage value. All OK so far.</p>

<p>Now I like to read not just a single sample, but say 1024 samples at once. I could achieve this by sending the above command in a <code>for</code> loop, but then the timing between samples is not really guaranteed.</p>

<p>I can not find a way to accomplish this in a single <code>xfer</code> command, because it seems that <code>xfer</code> keeps CS signal active during the transfer of bytes in the list above, no matter how many they are.</p>

<p>The CS behaviour I need would be like:</p>

<pre><code>CS: active active active *release* active active active *release* …
</code></pre>

<p>all in the <strong>same</strong> xfer command. </p>

<p>It seems that <code>xfer2</code> is not of much help here either, particularly since it also seems to have a <a href=""https://github.com/doceme/py-spidev/issues/35"" rel=""nofollow"">bug</a>. </p>

<p>any ideas?
:-)</p>
"
55157,1,2016-09-18T22:45:57.160,1,1916,52622,,2016-09-26T01:26:27.727,2016-09-19T08:11:58.780,7,,"<p>This is the code I used to test the LEDS on the GPIO. Every single LED worked, but the last LED, 4, wouldnt turn on. I have checked the wiring, The LED works, I even made sure the indents were in place.</p>

<pre class=""lang-py prettyprint-override""><code>import RPi.GPIO as GPIO

GPIO.setwarnings(False)

GPIO.setmode(GPIO.BCM)

GPIO.setup(25, GPIO.OUT)
GPIO.setup(7, GPIO.OUT)
GPIO.setup(8, GPIO.OUT)
GPIO.setup(24, GPIO.OUT)
GPIO.setup(23, GPIO.OUT)
GPIO.setup(18, GPIO.OUT)
GPIO.setup(15, GPIO.OUT)
GPIO.setup(14, GPIO.OUT)
GPIO.setup(9, GPIO.OUT)
GPIO.setup(10, GPIO.OUT)
GPIO.setup(22, GPIO.OUT)
GPIO.setup(17, GPIO.OUT)
GPIO.setup(4, GPIO.OUT)

GPIO.output(4, 1)
</code></pre>
"
55283,1,2016-09-21T01:32:49.630,0,1147,53498,,2016-09-21T21:30:03.597,,0,,"<p>I'm stuck on <a href=""http://derekmolloy.ie/kernel-gpio-programming-buttons-and-leds#Example_1_Button_Press_LED_Light_LKM"" rel=""nofollow"">example 1 from this tutorial</a>. I found the Raspberry Pi code for it <a href=""https://github.com/derekmolloy/exploringrpi/blob/master/chp16/gpio/gpio_test.c"" rel=""nofollow"">here</a>. I uncommented the <code>gpio_set_debounce</code> line and compiled the module, but my switch still bounces a ton, resulting in dozens of interrupt calls per switch press. I tried it with and without a pulldown resistor and I get the same result.</p>

<p>My kernel headers version is <code>linux-headers-4.4.13+</code>.</p>

<p>Can someone try this out and see if they get the same result on their Pi?</p>
"
55317,1,2016-09-21T17:13:13.367,0,1302,52613,,2016-09-22T20:31:35.240,,1,,"<p>I have connected Logitech C310 webcam on USB port and my speaker audio jack to the on board audio jack on my Rpi2. </p>

<p>Now i want my alsa to use usb webcam to record audio and play the sound through speaker using the audio jack. </p>

<p>Cards:</p>

<pre><code>$rpi2&gt; cat /proc/asound/cards

     0 [ALSA           ]: bcm2835 - bcm2835 ALSA
                          bcm2835 ALSA
     1 [U0x46d0x81b    ]: USB-Audio - USB Device 0x46d:0x81b
                          USB Device 0x46d:0x81b at usb-3f980000.usb-1.3, high speed
</code></pre>

<p>Please help me to set this up. </p>

<p>Thanks/Tanvir</p>
"
55366,1,2016-09-22T13:32:02.143,3,1953,53875,,2016-09-23T10:07:47.477,2017-04-13T12:56:25.953,12,,"<p>I apologize for the double post, but I asked this question earlier and somehow it does not appear under my user and I can't make any edit or comments to it:
<a href=""https://raspberrypi.stackexchange.com/questions/55344/trouble-with-uart-serial-communication-with-raspberry-pi-and-arduino-mega"">Trouble with UART Serial Communication with Raspberry Pi and Arduino Mega</a></p>

<p>I'm trying to get the Raspberry Pi to communicate with the arduino and have been following this guide : <a href=""https://oscarliang.com/raspberry-pi-and-arduino-connected-serial-gpio/"" rel=""nofollow noreferrer"">https://oscarliang.com/raspberry-pi-and-arduino-connected-serial-gpio/</a></p>

<p>I've followed the instructions for the disabling of getty and using minicom. I've also followed the code in the guide as follows:</p>

<pre><code>void setup() {
  Serial.begin(9600);
}

void loop() {
   if (Serial.available() &gt; 0) {
      int incoming = Serial.read();
      Serial.print(""character recieved: "");
      Serial.println(incoming, DEC);
  }
}
</code></pre>

<p>From what I understand, when I type a character into the Pi, it will be received by the Arduino and send the ASCII code back. When I uploaded it into the Arduino and booted up minicom without typing anything, there is already output being shown continuously every 1 second or so. When I type into the console it does work and show the corresponding ASCII code, but the arduino seems to be always receiving data. Is this supposed to be the case?</p>

<pre><code>character recieved: 1
character recieved: 1
character recieved: 0
character recieved: 0
character recieved: 0
character recieved: 0
character recieved: 0
character recieved: 2
character recieved: 3
character recieved: 81
character recieved: 3
character recieved: 3
character recieved: 46
character recieved: 32
character recieved: 65   &lt;&lt; when I typed a
</code></pre>

<p>Using Raspbian GNU/Linux 7 (wheezy) Version 7</p>

<p>uname -a : Linux raspberry pi 3.18.11+ #781 PREEMPT .. armv61 GNU/Linux</p>

<p>Edit:
I have checked /boot/cmdline and have commented out as per the guide</p>

<pre><code>dwc_otg.lpm_enable=0 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline rootwait 
</code></pre>

<p>Also, sudo grep -R serial /etc/systemd/system does not show anything. </p>

<p>Lastly, I've used a voltage level-shifter as the tutorial suggested, but still the garbage values persist.</p>

<p>Edit 2: I'm starting to think maybe the connections are not correct. Here is a picture of my level-shifter( oops realised I can't post more than 2 links)</p>

<p><a href=""https://i.stack.imgur.com/ZJBhE.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ZJBhE.jpg"" alt=""enter image description here""></a></p>

<p><strong>Top to Rasp pi (right to left):</strong></p>

<p>Green: Connected to Pin 1</p>

<p>Yellow: Connected to pin 8</p>

<p>Purple: Connected to pin 10</p>

<p>Blue: Connected to Pin 6</p>

<p><strong>Bottom to Arduino(right to left):</strong></p>

<p>Red: Connected to 5V</p>

<p>Yellow: to RX2 pin 17</p>

<p>White: to TX2 pin 16</p>

<p>Black: To GND</p>
"
55528,1,2016-09-26T12:04:29.790,0,75,36464,,2016-09-26T13:15:09.567,2016-09-26T12:08:22.443,3,,"<p>I am executing following code for SIM 900A GSM module.</p>

<pre><code>import serial

GPIO.setmode(GPIO.BOARD)    

port = serial.Serial(""/dev/ttyAMA0"", baudrate=9600, timeout=1)

port.flush()
</code></pre>

<p>When I run the code Raspberry Pi freezes sometime. And due to repeated reboots without shutting down properly, it is corrupting SD card. I am using RPi 2. Please let me know what the problem could be.</p>
"
55641,1,2016-09-28T13:49:22.803,0,215,38523,,2016-09-28T18:21:01.263,,0,,"<p>I've been looking at this tutorial: <a href=""http://www.cl.cam.ac.uk/projects/raspberrypi/tutorials/temperature/"" rel=""nofollow"">http://www.cl.cam.ac.uk/projects/raspberrypi/tutorials/temperature/</a></p>

<p>And I have some questions:</p>

<ol>
<li><p>Must we connect the data pin to GPIO4? Why not some other GPIO?</p></li>
<li><p>How does exactly the sensor work? I mean what is the signal that it sends through the DATA pin? Is it somehow unified for all temp sensors so the kernel can understand any of them?</p></li>
<li><p>Why do we have to put a resistor between the POWER and DATA pins?</p></li>
</ol>
"
55718,1,2016-09-30T04:13:35.943,0,2241,52085,,2018-09-28T15:00:51.290,2016-09-30T05:17:38.133,4,,"<p>I am using raspberry pi model 3.
I was exploring RPi.GPIO library and I realized that the <strong>code shown below works in python 3.4 but not in python 2.7</strong>. <em>The worst part is I am not getting any error messages when I run in python 2.7 which makes it difficult to trace the error.</em> I tried to search for support online, but couldn't get any decent resource.
Could anyone provide me a solution or resource to make this code work in python 2.7?</p>

<pre><code># LED Blinks (Python3)
# The code will turn ON LED for a second and turn OFF LED for a second in a infinite loop

import RPi.GPIO as GPIO
from time import sleep

GPIO.setmode(GPIO.BOARD)

GPIO.setup(12, GPIO.OUT)

try:
    while True:
        GPIO.output(12, 1)
        sleep(1)
        GPIO.output(12,0)
        sleep(1)

except KeyboardInterrupt:
    GPIO.cleanup()
</code></pre>
"
55741,1,2016-09-30T13:38:28.973,2,1166,54297,,2016-10-11T20:28:35.070,,0,,"<p>WOOHOO!  MY first official foray into micro controllers!</p>

<p>Its a lot of fun sofar but I am a bit stuck at the following:</p>

<p>I'd like to read the status of PINs configured as Output, in other words,
Did I set the pin to High or Low?  </p>

<p>I've built my own source in python 2.7 and used the examples I got from ControlEverything.com (bought the entire board from them).
I'm using smbus and in short I've set the entire Port-A bank to Output, then riased them to High.  I can see my LED turn on at this point.</p>

<pre><code>import smbus

bus = smbus.SMBus(1)

bus.write_byte_data(0x20, 0x00, 0x00) #set Port-A as output
bus.write_byte_data(0x20, 0x12, 0xFF) #set Port-A to High
#LED turns on

status = bus.read_byte_data(0x20,0x12) # read the bus I just set to 0XFF
print ""%s return value: %d""  %(""0x12"",status)
</code></pre>

<p>At this point I always get 0 as my return val, although my LED is burning brightly.</p>

<p>Am I reading the wrong register or is there more at play here?</p>
"
55823,1,2016-10-02T18:35:21.557,0,485,41701,,2017-07-18T22:37:02.803,,2,,"<p>Is there a new way to configure WiFi on Raspbian because since I upgraded to 4.4.13, my pi's WiFi broke.</p>

<pre><code>pi@Y3moP1:~ $ sudo iwlist wlan0 scan
  wlan0     Interface doesn't support scanning.
</code></pre>

<p>If I don't get that warning then it's something like 'Interface is busy'!</p>

<p>I had a perfectly functioning raspberry pi 2 until I upgraded the <strong>firmware to 4.4.13-v7+</strong>.         </p>

<pre><code>pi@Y3moP1:~ $ uname -r
  4.4.13-v7+
</code></pre>

<p>After that WiFi stopped working. Actually, the interface wlan0 won't go up. I didn't update the <strong>/etc/network/interfaces</strong> given that the warning in the header discourages to do so. So here is what I have:</p>

<pre><code>pi@Y3moP1:~ $ cat /etc/network/interfaces
  # interfaces(5) file used by ifup(8) and ifdown(8)

  # Please note that this file is written to be used with dhcpcd
  # For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

  # Include files from /etc/network/interfaces.d:
  source-directory /etc/network/interfaces.d

  auto lo
  iface lo inet loopback

  iface eth0 inet manual

  allow-hotplug wlan0
  iface wlan0 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

  allow-hotplug wlan1
  iface wlan1 inet manual
      wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

<p>However, I <strong>updated my wpa_supplicant.conf</strong> to include 2 WiFi networks - both unencrypted, one hidden - for testing purposes.</p>

<pre><code>pi@Y3moP1:~ $ sudo cat /etc/wpa_supplicant/wpa_supplicant.conf 
  country=TG
  ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
  update_config=1

  network={
      ssid=""R3B3LZ""
      scan_ssid=1
      key_mgmt=NONE
  }

  network={
      ssid=""dd-wrt""
      key_mgmt=NONE
  }
</code></pre>

<p>First off, I am using a Ralink RT5370, and it is being picked up.</p>

<pre><code>pi@Y3moP1:~ $ lsusb
  Bus 001 Device 004: ID 148f:5370 Ralink Technology, Corp. RT5370 Wireless Adapter
  Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. SMSC9512/9514 Fast Ethernet Adapter
  Bus 001 Device 002: ID 0424:9514 Standard Microsystems Corp. 
  Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</code></pre>

<p>Second, all the drivers seem to be up and loaded. At least the ones Ralink wifi devices require.</p>

<pre><code>pi@Y3moP1:~ $ lsmod
  Module                  Size  Used by
  bnep                   10340  2 
  bluetooth             326105  5 bnep
  arc4                    1958  2 
  rt2800usb              17554  0 
  rt2800lib              71894  1 rt2800usb
  rt2x00usb               8943  1 rt2800usb
  rt2x00lib              37529  3 rt2x00usb,rt2800lib,rt2800usb
  mac80211              532034  3 rt2x00lib,rt2x00usb,rt2800lib
  cfg80211              427855  2 mac80211,rt2x00lib
  crc_ccitt               1278  1 rt2800lib
  rfkill                 16037  4 cfg80211,bluetooth
  snd_bcm2835            20511  1 
  snd_pcm                75698  1 snd_bcm2835
  snd_timer              19160  1 snd_pcm
  snd                    51844  5 snd_bcm2835,snd_timer,snd_pcm
  bcm2835_gpiomem         3040  0 
  bcm2835_wdt             3225  0 
  uio_pdrv_genirq         3164  0 
  uio                     8000  1 uio_pdrv_genirq
  i2c_dev                 5859  0 
  fuse                   83461  3 
  ipv6                  347530  46
</code></pre>

<p>Third, here's what I get when I run ifconfig -a</p>

<pre><code>pi@Y3moP1:~ $ sudo ifconfig -a
  eth0      Link encap:Ethernet  HWaddr b8:27:eb:bc:26:83  
        inet addr:192.168.1.145  Bcast:192.168.1.255  Mask:255.255.255.0
        inet6 addr: fe80::fb39:efaf:b2bf:2a4a/64 Scope:Link
        UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
        RX packets:2937 errors:0 dropped:7 overruns:0 frame:0
        TX packets:2186 errors:0 dropped:0 overruns:0 carrier:0
        collisions:0 txqueuelen:1000 
        RX bytes:199598 (194.9 KiB)  TX bytes:276407 (269.9 KiB)

  lo        Link encap:Local Loopback  
        inet addr:127.0.0.1  Mask:255.0.0.0
        inet6 addr: ::1/128 Scope:Host
        UP LOOPBACK RUNNING  MTU:65536  Metric:1
        RX packets:223 errors:0 dropped:0 overruns:0 frame:0
        TX packets:223 errors:0 dropped:0 overruns:0 carrier:0
        collisions:0 txqueuelen:1 
        RX bytes:20740 (20.2 KiB)  TX bytes:20740 (20.2 KiB)

  wlan0     Link encap:Ethernet  HWaddr 00:13:ef:c0:05:a9  
        inet6 addr: fe80::475a:4576:d95:13f4/64 Scope:Link
        UP BROADCAST MULTICAST  MTU:1500  Metric:1
        RX packets:0 errors:0 dropped:0 overruns:0 frame:0
        TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
        collisions:0 txqueuelen:1000 
        RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
</code></pre>

<p>NOTE: I did attempt to modify the network interfaces file to <strong>replace 'manual' with 'dhcp'</strong> and to <strong>add 'auto wlan0'</strong> like I used to but that didn't fix things at all.</p>

<p>But <strong>eth0 and wired connections to my modem work</strong> fine with SSH and all.</p>
"
56003,1,2016-10-06T19:33:36.183,1,1495,54605,,2016-10-06T20:08:11.910,2016-10-06T20:03:30.683,2,,"<p>I'm having a hard time finding the way to move multiple servo in c.
I tried to use pigpio but every code that I tested failed (didn't moved any servo)</p>

<p>I tried using python and it worked perfectly, but I really and my code to be in c (and also be able to move both servo)</p>

<p>Any suggestions ? Maybe an example of pigpio servo control ? or even a new library ? </p>

<p>I tried this,
with signal wire on pin 11 (gpio17) but my servo do nothing, compilation is successful and no warning (even with -Wall)</p>

<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;pigpio.h&gt;

int main (void)
{
   if(gpioInitialise()&lt;0) return 1;

   else 
   {
      gpioSetMode(17, PI_OUTPUT);
      gpioServo(17, 1500);
   }

   return 0;
}
</code></pre>
"
56278,1,2016-10-13T05:32:07.253,2,7520,48047,,2017-09-01T09:10:40.713,2016-10-13T18:12:41.737,3,,"<p>I have a Raspberry Pi 3 - and was able to get my ASUS USB audio device to work both with mic/line-in and output to speakers.</p>

<p>Right now I can do it it in two steps:</p>

<ul>
<li>arecord will record to a wav file </li>
<li>aplay will play the wav file</li>
</ul>

<p>Just wondering if it's possible with a simple config setting to somehow have the audio pass thru directly from line-in to speaker-out?</p>

<p>Hoping to avoid using avconv or ffmepg to redirect -seems like a lot of cpu just to do pass-thru audio.</p>

<p>If I can do this, I'd like to be running a program in the background that would interrupt the audio for a message and then return back to passthru audio</p>
"
56373,1,2016-10-15T21:27:03.403,4,2990,33424,,2018-11-04T23:00:38.857,2017-04-13T12:56:25.627,2,,"<p>I've gotten QEMU emulation working with: <a href=""https://raspberrypi.stackexchange.com/questions/165/emulation-on-a-linux-pc"">Emulation on a Linux PC</a></p>

<p>On that Linux based example, I can see the HDMI output on a window, and hear sounds from the speaker.</p>

<p>Now I started playing with bare metal, and the hello world is to blink the OK LED.</p>

<p>Is it possible to get the value of the OK LED from QEMU somehow, without modifying my bare metal code at all?</p>

<p>Same goes for the on / off state of the GPIO pins.</p>
"
56377,1,2016-10-15T22:59:36.643,1,829,55043,,2016-12-07T03:02:57.850,2016-10-15T23:17:24.393,0,,"<p>I am trying to play a random video file upon an input from a PIR sensor. </p>

<p>Rasberry Pi 3, running Rasbian.</p>

<p>Problem is, I don't know what I'm doing and just trying to hack together different files. </p>

<p>So far, I have the PIR detection script (pirDetect) working, and the playback file also works, except instead of playing back a random file in the directory, it plays back the same one over and over on every detection. </p>

<p>Here is what I am using at the moment:</p>

<pre><code>#!/usr/bin/python
import subprocess as sp
import time
from pirDetect import *
import random
import os

directory = "".""

video = [""omxplayer"", ""filename"", ""-o"", ""local""]
scareFile = random.choice(os.listdir(directory))

def onMotion(currState):
    if currState:
            video[1] = scareFile
            subVideo = sp.Popen(video)
            while subVideo.poll() is None:
                    time.sleep(.1)

objDetect = detector(7)
objDetect.subscribe(onMotion)
objDetect.start()
</code></pre>

<p>Thanks in advance for any help you can provide.    </p>
"
56443,1,2016-10-17T22:41:40.073,0,477,54149,,2019-05-25T18:11:13.567,,1,,"<p>I have a website running on Apache. When users connect to the Raspberry AP, they can access to the website using the Raspberry's IP.</p>

<p>But  what I want to do is type an speific direction (like ""Mywebsite.com""), and this will redirect me to the Raspberry's IP.</p>

<p>I've used hostapd and dnsmasq, but I don´t know how to configure the last one to do this.</p>
"
56797,1,2016-10-25T16:23:59.647,0,1663,29045,,2016-10-25T16:30:55.563,,0,,"<p>So you can set up wifi via the cmd line by editing the /etc/wpa_supplicant/wpa_supplicant.conf file with the following:</p>

<blockquote>
  <p>network={
  ssid=""YOUR_NETWORK_NAME""
  psk=""YOUR_NETWORK_PASSWORD""
  }</p>
</blockquote>

<p>and entering the proper parameters.</p>

<p>but my question is, how would I enter 1 or two more, so when I move my pi say to work, or to a friends house that it automatically connects to whatever configured wireless network is available?</p>

<p>Much like how your phone would connect to a previously connected wifi connection?</p>
"
56857,1,2016-10-26T11:55:20.040,1,103,55593,,2017-06-07T16:46:14.783,,2,,"<p>I just installed <a href=""https://nbari.com/post/rpi/"" rel=""nofollow"">FreeBSD 11</a> on a Raspberry Pi 1 Model B, the raw image is less than 1GB after installing some packages and customising the setup I would like to create an image the one I could share and be installed no matter the size of the SD cards (>= 4GB)</p>

<p>When using <a href=""https://en.wikipedia.org/wiki/Dd_(Unix)"" rel=""nofollow"">dd</a> like this:</p>

<pre><code>dd if=/dev/rdiskx of=/path/to/image bs=1m
</code></pre>

<p>if the SD card size is of 16GB, the image size is going to be 16GB.</p>

<p>Therefore I would like to know what could be the best way to create a custom img of only the data and not the full size of the SD card.</p>

<p>any ideas?</p>
"
56937,1,2016-10-27T18:29:52.973,2,2877,53444,,2018-09-11T23:53:11.803,,5,,"<p>I am trying to format data from several Arduino-based systems so my Rpi3 can display it as a web page.  But the Rpi3 seems to only work as an I2C master, and the Arduinos have little memory in which to store data.  </p>

<p>The sensors include weather and a solar panel sun tracker.  Arduino has no problem sending out the data to other Arduinos.  The only device on my I2C bus with the memory to do the data logging is the Rpi3.</p>

<p>It looks like the alternative is to do some kind of polling but then I am faced with the question of how often to poll each device, etc.  And the Arduinos then would have to spend much more time looking for the requests.  My Arduino programs utilize specific delay() times (like when they are moving the solar panels) so interrupts would be a problem in maintaining proper timing.</p>

<p>If there is a solution whereby I can have the Rpi3 waiting for data to come in, then I can handle the programming to do the rest.  </p>

<p>So my question is:  Is there a good way to set up the Rpi3 to wait for the data and process it as it comes in?</p>
"
56941,1,2016-10-27T19:45:35.460,0,828,55664,,2017-04-03T03:31:31.080,2016-10-27T20:13:43.983,0,,"<p>Client is perfect on my computer(<em>server on com</em>), but rasp is not. Not thing happend when i runs it. Give me some idea, please!</p>

<p><strong>Server:</strong></p>

<pre><code>var express = require(""express"");
var app = express();
var server = require(""http"").Server(app); 
var io = require(""socket.io"")(server);

server.listen(3000, function(){
  console.log(""Server is running...3000."");
})

app.use(express.static(""public""));
app.set(""view engine"", ""ejs"");
app.set(""views"", ""./views"");

app.get(""/"", function(req, res){
    res.render(""index"");
});

io.sockets.on(""connection"", function(socket){
    console.log(socket.id + "" connected"");

    socket.on(""disconnect"", function(){
        console.log(socket.id + "" disconnected"");
    });

    socket.on(""client_send_data"", function(data){
        console.log(data);

    })
    io.sockets.emit(""server_send_data"", 1);

})
</code></pre>

<p><strong>Client</strong></p>

<pre><code>var socket = require('socket.io-client')('http://localhost:3000');
socket.on('server_send_data', function(data){
   console.log(""connected: "" + data);
});
socket.emit('client_send_data', ""hello"");
</code></pre>
"
56982,1,2016-10-28T14:42:46.240,0,584,55715,,2021-01-02T13:02:55.260,2016-10-29T14:47:39.890,9,,"<p>I have just started with the GPIO on my raspberry pi but can't get any of the code to work.</p>

<pre><code>import RPi.GPIO as GPIO
import time
GPIO.setmode(GPIO.BCM)
GPIO.setwarnings(False)
GPIO.setup(18,GPIO.OUT)
print ""LED on""
GPIO.output(18,GPIO.HIGH)
time.sleep(1)
print ""LED off""
GPIO.output(18,GPIO.LOW)
</code></pre>

<p>I have tried using both pin 12 and 18. I have the led connected to ground (pin 6) through a resistor and to pin 12. It looks like this</p>

<p><a href=""https://i.stack.imgur.com/SWqUu.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SWqUu.png"" alt=""enter image description here""></a></p>
"
56986,1,2016-10-28T16:56:29.517,0,155,40373,,2016-11-05T16:40:58.077,2016-11-05T16:40:58.077,1,,"<h1>GOAL</h1>

<p>I am interested in a USB PDF417 scanner that will automatically a PDF417 barcode, decode the data and send it through USB to the target platform (raspberry pi, PC, etc). Ideally it would send it serial over USB at 9600-8-N-1 and be powered by the USB port (no wall wart), however, I am open to other ideas.</p>

<h1>QUESTION</h1>

<p>When searching for such a  device, what search keywords would be effective to identify suitable candidates to perform the task described above?   Ideally, I would be able to configure it to present as either a HID or serial-over-usb device.</p>

<h1>STATUS UPDATE</h1>

<p>Configured rPi to read HID events from HID scanner: mission-completed.  Thank you to all participants: your comments and support are the foundation to my success.   </p>
"
57161,1,2016-11-02T14:42:12.900,4,5301,44313,,2018-04-08T13:00:58.640,2017-04-13T12:56:22.787,5,,"<p>I just installed Kodi on my Raspberry Pi 3 via Raspbian, so I don't have to switch SD Cards when I need to watch a YouTube video and then return to the desktop.</p>

<p>A problem I encountered is that my keyboard is not working properly. When I enter a search or a text field in Kodi, a virtual keyboard pops up, and I am unable to type using my physical keyboard.</p>

<p>The display is not a touchscreen, it is just a regular TV.</p>

<p>While, keys such as <em>C</em> open <em>context menu</em>, for example, arrows, ESC, Return and every shortcut key work, I am not able to use the keyboard as a typing device. I already tried to follow these guides and Stack Exchange answers:</p>

<ul>
<li><p><a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=99866"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/forums/viewtopic.php?t=99866</a></p></li>
<li><p><a href=""https://raspberrypi.stackexchange.com/questions/27077/kodi-xbmc-on-raspbian-cant-activate-keyboard-or-mouse"">kodi (xbmc) on raspbian can&#39;t activate keyboard or mouse</a></p></li>
</ul>

<p>Here's what I did to install Kodi:</p>

<pre><code>sudo apt-get update
# to refresh package list, then
sudo apt-get install kodi
</code></pre>

<p>SD card has just been flashed with newest Raspbian, keyboard is IT attached via USB.</p>

<p><strong>UPDATE:</strong> I made a few tries and I found out that the num pad is acting as one of those cheap phone keyboards with alphabet letters, just like ones on old Nokia phones, where you press a number more times and you cycle between letters, like:
2 -> a b c 2 A B C
3 -> d e f 3 D E F
And so on, while 1 does special symbols and number 1.</p>

<p>It's bad when a thing doesn't work, but it's even more frustrating when something only works partially.</p>
"
57202,1,2016-11-03T11:05:16.227,3,11079,55989,,2016-11-04T18:19:34.503,,0,,"<p>I was to use the Raspberry Pi3 and iBall camera to scan QR code. I am totally new to this domain. I have 8 years of experience in Embedded C coding. Can anyone let me know how to start, what all things will I need and if there is any free stack available for same in C language?</p>

<p>Your replies will definitely help.</p>

<p>Best Regards</p>
"
57221,1,2016-11-03T16:33:15.170,0,2132,56000,,2017-03-26T16:22:32.773,2016-11-04T22:20:06.083,0,,"<p>I'm trying to mount the libreelec storage partition of an SD card built with a fresh dual boot install of raspbian + libreelec on a 128GB Sandisk CD card built with NOOBS. I'm using a Raspberry Pi 3 Model B.</p>

<p>Both OSs work fine on the pi so it looks like the install was successful. The only issue is that when I put the CD card into a laptop running Ubuntu 16.04, Gparted is unable to mount the Libreelec partitions.</p>

<p>This is an issue as I would like to load it with some videos for local viewing from the SD. That's why I used such a large card. When Libreelec is running I can sftp into it and load the files that way but its very slow.</p>

<p>As soon as I start Gparted it reports the error that the partitions have been written but the kernel can't be informed ""probably because it/they are in use"". </p>

<p>The SD card partitions look as though they are created correctly and both OSs work on the pi but for some reason partition 8 &amp; 9 don't mount.</p>

<p>Here's the gparted window:
<a href=""https://i.stack.imgur.com/TH55W.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/TH55W.png"" alt=""gparted window""></a></p>

<p>You see the errors for partitions 8 &amp; 9. When I click on partition 8, this is the error:
<a href=""https://i.stack.imgur.com/s9dpy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/s9dpy.png"" alt=""Gparted partition 8 error""></a></p>

<p>And partition 9 says similar but for the e2fsprogs package but dosfstools, mtools and e2fsprogs are all installed.</p>

<p>Parition 8 will be the libreelec boot partition and partition 9 the storage partition ie the one I'm looking to mount.</p>

<p>I guess its something to do with the large number of extended/logical partitions or maybe something to do with shrinkfs.</p>

<p>Do you have any ideas how I can mount Libreelec's storage partition? </p>
"
57442,1,2016-11-09T04:09:07.100,0,1157,51684,,2016-11-09T10:15:03.720,2020-06-16T10:47:29.480,3,,"<p>I would like to connect GPS Module by using PIGPIO.
but I can't.
My code that show in below are occuring &quot;Segment Violation&quot;,but I have no idea.
Please help me.</p>
<p>Here is GPS spec.</p>
<blockquote>
<p>GPS Receiver chip-&gt;MT3339</p>
<p>receiver frequency-&gt;1575.42MHz</p>
<p>receiver channel numbers-&gt;66(Acquisition) 22(tracking)</p>
<p>Satellite System-&gt;GPS(America), QZSS(Japan)</p>
<p>tracking sensitivity-&gt;-164dBm(typ.)</p>
<p>output data format-&gt;NMEA0183 V3.01</p>
<p>I/O Signal level-&gt;CMOS logic (3.3V), asynchronous serial signal</p>
<p>UART  signaling rate-&gt;9600bps(default), from 4800 to 115200bps</p>
<p>Output data update rate-&gt; once in second,from 1 to 10 in second</p>
<p>geodetic reference system-&gt;WGS1984</p>
<p>data bit-&gt; 8bit / non parity, stop bit : 1 bit</p>
<p>flow control-&gt;none</p>
</blockquote>
<p><a href=""https://i.stack.imgur.com/zwcFl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/zwcFl.png"" alt=""GPIOs in use"" /></a></p>
<p><a href=""https://i.stack.imgur.com/XMaPN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/XMaPN.png"" alt=""GPS"" /></a></p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;pigpio.h&gt;
#include &lt;string.h&gt;
#include &lt;time.h&gt;
#include &lt;sys/time.h&gt;
 
#define TXD 29 //  5
#define RXD 11 //  17


int main(){
//  gpioTerminate();
char *buf;
int gsr = 0;
int count = 0;
gpioPulse_t pulse[2];
pulse[0].gpioOn = (1&lt;&lt;RXD);
pulse[0].gpioOff = 0;
pulse[0].usDelay = 10;

pulse[1].gpioOn = 0;
pulse[1].gpioOff = (1&lt;&lt;RXD);
pulse[1].usDelay = 10;

buf = malloc(100);

int wave_id;

if(buf == NULL) /* no memory */ exit(EXIT_FAILURE);
 
if (gpioInitialise() &lt; 0){
    // pigpio initialisation failed.
    fprintf(stderr, &quot;PIGPIO INITIALISATION FAILED\n&quot;);
    return 1;
}

gpioWaveClear();


gpioSetMode(TXD, PI_INPUT);
 
gpioSetMode(RXD, PI_OUTPUT);

gpioSerialReadOpen(TXD, 9600, 8);

gpioWaveAddNew();

gpioWaveAddGeneric(2, pulse);

wave_id = gpioWaveCreate();

char* errstr;

sprintf(errstr, &quot;%d&quot;, wave_id);

strcat(errstr, &quot;:PIGPIO WAVE WASN'T ESTABLISHED\n&quot;);

if(wave_id &lt; 0){
    fprintf(stderr, errstr);
    return 1;
}

// pigpio initialised okey.

gpioWaveTxSend(wave_id, PI_WAVE_MODE_ONE_SHOT); 
 
 
gpioSerialReadOpen(TXD, 9600, 8);
 
while(count &lt; 5000){
    gsr = gpioSerialRead(TXD, buf, 8);
    if(gsr &lt; 0)
    {
         printf(&quot;%d\n&quot;, gsr);
    }else{
        fwrite(buf, 8, 1, stdout);
    }
    sleep(100);
    count++;
}
 
gpioWaveTxStop();

gpioSerialReadClose(TXD);

gpioWaveTxStop();
     
    // release memory
    gpioTerminate();

    return 0;
}
</code></pre>
"
57777,1,2016-11-17T08:59:24.173,1,2986,44459,,2018-04-22T05:55:26.467,2017-04-13T12:56:25.953,7,,"<p>If you buy a new wifi router you can access it wirelessly at a predefined IP or URL without  reconfiguring your local network. I want to achieve the same thing with the <code>pi3</code>. The aim is after configuring the pi once (in the factory) it should be able accessible always at the same address, no matter where it is used (independent from the wifi there). Basically, I want to run a GUI e.g. on <code>localhost:8080</code> on the pi and make it accessible over some IP/URI. </p>

<p>And usually, a router has even a readable URI e.g. my router had <code>http://speedport.ip</code>. I guess they do it with redirecting you to an internal IP from the internet.</p>

<h1>Question</h1>

<p>1) How can I make a localhost page of the <code>pi</code> accessible with a static IP?</p>

<h1>Related</h1>

<p>I stumbled over that post but I didn't fully understand it but I think it may be related:
<a href=""https://raspberrypi.stackexchange.com/questions/46989/setting-raspberry-pi-3-as-wireless-access-point-without-internet-access"">Setting Raspberry PI 3 as wireless access point without internet access</a></p>

<p>Tutorial: <a href=""https://frillip.com/using-your-raspberry-pi-3-as-a-wifi-access-point-with-hostapd/"" rel=""nofollow noreferrer"">https://frillip.com/using-your-raspberry-pi-3-as-a-wifi-access-point-with-hostapd/</a> (They talk about forwarding but I guess I need to follow the tutorial maybe to the half?)</p>

<h1>EDIT I</h1>

<p>I managed to setup a local address and customize it to <code>somename.local</code> . A web server on the pi is hosting a website on <a href=""http://localhost:80"" rel=""nofollow noreferrer"">http://localhost:80</a>.</p>

<p>As long as the pi is connected to the same network as my accessing device the local URL is browseable. </p>

<p>I configured the pi as an access point. Now it is possible to connect to the pi and access the page <code>somename.local</code>. But it has two downsides I'm not satisfied yet:</p>

<p>1) the use needs to disconnect its existing wifi</p>

<p>2) some devices notice that the hotspot has no valid internet connection and disconnect after a short period</p>
"
57906,1,2016-11-20T16:12:49.417,-3,7780,56844,,2020-06-23T13:04:45.957,2016-11-20T17:03:23.660,3,,"<p><a href=""https://i.stack.imgur.com/6HpWt.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6HpWt.png"" alt=""enter image description here""></a></p>

<p>I want use GSM module with raspberry pi i can send data bur for receiving data i want to use a interrupt function.pulling is valuable for me.</p>
"
57972,1,2016-11-22T06:07:29.133,3,2220,6557,,2016-11-22T10:08:44.397,2016-11-22T08:33:08.427,3,,"<p>What is the pin numbering for WiringPi on the RPi model 2 B and 3 B? The <a href=""http://wiringpi.com/pins/"" rel=""nofollow noreferrer"">pin page on wiringPi</a> only gives the numbering for Pis with 26 GPIO pins.</p>

<h2>This is not a duplicate</h2>

<p><strong>because the WiringPi library's pin numbering is different to that of the RPi GPIO pin numbers and the Broadcom CPU pin IO numbers.</strong> The proposed duplicate Q&amp;A's do not give the pin numbers for the WiringPi library; only GPIO and BCM pin numbering</p>
"
58018,1,2016-11-23T10:01:42.143,0,1119,43158,,2020-12-15T04:02:55.290,2016-11-24T12:54:56.307,4,,"<p>What I need:</p>

<p><strong>local Router --> RPI 3  &lt;-- wifi Router</strong></p>

<ul>
<li><p><strong>local Router</strong> provides <strong>dynamic IP by Ethernet cable</strong>, but this is a
local network, closed from global network. </p></li>
<li><p><strong>wifi Router</strong> (smartphone, or any other wifi source) provides <strong>connection to global network</strong>. </p></li>
<li>need RPI to have IP <strong>access from local network</strong>, to be able
to connect over ssh or make git pull push from local network. </li>
<li>need RPI to have <strong>access to the global network</strong>. For example, to call for github.com directly.</li>
</ul>

<p>One of the main purposes, to be able to make export http_proxy  on the linux server, to rpi, and get access to global network. Also to use github.com directly from servers, and not using lots of hucks and zip downloading.</p>

<p>I read around 15-20 topics on this subject, but mostly people wanted to connect rpi as a bridge or make it bypass wifi router. My case is a little more difficult i guess. Unfortunately i am not so great at understanding iptables and reconfiguring them. And I have  <strong>RPI 3</strong> here, so it is connecting to wifi without usb dongle. </p>

<p>btw, now I have this : </p>

<pre><code>pi@raspberrypi:/etc/network $ hostname -I
10.65.1.32 192.168.43.44
</code></pre>

<p>one is from local network, one from wifi. but it can call only local network now. </p>

<p><strong>What can be done to achieve all this?</strong> </p>

<p><strong>UPD 1:</strong></p>

<pre><code>pi@raspberrypi:~ $ ifconfig -a
eth0      Link encap:Ethernet  HWaddr b8:27:eb:27:e7:d4
          inet addr:10.65.1.32  Bcast:10.65.15.255  Mask:255.255.240.0
          inet6 addr: fe80::6e5e:9bc7:afaa:90f1/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:16221 errors:0 dropped:4 overruns:0 frame:0
          TX packets:313 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:1230262 (1.1 MiB)  TX bytes:45139 (44.0 KiB)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:210 errors:0 dropped:0 overruns:0 frame:0
          TX packets:210 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1
          RX bytes:18348 (17.9 KiB)  TX bytes:18348 (17.9 KiB)

wlan0     Link encap:Ethernet  HWaddr b8:27:eb:72:b2:81
          inet addr:192.168.43.44  Bcast:192.168.43.255  Mask:255.255.255.0
          inet6 addr: fe80::58c3:682d:6dc9:7966/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:275 errors:0 dropped:238 overruns:0 frame:0
          TX packets:209 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:80720 (78.8 KiB)  TX bytes:41904 (40.9 KiB)


pi@raspberrypi:~ $ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         10.65.0.1       0.0.0.0         UG    202    0        0 eth0
default         192.168.43.1    0.0.0.0         UG    303    0        0 wlan0
10.65.0.0       *               255.255.240.0   U     202    0        0 eth0
192.168.43.0    *               255.255.255.0   U     303    0        0 wlan0

pi@raspberrypi:~ $ traceroute github.com
traceroute to github.com (192.30.253.113), 30 hops max, 60 byte packets
 1  10.65.0.2 (10.65.0.2)  0.539 ms  0.489 ms  0.467 ms
 2  * * *
 3  * * *
...
28  * * *
29  * * *
30  * * *
</code></pre>

<p><strong>UPD 2:</strong></p>

<pre><code># interfaces(5) file used by ifup(8) and ifdown(8)

# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d

auto lo
iface lo inet loopback

iface eth0 inet manual

allow-hotplug wlan0
iface wlan0 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

allow-hotplug wlan1
iface wlan1 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

<p><strong>UPD 3:</strong></p>

<pre><code>Distributor ID: Raspbian
Description:    Raspbian GNU/Linux 8.0 (jessie)
Release:        8.0
</code></pre>

<p>OS on servers - <code>redhat 6</code>, desktop PC's have <code>Linux Ubuntu 14</code> and <code>Microsoft windows 7</code>.</p>
"
58170,1,2016-11-27T10:58:07.523,1,4117,33157,,2016-11-27T13:30:33.617,,4,,"<p>Some of you know a method to connect 4 microphones to a RPi and handle them seperate?</p>

<p>I want to calculate out when a soundwave hits the first microphone, the second, third and fourth (under water).</p>

<p>Can I just use 4 USB soundcards? Should it be possible? And do you have examples, maybe?</p>

<p>Or do you know a better option?</p>

<p>Best regards and thank you!!</p>
"
58304,1,2016-11-30T06:22:20.217,25,47493,57370,,2020-08-26T12:00:42.767,2016-11-30T08:59:15.603,1,,"<p>I understand that I can set up multiple WiFis by adding to <code>/etc/wpa_supplicant/wpa_supplicant.conf</code> (as prescribed in <a href=""https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md"" rel=""noreferrer"">Setting WiFi Up Via The Command Line</a>).</p>

<p>Let's say I have two WiFis registered: <code>wifi_A</code> and <code>wifi_B</code></p>

<p>When I unplug router <code>wifi_A</code>, and reboot my raspberry to command line, it automatically connects to <code>wifi_B</code>. When I unplug router <code>wifi_B</code>, and reboot my raspberry to command line, it automatically connects to <code>wifi_A</code>. So far so good.</p>

<p>But, let's say both routers are available, how can I set priorities? E.g. I'd like my Raspberry to connect to <code>wifi_B</code> upon reboot?</p>

<p>My second question is: Let's say I am in the command line mode and I am currently connected to <code>wifi_B</code>. How can I connect to <code>wifi_A</code> instead? </p>
"
58314,1,2016-11-30T10:54:20.953,1,2166,57386,,2017-09-18T10:03:46.187,,0,,"<p>I am using a Raspi 3B running Jessie /proc/ver shows it as 4.1.17 if that is useful?</p>

<p>I am trying to build a kiosk system for a project and have run into an issue that I cannot seem to fix.
I have a script that contains the following code </p>

<pre><code>#!/bin/bash

while true;
do
        rm -rf /home/pi/.config/&lt;program&gt;/*
        cp -R /home/pi/.config/&lt;progbackup&gt;/* /home/pi/.config/&lt;program&gt;

        openbox --config-file ~/.config/openbox/lxde-pi-rc.xml --startup /opt/2X/Client/bin/ClientApp

done
</code></pre>

<p>this is run at bootup using xinit <em>scriptname.sh</em></p>

<p>This appears to work as expected and the client app is the only item launched, however if the user right clicks on the ""desktop"" they are given a menu that among other things offers them a terminal window.</p>

<p>I have tried to modify the <code>autostart</code> file in <code>/etc/xdg/lxsession/LXDE-pi/</code> from another article that suggested this would solve the issue but after a reboot of the Pi the menu still exists.</p>

<p>This is my first steps into setting up a custom kiosk using a window manager and am still learning a lot about how they all work together, so please don't assume I know what I am doing :)</p>
"
58339,1,2016-11-30T19:37:34.163,0,5762,56847,,2021-01-25T05:28:12.217,2016-11-30T19:45:05.627,12,,"<p>When I call a simple python-script that blinks LED once, from a PHP-script via browser, nothing happens.</p>

<p>and I add these lines in the  sudoers file.</p>

<pre><code>apache ALL=(ALL) NOPASSWD: ALL
apache2 ALL=(ALL) NOPASSWD: ALL
www-data ALL=(ALL) NOPASSWD: ALL
adm ALL=(ALL) NOPASSWD: ALL
</code></pre>

<p><code>/var/www/html</code> <code>owner</code>&amp;<code>Group</code> is <code>www-data</code>
and python script <code>owner</code>&amp;<code>Group</code> is <code>www-data</code> also</p>

<p>what is the problem?</p>

<pre><code>&lt;html&gt;
&lt;head&gt;
&lt;?php
if (isset($_POST['RedON']))
{
exec('sudo python /var/www/html/xbee.py');
}
if (isset($_POST['RedOFF']))
{
exec('sudo python /home/pi/xbee2.py');
}
if (isset($_POST['YellowON']))
{
exec('sudo python /var/www/html/xbee2.py');
}
if (isset($_POST['YellowOFF']))
{
exec('sudo python /var/www/gpio/yellow_off.py');
}
if (isset($_POST['GreenON']))
{
exec('sudo python /var/www/gpio/green_on.py');
}
if (isset($_POST['GreenOFF']))
{
exec('sudo python /var/www/gpio/green_off.py');
}
?&gt;

  &lt;title&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form method=""post""&gt;
  &lt;table
 style=""width: 75%; text-align: left; margin-left: auto; margin-right: auto;""
 border=""0"" cellpadding=""2"" cellspacing=""2""&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td style=""text-align: center;""&gt;Turn LED on&lt;/td&gt;
        &lt;td style=""text-align: center;""&gt;Turn LED off&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td style=""text-align: center;""&gt;&lt;button name=""RedON""&gt;Red On&lt;/button&gt;&lt;/td&gt;
    &lt;td style=""text-align: center;""&gt;&lt;button name=""RedOFF""&gt;Red Off&lt;/button&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td style=""text-align: center;""&gt;&lt;button name=""YellowON""&gt;Yellow On&lt;/button&gt;&lt;/td&gt;
    &lt;td style=""text-align: center;""&gt;&lt;button name=""YellowOFF""&gt;Yellow Off&lt;/button&gt;&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td style=""text-align: center;""&gt;&lt;button name=""GreenON""&gt;Green On&lt;/button&gt;&lt;/td&gt;
    &lt;td style=""text-align: center;""&gt;&lt;button name=""GreenOFF""&gt;Green Off&lt;/button&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
  &lt;/table&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Not: python script works in SSH Normally.</p>
"
58577,1,2016-12-06T23:15:18.053,1,4373,57711,,2016-12-07T07:45:45.537,2016-12-07T07:45:45.537,4,,"<p>I have a Raspberry Pi 3 model B. I already have Raspbian on a SD card. I have a MacBook Pro without an Ethernet and I don't have the Ethernet adaptor, I have no access to router. I want to connect to my RPi using SSH or VNC but I don't know my RPi IP address and I can't connect it to WiFi.</p>

<p>I need to connect RPi with following:</p>

<ul>
<li>RPi 3 model B</li>
<li>SD card with Raspbian</li>
<li>MacBook Pro without Ethernet</li>
</ul>

<p>What do I need to do to connect RPi to Mac?</p>
"
58910,1,2016-12-13T17:34:17.767,1,490,32756,,2016-12-15T02:34:08.573,,0,,"<p>An <a href=""http://arstechnica.com/gadgets/2016/12/google-brillo-rebrands-as-android-things-googles-internet-of-things-os/"" rel=""nofollow noreferrer"">arstechnica.com article published today</a> outlined Google's latest progress towards their IoT platform, Android Things (formerly Project Brillo). <a href=""https://developer.android.com/things/hardware/raspberrypi.html"" rel=""nofollow noreferrer"">It looks like it supports the Pi 3</a>. </p>

<p>Is it possible to access the Pi's GPIO pins from a native Android application? Can you provide a brief example?</p>
"
59110,1,2016-12-18T19:35:27.813,4,2412,55021,,2020-02-04T11:28:36.213,2016-12-26T14:04:40.727,1,,"<p>I have Raspberry PI 3 with HifiBerry running with OSMC:</p>

<pre><code>$ cat /proc/version
Linux version 4.4.27-5-osmc (root@vero2a) (gcc version 4.9.2 (Debian 4.9.2-10) ) #1 SMP PREEMPT Tue Nov 22 02:23:12 UTC 2016
</code></pre>

<p>I've had no problems with that configuration until recently. Working <code>asound.conf</code>:</p>

<pre><code>pcm.!default {    
  type hw card 0  
}                 
ctl.!default {    
  type hw card 0  
}
</code></pre>

<p>With that config I can select ALSA output device in OSMC <em>Settings / System / Audio output</em>.</p>

<p>Recently I've tried to add equalizer to my ALSA driver. I've installed <code>equal</code> plugin <a href=""https://support.hifiberry.com/hc/en-us/articles/205311292-Adding-equalization-using-alsaeq"" rel=""nofollow noreferrer"">as mentioned on this page</a>:</p>

<pre><code>$ sudo apt-get install -y libasound2-plugin-equal
</code></pre>

<p>Then I've edited my <code>asound.conf</code> file to make use of that plugin:</p>

<pre><code>pcm.plugequal {
  type equal;
  slave.pcm ""plughw:0,0"";
}

pcm.!default {
  type plug;
  slave.pcm plugequal;
}

ctl.!default {
  type hw card 0
}
</code></pre>

<p>After reboot, I can play sound with <code>aplay</code> and it works fine using the equalizer plugin. Unfortunately, now OSMC (Kodi) does not list my ALSA device anymore, leaving me with those default ones (HDMI, Analogue, HDMI and Analogue).</p>

<p>Why Kodi does not recognize ALSA output device anymore? What to do to fix that?</p>

<hr>

<p><strong>Edit</strong>
I even tried to dumb down the <code>asound.conf</code> file to this:</p>

<pre><code>pcm.!default {
  type equal;
  slave.pcm ""plughw:0,0""
}
</code></pre>

<p>But this doesn't seem to change anything: <code>aplay</code> still works, but Kodi doesn't list the device...</p>
"
59593,1,2016-12-29T23:10:59.867,1,5559,59029,,2018-04-29T15:25:09.597,,3,,"<p>My son and I are complete newbies when it comes to pi and Raspbian. We've just bought a pi 3 and have set up Raspbian from Noobs. We can connect to our router using both WiFi and Ethernet but cannot connect to any sites using the browser. The router is working normally with other devices. I'm inclined to think the pi is faulty, but looking for suggestions to try before I send it back.</p>
"
59717,1,2017-01-01T20:06:42.627,4,3932,59178,,2019-04-12T20:01:45.327,2017-01-02T01:08:17.407,0,,"<p>I have a Pi 3 and I am trying to connect a K780 keyboard. I have used the terminal and the GUI to connect, pair and trust the keyboard. However, the K780 never gets out of pair mode. It seems as though it is waiting for some kind of command to unpair it. </p>

<p>The keyboard easily pairs and works normally on other computers.  With the Pi, I never get to a point where I have to type the pin code on the K780 keyboard. How do I solve this issue?</p>
"
59852,1,2017-01-04T14:25:20.870,1,14431,59357,,2017-06-22T18:01:47.200,2017-01-04T14:43:02.267,0,,"<p>I am using the latest Raspbian I just downloaded this morning.</p>

<p>I bought this USB audio adapter, <a href=""https://www.sossolutions.nl/usb-audio-adapter-works-with-raspberry-pi"" rel=""nofollow noreferrer"">https://www.sossolutions.nl/usb-audio-adapter-works-with-raspberry-pi</a>. And then I followed tutorial here, <a href=""https://learn.adafruit.com/usb-audio-cards-with-a-raspberry-pi/instructions"" rel=""nofollow noreferrer"">https://learn.adafruit.com/usb-audio-cards-with-a-raspberry-pi/instructions</a>.</p>

<p>The tutorial basically just to add <code>~/.asoundrc</code> into this.</p>

<pre><code>pcm.!default {
    type hw card 1    
}
ctl.!default {
    type hw card 1
}
</code></pre>

<p>I checked <code>alsamixer</code>, it detects both my microphone and earphone. I use a phone earphone that I usually use to answer call and listen to music with my phone. I attached this mic-earphone into the mic slot of the USB audio adapter.</p>

<p>Then I change <code>sudo nano /usr/share/alsa/alsa.conf</code> lines into these.</p>

<pre><code>defaults.ctl.card 1
defaults.pcm.card 1
</code></pre>

<p>However, changing <code>sudo nano /usr/share/alsa/alsa.conf</code> does not listed as something to do in the Adafruit tutorial I mentioned before.</p>

<p>I have a code to detect pitch and volume with PyAudio from microphone. I tried to run that, but it gives me error of.</p>

<pre><code>OSError: [Errrno -9996] Invalid input device (no default output device)
</code></pre>

<p>The error is in this line.</p>

<pre><code>self.mic = pA.open(format=self.FORMAT, channels=self.CHANNELS, rate=self.SAMPLE_RATE, input=True,
    frames_per_buffer=self.PERIOD_SIZE_IN_FRAME)
</code></pre>

<p>My goal is to have pitch and volume detection using PyAudio via microphone. How can I solve this problem?</p>

<p>EDIT - 1, I have checked via https*//www*onlinemictest*com, my microphone does not work. But it is detected in <code>alsamixer</code> as ""mic"".</p>
"
60048,1,2017-01-07T15:20:59.050,5,8511,59590,,2019-11-11T01:01:55.220,2017-01-07T17:28:35.243,3,,"<p>I have raspberry pi 3 model b and windows 10 PC. I downloaded Raspbian instead of NOOBS in order to be able to modify the <code>config.txt</code> file. But I'm still having the same problem, that my display doesn't show anything (The HDMI cable and the display work). Here is a screenshot of my config.txt <a href=""https://i.stack.imgur.com/75reF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/75reF.png"" alt=""enter image description here""></a></p>

<p>Any suggestions? Thanks.</p>
"
60084,1,2017-01-08T10:33:53.190,4,2265,22167,,2017-11-13T19:31:24.227,,3,,"<p>I recently got a RPI 3, on which I installed ArchLinux, aarch64 version. I just saw that an I2C error message is flooding the logs. Exact error is:</p>

<pre><code>kernel: i2c-bcm2835 3f805000.i2c: i2c transfer failed: 100
</code></pre>

<p>This is logged 5 times every 10 seconds.</p>

<p>What's strange is that RPI 3 Soc is a Broadcom 2837, not 2835. Also I don't have anything plugged in the GPIOs, so I don't know why this happens. Could it be something that's on the board itself? How do I find out, and how can I get rid of it?</p>
"
60112,1,2017-01-09T04:24:24.720,0,3573,59687,,2020-12-13T20:02:55.233,2017-04-13T12:56:26.700,2,,"<p>So I tried following this <a href=""https://www.pestmeester.nl/"" rel=""nofollow noreferrer"">guide</a>, but seems to fail at <em><a href=""https://www.pestmeester.nl/index.html#8.5"" rel=""nofollow noreferrer"">this</a></em> step. When accessing the /index.php my browser(both chromium and firefox) downloaded the page as a file, then I decided to delete the file from sites-available and begin from the default file again, now it doesnt download the site but just shows a plain white site with no source code.</p>

<p>I am pretty sure its just me who screwed something up in the code. Here is my nginx conf from sites-available:</p>

<pre><code># Default server configuration
#
server {
    listen 80 default_server;
    listen [::]:80 default_server;

    root /data/randomsite10101.org/www;

    # Add index.php to the list if you are using PHP
    index index.html index.htm index.php index.nginx-debian.html;

    server_name randomsite10101.org.local randomsite10101.org;
    error_log /data/randomsite10101.org/logs/error.log error;
    access_log /data/randomsite10101.org/logs/access.log;


    location / {
        # First attempt to serve request as file, then
        # as directory, then fall back to displaying a 404.
        try_files $uri $uri/ =404;
    }

    location ~ [^/].php(/|$) {
    fastcgi_split_path_info ^(.+?.php)(/.*)$;
    fastcgi_pass unix:/var/run/php5-fpm.sock;
    fastcgi_index index.php;
    include fastcgi_params;
    }
}
</code></pre>

<p>New config:</p>

<pre><code># Default server configuration
#
server {
    listen 80 default_server;
    #listen [::]:80 default_server;
    error_log /data/randomsite10101.org/logs/error.log error;
    access_log /data/randomsite10101.org/logs/access.log;

    # SSL configuration
    #
    # listen 443 ssl default_server;
    # listen [::]:443 ssl default_server;
    #
    # Self signed certs generated by the ssl-cert package
    # Don't use them in a production server!
    #
    # include snippets/snakeoil.conf;

    root /data/randomsite10101.com/www;

    # Add index.php to the list if you are using PHP
    index index.php index.html index.htm index.nginx-debian.html;

    server_name randomsite10101.org;

    location / {
        # First attempt to serve request as file, then
        # as directory, then fall back to displaying a 404.
        try_files $uri $uri/ =404;
    }

    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
    #
    #location ~ \.php$ {
    #   include snippets/fastcgi-php.conf;
    #
    #   # With php5-cgi alone:
    #   fastcgi_pass 127.0.0.1:9000;
    #   # With php5-fpm:
    #   fastcgi_pass unix:/var/run/php5-fpm.sock;
    #}
    location ~ \.php$ {
        fastcgi_split_path_info ^(.+?.php)(/.*)$;
        fastcgi_pass unix:/var/run/php5-fpm.sock;
        fastcgi_index index.php;
        include fastcgi_params;
    }   


    # deny access to .htaccess files, if Apache's document root
    # concurs with nginx's one
    #
    #location ~ /\.ht {
    #   deny all;
    #}

    listen 443 ssl; # managed by Certbot
ssl_certificate /etc/letsencrypt/live/randomsite10101.org/fullchain.pem; # managed by Certbot
ssl_certificate_key /etc/letsencrypt/live/randomsite10101.org/privkey.pem; # managed by Certbot
ssl_session_cache shared:le_nginx_SSL:1m; # managed by Certbot
ssl_session_timeout 1440m; # managed by Certbot

ssl_protocols TLSv1 TLSv1.1 TLSv1.2; # managed by Certbot
ssl_prefer_server_ciphers on; # managed by Certbot

ssl_ciphers ""ECDHE-ECDSA-AES128-GCM-SHA256 ECDHE-ECDSA-AES256-GCM-SHA384 ECDHE-ECDSA-AES128-SHA ECDHE-ECDSA-AES256-SHA ECDHE-ECDSA-AES128-SHA256 ECDHE-ECDSA-AES256-SHA384 ECDHE-RSA-AES128-GCM-SHA256 ECDHE-RSA-AES256-GCM-SHA384 ECDHE-RSA-AES128-SHA ECDHE-RSA-AES128-SHA256 ECDHE-RSA-AES256-SHA384 DHE-RSA-AES128-GCM-SHA256 DHE-RSA-AES256-GCM-SHA384 DHE-RSA-AES128-SHA DHE-RSA-AES256-SHA DHE-RSA-AES128-SHA256 DHE-RSA-AES256-SHA256 EDH-RSA-DES-CBC3-SHA""; # managed by Certbot



    if ($scheme != ""https"") {
        return 301 https://$host$request_uri;
    } # managed by Certbot

}


# Virtual Host configuration for example.com
#
# You can move that to a different file under sites-available/ and symlink that
# to sites-enabled/ to enable it.
#
#server {
#   listen 80;
#   listen [::]:80;
#
#   server_name example.com;
#
#   root /var/www/example.com;
#   index index.html;
#
#   location / {
#       try_files $uri $uri/ =404;
#   }
#}
</code></pre>

<p><a href=""https://raspberrypi.stackexchange.com/users/46953/david-cullen"">David Cullen</a> asked me for the output from <code>ls -hl /data/sitename.com/www/</code>:</p>

<pre><code>-rw-r--r-- 1 www-data www-data  8 Jan  9 04:10 index.html
-rw-r--r-- 1 root     root     21 Jan  9 04:20 index.php
</code></pre>

<p>Then I tried to chown the folder to <code>www-data</code> with following command:</p>

<pre><code>$ sudo chown -R www-data:www-data /data/randomsite.com/www/
</code></pre>

<p>And my output is now:</p>

<pre><code>-rw-r--r-- 1 www-data www-data  8 Jan  9 04:10 index.html
-rw-r--r-- 1 www-data www-data 21 Jan  9 04:20 index.php
</code></pre>

<p>But it's still not working.</p>

<p>David asked me to remove the index.html, and with only index.php it still shows an empty page.</p>

<p>He asked me to comment some line out aswell and edit my index.php file, both tings done and still empty page.</p>
"
60184,1,2017-01-10T13:34:34.257,1,798,59774,,2017-01-10T14:11:01.223,,2,,"<p>Raspberry Pi for Dummies. Page 49 </p>

<p>Line 7
   GPIO.setmode(GPIO.BCM)</p>

<p>error:
NameError: name GPIO is not defined</p>

<p>we've checked it's definately the letter 'O' not a zero.
Either the code isn't right or the import RPi.GPIO isn't correct.</p>

<p>`we tried python and python3</p>

<p>Any ideas?</p>
"
60577,1,2017-01-18T13:44:39.433,3,10765,11827,,2020-01-16T00:50:36.713,,1,,"<p>I have raspbian, with the pixel desktop.
How can I add custom application launchers to the panel?
Alternatively, how can I add Firefox, and terminal emulator to the panel? </p>

<p>I tried dragging and dropping programs into the panel, but this doesn't work. 
I have searched all thought panel preferences.</p>
"
60593,1,2017-01-18T18:49:50.807,23,45485,29246,,2020-10-25T12:12:49.187,2017-01-18T20:19:34.887,1,,"<p>How does the Pi know it being underpowered and to show the lighting bolt?</p>

<p>As most of us know, if you use a bad power supply you get the lightning bolt telling you are underpowered.</p>

<p>I noticed that when I run my Pi on battery, the last 15 minutes or so before the Pi starts to reboot, the lightning bolt starts appearing, and eventually stays there until the reboots, which makes sense because my battery voltage is dropping as it is drained. </p>

<p>This got me thinking I could use this to make a program that turns the Pi off when it detects constant under-voltage. I know before this happened would be even better but I am not concerned about that.</p>

<p>Is there a command for voltage like <code>sudo vcgenmd measure_temp</code> for temperature to know what the voltage is? If not how does the Pi know when it is being underpowered?</p>

<p><strong>EDIT</strong>: This is not a duplicate because the other question suggests you need external hardware. I am pointing out this is not strictly necessary.</p>
"
60618,1,2017-01-19T06:22:12.343,-1,121,59548,,2020-10-02T07:02:10.243,2017-01-19T06:59:40.633,2,,"<p>I have my Zero on two connections:</p>

<ol>
<li>Ethernet, via USB cable (with internet sharing from my laptop)</li>
<li>USB wifi dongle, connected to a mobile hotspot</li>
</ol>

<p>I believe I have successfully configured both connections. </p>

<p>`pi@raspberrypi:~ $ ifconfig</p>

<pre><code>lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:14 errors:0 dropped:0 overruns:0 frame:0
          TX packets:14 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1 
          RX bytes:1368 (1.3 KiB)  TX bytes:1368 (1.3 KiB)
usb0      Link encap:Ethernet  HWaddr f2:e8:7e:a4:ac:49  
          inet addr:192.168.2.31  Bcast:192.168.2.255  Mask:255.255.255.0
          inet6 addr: fe80::f0e8:7eff:fea4:ac49/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1595 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1062 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:158977 (155.2 KiB)  TX bytes:192668 (188.1 KiB)
wlan0     Link encap:Ethernet  HWaddr 18:fe:34:02:78:e5  
          inet addr:192.168.43.253  Bcast:192.168.43.255  Mask:255.255.255.0
          inet6 addr: fe80::5dc5:b2a1:d7a:5f3/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:131 errors:0 dropped:0 overruns:0 frame:0
          TX packets:138 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:11715 (11.4 KiB)  TX bytes:17823 (17.4 KiB)`
</code></pre>

<p>`pi@raspberrypi:~ $ route -n</p>

<pre><code>Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.43.1    0.0.0.0         UG    0      0        0 wlan0
0.0.0.0         192.168.2.1     0.0.0.0         UG    202    0        0 usb0
0.0.0.0         192.168.43.1    0.0.0.0         UG    304    0        0 wlan0
192.168.2.0     0.0.0.0         255.255.255.0   U     202    0        0 usb0
192.168.43.0    0.0.0.0         255.255.255.0   U     304    0        0 wlan0`
</code></pre>

<p>I can SSH into my Pi via the ethernet connection, but not the wifi connection.</p>

<p>When I attempt 'ssh pi@192.168.43.253', the system just hangs. </p>

<p>If I ping 192.168.43.253, the ping is successful. </p>

<p>Here is my /etc/network/interfaces file. I suspect something is wrong with it. Perhaps my ethernet is interfering with the wifi scanning. Does anyone know what is wrong?</p>

<pre><code>`auto lo usb0
iface lo inet loopback
iface eth0 inet manual
allow-hotplug wlan0
auto wlan0
iface wlan0 inet dhcp
    wpa-ssid AndroidAP
    wpa-psk raspberry
allow-hotplug wlan1
iface wlan1 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
allow-hotplug usb0
iface usb0 inet manual`
</code></pre>
"
60872,1,2017-01-23T17:20:34.827,9,28592,60554,,2018-12-30T20:50:37.510,2017-01-24T08:54:59.567,2,,"<p>I bought yesterday my first 3.5"" Touchscreen for my Raspberry Pi. (Elegoo 3.5 inches TFT LCD Touch Screen Monitor) On my Raspberry runs an OctoPrint Image (Raspbian based).</p>

<p>The Display is working. My problem is the touch function; it's kind of inverted. If I touch the upper right. My cursor is at lower right. If I drag from left to right, my course goes just up and down.</p>

<p>I downloaded this <a href=""http://www.spotpear.com/learn/EN/raspberry-pi/Raspberry-Pi-LCD/Drive-the-LCD.html"" rel=""noreferrer"" title=""Driver"">driver/program</a>.</p>

<p>I also tried a calibration test with</p>

<pre><code>sudo TSLIB_FBDEVICE=/dev/fb1 TSLIB_TSDEVICE=/dev/input/touchscreen ts_test`
sudo TSLIB_FBDEVICE=/dev/fb1 TSLIB_TSDEVICE=/dev/input/touchscreen ts_calibrate
</code></pre>

<p>And that works fine. After I used xinput_calibrator to read the new calibration data and inserted it at <code>/etc/X11/xorg.conf.d/99-calibration.conf</code>. After rebooting or restarting the ""LCD-Show"" driver, nothing changes.</p>

<p>Usually, the used program (LCD-show) overwrites every configuration. But I disabled it for debugging and to find my mistake.</p>

<p>For now, I don't know what to do. I changed different values (SwapAxes) but it's always inverted.</p>

<p>Edit - Steps I did with xinput-calibrator:</p>

<pre><code>DISPLAY=:0.0 xinput_calibrator
</code></pre>

<p>Output is:
<a href=""https://i.stack.imgur.com/FyOgi.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/FyOgi.jpg"" alt=""enter image description here""></a></p>

<p>I copied the Section to EndSection part into:</p>

<pre><code>/etc/X11/xorg.conf.d/99-calibration.conf
</code></pre>

<p>After the restart, nothing changes. I also tried to change the ""SwapXY"" Value to 0. Again no changes.</p>
"
60929,1,2017-01-24T10:42:10.420,5,2264,58142,,2019-04-23T01:00:21.270,2017-01-25T10:24:51.583,4,,"<p>I'm required for a project to have a 2mm glass shield over the official 7"" touchscreen. With it in place, I obviously can't detect touch any longer (except when using 2 fingers at the same time but it is inconvenient)</p>

<p>Is there a clean way - Without having to fiddle with FT5406's internal I2C registers - to set the sensitivity of the touchscreen ?</p>

<p>I took a look at the driver, but there don't seems to be any parameters I can set:  </p>

<pre><code>pi@raspberrypi:~ $ modinfo rpi-ft5406
filename: /lib/modules/4.4.21-v7+/kernel/drivers/input/touchscreen/rpi-ft5406.ko
license: GPL
description: Touchscreen driver for memory based FT5406
author: Gordon Hollingworth
srcversion: BFF35BF70365F2D3908ADB5
alias: of:N*T*Crpi,rpi-ft5406*
depends:
intree: Y
vermagic: 4.4.21-v7+ SMP mod_unload modversions ARMv7
</code></pre>

<p>Thanks</p>

<p><strong>EDIT:</strong> After some investigations, it seems that the display version i'm using is 1.1. It uses a FT5426 touch driver chip which explain why I was unable to mess with the I2C register (The register datasheet for the FT5426 isn't available and it looks like it works differently from FT5406).
<a href=""https://i.stack.imgur.com/kMl38.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/kMl38.jpg"" alt=""FT5426""></a></p>
"
61002,1,2017-01-25T15:05:53.860,0,587,60703,,2017-07-04T06:46:49.810,2017-07-04T06:46:49.810,0,,"<p>I have a raspberry pi that is running a website on apache2. The only other thing running on it is a script running to read out some sensors and store the information in a database (running every minute through cron).</p>

<p>Usually it's running well for a few weeks, and then it seems to ""hang"" all of a sudden. The webpage is not reachable anymore (although sometimes I do get a response after trying 10 times), connecting to it with putty is not possible anymore, even when I connect a screen and keyboard to it, I do not get any response anymore. the only thing that works is a cold reboot, after Wich everything works fine again.</p>

<p>it looks like the raspberry pi is incredibly busy with something, I would like to figure out what's causing the problem, but I don't really have a clue where to get started. The standard log files are not giving me much clues it seems, is there any kind of monitoring tool I could enable to debug the problem?</p>
"
61012,1,2017-01-25T20:32:22.100,0,404,55713,,2020-05-11T14:06:25.697,,2,,"<p>The Matchbox virtual keyboard is missing the colon character. Is there a solution to add this character?</p>
"
61047,1,2017-01-26T11:20:48.297,0,557,60758,,2017-01-26T14:30:55.630,,0,,"<p>I am working on an app in C# for Rpi 3 (running windows IoT Core). It will need to be able to get input from a keyboard (phisycal, not onscreen) and be able to put that input in a string so it can easily be shown on a monitor (using xaml).</p>

<p>However I am not sure how to capture that input. Is this baked into the OS already? If not, what do I need to do to ask for input and put that input in a string? Maybe the answer is very simple but as of yet I've not really been able to find a good answer to this question. Been working with C# for about 5 weeks now so still a bit of a noob..</p>

<p>Cheers</p>
"
61204,1,2017-01-29T15:31:57.420,2,9509,60966,,2020-11-08T09:01:25.190,2017-01-29T16:43:22.357,4,,"<p>I bought an external USB sound card for my Raspberry Pi because the sound quality of the built-in 3.5mm audio jack is not that good and I experienced a lot of noise.</p>

<p>The retailer of the sound card is called Ugreen and a lot of reviews on the internet state that the device should instantly work with the Raspberry Pi 3 without further configuration.</p>

<p>This is the output of <code>aplay -l</code>:</p>

<pre><code>**** List of PLAYBACK Hardware Devices ****
card 0: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA]
  Subdevices: 8/8
  Subdevice #0: subdevice #0
  Subdevice #1: subdevice #1
  Subdevice #2: subdevice #2
  Subdevice #3: subdevice #3
  Subdevice #4: subdevice #4
  Subdevice #5: subdevice #5
  Subdevice #6: subdevice #6
  Subdevice #7: subdevice #7
card 0: ALSA [bcm2835 ALSA], device 1: bcm2835 ALSA [bcm2835 IEC958/HDMI]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: Device [USB Audio Device], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</code></pre>

<p>I'm running a fresh installation of <code>2017-01-11-raspbian-jessie</code> on my Pi. If I run <code>raspi-config</code> and check the audio settings, I only have the following options:</p>

<pre><code>0 Auto
1 Force 3.5mm ('headphone') jack
2 Force HDMI
</code></pre>

<p>I already tried all the options without any success. My speakers are working perfectly fine with the built-in 3.5mm connector. But not with the USB sound card. The speakers are powered via USB and the audio signal goes directly to the 3.5mm slot of the USB sound card which is connected to a USB slot on my Raspberry Pi.</p>

<p>I don't know what I can do now to get the sound card working.</p>
"
61296,1,2017-01-31T11:40:10.827,2,1818,61074,,2020-12-10T16:04:55.683,2017-01-31T18:48:58.013,7,,"<p>I have apache 2.4 on my raspberry pi and need to change DocumentRoot to flash drive folder.
But I have <em>403 Forbidden</em>.</p>

<p>In apache logs:</p>

<pre><code>AH01630: client denied by server configuration: /media/pi/www/html/
</code></pre>

<p>and</p>

<pre><code>AH00035: access to /index.html denied (filesystem path '/media/pi/www') because search permissions are missing on a component of the path
</code></pre>

<p>I have read article on apache site for this error and make chmod like this, but it still forbidden:</p>

<pre><code>root@raspberrypi:/etc/apache2/sites-available# namei -m /media/root/www/html/index.php
f: /media/root/www/html/index.php
 drwxr-xr-x /
 drwxr-xr-x media
 drwxr-xr-x root
 drwxr-xr-x www
 drwxr-xr-x html
 -rw-r--r-- index.php
</code></pre>

<p>Domian config:</p>

<pre><code>&lt;VirtualHost *:80&gt;
    &lt;Directory ""/media/root/www""&gt;
        AllowOverride All
        Require all granted
    &lt;/Directory&gt;
    # The ServerName directive sets the request scheme, hostname and port that
    # the server uses to identify itself. This is used when creating
    # redirection URLs. In the context of virtual hosts, the ServerName
    # specifies what hostname must appear in the request's Host: header to
    # match this virtual host. For the default virtual host (this file) this
    # value is not decisive as it is used as a last resort host regardless.
    # However, you must set it for any further virtual host explicitly.
    #ServerName www.example.com

    ServerAdmin webmaster@localhost
    DocumentRoot /media/root/www/html

    # Available loglevels: trace8, ..., trace1, debug, info, notice, warn,
    # error, crit, alert, emerg.
    # It is also possible to configure the loglevel for particular
    # modules, e.g.
    #LogLevel info ssl:warn

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # For most configuration files from conf-available/, which are
    # enabled or disabled at a global level, it is possible to
    # include a line for only one particular virtual host. For example the
    # following line enables the CGI configuration for this host only
    # after it has been globally disabled with ""a2disconf"".
    #Include conf-available/serve-cgi-bin.conf
&lt;/VirtualHost&gt;
# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
</code></pre>

<p>If change to origin /var/www - all works fine.</p>
"
61364,1,2017-02-01T20:31:40.837,6,823,60949,,2017-02-08T07:20:54.670,,0,,"<p>After sitting in the depths of my project desk for a year or so, a Raspberry Pi model B turned up that has data I want to save.  It boots up but I deleted the <code>pi</code> user for security reasons and can't remember the username I set.</p>

<p>There is a ton of advice out there for resetting the password by use of the recovery console (<code>init=/bin/sh</code> method) but almost no advice on what to do if you have deleted the <code>pi</code> user and can't remember the username with root privileges.  I'm pretty sure I have the password, but I don't have the username.  The <code>init=/bin/sh</code> method wasn't working for me.</p>

<p>How can I discover what users exist on my RPi?</p>
"
61438,1,2017-02-03T10:39:37.747,1,424,55472,,2017-02-03T20:20:26.143,2017-02-03T11:31:13.933,0,,"<p>Im using Raspberry Pi 3 model B. Using <code>wiringPi</code> library.</p>

<p>For ISR I use , <code>wiringPiISR ()</code>.</p>

<p>When the interrupt occurs , the interrupt function get executed along with the <code>main()</code>. But I want to pause the <code>main()</code> from executing and do the interrupt function only. </p>

<p>Can anyone help me on this one?</p>
"
61544,1,2017-02-05T19:23:24.230,0,1178,61404,,2018-12-08T05:51:27.257,,0,,"<p>I'm kind of new to raspberry pi, and I saw a tutorial about making a LED blink. The LED was connected to pin 17, but the tutorial said pin 11. I connected the LED to pin 17, and in the terminal I wrote pin 11 to HIGH, and it came on. Are the gpio pins addressed differently for software/hardware? Where can I get a chart of these correlations?
Very confused. Please help</p>
"
61651,1,2017-02-07T12:59:33.530,6,2308,54871,,2019-03-06T04:25:46.483,2017-02-10T22:41:49.087,0,,"<p>I was trying to set up a MCP79410 real time clock (RTC) and had to search quite a bit until I found a way to integrate the RTC's time signal into my Raspbian Jessie:</p>

<p>Apparently, even there, some things changed over the last updates of Raspbian and there does not seem to be a huge crowd using this particular chip (as opposed to, e.g. the DS1307).</p>

<p>I specifically wanted to connect a MCP79410 already hooked up to an ABS07 quartz crystal and a HU2032-LF battery to my Raspbbery Pi Model 3B running Raspbian Jessie  4.4.38-V7+ #938.
The implementation should be as easy as possible and simply provide me with a correct system time even if the RPi is disconnected from the internet. </p>
"
61699,1,2017-02-08T16:52:41.303,38,34038,41423,,2020-05-01T21:38:56.463,2019-02-27T13:43:29.420,4,,"<p>Is there a way of determining whether the current Raspberry Pi is either a <strong>2 Model B</strong> and <strong>3</strong> with <strong>Raspbian Jessie Lite 8.0</strong>?</p>

<p>This is because I have a particular <code>bootstrap.sh</code> written in Bash where it needs to set the attribute <code>txpower</code> for a Wi-Fi USB dongle (here, Raspberry Pi 2) using a <strong>Ralink RT5370 chipset</strong> driver. </p>

<p>I set the Wireless attributes using <code>iwconfig</code> (which, I know is deprecated, but it currently gets the job done, so I am not changing it).</p>

<p>Since, in <strong>Raspberry Pi 3</strong> the internal Wi-Fi chipset is a <code>bcm</code>-based chipset which will not let the following command execute:</p>

<pre><code>iwconfig wlan0 mode ad-hoc channel 6 essid myadhoc txpower 0dBm
</code></pre>

<p>With Raspberry Pi 3 the above mentioned command works just by removing <code>dBm</code> from the above mentioned command:</p>

<pre><code>iwconfig wlan0 mode ad-hoc channel 6 essid myadhoc txpower 0
</code></pre>

<p>I would like to add a check whether the Raspberry Pi model is 2 or 3 using Bash.</p>

<p>Any hints?</p>

<p>In case, someone wants to go through the <code>bootstrap.sh</code>: <a href=""https://github.com/ComNets-Bremen/TWIN/blob/master/bootstrap.sh"" rel=""noreferrer"">Bootstrapping for TWIN</a></p>

<h1>Notes</h1>

<ul>
<li><p>I checked that <code>dBm</code> is <em>not required</em>, also in the case of the <strong>Raspberry Pi 2</strong> with the <strong>Ralink chipset</strong> hence for non-ambiguity one can use the same command for <em>both the Raspberry Pis</em> viz.</p>

<pre><code>iwconfig wlan0 mode ad-hoc channel 6 essid myadhoc txpower 0
</code></pre></li>
<li><p>It is interesting to note that for <strong>external Wi-Fi USB dongles</strong> one needs to perform the following (for <strong>Raspberry Pi 2</strong>):</p>

<pre><code>ifconfig wlan0 down
iwconfig wlan0 mode ad-hoc channel 6 essid myadhoc txpower 0
ifconfig wlan0 up
</code></pre>

<p>while as for <strong>inbuilt Wi-Fi modules (Raspberry Pi 3)</strong> there is <em>no need</em> for <code>ifconfig up and down</code>. Just the straightforward <code>iwconfig</code> command works.</p></li>
</ul>
"
61732,1,2017-02-09T11:41:42.527,3,5824,61632,,2019-07-11T15:40:12.333,,6,,"<p>I've successfully configured a Motion webcam server for monitoring my puppy as he destroys the kitchen:  The video is presented within an HTML page with allows for basic HTTP authentication, but is presented only with an <strong>un</strong>secure HTTP (<a href=""http://192.168.1.20:8081"" rel=""nofollow noreferrer"">http://192.168.1.20:8081</a>) connection.</p>

<p>As I would ultimately like to present this stream externally (I'm familiar with port forwarding), I was wondering how I would go about presenting this with HTTP<strong>S</strong> to prevent eavesdropping and ensure the password information sent is invisible.</p>

<p>I know it would be possible to somehow proxy this on the Pi, but I do not know the terminology to search for or where to begin looking!</p>

<p>The desired end state would be to connect to http<strong>s</strong>://myFreeDomain.net/, provide credentials and then view the webpage presented internally as <a href=""http://192.168.1.20:8081"" rel=""nofollow noreferrer"">http://192.168.1.20:8081</a>.</p>

<p>The Motion service can present the webpage as http:// localhost if needed.</p>

<p>Thanks in advance for any advice or examples you can provide, or any additional help,</p>

<p>James</p>
"
61861,1,2017-02-12T07:46:14.870,2,1999,40808,,2017-02-21T12:52:03.567,,2,,"<p>So I have a raspberry pi that I am trying to setup as a Gitlab server on my LAN at home.</p>

<p>I also have an install of gitlab that I have been running on one of my machines on my LAN which has historical data in it.  Call this gitlab ""Instance A"". Let's call the one on the pi ""Instance B""</p>

<p>I would like to migrate the data from my Instance A to Instance B, but gitlab has a very strict rule that states that when migrating from one server instance to another, the gitlab versions must be an -exact- match.  (See <a href=""https://docs.gitlab.com/ee/raketasks/backup_restore.html"" rel=""nofollow noreferrer"">here</a>).  This is very annoying because the latest Raspbian gitlab package is stuck at 8.7.9, but ""Instance A"" stays up to date with the Debian distros, so it is at version 8.12.3.  Gitlab refuses to restore if the versions mismatch.</p>

<p>I am very nervous to start messing with the ""Instance A"" gitlab install, in case I screw it up and delete all my data.  So downgrading ""Instance A"" version isn't my preferred path.  Not even sure how to do it, or even if gitlab will properly retain all my data when downgrading.</p>

<p>So it seems that I somehow need to get gitlab version 8.12.3 onto my pi.  How do I do this?  Is building from source my only option?  I hope not, because the docs star with warnings about how hard and error prone it is to do that.  (See <a href=""https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/install/installation.md"" rel=""nofollow noreferrer"">here</a>).</p>
"
61888,1,2017-02-12T21:26:36.953,5,6615,61856,,2017-04-14T19:27:20.753,,1,,"<p>I've <a href=""http://scruss.com/blog/2013/06/07/well-that-was-unexpected-the-raspberry-pis-hardware-random-number-generator/"" rel=""noreferrer"">read</a> the raspberry pi zero ships with an integrated hardware random number generator. I've followed some <a href=""https://www.howtoforge.com/helping-the-random-number-generator-to-gain-enough-entropy-with-rng-tools-debian-lenny"" rel=""noreferrer"">instructions</a> on how to activate the hwrng, but how do I know the system is actually using it? It doesn't seem to appear in the output of <code>lsmod</code>:</p>

<pre><code>Module                  Size  Used by
sg                     20799  0 
evdev                  11650  2 
snd_bcm2835            23131  0 
snd_pcm                95473  1 snd_bcm2835
snd_timer              22556  1 snd_pcm
snd                    68400  3 snd_bcm2835,snd_timer,snd_pcm
bcm2835_gpiomem         3823  0 
bcm2835_wdt             4133  0 
uio_pdrv_genirq         3718  0 
uio                    10230  1 uio_pdrv_genirq
ipv6                  367671  18 
</code></pre>

<p>If the hwrng is being used by the system, where is it being used? <code>/dev/random</code>?</p>

<p>Bonus question, how much entropy is enough? Here's what's in my <code>entropy_avail</code> file:</p>

<pre><code>$ cat /proc/sys/kernel/random/entropy_avail
2048
</code></pre>

<p>Thanks in advance for the help!</p>
"
62206,1,2017-02-20T05:02:13.287,0,22603,62318,,2019-02-17T01:13:44.677,2017-02-21T10:40:57.387,10,,"<p>I am working on a project which involved i2c communication between an Arduino Uno and a Raspberry Pi. I'm trying to send data to the Arduino from the Pi and back.</p>

<p>Here is my code for the Arduino:</p>

<pre><code>#include &lt;Wire.h&gt;
#include &lt;Arduino.h&gt;
#define SLAVE_ADDRESS 0x12

int flag_int_to_send_to_PI = 0;
int flag_int_received_from_PI = 0;
char data_to_send_PI[] = ""hello PI"";
String data_recieved_from_pi = """";

void setup() {
     Wire.begin(SLAVE_ADDRESS);
     Wire.onReceive(receiveData);
     Wire.onRequest(sendData);

     Serial.begin(9600);
     flag_int_to_send_to_PI = 1;
}

void loop() {}

void receiveData(int byteCount) {

    while(Wire.available()) {
        flag_int_received_from_PI = Wire.read();

        if(flag_int_received_from_PI == 1) {
            Serial.println(""PI Wants data[]."");
            flag_int_to_send_to_PI = 3;
        }

        if(flag_int_received_from_PI == 3) {
            Serial.println(""PI Wants To say its ok."");

            //reading a string from pi: Here (How ?)
            while( Wire.available()) {
                data_recieved_from_pi += (char)Wire.read();
            }

            Serial.print(""Data Received From PI:"");
            Serial.println(data_recieved_from_pi);

            data_recieved_from_pi = """";
        }
    }
}

void sendData() {

    if(flag_int_to_send_to_PI == 1) {
        Serial.println(""Conversation begin : sending 1 to PI"");

        Wire.write(flag_int_to_send_to_PI);
    }

    if(flag_int_to_send_to_PI == 3) {
        Wire.write(data_to_send_PI);
    }

    flag_int_to_send_to_PI = 0;
}
</code></pre>

<p>and here is the Raspberry Pi Code:</p>

<pre><code>#!/usr/bin/python

from smbus import SMBus
import time
bus = SMBus(1)
slaveAddress = 0x12
data_received_from_Arduino = """"
data_to_send_to_Arduino = ""Hello Uno""

def StringToBytes(val):
    retVal = []
    for c in val:
            retVal.append(ord(c))
    return retVal


while(1):
    try:
        x = bus.read_byte(slaveAddress)

        if (x == 1):
            print(x)
            bus.write_byte(slaveAddress,1)
            time.sleep(0.2)
            data_received_from_Arduino = bus.read_i2c_block_data(slaveAddress, 0,12)
            print(data_received_from_Arduino)
            bus.write_byte(slaveAddress,3)
            print(StringToBytes(data_to_send_to_Arduino))
            bus.write_i2c_block_data(slaveAddress, 0x00,StringToBytes(data_to_send_to_Arduino))
</code></pre>

<p>Here is the serial and console output:</p>

<pre><code>Arduino serial output:
    Conversation begin : sending 1 to PI
    PI Wants data[].
    PI Wants To say its ok.
    Data Received From PI:


Raspberry Pi console:
    1
    [0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]
    [72, 101, 108, 108, 111, 32, 85, 110, 111]
</code></pre>

<h2>How does it work?</h2>

<ol>
<li>The Arduino sends a 1 to the Pi to initiate a two communication.</li>
<li>The Pi sends back 1 to acknowledge.</li>
<li>The Arduino then sends the data string to the Pi.</li>
<li>The Pi receives the data and sends back 3 to the Arduino to say it went OK. (but it does not go ok).</li>
</ol>

<p>The Pi then sends the data string to the Arduino, which I'm unable to read on the Arduino side, even though I tried.</p>

<h2>My Questions</h2>

<ul>
<li>Why is the Raspberry Pi receiving 255 every where in the buffer?</li>
<li>How can the Arduino get the byte array sent from the Pi?</li>
</ul>
"
62669,1,2017-03-01T11:19:46.290,1,1300,62894,,2019-07-29T09:50:26.733,2019-07-29T09:50:26.733,0,,"<p>I am trying to invert the mouse Y axis in Minecraft Pi but can't find a solution to this as there are no options available in Minecraft Pi. Would/can I write a python script that runs in the background to do this?</p>
"
62705,1,2017-03-02T00:39:25.867,0,818,62943,,2020-12-28T09:05:30.507,2017-03-02T00:42:53.930,0,,"<p>I am a new programmer, trying to learn python. I am using the sense hat to mess around with, I want to make it like rotate RGB colors. I am using the sense.set_pixel and passing in the x,y and r,g,b arguments(?). It's not setting any pixels however. Can someone help me? Thank you!</p>

<pre><code>from sense_hat import SenseHat
import random

sense = SenseHat()

def rainbow():
  x = random.randrange(8)
  y = random.randrange(8)
  r = random.randrange(256)
  g = random.randrange(256)
  b = random.randrange(256)
  while True:
      sense.set_pixel(x,y,r,g,b)

rainbow()
</code></pre>
"
62848,1,2017-03-04T21:24:18.270,0,323,63137,,2017-03-06T20:38:23.000,,2,,"<p>my pi reads data from sensors and I want it to send the data to my pc, and whenever the pi reads a new value, it must send it to the pc automatically and save it in a text file and appends it to it. Can anyone suggest a good way to do that ? 
Note : I'm using C++ to read the data.
And my pc's operating system is ubuntu 
Thank you all</p>
"
62933,1,2017-03-06T21:21:34.640,21,60983,63263,,2018-11-09T20:39:09.610,2017-03-06T21:57:55.993,2,,"<p>I bought the new Raspberry Pi W but I don't have right now an mini-HDMI adaptor (to connect it to a monitor) neither an Ethernet module to connect by SSH.</p>

<p>Can I connect somehow by SSH through USB?</p>

<p>How can I connect by SSH by WiFi without it being setup? 
Will the WiFi automatically connect e.g to a wireless network without password?</p>
"
63029,1,2017-03-08T07:21:40.970,0,220,63198,,2017-03-08T20:58:23.030,,0,,"<p>I'm trying to read from my Mi Flora sensors using <a href=""https://home-assistant.io/components/sensor.miflora/"" rel=""nofollow noreferrer"">this guide</a>. I've found them using hcitool, so I know some things are working. But when I try to put in the lines to run it, the configuration validation checks out but Home Assistant won't start after reboot. I can still log on with ssh, but the front end panel isn't accessible as long as the lines below are in configuration.yaml.</p>

<pre><code>sensor:
  - platform: miflora
    mac: ""C4:7C:8D:62:0B:B0""
    monitored_conditions:
      - temperature
</code></pre>

<p>What is going wrong? Is there a step I'm missing? I've noticed I haven't really installed any mi flora packages specifically, but there doesn't seem to be any resources on how to do that, so I'm assuming it's already built in.</p>
"
63193,1,2017-03-11T17:56:42.640,0,372,63580,,2020-02-25T21:02:00.340,,5,,"<p>I recently got a Dust sensor from a company and it says that the voltage out corresponds to the concentration of dust in the air. How can I use the GPIO pins to get the voltage reading?</p>

<p>The voltage is lower than 4 volts as well.</p>
"
63257,1,2017-03-13T03:53:53.580,0,2956,63675,,2017-03-13T15:24:03.263,2017-03-13T14:13:31.480,4,,"<p>I'm creating a project using the Raspberry Pi Zero W and a Pi Cam to take pictures remotely.</p>

<p>Think deer camera in the woods. I need this to be battery powered and last at least a week. </p>

<p>Is this possible? What is the best battery setup for a job like this? I'm looking at the LiPo batteries from Adafruit. Battery/power is my my main concern at the moment, the rest I have a grasp on.</p>

<p>How do you hook up a LiPo battery (like <a href=""https://www.adafruit.com/products/2750"" rel=""nofollow noreferrer"">this</a>) to power a Pi Zero?</p>

<p>If anyone has a tutorial on doing something like I'm asking, that would be very helpful.</p>

<p>UPDATE</p>

<p>So I plan on taking a photo every hour on the hour, so 24 photos per day. Let's say average temperature will be around 50-60 degrees fahrenheit. </p>
"
63469,1,2017-03-17T09:14:34.613,0,835,63940,,2017-03-18T13:46:58.233,,0,,"<p>Morning Folks,</p>

<p>I'm a new Pi programmer attempting to hookup multiple TMP102 sensors over I2C. I started this journey with this <a href=""http://www.instructables.com/id/Raspberry-Pi-Temperature-Logger/?ALLSTEPS"" rel=""nofollow noreferrer"">http://www.instructables.com/id/Raspberry-Pi-Temperature-Logger/?ALLSTEPS</a> instructable, and I have one sensor at a time reading just fine.</p>

<p>Unfortunately it looks like both sensors I'm trying to hookup are registered to address 0x48. I've tried changing the address with the code OP posted here <a href=""https://www.raspberrypi.org/forums/viewtopic.php?f=44&amp;t=63419"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/forums/viewtopic.php?f=44&amp;t=63419</a> with no luck. It doesn't seem like the sensor wants to change addresses.</p>

<p>Has anyone here attempted to connect two of these to a Pi and could point me in the right direction? I'm starting to think it's not possible to connect both over i2c.</p>

<p>Thanks.</p>
"
63492,1,2017-03-17T16:02:38.937,2,5307,63963,,2017-04-08T08:31:29.430,2017-04-08T08:31:29.430,2,,"<p>I have a RFID-RC522 connected to Raspberry Pi and a python script which reads my RFID tag and prints out the result of the reading.</p>

<p>I want to transfer the ID of the RFID tag to a Microsoft SQL Server database on a remote PC. On the Microsoft SQL server database this ID should be joined to related data of this ID.</p>

<p>Please any advice!</p>

<p>here's my RFID script :</p>

<p>here's the script :</p>

<pre><code>#!/usr/bin/env python
# -*- coding: utf8 -*-

import RPi.GPIO as GPIO
import MFRC522
import signal
import time
from os import getenv
import pymssql

server = getenv(""PYMSSQL_TEST_SERVER"")
user = getenv(""PYMSSQL_TEST_USERNAME"")
password = getenv(""PYMSSQL_TEST_PASSWORD"")    
conn = pymssql.connect(""192.168.1.20:1433"", ""sa"", ""Tne-project2017"", ""project"")


continue_reading = True
# the uid of the last recognized card
lastcarduid = None
# the time a card uid was last seen
lastcardtime = 0.0

# this long after a card has been noticed, it can be noticed again
# This works because the reader generates repeated notifications of the card
# as it is held agains the reader - faster than this interval.
# The timer is restarted every time the reader generates a uid.
# If you sometimes get repeated new card IDs when holding a card against the
# reader, increase this a little bit.
CARDTIMEOUT = 1.0

# Capture SIGINT for cleanup when the script is aborted
def end_read(signal,frame):
    global continue_reading
    print ""Ctrl+C captured, ending read.""
    continue_reading = False
    GPIO.cleanup()

# Hook the SIGINT
signal.signal(signal.SIGINT, end_read)

# Create an object of the class MFRC522
MIFAREReader = MFRC522.MFRC522()

## Welcome message
#print ""Welcome to the MFRC522 data read example""
#print ""Press Ctrl-C to stop.""

def gettypename( typecode ):
    typecode &amp;= 0x7F;
    if typecode == 0x00:
        return ""MIFARE Ultralight or Ultralight C""
    elif typecode == 0x01:
        return ""MIFARE TNP3XXX""
    elif typecode == 0x04:
        return ""SAK indicates UID is not complete""
    elif typecode == 0x08:
        return ""MIFARE 1KB""
    elif typecode == 0x09:    
        return ""MIFARE Mini, 320 bytes""
    elif typecode == 0x10 or typecode == 0x11:
        return ""MIFARE Plus""
    elif typecode == 0x18:
        return ""MIFARE 4KB""
    elif typecode == 0x20:
        return ""PICC compliant with ISO/IEC 14443-4""
    elif typecode == 0x40:
        return ""PICC compliant with ISO/IEC 18092 (NFC)""
    return ""Unknown type"";

# This loop keeps checking for chips. If one is near it will get the UID and authenticate
while continue_reading:
    # Scan for cards    
    (status,TagType) = MIFAREReader.MFRC522_Request(MIFAREReader.PICC_REQIDL)

    # Get the UID of the card
    (status,rawuid) = MIFAREReader.MFRC522_Anticoll()

    # If we have a good read of the UID, process it
    if status == MIFAREReader.MI_OK:
        uid = ""{0[0]:02x}{0[1]:02x}{0[2]:02x}{0[3]:02x}"".format(rawuid)
#        # Print UID
#        print ""Card read UID: ""+uid
        newcard = False
        if lastcarduid:
            if lastcarduid != uid or (lastcardtime and time.clock() - lastcardtime &gt;= CARDTIMEOUT):
                newcard = True
        else:
            newcard = True

        if newcard:
#            print ""New Card read UID: ""+uid
            # String payload = ""{\""d\"":{\""cardUID\"":\"""";
            #  payload += UID_HEX;
            #  payload += ""\"",\""cardtype\"":\"""";
            #  payload += mfrc522.PICC_GetTypeName(piccType);
            #  payload += ""\""}}""; 
            rawcardtype = MIFAREReader.MFRC522_SelectTag(rawuid)
            cardtypename = gettypename( rawcardtype )
            print '{ ""cardUID"": ""'+uid+'"",""cardtype"":""'+cardtypename+'"" }'
cursor = conn.cursor()
cursor.execute(
""INSERT INTO Attendence VALUES ('""+str (uid) +""','""+str (cardtypename) +""')""
)
# you must call commit() to persist your data if you don't set autocommit to True
conn.commit()
conn.close()
# remember the last card uid recognized
lastcarduid = uid
# remember when it was seen
lastcardtime = time.clock()
</code></pre>
"
63677,1,2017-03-20T22:31:16.670,1,461,63535,,2017-03-22T16:41:28.767,,1,,"<p>I am downloading the firmware from here</p>

<p><a href=""https://github.com/raspberrypi/firmware"" rel=""nofollow noreferrer"">https://github.com/raspberrypi/firmware</a></p>

<p>and I would like to know, what are the steps to burn the firmware on the micro SD card? Unfortunately, there is no description available in the wiki.</p>

<p>When I insert the pre built SD Card that came with the Raspberry hardware, it shows me two paritions: boot and kernel.</p>

<p>Can anyone tell me the file system format and which files go to which partition? Basically I want to start every thing from scratch.</p>
"
63839,1,2017-03-23T19:16:15.183,0,5799,12476,,2017-03-27T14:58:37.157,2017-04-13T12:56:23.120,4,,"<p>So I have been trying to install OpenELEC on my brand new RPi3B+ multiple times but everytime I install it, upon the next reboot I get this annoying warning that the file system is corrupted:</p>

<pre><code>Filesystem corruption has been detected
To prevent an automatic repair attempt continuing
press any key or power off your system within the next 120 seconds
</code></pre>

<p>It seems to be coming from this <a href=""https://github.com/OpenELEC/OpenELEC.tv/blob/master/packages/sysutils/busybox/scripts/init#L326"" rel=""nofollow noreferrer"">script</a>.</p>

<p>So the first boot is OK since I can go all the way to the end of the KODI installer. The installer goes through all the steps of selecting name, network, ssh/samba...</p>

<p>So the SDcard appears as valid whenever I use <code>dd</code> from the laptop, but for some reason appears as broken when used from the RPi3B+.</p>

<p>Here is what I have over here:</p>

<pre><code>laptop $ sha1sum OpenELEC-RPi2.arm-7.0.1.img
9ef893344ed3f34e8902ef1acd72529cfd9c566e  OpenELEC-RPi2.arm-7.0.1.img
</code></pre>

<p>Here is how I created the disk:</p>

<pre><code>laptop $ sudo dd if=OpenELEC-RPi2.arm-7.0.1.img of=/dev/sdb bs=4M
laptop $ sudo sync
</code></pre>

<p>During installation, I can start the <code>ssh</code> server, and login as <code>root</code>. Here is what <code>dmesg</code> reveals:</p>

<pre><code>[   89.339021] EXT4-fs error (device mmcblk0p2): ext4_mb_generate_buddy:758: group 1424, block bitmap and bg descriptor inconsistent: 0 vs 4064 free clusters
[   89.499420] JBD2: Spotted dirty metadata buffer (dev = mmcblk0p2, blocknr = 1). There's a risk of filesystem corruption in case of system crash.
[  143.674137] EXT4-fs error (device mmcblk0p2): ext4_mb_generate_buddy:758: group 1440, block bitmap and bg descriptor inconsistent: 0 vs 4064 free clusters
[  143.870981] JBD2: Spotted dirty metadata buffer (dev = mmcblk0p2, blocknr = 1). There's a risk of filesystem corruption in case of system crash.
[  161.030349] EXT4-fs error (device mmcblk0p2): ext4_mb_generate_buddy:758: group 1456, block bitmap and bg descriptor inconsistent: 0 vs 4064 free clusters
[  161.605868] JBD2: Spotted dirty metadata buffer (dev = mmcblk0p2, blocknr = 1). There's a risk of filesystem corruption in case of system crash.
[  161.611432] JBD2: Spotted dirty metadata buffer (dev = mmcblk0p2, blocknr = 1). There's a risk of filesystem corruption in case of system crash.
</code></pre>

<p>If I remove the sdcard and load it from my laptop I can see:</p>

<pre><code>[14504.911446] scsi 11:0:0:0: Direct-Access     Generic- Multi-Card       1.00 PQ: 0 ANSI: 0 CCS
[14504.912444] sd 11:0:0:0: Attached scsi generic sg2 type 0
[14505.902820] sd 11:0:0:0: [sdb] 32768000 512-byte logical blocks: (16.7 GB/15.6 GiB)
[14505.903882] sd 11:0:0:0: [sdb] Write Protect is off
[14505.903889] sd 11:0:0:0: [sdb] Mode Sense: 03 00 00 00
[14505.905013] sd 11:0:0:0: [sdb] No Caching mode page found
[14505.905021] sd 11:0:0:0: [sdb] Assuming drive cache: write through
[14505.909812]  sdb: sdb1 sdb2
[14505.913914] sd 11:0:0:0: [sdb] Attached SCSI removable disk
[14506.405694] EXT4-fs (sdb2): warning: mounting fs with errors, running e2fsck is recommended
[14506.428429] EXT4-fs (sdb2): mounted filesystem with ordered data mode. Opts: (null)
[14506.601421] EXT4-fs error (device sdb2): ext4_iget:4222: inode #851969: comm pool: bad extended attribute block 4294967295
[14506.606328] EXT4-fs error (device sdb2): ext4_iget:4222: inode #917505: comm pool: bad extended attribute block 4294967295
[14506.769229] FAT-fs (sdb1): utf8 is not a recommended IO charset for FAT filesystems, filesystem will be case sensitive!
</code></pre>

<p>I was hoping to simply run <code>fsck</code> to fix this, but I cannot apply suggestion from <a href=""https://raspberrypi.stackexchange.com/questions/3289/checking-sdcard-for-errors-unmount-problem"">here</a>, since I get:</p>

<pre><code>OpenELEC:~ # fsck -fy /dev/mmcblk0p2 
fsck from util-linux 2.29
e2fsck 1.43.3 (04-Sep-2016)
/dev/mmcblk0p2 is mounted.
e2fsck: Cannot continue, aborting.
</code></pre>

<p>And same with:</p>

<pre><code>OpenELEC:~ # touch /forcefsck
touch: /forcefsck: Read-only file system
</code></pre>

<p>The card is brand new (I did format it completly using <code>gnome-disks</code> to all zeros), I find it hard to believe it is dying. Is there a way for sure to test the card from another linux laptop if this is the case ?</p>

<hr>

<p>Here is what I did (following info from <a href=""https://askubuntu.com/questions/69932/is-there-an-sd-card-diagnostic-utility"">here</a>), which gave me:</p>

<p><a href=""https://i.stack.imgur.com/wZyZR.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wZyZR.png"" alt=""enter image description here""></a></p>

<p>It is labeled Kingston 16GB class 10 Micro SDHC. Since I did not see anything wrong in the <code>dmesg</code> log from my laptop, I would think the SD card is in good shape.</p>

<p>Running some additional tests (from <a href=""http://wiki.laptop.org/go/SDCard_Testing"" rel=""nofollow noreferrer"">here</a>), leads to:</p>

<pre><code># ./run_test.sh /dev/sdb
Running flashbench
4MiB    3.84M/s 
2MiB    2.38M/s 
1MiB    1.32M/s 
512KiB  858K/s  
256KiB  437K/s  
128KiB  221K/s  
64KiB   112K/s  
32KiB   56.1K/s 
16KiB   27.7K/s 
8KiB    13.4K/s 
4KiB    6.72K/s 
</code></pre>
"
63944,1,2017-03-26T15:22:30.860,1,1033,64495,,2017-03-26T16:05:00.807,2017-03-26T15:57:10.977,0,,"<p>In our university we have a computer's technology subject in which we have to program in ARM's assembly language.</p>

<p>We have the chance to use a simulator but I was wondering if I was able to execute them in my own Raspberry Pi and to check how the registers are changing. Like on the left of the attached image.</p>

<p><img src=""https://i.imgur.com/yw5RyRb.png"" alt=""ARMsim"">.</p>
"
63988,1,2017-03-27T18:32:21.563,0,623,64566,,2017-03-30T16:44:56.030,2017-03-27T19:04:19.907,3,,"<p>Just few days ago I bought  Rasberry Pi 3 for education, and try my best at low-level programming. For now I wrote a simple GPIO code to set low and high level on controller's pin. My functions can write digital high  and low on pins, by GPIO number (0-53).
    Without with functions to set high/low on pin I must find required register to set pin to output as GPFSEL0-GPFSEL5 and find required bit (every 3 bit refers to next pin). Then I need to find required GPSET register (GPSET0-GPSET1), every bit of this refers to next pin. So it will looks like:</p>

<pre><code>     //To set high GPIO4 pin (GPFSEL0 and GPSET0 assumed to be adresses)
            #define GPIO4_GPFSEL 12
            #define GPIO4 4
            *GPFSEL0 |= (1 &lt;&lt; GPIO4_GPFSEL);
            *GPSET0 |= (1 &lt;&lt; 4);
</code></pre>

<p>So, I wrote more high-level functions to avoid remebering bits and registers:</p>

<pre><code>gpio_set_mode(GPIO4, GPIO_OUTPUT);
gpio_set_high(GPIO4);
</code></pre>

<p>And how looks my functions:</p>

<pre><code>void gpio_set_mode(uint32_t gpio, gpio_mode mode)
{
   uint32_t gpfsel_addr = GPIO_BASE;
   uint32_t gpfsel_num = (uint32_t)(gpio / 10);
   uint32_t gpio_bit = ((((uint32_t)(gpio % 10)) * 3));

   for (int i = 0; i &lt; 6; i++)
   {
       if (i == gpfsel_num)
           break;
       else
           gpfsel_addr += 0x04;
   }

   volatile uint32_t* GPFSEL = (volatile uint32_t*) gpfsel_addr;
   switch (mode)
   {
       case GPIO_OUTPUT:
           *GPFSEL |= (1 &lt;&lt; gpio_bit);
       case GPIO_INPUT:
       {
       *GPFSEL &amp;= ~(1 &lt;&lt; gpio_bit);
       *GPFSEL &amp;= ~(1 &lt;&lt; (gpio_bit+1));
       *GPFSEL &amp;= ~(1 &lt;&lt; (gpio_bit+2));
       }
   }
}

void gpio_set_high(uint32_t gpio)
{
    volatile uint32_t* GPSET = ((gpio &lt; 32) ? ( (volatile uint32_t*)(GPSET0)) : ( (volatile uint32_t*)(GPSET1) ));
    uint32_t gpio_bit = (gpio &lt; 32) ? gpio : (gpio - 32);
    *GPSET |= (1 &lt;&lt; gpio_bit);
}


void gpio_set_low(uint32_t gpio)
{
   volatile uint32_t* GPCLR = ((gpio &lt; 32) ? ( (volatile uint32_t*)(GPCLR0) ) : ( (volatile uint32_t*)(GPCLR1)));
   uint32_t gpio_bit = ((gpio &lt; 32) ? gpio : (gpio - 32));
   *GPCLR |= (1 &lt;&lt; gpio_bit);
}

uint32_t gpio_status(uint32_t gpio)
{
   volatile  uint32_t* GPLEV = ((gpio &lt; 32) ? ((volatile uint32_t*)(GPLEV0)) : ((volatile uint32_t*)(GPLEV1)));
   uint32_t  gpio_bit = ((gpio &lt; 32) ? gpio : (gpio - 32));
   return (*GPLEV &amp; (1 &lt;&lt; gpio_bit));
}
</code></pre>

<p>And for some reason my code doesnt works. But I sure, it must work. I compile it with arm-none-eabi-gcc with args:</p>

<pre><code>-Wall -O2 -nostdlib -nostartfiles -ffreestanding 
</code></pre>

<p>There are no error messages. </p>
"
64110,1,2017-03-29T23:01:11.970,0,435,59548,,2020-12-31T10:05:25.590,2017-03-29T23:06:51.283,0,,"<p>I'm on the latest Raspbian Jessie.</p>

<p>I'd like to increase the size of an open FIFO pipe buffer. </p>

<p>I've already upped the max size via
    sudo sysctl fs.pipe-max-size=4194304</p>

<p>Then I'm attempting the following perl script to set my open pipe to that size:</p>

<pre><code>#!/usr/bin/perl
# usage: name-of-open-fifo size-in-bytes
use Fcntl;
my $fifo = shift @ARGV or die ""usage: fifo size"";
my $size = shift @ARGV or die ""usage: fifo size"";
open(FD, $fifo) or die ""cannot open"";
printf ""old size %d\n"",fcntl(\*FD, Fcntl::F_GETPIPE_SZ, 0);
my $new = fcntl(\*FD, Fcntl::F_SETPIPE_SZ, int($size));
die ""failed"" if $new&lt;$size;
printf ""new size %d\n"",$new;
</code></pre>

<p>But no luck:</p>

<pre><code>$ ~/setfifo.sh /tmp/temp_video.h264 4194304
old size 4 failed at /home/pi/setfifo.sh line 10
</code></pre>

<p>Anyone know how to do this?</p>
"
64142,1,2017-03-30T16:29:35.997,1,219,64738,,2020-09-27T02:01:10.230,2017-04-02T02:21:45.293,4,,"<p>I was making a python script for home automation using Adafruit IO as a conduit between IFTTT and the Raspi, and it works great for a while. But after a few hours, it just stops working. I have no monitor connected, as the raspi is mounted to my wall. Below is my code: </p>

<pre><code>import time
import RPi.GPIO as GPIO
import os
from Adafruit_IO import *
from Adafruit_IO import MQTTClient

clear = ""CLEAR""

ADAFRUIT_IO_USERNAME = ""ADAFRUIT IO USERNAME""
ADAFRUIT_IO_KEY = ""ADAFRUIT IO KEY""

GPIO.setmode(GPIO.BCM)
GPIO.setwarnings(False)
GPIO.setup(18,GPIO.OUT)
GPIO.setup(17,GPIO.OUT)
GPIO.setup(23,GPIO.OUT)
GPIO.setup(24,GPIO.OUT)
GPIO.setup(25,GPIO.OUT)

def connected(client):
    client.subscribe('welcome-feed') #may need to change this feedname later
    print ""Connected!""
    client.publish('welcome-feed', clear)
    client.publish('welcome-feed', clear)   
    time.sleep(1.5)

def disconnected(client):
    print 'Lost connection to server!'
def message(client, feed_id, payload):
    if payload == ""LIGHT"" :
        print ""LIGHT command received from IFTTT.""
        print ""LIGHTS TOGGLED!""
        time.sleep(0.2)
        GPIO.output(17,GPIO.HIGH)
        time.sleep(0.1)
        GPIO.output(17,GPIO.LOW)
    elif payload == ""FAN_LOW"" :
        print ""FAN SPEED SET TO LOW!""
        time.sleep(0.2)
        GPIO.output(18, GPIO.HIGH)
        time.sleep(0.1)
        GPIO.output(18, GPIO.LOW)

    elif payload == ""FAN_MED"" :
        print ""FAN SPEED SET TO MEDIUM!""
        time.sleep(0.2)
        GPIO.output(23,GPIO.HIGH)
        time.sleep(0.1)
        GPIO.output(23,GPIO.LOW)
    elif payload == ""FAN_HIGH"" :
        print ""FAN SPEED SET TO HIGH!""
        time.sleep(0.2)
        GPIO.output(24, GPIO.HIGH)
        time.sleep(0.1)
        GPIO.output(24, GPIO.LOW)

    elif payload == ""FAN_OFF"" :
        print ""FAN IS OFF""
        time.sleep(0.2)
        GPIO.output(25, GPIO.HIGH)
        time.sleep(0.1)
        GPIO.output(25, GPIO.LOW)
    else:
        print""Message from IFTTT received: %s"" % payload

client = MQTTClient (ADAFRUIT_IO_USERNAME, ADAFRUIT_IO_KEY)

# Setup the callback functions defined above.
# English: If it connects, go to connected, if it gets a msg go to message

client.on_connect   = connected
client.on_message   = message
client.on_disconnect    = disconnected

print 'Attempting a connection to the server...'
client.connect()
client.loop_background() # loop in background


while 1 == 1:
    time.sleep(120)
    client.publish('welcome-feed', ""PING"")
</code></pre>

<p>Any ideas as to why it isn't working? I thought it might be a connection to the server timing out because of inactivity, so I set up a part of the code to post ""PING"" to the server every 2 minutes, but that didn't help. Thanks for your help!!!  :D  :D </p>
"
64440,1,2017-04-05T13:32:16.583,2,272,65092,,2017-04-11T20:00:34.983,2017-05-23T12:37:05.627,2,,"<p>My project has a server and several client Pis on a local network. The goal is to have the server sends commands to all active/online client Pis.</p>

<p>To facilitate this, my idea is that once a client has booted, it checks in to the server so the server knows it's online and where to find it. I've avoided the nmap solution in <a href=""https://raspberrypi.stackexchange.com/questions/13936/find-raspberry-pi-address-on-local-network"">this</a> post because I feel there's a more elegant solution since the client Pis can be running any helpful identification service to make this easier.</p>

<p>My current prototype has the server sending UDP broadcast messages. The client Pis run a listening script that, upon receiving the broadcast, send a message back to the ip of the broadcast (the address of the server) with the appropriate info. The server then knows where to send commands to clients once they've checked in. (Weird side note, my Pi client receives/recognizes roughly only 5% of the broadcast messages sent out).</p>

<p>What is the better design decision? <a href=""https://stackoverflow.com/questions/628949/whats-the-best-way-to-locate-devices-on-a-network"">This</a> post suggests using UPnP / DLAN, however the only examples I've found are for media streaming devices (which seems to go far beyond the needs / complexity of my project).</p>

<p>The other option I've found is using <a href=""https://en.wikipedia.org/wiki/Bonjour_(software)"" rel=""nofollow noreferrer"">Bonjour</a>. The server would configure a host name that all clients would know and be able to send messages to (essentially saying they're alive and online). Additionally, the client Pis could setup their own hostnames.</p>

<p>Please let me know if one makes more sense for more application or if there is something else I should research. I appreciate any advice!</p>
"
64465,1,2017-04-05T21:10:12.843,1,1817,65106,,2017-04-10T14:30:34.637,2017-04-06T14:04:45.187,2,,"<p>I know how to write to a pin but I can't find an example of how to read for example 3.3v from a input pin using node.js. </p>

<p>I use wiring-pi to write, how would you do it with an example?</p>

<p>I'm using <a href=""https://www.npmjs.com/package/wiring-pi"" rel=""nofollow noreferrer"">https://www.npmjs.com/package/wiring-pi</a>. </p>

<pre><code>var wpi = require('wiring-pi');
wpi.setup('wpi');

var pin = 0;

wpi.pinMode(pin, wpi.OUTPUT);

var value = 1;

setInterval(function() {
  wpi.digitalWrite(pin, value);
  value = +!value;
}, 500);
</code></pre>

<p>That works for me. What I want to do now is to read from a pin and launch an event. I can't find any example of it.</p>
"
64521,1,2017-04-07T07:48:35.813,6,3390,65182,,2017-04-08T18:39:57.797,2017-04-07T14:40:43.183,2,,"<p>I'm setting up my pi0 as HID Keyboard. I've followed this link <a href=""http://isticktoit.net/?p=1383"" rel=""nofollow noreferrer"">Pi0 libcomposite gadget</a>. </p>

<p>Every thing works fine, the pi is well recognized as USB Keyboard</p>

<pre><code>$ dmesg
[ +16,318525] usb 1-1.3: new high-speed USB device number 8 using ehci-pci
[  +0,093215] usb 1-1.3: New USB device found, idVendor=1d6b, idProduct=0104
[  +0,000003] usb 1-1.3: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[  +0,000001] usb 1-1.3: Product: hid3myPi
[  +0,000001] usb 1-1.3: Manufacturer: sk4mi
[  +0,000001] usb 1-1.3: SerialNumber: 1049799107101100
[  +0,001447] input: sk4mi hid3myPi as /devices/pci0000:00/0000:00:1a.0/usb1/1-1/1-1.3/1-1.3:1.0/0003:1D6B:0104.0004/input/input15
[  +0,053447] hid-generic 0003:1D6B:0104.0004: input,hidraw2: USB HID v1.01 Keyboard [sk4mi hid3myPi] on usb-0000:00:1a.0-1.3/input0
</code></pre>

<p>with lsusb:</p>

<pre><code>$ lsusb
Bus 001 Device 008: ID 1d6b:0104 Linux Foundation Multifunction Composite Gadget
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  idVendor           0x1d6b Linux Foundation
  idProduct          0x0104 Multifunction Composite Gadget
  bcdDevice            1.00
  iManufacturer           1 sk4mi
  iProduct                2 hid3myPi
  iSerial                 3 1049799107101100
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           41
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          4 Config 1 : test
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              250mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass         3 Human Interface Device
      bInterfaceSubClass      1 Boot Interface Subclass
      bInterfaceProtocol      1 Keyboard
      iInterface              5 HID Interface
        HID Device Descriptor:
          bLength                 9
          bDescriptorType        33
          bcdHID               1.01
          bCountryCode            0 Not supported
          bNumDescriptors         1
          bDescriptorType        34 Report
          wDescriptorLength      63
         Report Descriptors: 
           ** UNAVAILABLE **
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval               4
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x01  EP 1 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval               4
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)
</code></pre>

<p>But now there is a little problem: when i send keystrokes to the host, the layout keyboard of HID device is wrong.</p>

<p>Per example, when i want to send the <kbd>a</kbd> char, i send:</p>

<pre><code>echo -ne ""\0\0\x4\0\0\0\0\0"" &gt; /dev/hidg0 #press a
echo -ne ""\0\0\x0\0\0\0\0\0"" &gt; /dev/hidg0 #release key
</code></pre>

<p>But it's a <kbd>q</kbd> on the screen. So the device is configured as qwerty keyboard, but i want to send in azerty mode. </p>

<p>my script to initiate pi0 as HID device:</p>

<pre><code># load libcomposite module
modprobe libcomposite
# create gadget
cd /sys/kernel/config/usb_gadget/
mkdir -p hidzero
cd hidzero
echo 0x1d6b &gt; idVendor
echo 0x0104 &gt; idProduct
echo 0x0100 &gt; bcdDevice
echo 0x0200 &gt; bcdUSB
echo 8      &gt; bCountryCode

mkdir -p strings/0x409
echo ""1049799107101100"" &gt; strings/0x409/serialnumber
echo ""sk4mi"" &gt; strings/0x409/manufacturer
echo ""hid3myPi"" &gt; strings/0x409/product
mkdir -p configs/c.1/strings/0x409
echo ""Config 1 : test"" &gt; configs/c.1/strings/0x409/configuration
echo 250 &gt; configs/c.1/MaxPower

#-------------------
#functions here:
# ------------------

#hid conf
mkdir -p functions/hid.usb0
echo 1 &gt; functions/hid.usb0/protocol
echo 1 &gt; functions/hid.usb0/subclass
echo 8 &gt; functions/hid.usb0/report_length
bash -c 'echo -ne \\x05\\x01\\x09\\x06\\xa1\\x01\\x05\\x07\\x19\\xe0\\x29\\xe7\\x15\\x00\\x25\\x01\\x75\\x01\\x95\\x08\\x81\\x02\\x95\\x01\\x75\\x08\\x81\\x03\\x95\\x05\\x75\\x01\\x05\\x08\\x19\\x01\\x29\\x05\\x91\\x02\\x95\\x01\\x75\\x03\\x91\\x03\\x95\\x06\\x75\\x08\\x15\\x00\\x25\\x65\\x05\\x07\\x19\\x00\\x29\\x65\\x81\\x00\\xc0  &gt; functions/hid.usb0/report_desc'
ln -s functions/hid.usb0 configs/c.1/

#end functions

ls /sys/class/udc &gt; UDC
</code></pre>

<p>I try to change the value of bCountryCode, but it don't take effect as we can see on lsusb result...</p>

<p>Anyone knows how to change that ?</p>

<p>Thanks!</p>

<p>Sk4mi</p>
"
64531,1,2017-04-07T10:21:34.403,0,8858,11905,,2017-12-20T19:53:38.083,2017-04-08T08:31:09.153,2,,"<p>I have two problems with my usb soundcard.</p>

<ol>
<li>It shows only single input channel (even though it is stereo capable , tested in Windows OS which correctly identifies as stereo )</li>
<li>Shows only supports 48000 sample rate. I need 44100 sample rate </li>
</ol>

<p>I have no idea whether supported sample rate has anything to do with hardware compatibility but when i plug it in to windows, it shows 44100 to the list of compatible sample rates.</p>

<p>I believe these settings should be software configurable or at the worst i need to re-configure the driver to make it accept two channels and 44.1k sample rate.</p>

<p>I've been trying many different approaches since several weeks but haven't been able to get any closer.</p>

<p>The device I am using: <a href=""http://www.ebay.com/itm/USB-2-0-Video-Audio-VHS-RCA-to-DVD-Grabber-Capture-Card-Adapter-For-WIN7-8-10-XP-/351984239268?hash=item51f3e542a4:g:nzgAAOSwWxNYpWo5"" rel=""nofollow noreferrer"">http://www.ebay.com/itm/USB-2-0-Video-Audio-VHS-RCA-to-DVD-Grabber-Capture-Card-Adapter-For-WIN7-8-10-XP-/351984239268?hash=item51f3e542a4:g:nzgAAOSwWxNYpWo5</a></p>

<p>I'm trying to use this device to record the audio from the audio in port.
I'm using python.</p>

<pre><code>$ lusub
Bus 001 Device 005: ID 18ec:5850 Arkmicro Technologies Inc.
</code></pre>

<p>By using python soundevice module to list the device</p>

<pre><code>$ python -m sounddevice
USB2.0 PC CAMERA: Audio (hw:1,0), ALSA (1 in, 0 out)
</code></pre>

<p>When I use pyaudio (python module) to get the device detail</p>

<pre><code>$  pa = pyaudio.PyAudio()
$  pa.get_device_info_by_index(2)
</code></pre>

<p>This shows device default sample rate as 48000 and no of channels = 1 </p>

<p>I am using pyaudio to record the sound</p>

<pre class=""lang-py prettyprint-override""><code>self.stream = self.audio.open(
                format=self.FORMAT,
                channels=self.CHANNELS,
                rate=AUDIO_SAMPLING_RATE,
                input=True,
                frames_per_buffer=AUDIO_BUFFER_SIZE,
                input_device_index=self.device_index
            )
</code></pre>

<p>And when I set <code>AUDIO_SAMPLING_RATE=44100</code> it throws error saying the device doesn't support 44100 sample rate</p>

<p>When I run the same python code in windows everything works fine.</p>
"
65624,1,2017-04-09T19:22:02.477,0,1281,52587,,2017-10-29T20:03:45.020,2017-04-09T19:46:57.150,10,,"<h2>Background Info</h2>

<p>I am attempting to write a few bare metal programs and in theory I would eventually write a kernel.  To get used to the environment, I found a <a href=""https://www.cl.cam.ac.uk/projects/raspberrypi/tutorials/os/index.html"" rel=""nofollow noreferrer"">tutorial</a> that was known to work to could play around with later.  I have installed the necessary toolchain as required on a Raspberry Pi 3 running jessie and use that for compilation.  I installed jessie lite on my SD card and removed all files except for <code>bootcode.bin</code>, <code>fixup.dat</code>, and <code>start.elf</code>.</p>

<p>To compile, I followed the instructions in the tutorial and ran make on their solution code which generated a <code>kernel.img</code> which I then transferred to the SD card and inserted into my Pi 2.  The green light came on initially and then went out and a large rainbow square (not the low power square) appeared on the screen where it appeared to hang and not proceed.  As per <a href=""http://elinux.org/R-Pi_Troubleshooting#Coloured_splash_screen"" rel=""nofollow noreferrer"">this</a> guide, a colored screen means that the kernel could not be executed.  Is the tutorial up to date?  did I include enough files? </p>

<h2>Code</h2>

<p>The solution code to <code>ok2</code>:</p>

<pre><code>/******************************************************************************
*   main.s
*    by Alex Chadwick
*
*   A sample assembly code implementation of the ok02 operating system, that 
*   simply turns the OK LED on and off repeatedly.
*   Changes since OK01 are marked with NEW.
******************************************************************************/

/*
* .section is a directive to our assembler telling it to place this code first.
* .globl is a directive to our assembler, that tells it to export this symbol
* to the elf file. Convention dictates that the symbol _start is used for the 
* entry point, so this all has the net effect of setting the entry point here.
* Ultimately, this is useless as the elf itself is not used in the final 
* result, and so the entry point really doesn't matter, but it aids clarity,
* allows simulators to run the elf, and also stops us getting a linker warning
* about having no entry point. 
*/
.section .init
.globl _start
_start:

/* 
* This command loads the physical address of the GPIO region into r0.
*/
ldr r0,=0x20200000

/*
* Our register use is as follows:
* r0=0x20200000 the address of the GPIO region.
* r1=0x00040000 a number with bits 18-20 set to 001 to put into the GPIO
*               function select to enable output to GPIO 16. 
* then
* r1=0x00010000 a number with bit 16 high, so we can communicate with GPIO 16.
* r2=0x003F0000 a number that will take a noticeable duration for the processor 
*               to decrement to 0, allowing us to create a delay.
*/
mov r1,#1
lsl r1,#18

/*
* Set the GPIO function select.
*/
str r1,[r0,#4]

/* 
* Set the 16th bit of r1.
*/
mov r1,#1
lsl r1,#16

/* NEW
* Label the next line loop$ for the infinite looping
*/
loop$: 

/*
* Set GPIO 16 to low, causing the LED to turn on.
*/
str r1,[r0,#40]

/* NEW
* Now, to create a delay, we busy the processor on a pointless quest to 
* decrement the number 0x3F0000 to 0!
*/
mov r2,#0x3F0000
wait1$:
    sub r2,#1
    cmp r2,#0
    bne wait1$

/* NEW
* Set GPIO 16 to high, causing the LED to turn off.
*/
str r1,[r0,#28]

/* NEW
* Wait once more.
*/
mov r2,#0x3F0000
wait2$:
    sub r2,#1
    cmp r2,#0
    bne wait2$

/*
* Loop over this process forevermore
*/
b loop$
</code></pre>
"
65666,1,2017-04-10T21:07:05.680,0,731,65377,,2019-09-29T16:02:25.647,2017-04-25T12:06:40.310,0,,"<p>How can I make a get request when a button connected to the GPIO on Rpi is turned on and off?</p>

<p>Preferably on Windows IOT.</p>

<p>I have 2 URLs that trigger an IP relay on and off depending on the url.</p>

<p>There is no response so it must be simple yet I'm not sure where to start.</p>

<p>Here is what my request looks like if it were in JS ajax:</p>

<pre><code>$(function() {
    $('#button').change(function() {
      var x =$(this).prop('checked')
if(x == true){
$.get( ""192.168.1.100/current_state.xml?pw=admin&amp;Relay12=1"" )
$.get( ""192.168.1.100/current_state.xml"" )
}
else{
$.get( ""http://192.168.1.100/current_state.xml?pw=admin&amp;Relay12=0"" )
$.get( ""http://192.168.1.100/current_state.xml"" )
}
    })

  })
</code></pre>

<p>Note: <code>http</code> missing cuz of rep!</p>

<p>So if <code>#button</code> was from the GPIO thats what I want it to do.</p>
"
65740,1,2017-04-13T00:38:34.633,0,992,65495,,2020-12-07T08:03:15.397,,0,,"<p>Try to use the microphone array of Matrix Creator via JS, noticed the below JS testing code on github, but 
Any idea of the right configurations for these settings? many thanks</p>

<pre><code>// setup gain for all microphones
micarray_cfg.set_gain(32)

// setup a sound source perpendicular to the MATRIX Creator
micarray_cfg.set_azimutal_angle(0)
micarray_cfg.set_polar_angle(0)
micarray_cfg.set_radial_distance_mm(1000)
micarray_cfg.set_sound_speed_mmseg(341 * 1000)
</code></pre>
"
65741,1,2017-04-13T00:39:03.113,1,1069,65494,,2017-04-13T09:36:49.250,,2,,"<p>I am still a Raspberry Pi newbie.</p>

<p>I am using an Atmega32 to transmit data to a Raspberry Pi 2 via UART. The Atmega transmission code is in C and the RPi receiving code is in Python 2.7. Below is the Atmega C code. I use the function USART_Transmit_String(), which calls uart_putc() in the Atmega. </p>

<pre><code>int uart_putc(unsigned char c) 
{
    while(!UCSRA &amp; (1&lt;&lt;UDRE))
    {}
    UDR = c;
    return 0;
}

void USART_Transmit_String(char *s) // *s = Technolo
{
    while(*s)
    {
        uart_putc(*s);
        s++
    }
}
</code></pre>

<p>Now for the Rpi I tried both pyserial and wiringpi methods of recieving data.
With pyserial I noticed that the ser.read(x) require a python str type (string). With wiringpi I noticed that the function wiringpi.serialGetchar(x) can recieve a one char instead of an array of chars such as *s. For both methods I was unable to recieve data from *s. For both methods I was unable to read the transitted data on the RPi terminal.</p>

<p>For pyserial I used :</p>

<pre><code>import time
import os 
import serial
os.system('clear')
ser = serial.Serial (
    ""/dev/ttyAMA0"",
    baudrate = 9600,
    parity=serial.PARITY_NONE,
    stopbits=serial.STOPBITS_ONE,
    bytesize=serial.EIGHTBITS,
    timeout=1
)                    

    readData1 = ser.read(8)                    
    print readData1
    time.sleep(1)
ser.close()  
</code></pre>

<p>For wiringpi :</p>

<pre><code>import wiringpi as wiringpi
import os 
os.system('clear')
wiringpi.wiringPiSetup()
serial = wiringpi.serialOpen('/dev/ttyAMA0',9600)

while 1:
    readValue = wiringpi.serialGetchar(serial) ;
    print readValue
</code></pre>

<p>Please help with any suggestions, even if you know of any other method to transmit data from Atmega32 to RPi2 preferably using UART. Thanks in advance.</p>
"
65889,1,2017-04-16T09:53:13.380,1,1484,65482,,2017-04-19T01:18:57.520,2017-04-16T18:01:05.500,3,,"<p>SSH is enabled on my Pi.  I'm trying to use my Pi as a remote control, where I hit a keyboard hotkey on my Pi, and my Pi sends a command to my Mac.  For example: if I enter the following in terminal on my Pi, it launches an applescript on my Mac, and my Mac starts playing a New Music playlist in iTunes (I've even set up an ssh key so I don't need to enter my password):</p>

<pre><code>/usr/bin/ssh Me@192.168.1.5 osascript Applescripts/iTunes/NEW_MUSIC.scpt
</code></pre>

<p>It works perfectly if I enter the above manually, but I can't figure out how to get it to work with the TriggerHappy daemon.  /usr/bin/curl commands work like a charm for me with TriggerHappy.  /usr/bin/ssh doesn't work and I can't figure out why.</p>

<p>Example:  The following item in TriggerHappy turns on my Philips Hue lights when I type CTRL+1 on my Pi:</p>

<pre><code>KEY_1+KEY_LEFTCTRL  1   /usr/bin/curl --request PUT --data ""{\""scene\"":\""Zq-7IOofWYEVAx6\""}"" http://192.168.1.5/api/myhuelights/groups/0/action/
</code></pre>

<p>The above works, so why doesn't this?</p>

<pre><code>KEY_1+KEY_LEFTCTRL  1   /usr/bin/ssh Me@192.168.1.5 osascript Applescripts/iTunes/NEW_MUSIC.scpt
</code></pre>

<p>Any idea what I'm doing wrong here?</p>

<p>EDIT: to be clear, I'm trying to figure out why this works on my Pi in terminal:</p>

<pre><code>/usr/bin/ssh Me@192.168.1.5 osascript Applescripts/iTunes/NEW_MUSIC.scpt
</code></pre>

<p>...and this works on my Pi using TriggerHappy:</p>

<pre><code>KEY_1+KEY_LEFTCTRL  1   /usr/bin/curl --request PUT --data ""{\""scene\"":\""Zq-7IOofWYEVAx6\""}"" http://192.168.1.5/api/myhuelights/groups/0/action/
</code></pre>

<p>...but this doesn't work on my Pi using TriggerHappy:</p>

<pre><code>KEY_1+KEY_LEFTCTRL  1   /usr/bin/ssh Me@192.168.1.5 osascript Applescripts/iTunes/NEW_MUSIC.scpt
</code></pre>

<p>I'm working with a new install of Raspbian on a new Raspberry Pi.  Like I said, my curl commands work with TriggerHappy, but ssh commands don't.  I feel like I'm probably overlooking something simple here.  I hope?</p>
"
65975,1,2017-04-18T15:17:26.027,4,1366,22153,,2017-04-19T12:12:13.723,,0,,"<p>I'm using Raspbian Jessie Lite, and during startup there's a line:</p>

<pre><code>Started LSB: Apply config from /boot/os_config.json.
</code></pre>

<p>What is os_config.json? Is there documentation for it somewhere? What is it used for?</p>

<p>I'm trying to customize an image and that sounds like something I should look at, either to avoid building something myself that's already done or give me an idea of and/or do something I hadn't thought of.</p>
"
66383,1,2017-04-27T14:28:47.177,0,4006,66263,,2017-05-18T10:34:43.253,,0,,"<p>I have a Raspberry PI and a 1280x320 pixels ultra wide LCD. Is it possible to have a custom resolution for this to make work correctly?</p>

<p>Thank you.</p>
"
66540,1,2017-05-01T05:07:13.737,10,20741,66451,,2019-12-20T03:33:55.570,,1,,"<p>Has anyone been able to successfully install <a href=""http://www.bluez.org/"" rel=""noreferrer"">Bluez <strong>5.44</strong></a> onto Raspbian? I'd like to use this on both a Raspi 3 and a Raspi Zero W.</p>

<p>I've followed <a href=""https://raspberrypi.stackexchange.com/questions/39254/updating-bluez-5-23-5-36"">numerous</a> <a href=""http://fam-haugk.de/starting-with-bluetooth-le-on-the-raspberry-pi"" rel=""noreferrer"">different</a> <a href=""https://learn.adafruit.com/install-bluez-on-the-raspberry-pi/installation"" rel=""noreferrer"">guides</a> but they all install Bluez versions earlier than 5.44. I'm not able to follow any of these guides and end up with a functioning Bluez 5.44 installation.</p>

<p>Anyone that has done this, please share your steps.</p>
"
66569,1,2017-05-01T21:03:29.323,1,502,55383,,2021-01-01T08:04:05.437,,0,,"<p>I have configured <a href=""https://github.com/hzeller/gmrender-resurrect/blob/master/INSTALL.md"" rel=""nofollow noreferrer"">gmediarender</a> on the RPi 3. However I prefer only mono output.  </p>

<p>Following <a href=""https://www.raspberrypi.org/forums/viewtopic.php?p=285826"" rel=""nofollow noreferrer"">this guide</a> to downmix to mono did not output mono from the gmediarender.</p>

<p><strong>/etc/asound.conf</strong></p>

<pre><code>pcm.card0 {
type hw
card 0
}

ctl.card0 {
type hw
card 0
}

pcm.monocard {
slave.pcm card0
slave.channels 2
# type plug
type route
ttable {
# Copy both input channels to output channel 0 (Left).
0.0 1
1.0 1
# Send nothing to output channel 1 (Right).
0.1 0
1.1 0
}
}

ctl.monocard {
type hw
card 0
}

pcm.!default monocard
</code></pre>

<p><strong>aplay -l</strong>  </p>

<pre><code>pi@raspberrypi:~ $ aplay -l
**** List of PLAYBACK Hardware Devices ****
card 0: Set [C-Media USB Headphone Set], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA]
  Subdevices: 8/8
  Subdevice #0: subdevice #0
  Subdevice #1: subdevice #1
  Subdevice #2: subdevice #2
  Subdevice #3: subdevice #3
  Subdevice #4: subdevice #4
  Subdevice #5: subdevice #5
  Subdevice #6: subdevice #6
  Subdevice #7: subdevice #7
card 1: ALSA [bcm2835 ALSA], device 1: bcm2835 ALSA [bcm2835 IEC958/HDMI]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</code></pre>

<p>I suspect it may because of the <a href=""https://github.com/hzeller/gmrender-resurrect/blob/master/scripts/init.d/gmediarenderer"" rel=""nofollow noreferrer"">init script</a> for gmediarender</p>

<h2>Please note</h2>

<p>Speaker-test outputs only on left channel correctly but not gmediarender.</p>

<pre><code>pi@raspberrypi:~ $ speaker-test -t sine -f 440 -c 2

speaker-test 1.0.28

Playback device is default
Stream parameters are 48000Hz, S16_LE, 2 channels
Sine wave rate is 440.0000Hz
Rate set to 48000Hz (requested 48000Hz)
Buffer size range from 96 to 262144
Period size range from 48 to 131072
Using max buffer size 262144
Periods = 4
was set period_size = 65536
was set buffer_size = 262144
 0 - Front Left
 1 - Front Left
Time per period = 5.636675
 0 - Front Left
 1 - Front Left
Time per period = 5.679920
 0 - Front Left
 1 - Front Left
Time per period = 5.629858
 0 - Front Left
 1 - Front Left
Time per period = 5.649981
 0 - Front Left
 1 - Front Left
^CTime per period = 4.528995
</code></pre>
"
66611,1,2017-05-02T19:25:02.753,5,5061,58490,,2019-11-15T15:36:53.413,,0,,"<p>I've got upsmon (nut-client) and upsd (nut-server) set up and almost fully working on an RPi3.</p>

<p>Connected is a CP1500PFCLCD UPS via USB.  <code>upsd</code> and <code>upsmon</code> start up perfectly every time.  However, given about 2-20 hours of uptime, a ""data stale"" error will creep in.  The specific error is:</p>

<p><code>raspberrypi upsd[14612]: Data for UPS [cyberpower] is stale - check driver</code></p>

<p>Followed by many, many more errors resulting from that one, specifically:</p>

<p><code>raspberrypi upsmon[9318]: Poll UPS [cyberpower@localhost] failed - Data stale</code></p>

<p>Unlike some others, mine does not appear to reconnect on its own.</p>

<p>If I restart the <code>nut-server</code> service, then the ~2-20 hour cycle repeats.  How do I ""check driver"" as it suggests?  I need to get rid of that error, as it is causing other processes to fail.</p>

<p>I run ""usb-devices"" and the CP1500PFCLCD does show up in the list</p>
"
66718,1,2017-05-05T14:35:32.910,2,3240,66684,,2018-10-17T07:50:30.807,2017-05-06T12:24:55.110,0,,"<p>I got a adafruit BME280 sensor board and I wired it to the raspberry pi zero via spi. According to the datasheet I can read sensor data from the device via the userspace spi interface. Everything works fine from userspace.</p>

<p>I discovered, that there is a <a href=""https://github.com/torvalds/linux/blob/master/drivers/iio/pressure/bmp280-spi.c"" rel=""nofollow noreferrer"">kernel module</a> for this sensor available utilizing the iio subsystem. And it implements the algorithms from the datasheet. A naive <code>modprobe bcmp280_spi</code> loaded the module:</p>

<pre><code># lsmod
Module                  Size  Used by
bmp280_spi              3451  0
bmp280                 11976  1 bmp280_spi
industrialio           50711  1 bmp280
spidev                  7034  0
...
</code></pre>

<p>But there is nothing to interface with:</p>

<pre><code># tree /sys/bus/iio/
/sys/bus/iio/
|-- devices
|-- drivers
|-- drivers_autoprobe
|-- drivers_probe
`-- uevent

2 directories, 3 files
</code></pre>

<p>Could someone help me with setting up the BMP280 SPI Kernel Module for the raspberry pi zero? I guess I need a device tree overlay, but I can't find any documentation how to interface this sensor module correctly. The raspberry pi includes a <a href=""https://github.com/raspberrypi/linux/blob/rpi-4.9.y/arch/arm/boot/dts/overlays/bmp085_i2c-sensor-overlay.dts"" rel=""nofollow noreferrer"">configuration for i2c</a> but I want to use spi.</p>
"
66884,1,2017-05-09T22:30:18.200,0,4073,66904,,2017-09-06T04:12:04.673,,0,,"<p>So I have a macro style keyboard that comes pre-programmed for a specialised piece of software, I want to use a Pi to take those keypresses and translate them to OSC, which I have a python library for, however I can't find anyway to capture keyboard presses that include modifier keys, for example, 'c' does x, 'alt c' does y, 'cntrl c' does z and so forth. Everything I can find is either for graphic environments (This will be run on a headless server) or for a single character with no modifiers, it mainly the modifiers I am struggling with. Whats the best way of doing this? I'm happy if the detection is done in something other than python but would prefer python for speed reasons (So I can open one OSC connection at the start instead of with each command).</p>
"
66929,1,2017-05-10T18:53:15.703,12,2731,60722,,2018-08-09T10:52:46.020,2017-05-30T19:06:58.243,1,,"<p>How can I have my Raspberry Pi continually scan for a MAC address on my network then perform a task when it detects a specific MAC address?</p>

<p>I use my Pi to run various home automation tasks. I'd like it to perform a task when it senses that my phone connects to the Wi-Fi, (meaning I just got home). What is the best way to have the Pi scan for my phone's MAC Address continually? I know I can use <code>arp-scan</code> to scan for MAC Addresses, but I need this to be continually scanning. I'm sure there's a better method then having <code>arp-scan</code> run in a loop, or using cron to have it run every minute.</p>
"
66949,1,2017-05-11T05:03:19.203,1,7868,26308,,2017-05-28T23:37:45.490,,2,,"<p><a href=""https://raspberrypi.stackexchange.com/questions/38/prepare-for-ssh-without-a-screen"">This similar question</a> has a lot of answers, none of which works anymore. Given that is already a little old, I'm asking the same quesion, for the current distribution of raspian (jessie 2017-04-10).</p>
"
66984,1,2017-05-11T14:49:06.297,0,821,62174,,2017-05-11T17:49:28.977,2017-05-11T17:49:28.977,0,,"<p>I'm using digitalRead of wiringPi to detect packet received in CAN chip, so i'm send data and wait for falling edge of the can interrupt pin as you can see here:</p>

<pre><code>gettimeofday(&amp;t1, NULL);
digitalWrite(7,HIGH);
do{
    delayMicroseconds(10);

    if(!digitalRead(CAN_INT_PIN)){
    //if(waitForInterrupt(CAN_INT_PIN,-1)){
        //Dados novos no buffer, resta saber qual
        events = DRV_MCP25625_ModuleEventGet();
        if (events &amp; DRV_MCP25625_RXB1_EVENT) {
           DRV_MCP25625_ReceiveMessageGet(DRV_MCP25625_RX_CH0, &amp;rxObj, rxd, 8);
           pcBuf[0] = 'M';
           pcBuf[1] = rxObj.ctrl.DLC; //Data length
           pcBuf[2] = rxObj.id.SID &amp; 0xFF;
           pcBuf[3] = (unsigned char) rxObj.id.SID&gt;&gt;8;
           memcpy(&amp;pcBuf[4],rxd,8);
           // Clear flag
           DRV_MCP25625_ModuleEventClear(DRV_MCP25625_RXB1_EVENT);
           digitalWrite(7,LOW);
           return 12;


        }
       // Check RXB0
       if (events &amp; DRV_MCP25625_RXB0_EVENT) {

           // Get message
           DRV_MCP25625_ReceiveMessageGet(DRV_MCP25625_RX_CH0, &amp;rxObj, rxd, 8);
           pcBuf[0] = 'M';
           pcBuf[1] = rxObj.ctrl.DLC; //Data length
           pcBuf[2] = rxObj.id.SID &amp; 0xFF;
           pcBuf[3] = (unsigned char) rxObj.id.SID&gt;&gt;8;
           memcpy(&amp;pcBuf[4],rxd,8);
           // Clear flag
           DRV_MCP25625_ModuleEventClear(DRV_MCP25625_RXB0_EVENT);
           digitalWrite(7,LOW);
           return 12;

       }
    }

    gettimeofday(&amp;t2, NULL);
    elapsedTime = (t2.tv_sec - t1.tv_sec) * 1000.0;      // sec to ms
    //elapsedTime += (t2.tv_usec - t1.tv_usec) / 1000.0;   // us to ms

    //printf(""Elapsed Time: %.2f\n"",elapsedTime);


}while(elapsedTime &lt;= *iTimeout );
digitalWrite(7,LOW);
</code></pre>

<p>The problem is that sometimes raspberry don't detect falling edge of the pin. In this image is working: 
<a href=""https://ibin.co/3M6fO9qtumjH.png"" rel=""nofollow noreferrer"">https://ibin.co/3M6fO9qtumjH.png</a></p>

<p>Here you can see that in channel 5 we have the interrupt in every packet received and after i get the packet over spi. At 1s260ms i send a packet over spi and CAN again, and wait...
In next image you can see that i have the falling edge in channel 5 and the raspberry don't detects..
<a href=""https://ibin.co/3M6hqWJzPMHA.png"" rel=""nofollow noreferrer"">https://ibin.co/3M6hqWJzPMHA.png</a></p>

<p>Thanks</p>
"
67028,1,2017-05-12T14:59:11.717,0,1707,60377,,2018-06-08T09:58:30.603,2017-05-12T15:22:17.223,1,,"<p>I have a PiFace Digital 2 and a Pi i 3 with the latest Debian and Pixel installed. My first question is, is the PiFace digital 2 compatible with the Pi 3? From what I can tell they are.</p>

<p>Secondly, I can't seem to get the emulator to run. I have turned on SPI and installed, following instructions <a href=""https://github.com/piface/pifacedigital-emulator"" rel=""nofollow noreferrer"">here</a> when running a sample program I get the following:</p>

<pre><code>python3 /usr/share/doc/python3-pifacedigitalio/examples/blink.py
Traceback (most recent call last):
  File ""/usr/share/doc/python3-pifacedigitalio/examples/blink.py"", line 9, in &lt;module&gt;
    pifacedigital = pifacedigitalio.PiFaceDigital()
  File ""/usr/lib/python3/dist-packages/pifacedigitalio/core.py"", line 82, in __init__
    self.init_board()
  File ""/usr/lib/python3/dist-packages/pifacedigitalio/core.py"", line 107, in init_board
    h=self.hardware_addr, b=self.bus, c=self.chip_select))
pifacedigitalio.core.NoPiFaceDigitalDetectedError: No PiFace Digital board detected (hardware_addr=0, bus=0, chip_select=0).
</code></pre>

<p>Any ideas on how to get this working ?</p>
"
67364,1,2017-05-21T19:55:58.003,5,5166,55740,,2018-01-31T06:32:51.537,2017-05-21T23:24:54.947,2,,"<p>I have an Si7012 temperature / humidity sensor attached to the i2c pins on my Raspberry Pi. Specifically, I have the Adafruit ""break-out"" with this sensor attached <a href=""https://www.adafruit.com/product/3251"" rel=""noreferrer"">https://www.adafruit.com/product/3251</a>.  The break-out board adds some power regulation, but should have the same i2c interface.</p>

<p>I'm attempting to read the data. I prefer something other than Python, but I'm working with it for now.  The temperature and humidity data each come back as two bytes.  I've found multiple examples that suggest that the can be read by successive calls to <code>read_byte</code> from the <code>smbus</code> package.  But when I do this sequence:</p>

<pre><code>import smbus
bus = smbus.SMBus(1)
bus.write(0x40, 0xF3)
print bus.read_byte(0x40)
print bus.read_byte(0x40)
</code></pre>

<p>I get 103 printed twice.  In the example, 0x40 is the correct address for the sensor on i2c and 0xF3 is the command for ""no hold"" measurement of temperature.  If I blindly apply the specified function for converting the two bytes to a temperature (even though I don't believe they are both right), I get approximately 75 deg F.  That's about right, suggesting that maybe I'm getting the more significant byte correctly.</p>

<p>If I do the corresponding thing for humidity (0xF5), then I get 126 printed twice.  That coverts - applying the specified formula blindly - to a humidity in the right ballpark.</p>

<p>It seems unlikely that both bytes should be the same on both measurements, so I suspect that I'm not actually getting the second byte like I want, despite the online examples that I've found.  Documentation for <code>smbus</code> that I've found so far has been too terse for me to get much insight.</p>

<p>Here's a third-party example showing similar code for this sensor: <a href=""http://www.instructables.com/id/Build-a-Hygrometer-at-Home-Using-Raspberry-Pi-and-/"" rel=""noreferrer"">http://www.instructables.com/id/Build-a-Hygrometer-at-Home-Using-Raspberry-Pi-and-/</a></p>

<p>Is there some different API call that I should use here, either instead of or in addition to what I'm doing to get two bytes via i2c? A reference to good documentation on <code>smbus</code> would help.</p>

<p><strong>EDIT</strong></p>

<p>After further reading, I eventually found it confirmed that the above does read the most significant bit twice.  That explains why I see what I see, but it does not give any hints how to fix the problem.</p>
"
67387,1,2017-05-22T12:39:35.087,4,6181,39217,,2018-07-19T19:56:33.510,2017-05-24T15:53:32.777,0,,"<p>I have a raspberry pi zero and I am trying to change the gpio pin values. I tried using RPi.GPIO with python and the gpio command from wiringpi but I am unable to change the value for any of the pins. I am using LEDs to check if a pin is high or low and no matter I do, the pins do not become high. I also used <code>gpio readall</code> to see the changes. I am able to change the mode of the pin (input or output) but not the value itself. </p>

<p>Interestingly an LED connected to pin 26 (BCM numbering) is always on. I tried changing the values but the LED stays on and <code>gpio readall</code> shows its value as 0.</p>

<p>I tried reinstalling the OS but after that twice, the problem still persists. I have raspbian jessie lite. </p>

<p>I have been trying to fix this issue for the last two days, any help would be greatly appreciated. </p>

<p><strong>EDIT</strong>: Here is the code I used. No errors were reported when running any of the commands or programs</p>

<p><strong>Python</strong></p>

<pre><code>import RPi.GPIO as gp
gp.setmode(gp.BCM)

gp.setup(18,gp.OUT)

print ""before on""
gp.output(18,gp.HIGH)
print ""after on""
</code></pre>

<p><strong>wiringpi</strong></p>

<p>Output of <code>gpio readall</code> before changing state</p>

<pre><code>+-----+-----+---------+------+---+-Pi Zero--+---+------+---------+-----+-----+
| BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |
+-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+
|     |     |    3.3v |      |   |  1 || 2  |   |      | 5v      |     |     |
|   2 |   8 |   SDA.1 |   IN | 0 |  3 || 4  |   |      | 5v      |     |     |
|   3 |   9 |   SCL.1 |   IN | 0 |  5 || 6  |   |      | 0v      |     |     |
|   4 |   7 | GPIO. 7 |   IN | 0 |  7 || 8  | 0 | ALT0 | TxD     | 15  | 14  |
|     |     |      0v |      |   |  9 || 10 | 0 | ALT0 | RxD     | 16  | 15  |
|  17 |   0 | GPIO. 0 |   IN | 0 | 11 || 12 | 0 | OUT  | GPIO. 1 | 1   | 18  |
|  27 |   2 | GPIO. 2 |   IN | 0 | 13 || 14 |   |      | 0v      |     |     |
|  22 |   3 | GPIO. 3 |   IN | 0 | 15 || 16 | 0 | OUT  | GPIO. 4 | 4   | 23  |
|     |     |    3.3v |      |   | 17 || 18 | 0 | IN   | GPIO. 5 | 5   | 24  |
|  10 |  12 |    MOSI |   IN | 0 | 19 || 20 |   |      | 0v      |     |     |
|   9 |  13 |    MISO |   IN | 0 | 21 || 22 | 0 | IN   | GPIO. 6 | 6   | 25  |
|  11 |  14 |    SCLK |   IN | 0 | 23 || 24 | 0 | IN   | CE0     | 10  | 8   |
|     |     |      0v |      |   | 25 || 26 | 0 | IN   | CE1     | 11  | 7   |
|   0 |  30 |   SDA.0 |   IN | 0 | 27 || 28 | 0 | IN   | SCL.0   | 31  | 1   |
|   5 |  21 | GPIO.21 |   IN | 0 | 29 || 30 |   |      | 0v      |     |     |
|   6 |  22 | GPIO.22 |   IN | 0 | 31 || 32 | 0 | IN   | GPIO.26 | 26  | 12  |
|  13 |  23 | GPIO.23 |   IN | 0 | 33 || 34 |   |      | 0v      |     |     |
|  19 |  24 | GPIO.24 |   IN | 0 | 35 || 36 | 0 | IN   | GPIO.27 | 27  | 16  |
|  26 |  25 | GPIO.25 |   IN | 0 | 37 || 38 | 0 | IN   | GPIO.28 | 28  | 20  |
|     |     |      0v |      |   | 39 || 40 | 0 | IN   | GPIO.29 | 29  | 21  |
+-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+
| BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |
+-----+-----+---------+------+---+-Pi Zero--+---+------+---------+-----+-----+
</code></pre>

<p>I ran the following commands</p>

<pre><code>gpio -g mode 26 out
gpio -g write 26 1
</code></pre>

<p>This is the output of <code>gpio readall</code> after attempting to change the value</p>

<pre><code> +-----+-----+---------+------+---+-Pi Zero--+---+------+---------+-----+-----+
| BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |
+-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+
|     |     |    3.3v |      |   |  1 || 2  |   |      | 5v      |     |     |
|   2 |   8 |   SDA.1 |   IN | 0 |  3 || 4  |   |      | 5v      |     |     |
|   3 |   9 |   SCL.1 |   IN | 0 |  5 || 6  |   |      | 0v      |     |     |
|   4 |   7 | GPIO. 7 |   IN | 0 |  7 || 8  | 0 | ALT0 | TxD     | 15  | 14  |
|     |     |      0v |      |   |  9 || 10 | 0 | ALT0 | RxD     | 16  | 15  |
|  17 |   0 | GPIO. 0 |   IN | 0 | 11 || 12 | 0 | OUT  | GPIO. 1 | 1   | 18  |
|  27 |   2 | GPIO. 2 |   IN | 0 | 13 || 14 |   |      | 0v      |     |     |
|  22 |   3 | GPIO. 3 |   IN | 0 | 15 || 16 | 0 | OUT  | GPIO. 4 | 4   | 23  |
|     |     |    3.3v |      |   | 17 || 18 | 0 | IN   | GPIO. 5 | 5   | 24  |
|  10 |  12 |    MOSI |   IN | 0 | 19 || 20 |   |      | 0v      |     |     |
|   9 |  13 |    MISO |   IN | 0 | 21 || 22 | 0 | IN   | GPIO. 6 | 6   | 25  |
|  11 |  14 |    SCLK |   IN | 0 | 23 || 24 | 0 | IN   | CE0     | 10  | 8   |
|     |     |      0v |      |   | 25 || 26 | 0 | IN   | CE1     | 11  | 7   |
|   0 |  30 |   SDA.0 |   IN | 0 | 27 || 28 | 0 | IN   | SCL.0   | 31  | 1   |
|   5 |  21 | GPIO.21 |   IN | 0 | 29 || 30 |   |      | 0v      |     |     |
|   6 |  22 | GPIO.22 |   IN | 0 | 31 || 32 | 0 | IN   | GPIO.26 | 26  | 12  |
|  13 |  23 | GPIO.23 |   IN | 0 | 33 || 34 |   |      | 0v      |     |     |
|  19 |  24 | GPIO.24 |   IN | 0 | 35 || 36 | 0 | IN   | GPIO.27 | 27  | 16  |
|  26 |  25 | GPIO.25 |  OUT | 0 | 37 || 38 | 0 | IN   | GPIO.28 | 28  | 20  |
|     |     |      0v |      |   | 39 || 40 | 0 | IN   | GPIO.29 | 29  | 21  |
+-----+-----+---------+------+---+----++----+---+------+---------+-----+-----+
| BCM | wPi |   Name  | Mode | V | Physical | V | Mode | Name    | wPi | BCM |
+-----+-----+---------+------+---+-Pi Zero--+---+------+---------+-----+-----+
</code></pre>

<p><code>gpio -g read 26</code> returns a value of 0. <code>gpio -g mode 18 out</code> and <code>gpio -g write 18 1</code> also had no effect</p>

<p><strong>EDIT 2</strong> in case anyone was wondering, the LEDs work fine. I verified that by connecting the LEDs to a different battery powered circuit.</p>

<p>I also changed the circuit a bit and the LED connected to pin 26 no longer lights up. the particular LED was not changed but I made my circuit similar to that of one of my earlier project <a href=""https://github.com/rumesh986/lightswitch"" rel=""nofollow noreferrer"">here</a>. The required LEDs still do not light up. This was the output of my testing. The circuit is connected properly.</p>

<pre><code>pi@raspberrypi:~/repo/lightswitch $ ./lightswitch 
LED is off
Turning on LED
pi@raspberrypi:~/repo/lightswitch $ ./lightswitch 
LED is off
Turning on LED
</code></pre>

<p><strong>EDIT 3</strong> So it seems that pin 6  has the same always on state that pin 26 used to have. Interestingly, <code>gpio readall</code> shows it as input and as having a value of 0.</p>
"
67448,1,2017-05-24T10:02:12.507,0,1921,60811,,2018-04-06T21:08:15.583,2017-05-25T10:59:18.120,2,,"<p>I'm running a program which records a 5 second video and analyses it every 30 seconds. The program runs for a while but after like an hour or so it fails saying</p>

<pre><code>● clocktwist.service - My Pendulum Cavity Twist Logger Service
Loaded: loaded (/lib/systemd/system/clocktwist.service; enabled)
   Active: failed (Result: exit-code) since Wed 2017-05-24 01:59:01 UTC; 6h ago
  Process: 1576 ExecStart=/usr/bin/python /home/pi/trinity_twist.py &gt; /home/pi/twist.log 2&gt;&amp;1 (code=exited, status=1/FAILURE)
 Main PID: 1576 (code=exited, status=1/FAILURE)

May 24 01:59:01 raspberrypi python[1576]: self.renderer.connect(source)
May 24 01:59:01 raspberrypi python[1576]: File ""/usr/lib/python2.7/dist-    packages/picamera/mmalobj.py"", line 1467, in connect
May 24 01:59:01 raspberrypi python[1576]: self._connection =    MMALConnection(source, self.inputs[0])
May 24 01:59:01 raspberrypi python[1576]: File ""/usr/lib/python2.7/dist-packages/picamera/mmalobj.py"", line 1280, in __init__
May 24 01:59:01 raspberrypi python[1576]: prefix=""Failed to enable connection"")
May 24 01:59:01 raspberrypi python[1576]: File ""/usr/lib/python2.7/dist-packages/picamera/exc.py"", line 157, in mmal_check
May 24 01:59:01 raspberrypi python[1576]: raise PiCameraMMALError(status, prefix)
May 24 01:59:01 raspberrypi python[1576]: picamera.exc.PiCameraMMALError: Failed to enable connection: Out of resources (other than memory)
</code></pre>

<p>The code is a bit lengthy so I'd rather not post the full thing. A snippet of the part using the piCamera code </p>

<pre><code>        with picamera.PiCamera() as camera:
            camera.resolution=(1640,1232)
            camera.framerate= 30
            camera.start_recording(""{}"".format(video_name_h264))
            camera.wait_recording(record_length)
            camera.stop_recording()
</code></pre>

<p>I don't think it's the problem though since it works as expected until the MMALError occurs. I have used sudo apt-get update but I can't say if it's fixed it until the error occurs. 
I've read that error usually occurs when two or more processes attempt to use the camera simultaneously but I don't think that's the case for me as it's the only program I have using PiCamera on reboot. However, is there a way to check if another program is using the camera?</p>

<p>Is there a reason why it works initially then fails? When I restart it, it seems to work just fine again.</p>

<p>I'm a bit of a newbie so I was thinking of using Try and Except to restart it when the error occurs. How do I go about it and how do I raise the MMAL error to test if I've coded it correctly?</p>

<p>CODE</p>

<pre><code>     #Python 3.2.3 (default, Mar  1 2013, 11:53:50) 
    #[GCC 4.6.3] on linux2
    #Type ""copyright"", ""credits"" or ""license()"" for more information.
    import os
    from subprocess import call
    import datetime
    import time
    import traceback
    import sys
    import picamera
    import numpy as np
    import imageio
    import matplotlib as mpl
    mpl.use('Agg')
    from PIL import Image
    from matplotlib import pyplot as plt
    from matplotlib import patches as patch
    from time import sleep
    import cv2
    import smtplib
    from email.mime.multipart import MIMEMultipart
    from email.mime.text import MIMEText

    def send_error_email(body,subject):
            fromaddr = ""**********@gmail.com""
            toaddr = ""*********@gmail.com""
            msg = MIMEMultipart()
            msg['From'] = fromaddr
            msg['To'] = toaddr
            msg['Subject'] = subject
            msg.attach(MIMEText(body, 'plain'))
            server = smtplib.SMTP('smtp.gmail.com', 587)
            server.ehlo
            server.starttls()
            server.login(fromaddr, ""*******"")
            text = msg.as_string()
            server.sendmail(fromaddr, toaddr, text)
            server.quit()

    def clean_image (image):
            image =cv2.GaussianBlur(image,(9,9),0)          
            thresh = cv2.threshold(image, 220, 255, cv2.THRESH_BINARY)[1]#200 initially
            #thresh = cv2.erode(thresh, None, iterations=1)
            #thresh = cv2.dilate(thresh, None, iterations=2)
            im_clean = thresh

            return im_clean
    def find_first_blob_coords(contours,imCopy):
            global blob_found
            contour_areas = [cv2.contourArea(contour) for contour in contours]
            max_index = np.argmax(contour_areas)
            max_contour=contours[max_index]

            contour_moment = cv2.moments(max_contour)
            if contour_moment['m00']!=0:
                    cx = (contour_moment['m10']/contour_moment['m00'])
                    cy = (contour_moment['m01']/contour_moment['m00'])
                    blob_found=True
            else:
                    cx=0
                    cy=0
                    blob_found=False

            return cx, cy, blob_found

    def find_blob_coords (frame,index,video_name):

            global cx, cy, blob_found, radius, height, width
            #Load Image, Resize and Convert To Grayscale
            im = frame
            image_name=""{}-index{}cleaned.png"".format(video_name,index)
            #im_name=""{}-index{}.png"".format(video_name,index)
            #im =cv2.resize(im,None,fx=0.5, fy=0.5, interpolation = cv2.INTER_AREA)
            height, width, channels = im.shape
            im =cv2.cvtColor(im, cv2.COLOR_RGB2GRAY )
            #cv2.imwrite(im_name,im)

            while blob_found==True:
                    #If Blob found in Previous Frame
                    #Set Region of Interest (roi) to look for blob in frame
                    xmin = int(max(0,cx-40))
                    ymin = int(max(0,cy-40))
                    xmax = int(min(width, cx +40))
                    ymax = int(min(height, cy+40))

                    roi = im[ymin:ymax,
                            xmin:xmax]
                    #roi=im
                    thresh = clean_image (roi)
                    imCopy = cv2.cvtColor(thresh, cv2.COLOR_GRAY2RGB)
                    contours, hierarchy= cv2.findContours(thresh.copy(), cv2.RETR_EXTERNAL,
                            cv2.CHAIN_APPROX_NONE)

                    if len(contours)!=0:
                            cropped_cx, cropped_cy, blob_found= find_first_blob_coords(contours, imCopy)
                            cx = cropped_cx+ xmin
                            cy = cropped_cy+ ymin
                            if blob_found==True:
                                    return np.array([index,cx,cy])
                    else:
                            #cv2.imwrite(image_name,roi)#Change im to roi for troubleshooting
                            blob_found=False
                            print ""no blob found in cropped frame #{}"".format(index)
                            return []

            if blob_found==False:
                    #If Blob not found in Previous Frame
                    #searches whole image rather than ROI
                    thresh = clean_image (im)
                    imCopy = cv2.cvtColor(thresh, cv2.COLOR_GRAY2RGB )
                    contours, hierarchy= cv2.findContours(thresh.copy(), cv2.RETR_EXTERNAL,
                            cv2.CHAIN_APPROX_NONE)

                    if len(contours)!=0:                  
                            cx, cy, blob_found= find_first_blob_coords(contours, imCopy)
                            #cv2.imwrite(image_name,imCopy)
                            if blob_found==True:
                                    return np.array([index,cx,cy])
                    else:
                            #cv2.imwrite(image_name,im)
                            blob_found=False
                            print ""no blob found in frame #{}"".format(index)
                            return []
    def plot_trajectory(x_coords, y_coords):
            global index, height, width
            plt.figure()
            #plt.axis((0,width,0,height))
            plt.scatter(x_coords.astype(np.float), -(y_coords.astype(np.float)))
            numberOfBlobsDetected=x_coords.size
            plt.title(""Laser Trajectory-{}/{}blobs found"".format(numberOfBlobsDetected
                                                                     ,index))
            plt.xlabel(""x_coords"")
            plt.ylabel(""y_coords"")
            plt.savefig(""{}-trajectory.png"".format(video_name))

    def trajectory_analysis(results):

            frame_no=results[1:,0]
            #time= frame_no/5
            x_coords=results[1:,1]
            y_coords=results[1:,2]
            plot_trajectory(x_coords, y_coords)
            plt.close('all')

            fig, axarr = plt.subplots(2, sharex=True)

            axarr[0].plot(frame_no, x_coords)
            axarr[0].set_title(""Trajectory Coordinates vs Frame Number"")
            axarr[0].set_xlabel(""Frame Number"")
            axarr[0].set_ylabel(""x coordinate"")
            axarr[1].set_xlabel(""Frame Number"")
            axarr[1].set_ylabel(""y coordinate"")
            axarr[1].plot(frame_no, y_coords)
            fig.savefig(""{}_analysis.png"".format(video_name))

            xmax=max(x_coords.astype(np.float))
            xmin=min(x_coords.astype(np.float))
            print ""xmax:{}"".format(xmax)
            print ""xmin:{}"".format(xmin)
            print ""dx  :{}"".format(xmax-xmin)
    ##        print ""ymax:{}"".format(max(y_coords))
    ##        print ""ymin:{}"".format(min(y_coords))
    ##        print ""dy  :{}"".format(max(y_coords)-min(y_coords))
    index_b=0                            

    previous_twist=0

    while True:
            index=0
            index_found=0

            try:
                tic= time.time()
                record_length=5
                start_time=datetime.datetime.now()
                start_time_formatted=start_time.strftime(""%Y-%m-%d"")
                year_month=start_time.strftime(""%Y/%m/"")
                path=""/home/pi/Twist/""
                new_path=""{}{}"".format(path,year_month)
                txt_name=""{}{}.txt"".format(new_path,start_time_formatted)

                #Makes directory if it doesn't exist
                if not os.path.exists(new_path):
                    os.makedirs(new_path)
                f=open(""{}"".format(txt_name), ""a+"")

                print(""\n start of analysis"")
                #Initialise Variables to be used by functions
                blob_found=False
                cx=cy=radius=index=height=width=0
                #Names image to be saved with timestamp so it is unique
                time_now=datetime.datetime.now()
                time_formatted=time_now.strftime(""%Y-%m-%d_%H-%M-%S"")
                ##time_formatted=""testing""

                video_name= ""/home/pi/camera/{}"".format(time_formatted)
                video_name_h264= ""{}.h264"".format(video_name)
                video_name_mp4= ""{}.mp4"".format(video_name)
                video_name_txt= ""{}.txt"".format(video_name)

                #Camera takes picture and saves its name as the time stamp
                print(""taking video"")
                time_recorded= time.time()
                with picamera.PiCamera() as camera:
                    camera.vflip = True
                    camera.resolution=(1640,1232)
                    camera.framerate= 30
                    camera.start_recording(""{}"".format(video_name_h264))
                    camera.wait_recording(record_length)
                    camera.stop_recording()

                #convert h264 to mp4 using gpac wrapper so it can be watched on PC/Mac
                call(""MP4Box -fps 30 -add {} {}"".format(video_name_h264,video_name_mp4),shell=True)

                #Loads Video
                vid = cv2.VideoCapture(video_name_mp4)
                #results=np.array([""index"",""x-coord"",""y-coord""])

                #Check if Video was Loaded Properly
                if not vid.isOpened():
                        print ""can't open video""
                #Iterates through each video frame and finds blob
                while(vid.isOpened()):
                        index=index+ 1
                        ret, frame= vid.read()
                        frames=int(vid.get(cv2.cv.CV_CAP_PROP_FRAME_COUNT))

                        if ret==True:
                            #frame=frame[400:900,500:1100]
                            index_results=find_blob_coords(frame,index,video_name)
                            if index_results!=[]:
                                    index_found=index_found+1
                                    if index_found==1:
                                            results=index_results
                                    else:
                                            #print index_results
                                            results=np.vstack((results, index_results))
                        if index==frames-1:
                                            print ""last frame""
                                            break
                #print""results {}"".format(results)
                x_coords=results[:,1]
                xmax=max(x_coords.astype(np.float))
                xmin=min(x_coords.astype(np.float))

                twist=(xmax-xmin)*0.119
                time_recorded=time_recorded+record_length/2
                f.write(""{}  {} \n"".format(tic,twist))
                f.close #saves file   
                f=open(""{}"".format(txt_name), ""a+"")
                os.remove(""{}"".format(video_name_mp4))
                print""mp4 deleted""

                if abs(twist-previous_twist)&gt;2:
                        trajectory_analysis(results)
                else:
                    os.remove(""{}"".format(video_name_h264))
                    print""h264 deleted""
                previous_twist=twist
                time_now=time.time()
                programtime=time_now-tic
                print ""sleeping""
                while (int(time.time())-int(tic))&lt;30:
                        sleep(0.001)
                index_b= index_b+1
    ##            print index_b
    ##            if index_b==2:
    ##                     raise picamera.PiCameraMMALError(picamera.mmal.MMAL_ENOSPC)

            except picamera.exc.PiCameraError,err:
                    print ""something went wrong""
                    traceback.print_exc(file=sys.stdout)
                    traceback_message=traceback.format_exc()
                    picamera.PiCamera().close()
                    error_message=str(err)
                    body=""{}\n\n{}"".format(traceback_message,error_message)
                    subject=""Camera Error Alert""
                    send_error_email(body,subject)

            except ValueError,e:
                    print""Value Error""
                    traceback.print_exc(file=sys.stdout)
                    traceback_message=traceback.format_exc()
                    picamera.PiCamera().close()
                    error_message=str(err)
                    body=""{}\n\n{}"".format(traceback_message,error_message)
                    subject=""Value Error Alert""
                    send_error_email(body,subject)
</code></pre>
"
67452,1,2017-05-24T11:22:14.613,1,633,63896,,2020-03-25T18:19:49.927,2020-03-25T18:19:49.927,1,,"<p>I'm struggling to this topic for a while.</p>

<p><strong>Enviroment</strong>:</p>

<ul>
<li>Windows 10, </li>
<li>Intellij IDEA Ultimate 2016.3. </li>
<li>Python3 runs on the
system.</li>
</ul>

<p>If I try to <code>import RPi.GPIO from GPIO</code>i receive the message <code>No module named GPIO</code>. So, how can I include this package, or is there a known better concept? During the development process I wanna use some unit tests to keep a good quality of my code. </p>
"
67510,1,2017-05-25T20:35:42.153,1,2139,67409,,2017-09-22T05:41:38.140,,0,,"<p>whenever I am making changes my usb becomes default instead of 3.5 mm jack for output.
Please help me .</p>
"
67641,1,2017-05-28T18:11:14.147,1,882,67859,,2017-05-31T15:12:31.657,2017-05-29T11:59:26.673,0,,"<p>We have a student project where part of it requires us to have an Arduino Nano sending data to a Pi 2 Model B via USB.</p>

<p>The Pi's have been setup using PySerial. My question is regarding the absence of the Pi collecting the data sent. </p>

<p>Will the data stay in an internal buffer on the Pi until <code>serial.readline()</code> is called, and the data is collected? What happens after? Will the act of collecting, (copying/moving) the data delete it from the USB channel? What happens to the data if it's never collected? Does it stay available for collecting a certain time, and then deleted?</p>

<p>Any help is greatly appreciated.</p>
"
67686,1,2017-05-29T19:43:12.060,4,1080,67911,,2017-05-29T20:40:45.943,2017-05-29T20:40:45.943,1,,"<p>I am running a headless Raspberry Pi and I have multiple wireless networks at home. I SSH into my Pi. Is there a command line way to switch which network the Pi is on? Yes, I realize that I will lose the connection until after I reconnect to the new network.</p>
"
67705,1,2017-05-30T08:31:34.223,4,242,30925,,2017-06-17T17:19:21.573,2017-05-30T09:26:13.853,0,,"<p>In electronics many boards go through revisions as various chips are end-of-lifed orreplaced for cost cutting.</p>

<p>In industry this is very important so that we can have a stable base for several years. I have been championing a trial of the Raspberry Pi as a replacement for the current boards and OS that cost nearly 10 times the price of a Pi.</p>

<p>So my question is, how many different revisions due to EoL parts/reducing costs were there for the Pi 2, and is this indicative of the way that the Pi 3 is going too?</p>
"
67829,1,2017-06-01T15:53:08.530,9,11284,,user67191,2017-06-01T16:17:18.243,,0,,"<p>How do I setup a keyboard shortcut to run <code>xscreensaver-command -lock</code> when I press <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>l</kbd>? I've had a look at <a href=""https://raspberrypi.stackexchange.com/questions/9344/raspbian-keyboard-shortcuts"">Raspbian keyboard shortcuts</a>, but that talks about finding the keyboard shortcuts, not setting them.</p>
"
67907,1,2017-06-03T13:10:28.670,7,8233,7238,,2019-06-17T09:51:32.740,,0,,"<p>I have a whole bunch of Pi Zeros and Zero Ws. I've flashed SD cards with the latest Raspbian Jessie Lite, and I've followed the instructions at <a href=""https://gist.github.com/gbaman/975e2db164b3ca2b51ae11e45e8fd40a"" rel=""noreferrer"">https://gist.github.com/gbaman/975e2db164b3ca2b51ae11e45e8fd40a</a> with <code>g_serial</code>:</p>

<pre><code>$ cat cmdline.txt
dwc_otg.lpm_enable=0 console=serial0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait modules-load=dwc2,g_serial

$ tail -n 5 config.txt
# Enable audio (loads snd_bcm2835)
dtparam=audio=on
enable_uart=1

dtoverlay=dwc2
</code></pre>

<p>If I then plug the Pi into my laptop via a Micro USB OTG to USB Adapter (<a href=""https://www.amazon.co.uk/Joyshare-Micro-USB-OTG-Adapter/dp/B01DOEY522/"" rel=""noreferrer"">specifically, this one</a>) the Pi appears to boot fine but there's no sign of any new serial port on the laptop - nothing appears in <code>dmesg</code> and no exciting new things in <code>/dev/tty*</code> or <code>lsusb</code></p>

<p>I've tried:</p>

<ul>
<li>Pi Zeros and Pi Zero Ws</li>
<li>Different host machines</li>
<li>Different OTG adapters (though all the same brand)</li>
</ul>

<p>What have I missed? How can I debug further? (Or what might I be doing wrong?)</p>
"
67997,1,2017-06-05T16:40:22.527,2,21004,68266,,2019-12-23T04:05:01.713,2017-06-06T07:36:13.790,1,,"<p>I have tried using the on-board Wi-Fi as well as a USB Wi-Fi adapter on my Raspberry Pi 3 Model B.</p>

<p>I am using Ubuntu Mate 16.04. After putting in the Wi-Fi password, I see the Wi-Fi showing up as connected. In about 6 or so seconds, the authentication window pops up and wants me to enter the password again. It keeps on repeating.</p>

<p>I have tried setting up the Wi-Fi manually as follows: </p>

<pre><code>sudo nano /etc/wpa_supplicant/wpa_supplicant.conf network { ssid = ""mySSID"" psk = ""my password"" }
</code></pre>

<p>Please suggest a solution if you have solved this problem.</p>
"
68015,1,2017-06-05T22:28:11.087,1,818,68287,,2018-02-08T09:02:44.837,2017-06-06T07:25:16.813,0,,"<p>I'm currently exploring whether it is possible to create a piece of software which can (ideally) install and configure itself automatically - with no interaction from the user - the first time the Raspberry Pi is booted. </p>

<p>Inspired by how the Wi-Fi and SSH are automatically configured on Jessie, I'm wondering if this would be possible by storing a binary or a script on the boot partition of the SD card (boot partition so that it will also work for Windows users without third-party software). The user shouldn't have to do anything other than image the SD card, possibly drop some files into the boot partition, and then connect it to power/the internet.</p>

<p>My question is, then: what piece of code (in Raspbian? In the kernel?) currently handles the Wi-Fi and SSH setup? Additionally, are there any other facilities for doing what I'm trying to do - i.e., am I going down the wrong path with this?</p>
"
68044,1,2017-06-06T14:01:10.170,0,3746,68324,,2020-11-04T12:16:24.200,2017-06-07T10:13:18.947,4,,"<p>Is there a way to control Alsa volume through software if I2S Dac (e.g. old Hifiberry) doesn't support software volume control (amixer is empty and if you add mixer it won't affect anything)?</p>

<p>While with MPD 5 can control volume for what is played within MPD but it doesn't affect volume if its played outside it, from other sources, such as <code>spotify-connect</code> lib, which uses Alsa mixer to control volume.  Is there a way to it (or direct audio signal to MPD)?</p>
"
68127,1,2017-06-07T23:09:01.457,2,8257,68416,,2018-07-03T01:46:31.617,,0,,"<p>On a clean install of Raspbian Jessie I want to play mp3s via <a href=""https://github.com/baudm/mplayer.py"" rel=""nofollow noreferrer"">mplayer</a> through my <a href=""http://rads.stackoverflow.com/amzn/click/B00XM883BK"" rel=""nofollow noreferrer"">Sabrent USB Audio driver</a>. On Raspbian itself this was plug n' play; I changed the default audio device to ""USB Audio Device"" and then Youtube etc. worked as desired. In the CLI,</p>

<pre><code>mplayer myfile.mp3
</code></pre>

<p>also worked perfectly. But in Python (3.4), the audio keeps funneling through HDMI to my monitor's speakers. This happens even when I switch my Python mp3 player to pygame, so it seems to be an issue with RasPi settings / Python.</p>

<p>Edit: When I changed the default audio device, I did so through the Jessie desktop interface in Preferences / Audio Device Settings. That window lists ""USB Audio Device (Alsa mixer)"" as default, as desired.</p>
"
68304,1,2017-06-11T23:44:59.813,1,560,46418,,2017-06-17T21:42:07.887,,0,,"<p>I would like to use the <code>apds9960</code> (light/gesture sensor) on rp0 - <strong>utilizing the kernel iio driver</strong>, which is already available, but there is no dt overlay yet. I guess I need to:</p>

<ul>
<li>write the <code>dts</code> file</li>
<li>compile it to <code>dtb</code></li>
<li>add to overlays</li>
<li>specify dtoverlay in <code>config.txt</code></li>
<li>find the device in <code>/sys/bus/iio/devices</code></li>
</ul>

<p>Is someone able to do/help with the first point or two?</p>
"
68325,1,2017-06-12T06:51:54.660,0,1000,68643,,2019-01-09T00:47:08.747,2017-06-12T07:42:56.693,2,,"<p>Firstly, apologies for the long subject title, I'm lacking a better description for the issue that is presenting itself, and Linux experience. </p>

<p>The best way of describing what is happening is to look at the images attached, you will see in the 'Other' menu subgroup that there is a substantial amount of shortcuts to various things (programs/files?).</p>

<p><a href=""https://i.stack.imgur.com/uQ8F3.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uQ8F3.jpg"" alt=""Screenshot &quot;Other&quot; sub-menu""></a></p>

<p>This sub-menu contains just about every program on the Pi plus some...
In <code>lxde-pi-applications.menu</code> file, located in <code>~/.config/menus/</code> everything appears to be in correct order as shown below:</p>

<p><a href=""https://i.stack.imgur.com/eGHdb.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eGHdb.jpg"" alt=""Screenshot of lxde-pi-applications.menu file""></a></p>

<p>So why is the 'Other' menu sub-group full of all this stuff, and more importantly, how to I remove it all from the 'Other' men sub-group (only)?</p>

<p><em>I also posted this on the RPi forums, but wanted to post here as well to enhance my chances of getting an answer and hopefully helping others who are experiencing the same problem.</em></p>
"
68699,1,2017-06-19T17:52:29.530,5,842,69039,,2017-06-21T06:25:06.723,,0,,"<p>I'm trying to build a fully ""diskless"" raspi3 environment, by having the pi load u-boot from the network (similar to the usual pxelinux setup for x86)</p>

<p>I've gotten the pi to get an ip address via dhcp and connect to my tftp server to fetch bootcode.bin, start.elf and config.txt.</p>

<p>I can use the following config.txt:</p>

<pre><code>kernel=u-boot.bin
</code></pre>

<p>And it fetches the u-boot image. However I cannot figure out how to make it load the <code>boot.scr</code> over tftp so u-boot does something useful (like loading a linux kernel and initrd and booting up a full system).</p>

<p>If I use an sdcard with the same config.txt it will load boot.scr from the sdcard itself.</p>

<p>Is this possible?</p>
"
68784,1,2017-06-21T12:50:20.763,1,1928,69137,,2020-12-23T08:44:33.337,,0,,"<p>I want to record void with an USB microphone on a Raspberry PI running Raspbian (Jessie). At the same time, I want to keep the audio output on the internal sound card. Similar questions on this site do not include a useful answer.</p>

<p><strong>Card indices</strong>:</p>

<pre><code>pi@raspberrypi:~ $ cat /proc/asound/modules 
 0 snd_bcm2835
 1 snd_usb_audio
</code></pre>

<p>
<strong>alsa.conf</strong>:</p>

<pre><code>pi@raspberrypi:~ $ cat /usr/share/alsa/alsa.conf | grep '.card '
defaults.ctl.card 0
defaults.pcm.card 0
</code></pre>



<p><strong>~/.asoundrc</strong>:</p>

<pre><code>pi@raspberrypi:~ $ cat ~/.asoundrc
pcm.!default {
    type hw
    card 0
}

ctl.!default {
    type hw
    card 0
}
</code></pre>

<p>Now when I set the cards in both configuration files to <code>1</code>, I can record audio with the command <code>arecord temp.wav --format=S16_LE</code>. However, I can’t play it, since the microphone card that’s currently configured has no output.</p>

<p>How do I configure the system in a way, that only the input is taken from the microphone card with index <code>1</code>?</p>

<p>I tried setting <code>ctl.card</code> to <code>1</code> while leaving <code>pcm.card</code> as <code>0</code> and also changed the <code>card</code> values in <code>.asoundrc</code> accordingly. Recording audio looks on card <code>0</code> still.</p>
"
69115,1,2017-06-28T16:43:02.133,4,711,69487,,2017-07-04T19:42:03.693,2017-06-29T06:43:16.167,2,,"<p>I want to prepare a homemade thermostat for my greenhouse project. I have enough knowledge about electronics and linux based embedded systems but I'm not skilled enough in programming, so let me introduce my project and thoughts.</p>

<ul>
<li>I can control triacs and optocouplers or solid state relays with GPIO on RPi. I already done this before on Linksys WRT54gL router with OpenWrt for my garage door. In this project I choose to control AC with solid state relays because I want to keep it simple and system will be used more frequently.</li>
<li>I want to control ambient temperature with a hot air blower and temperature sensor data will be fed back to RPi. So, for example, ambient temperature reaches 25°C air blower will be shutdown.</li>
<li>For irrigation I want to use water pumps to work on humidity same as air blower. When the humidity drops, pumps will feed the soil.</li>
<li>All this systems will controlled by a user interface (web or some LCD with buttons). and I want to set temperature and humidity values to work and log all data. I want to use Apache or lighttpd with cron timing programs.</li>
</ul>

<p>Here is the hard part for me I have no information on Python, PHP, HTML or any programming languages. I already searched google to find any similar projects but I couldn't find one. Here I'm sharing my flowgraph for the project below.</p>

<p><a href=""https://i.stack.imgur.com/tpVjn.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/tpVjn.jpg"" alt=""Flowgraph""></a></p>
"
69628,1,2017-07-10T21:52:07.020,1,503,69484,,2017-07-13T14:14:38.227,2017-07-10T22:09:54.167,2,,"<p>I'm using <a href=""http://wiringpi.com/reference/serial-library/"" rel=""nofollow noreferrer"">WiringPi</a>'s library to read information from my Arduino on my Raspberry Pi 3b. The RPi is connected to the Arduino as so:</p>

<p>RPi &lt;-----> Arduino</p>

<p>8 (TX) &lt;-> 17 (RX2)</p>

<p>10 (RX) &lt;-> 16 (TX2)</p>

<hr>

<p>I'm doing a very simple test to make sure it works. From my Arduino, I have the following code:</p>

<pre><code>void setup() 
{
  Serial2.begin(9600);
}

void loop() 
{
  Serial2.write(""Just a test"");
}
</code></pre>

<p>Now, for my C code on the Pi:</p>

<pre><code>  msgLength = serialDataAvail(fd);
  printf(""%i \n"",msgLength);
  read(fd,ArduinoMsg,255);
  printf(""%s \n"", ArduinoMsg);
</code></pre>

<p>I removed everything else so it's easier to read and gets straight to the point.</p>

<hr>

<h2>Here's My Issue:</h2>

<p>serialDataAvail is suppose to return the number of bytes it has to read BUT it always returns 0. No matter what. The thing is, it still outputs values, as can be seen in the image below:
<a href=""https://i.stack.imgur.com/PtG7E.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/PtG7E.png"" alt=""Output from running the code""></a>
<em><code>./Receive</code> is just the name of my C code. I have <code>Transmit</code> and <code>Receive</code> and am only having issues with <code>Receive</code> now.</em></p>

<h2>My Thoughts:</h2>

<p>Since it keeps outputting Putty every two tries, I believe maybe the SSH program is somehow effecting the serial communication. </p>

<p>I have searched around to find why the function <code>serialDataAvail()</code> is giving me a 0 when there is clearly something in the buffer but could not find any answers.</p>

<h2>EDIT</h2>

<p>I experimented with <code>minicom -b 9600 -o -D /dev/ttyAMA0</code> and I am receiving the characters from the Arduino clearly. Which means there is an issue with my code. When I figure it out, I will post it for those who run into similar issues in the future.</p>
"
69639,1,2017-07-11T04:39:22.507,2,2974,70062,,2019-01-19T23:25:46.270,,1,,"<p>I need to auto-connect to the AP wirelessly with WEP with the password hello. I know it's unsecure and that's the purpose of the lab environment I am setting up for a presentation. I've seen tutorials and answers like this one  (<a href=""https://raspberrypi.stackexchange.com/questions/51771/connecting-the-pi3-automatically-to-wifi"">Connecting the Pi3 automatically to Wifi</a>) but they all are using WPA or WPA2 and would like some help in setting this up. I also need to be able to simulate high amounts of traffic to the AP like a network to generate a ton of IVs (initialization vectors). Any help would be appreciated.</p>
"
69717,1,2017-07-12T18:54:38.323,0,4010,70143,,2018-09-30T14:19:05.770,2017-07-13T05:46:19.360,4,,"<p>I have a raspberry pi 3 model B+ with raspbian jessy lite from July.</p>

<p><strong>cat /proc/asound/version</strong></p>

<pre><code>Advanced Linux Sound Architecture Driver Version k4.4.50-v7+.
</code></pre>

<p>I have a USB soundcard that has two 3.5 jack audio ports (one for mic and one for headphones) and I also have a bluetooth speaker.</p>

<p>What I want to do is to configure alsa to use the USB Soundcard(Set [C-Media USB Headphone Set]) only for microphone input and use my bluetooth speaker(bcm2358) as audio output. How can I do that ? I looked through similar questions and the answers I found didn't worked for me.</p>

<p>This question is related to this:</p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/63072/setup-output-and-input-audio-on-different-cards"">Setup output and input audio on different cards</a></p>

<p>He made it to get it work - but for me, it isn't working.</p>

<p>My configuration:
<strong>aplay -l</strong></p>

<pre><code>**** List of PLAYBACK Hardware Devices ****
card 0: Set [C-Media USB Headphone Set], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 1: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA]
  Subdevices: 8/8
  Subdevice #0: subdevice #0
  Subdevice #1: subdevice #1
  Subdevice #2: subdevice #2
  Subdevice #3: subdevice #3
  Subdevice #4: subdevice #4
  Subdevice #5: subdevice #5
  Subdevice #6: subdevice #6
  Subdevice #7: subdevice #7
card 1: ALSA [bcm2835 ALSA], device 1: bcm2835 ALSA [bcm2835 IEC958/HDMI]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</code></pre>

<p>My configuration: <strong>arecord -l</strong></p>

<pre><code>**** List of CAPTURE Hardware Devices ****
card 0: Set [C-Media USB Headphone Set], device 0: USB Audio [USB Audio]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</code></pre>

<p>My configuration: <strong>cat /proc/asound/modules</strong></p>

<pre><code> 0 snd_usb_audio
 1 snd_bcm2835
</code></pre>

<p><a href=""https://i.stack.imgur.com/M2XQW.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/M2XQW.jpg"" alt=""https://s1.postimg.org/h5hpkvn5r/photo5996751145789401269.jpg""></a></p>
"
69866,1,2017-07-16T15:49:49.330,7,14466,32565,,2018-08-20T05:17:20.997,,0,,"<p>I'm trying to set up hostapd on a Raspberry Pi 3 with Fedora Server 26 installed. I downloaded the correct WiFi driver as recommended on <a href=""https://fedoraproject.org/wiki/Architectures/ARM/Raspberry_Pi?rd=Raspberry_Pi"" rel=""noreferrer"">Fedora site</a></p>

<pre><code>sudo curl https://raw.githubusercontent.com/RPi-Distro/firmware-nonfree/master/brcm80211/brcm/brcmfmac43430-sdio.txt -o /lib/firmware/brcm/brcmfmac43430-sdio.txt
</code></pre>

<p>I followed the followed some steps from a <a href=""https://frillip.com/using-your-raspberry-pi-3-as-a-wifi-access-point-with-hostapd/"" rel=""noreferrer"">guide</a> to do the setup on Raspbian.
When starting hostapd I get the output below. The access point is visible to clients, but they can't connect.</p>

<pre><code>    Failed to create interface mon.wlan0: -95 (Operation not supported)
    wlan0: Could not connect to kernel driver
    Using interface wlan0 with hwaddr &lt;my mac addr&gt; and ssid ""Test AP""
    wlan0: interface state UNINITIALIZED-&gt;ENABLED
    wlan0: AP-ENABLED
wlan0: AP-STA-POSSIBLE-PSK-MISMATCH &lt;client mac addr&gt;
wlan0: AP-STA-POSSIBLE-PSK-MISMATCH &lt;client mac addr&gt;
wlan0: AP-STA-POSSIBLE-PSK-MISMATCH &lt;client mac addr&gt;
wlan0: STA &lt;client mac addr&gt; IEEE 802.11: disassociated
wlan0: STA &lt;client mac addr&gt; IEEE 802.11: associated
wlan0: STA &lt;client mac addr&gt; IEEE 802.11: disassociated
</code></pre>

<p>I'm wondering how to solve the error below and make the access point work.</p>

<blockquote>
  <p>ailed to create interface mon.wlan0: -95 (Operation not supported)
  wlan0: Could not connect to kernel driver</p>
</blockquote>
"
70239,1,2017-07-24T13:47:58.983,1,5937,70744,,2017-07-25T12:23:16.463,2017-07-25T12:23:16.463,0,,"<p>I will try to be brief!</p>

<p>I have no internet connection at home save for my mobile phone data. This makes it difficult to use ""normal"" remote applications for media players like Kodi because they require a network connection. </p>

<p>I have used the Android app <a href=""https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwjnjZqZhaLVAhWk5YMKHUcHCqUQFggoMAA&amp;url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dorg.leetzone.android.yatsewidgetfree%26hl%3Den&amp;usg=AFQjCNHX-cUVC6snsGnEtE5Cryuoi9F18g"" rel=""nofollow noreferrer"">Yatse</a> at school and really liked it. I would love to be able to use a similar media remote app to control my Pi, but it would have to be offline using Bluetooth or an Access Point connection created by my Pi. A Bluetooth remote might be the best option, because if I connect my phone to an Access Point WiFi connection, I will not have an internet connection on my phone, rather inconvenient. </p>

<p>I have a Raspberry Pi 3 and an external hard drive filled with movies and music. My main concern is playing/controlling music, movies/TV shows are secondary. For what it's worth, I also have a HiFiberry attached as an audio output. My goal was to sit my Pi atop my stereo and crank some high quality tunes!</p>

<p>In the past I tried <a href=""https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;sqi=2&amp;ved=0ahUKEwj9kLukhaLVAhWj6YMKHbTYBqYQFggkMAA&amp;url=http%3A%2F%2Fmoodeaudio.org%2F&amp;usg=AFQjCNGDg1g8cFae-dPF7vUxS1IO40dAGw"" rel=""nofollow noreferrer"">Moode Audio</a>. The Access Point mode worked, but the web based interface was <em>very</em> slow with my large library of music, and the web interface was difficult to control using a phone. Perhaps it is better suited for desktop/laptop or even tablet use. Also, as mentioned before, when I connected to the access point WiFi, I lost internet connection on my phone, so I could not, for example, browse Reddit while listening to music. Furthermore, it seems like it has become a paid service since I tried it (a few months ago).</p>

<p>Ideally, I would love to be able to somehow use Kodi. I liked using it in the past and thought it worked well for me, but controlling it offline has been difficult (impossible) for me. </p>

<p>I should mention that I have minimal experience with Linux, command lines, and the like, so please have patience with me!</p>

<hr>

<p>Edit: The solution I am using right now:</p>

<ol>
<li>Install OSMC to my Raspberry Pi's microSD card.</li>
<li>Hook up my USB hard drive, keyboard, and mouse.</li>
<li>Run the setup on my Pi, it basically runs itself.</li>
<li>Install Yatse (android app) on my phone.</li>
<li>Turn on the WiFi hotspot mode on my phone.</li>
<li>Setup OSMC on my Pi to connect to my phone's WiFi using the mouse and keyboard.</li>
<li>Enter the Pi's IP address into the Yatse app, and viola! It works!</li>
</ol>

<p>If anyone else has troubles with this method, I can provide more detail!</p>
"
70335,1,2017-07-26T10:25:13.230,5,3809,70865,,2017-08-07T11:36:11.247,2017-08-06T18:39:18.313,12,,"<p>I am trying to share my LTE modem connection (wwan0) to my ethernet lan port on my rPi.</p>

<ul>
<li>wlan0 -> WiFi my home network</li>
<li>wwan0 -> LTE modem</li>
<li>eth0 -> LAN interface</li>
</ul>

<p>@raspberrypi:~ $ ifconfig -a</p>

<pre><code>eth0      Link encap:Ethernet  HWaddr b8:27:eb:2a:2a:0f  
      inet addr:192.168.2.1  Bcast:192.168.2.255  Mask:255.255.255.0
      UP BROADCAST MULTICAST  MTU:1500  Metric:1
      RX packets:6056 errors:0 dropped:0 overruns:0 frame:0
      TX packets:7515 errors:0 dropped:0 overruns:0 carrier:0
      collisions:0 txqueuelen:1000 
      RX bytes:413209 (403.5 KiB)  TX bytes:431931 (421.8 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:36 errors:0 dropped:0 overruns:0 frame:0
          TX packets:36 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1 
          RX bytes:2813 (2.7 KiB)  TX bytes:2813 (2.7 KiB)

wlan0     Link encap:Ethernet  HWaddr b8:27:eb:7f:7f:5a  
          inet addr:192.168.1.50  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:323 errors:0 dropped:2 overruns:0 frame:0
          TX packets:485 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:30591 (29.8 KiB)  TX bytes:55800 (54.4 KiB)

wwan0     Link encap:Ethernet  HWaddr 00:1e:10:1f:00:00  
          inet addr:100.64.181.186  Bcast:100.64.181.187  Mask:255.255.255.252
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:14 errors:0 dropped:0 overruns:0 frame:0
          TX packets:50 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:1922 (1.8 KiB)  TX bytes:8367 (8.1 KiB)
</code></pre>

<p>sudo nano /etc/network/interfaces</p>

<pre><code>#iface eth0 inet manual
allow-hotplug eth0  
iface eth0 inet static  
address 192.168.2.1
netmask 255.255.255.0
</code></pre>

<p>sudo nano /etc/dnsmasq.conf</p>

<pre><code>interface=eth0      # Use interface eth0  
listen-address=192.168.2.1 # Explicitly specify the address to listen on  
bind-interfaces      # Bind to the interface to make sure we aren't sending things elsewhere  
server=8.8.8.8       # Forward DNS requests to Google DNS  
domain-needed        # Don't forward short names  
bogus-priv           # Never forward addresses in the non-routed address spaces.  
dhcp-range=192.168.2.1,192.168.2.50,12h # Assign IP addresses between 172.24.1.50 and 172.24.1.150 with a 12 hour lease time  
</code></pre>

<p>sudo nano /etc/sysctl.conf</p>

<pre><code>net.ipv4.ip_forward=1

sudo iptables -t nat -A POSTROUTING -o wwan0 -j MASQUERADE 

    pi@raspberrypi:~ $ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         setup.ubnt.com  0.0.0.0         UG    10     0        0 wlan0
default         100.64.35.177   0.0.0.0         UG    1000   0        0 wwan0
100.64.35.176   *               255.255.255.240 U     1000   0        0 wwan0
192.168.1.0     *               255.255.255.0   U     10     0        0 wlan0
192.168.2.0     *               255.255.255.0   U     0      0        0 eth0
</code></pre>

<p>...If I am connecting my client PC with rPi I get IP address via DHCP, but there is no internet connection. Can not ping (IP, hostname).</p>

<p>Route table after connecting the client:</p>

<pre><code>pi@raspberrypi:~ $ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         setup.ubnt.com  0.0.0.0         UG    10     0        0 wlan0
default         100.64.35.177   0.0.0.0         UG    1000   0        0 wwan0
100.64.35.176   *               255.255.255.240 U     1000   0        0 wwan0
link-local      *               255.255.0.0     U     202    0        0 eth0
192.168.1.0     *               255.255.255.0   U     10     0        0 wlan0
192.168.2.0     *               255.255.255.0   U     0      0        0 eth0
</code></pre>

<p>syslog:</p>

<pre><code>Jul 26 00:35:32 raspberrypi dhcpcd[760]: eth0: carrier acquired
Jul 26 00:35:32 raspberrypi kernel: [  662.708525] smsc95xx 1-1.1:1.0 eth0: link up, 100Mbps, full-duplex, lpa 0xC5E1
Jul 26 00:35:32 raspberrypi dhcpcd[760]: eth0: IAID eb:2a:2a:0f
Jul 26 00:35:33 raspberrypi dnsmasq-dhcp[794]: DHCPDISCOVER(eth0) 00:0e:c6:d9:b4:b0
Jul 26 00:35:33 raspberrypi dnsmasq-dhcp[794]: DHCPOFFER(eth0) 192.168.2.40 00:0e:c6:d9:b4:b0
Jul 26 00:35:33 raspberrypi dhcpcd[760]: eth0: soliciting an IPv6 router
Jul 26 00:35:33 raspberrypi dhcpcd[760]: eth0: soliciting a DHCP lease
Jul 26 00:35:34 raspberrypi dnsmasq-dhcp[794]: DHCPREQUEST(eth0) 192.168.2.40 00:0e:c6:d9:b4:b0
Jul 26 00:35:34 raspberrypi dnsmasq-dhcp[794]: DHCPACK(eth0) 192.168.2.40 00:0e:c6:d9:b4:b0 Adrians-MBP
Jul 26 00:35:42 raspberrypi dhcpcd[760]: eth0: using IPv4LL address 169.254.153.193
Jul 26 00:35:42 raspberrypi avahi-daemon[430]: Registering new address record for 169.254.153.193 on eth0.IPv4.
Jul 26 00:35:42 raspberrypi dhcpcd[760]: wwan0: adding default route via 100.64.35.177
Jul 26 00:35:42 raspberrypi dhcpcd[760]: eth0: adding route to 169.254.0.0/16
Jul 26 00:35:43 raspberrypi dhcpcd[760]: wwan0: removing default route via 100.64.35.177
Jul 26 00:35:44 raspberrypi ntpd[784]: Listen normally on 8 eth0 169.254.153.193 UDP 123
Jul 26 00:35:44 raspberrypi ntpd[784]: peers refreshed
Jul 26 00:36:01 raspberrypi CRON[1732]: (root) CMD (/home/pi/script/watchdog.sh &gt;/dev/null 2&gt;&amp;1)
Jul 26 00:37:01 raspberrypi CRON[1751]: (root) CMD (/home/pi/script/watchdog.sh &gt;/dev/null 2&gt;&amp;1)
Jul 26 00:37:53 raspberrypi dhcpcd[760]: eth0: carrier lost
Jul 26 00:37:53 raspberrypi kernel: [  803.801956] smsc95xx 1-1.1:1.0 eth0: link down
Jul 26 00:37:53 raspberrypi avahi-daemon[430]: Withdrawing address record for 169.254.153.193 on eth0.
Jul 26 00:37:53 raspberrypi dhcpcd[760]: wwan0: adding default route via 100.64.35.177
Jul 26 00:37:53 raspberrypi dhcpcd[760]: eth0: deleting route to 169.254.0.0/16
Jul 26 00:37:54 raspberrypi dhcpcd[760]: wwan0: removing default route via 100.64.35.177
Jul 26 00:37:55 raspberrypi ntpd[784]: Deleting interface #8 eth0, 169.254.153.193#123, interface stats: received=0, sent=0, dropped=0, active_time=131 secs
Jul 26 00:37:55 raspberrypi ntpd[784]: peers refreshed

    pi@raspberrypi:~ $ sudo iptables -t nat -v -L -n --line-number
Chain PREROUTING (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         

Chain INPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         

Chain OUTPUT (policy ACCEPT 1 packets, 240 bytes)
num   pkts bytes target     prot opt in     out     source               destination         

Chain POSTROUTING (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         
1        1   240 MASQUERADE  all  --  *      wwan0   0.0.0.0/0            0.0.0.0/0 
</code></pre>

<p>Only wwan0 sharing is not working, If I replace with Wifi wlan0 it's immediately starts working. What could be the problem?</p>

<p><strong>IT'S WORKING!!!</strong></p>

<pre><code>pi@raspberrypi:~ $ sudo ip rule add iif lo priority 48000 table 2^C
pi@raspberrypi:~ $ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         setup.ubnt.com  0.0.0.0         UG    10     0        0 wlan0
default         100.64.12.62    0.0.0.0         UG    1000   0        0 wwan0
100.64.12.60    *               255.255.255.252 U     1000   0        0 wwan0
192.168.1.0     *               255.255.255.0   U     10     0        0 wlan0
192.168.2.0     *               255.255.255.0   U     0      0        0 eth0
pi@raspberrypi:~ $  sudo ip rule add iif lo priority 48000 table 2
pi@raspberrypi:~ $ sudo ip route add default via 192.168.1.1 dev wlan0 table 2
pi@raspberrypi:~ $ sudo ip rule add iif eth0 priority 48010 table 3
pi@raspberrypi:~ $ sudo ip route add default via 100.64.12.62 dev wwan0 table 3
pi@raspberrypi:~ $ ip rule
0:  from all lookup local 
32766:  from all lookup main 
32767:  from all lookup default 
48000:  from all iif lo lookup 2 
48010:  from all iif eth0 lookup 3 
pi@raspberrypi:~ $ ip route show table 2
default via 192.168.1.1 dev wlan0 
pi@raspberrypi:~ $ ip route show table 3
default via 100.64.12.62 dev wwan0 
pi@raspberrypi:~ $ ip route show table main
default via 192.168.1.1 dev wlan0  metric 10 
default via 100.64.12.62 dev wwan0  metric 1000 
100.64.12.60/30 dev wwan0  proto kernel  scope link  src 100.64.12.61  metric 1000 
192.168.1.0/24 dev wlan0  proto kernel  scope link  src 192.168.1.50  metric 10 
192.168.2.0/24 dev eth0  proto kernel  scope link  src 192.168.2.1 
pi@raspberrypi:~ $ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         setup.ubnt.com  0.0.0.0         UG    10     0        0 wlan0
default         100.64.12.62    0.0.0.0         UG    1000   0        0 wwan0
100.64.12.60    *               255.255.255.252 U     1000   0        0 wwan0
192.168.1.0     *               255.255.255.0   U     10     0        0 wlan0
192.168.2.0     *               255.255.255.0   U     0      0        0 eth0
pi@raspberrypi:~ $ sudo ip route delete default table main
pi@raspberrypi:~ $ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         100.64.12.62    0.0.0.0         UG    1000   0        0 wwan0
100.64.12.60    *               255.255.255.252 U     1000   0        0 wwan0
192.168.1.0     *               255.255.255.0   U     10     0        0 wlan0
192.168.2.0     *               255.255.255.0   U     0      0        0 eth0
pi@raspberrypi:~ $ sudo ip route delete default table main
pi@raspberrypi:~ $ route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
100.64.12.60    *               255.255.255.252 U     1000   0        0 wwan0
192.168.1.0     *               255.255.255.0   U     10     0        0 wlan0
192.168.2.0     *               255.255.255.0   U     0      0        0 eth0
pi@raspberrypi:~ $ ip route show table 2
default via 192.168.1.1 dev wlan0 
pi@raspberrypi:~ $ ip route show table 3
default via 100.64.12.62 dev wwan0 
pi@raspberrypi:~ $ ping dsl.sk
PING dsl.sk (217.67.19.197) 56(84) bytes of data.
64 bytes from hornik1.housing.dialtelecom.sk (217.67.19.197): icmp_seq=1 ttl=56 time=24.0 ms
64 bytes from hornik1.housing.dialtelecom.sk (217.67.19.197): icmp_seq=2 ttl=56 time=27.2 ms
64 bytes from hornik1.housing.dialtelecom.sk (217.67.19.197): icmp_seq=3 ttl=56 time=27.4 ms
^C
--- dsl.sk ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 2002ms
rtt min/avg/max/mdev = 24.039/26.248/27.428/1.563 ms
pi@raspberrypi:~ $ curl ipinfo.io/ip
90.64.28.65
pi@raspberrypi:~ $ 
</code></pre>

<p>One more thing left: ping is not working, when pinging from localhost trough wwan0 interface (tcp connections are working, like curl --interface wwan0 dsl.sk, or nping --tcp dsl.sk):</p>

<pre><code>wwan0     Link encap:Ethernet  HWaddr 00:1e:10:1f:00:00  
          inet addr:100.64.248.238  Bcast:100.64.248.239  Mask:255.255.255.252
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:5359 errors:0 dropped:0 overruns:0 frame:0
          TX packets:5393 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:409828 (400.2 KiB)  TX bytes:471651 (460.5 KiB)

pi@raspberrypi3:~ $ sudo nano /etc/wwan2lan.sh 
pi@raspberrypi3:~ $ sudo ip rule
0:  from all lookup local 
32766:  from all lookup main 
32767:  from all lookup default 
48000:  from all iif lo lookup 2 
48010:  from all iif eth0 lookup 3 
48010:  from 100.64.248.238 iif lo lookup 3 
pi@raspberrypi3:~ $ sudo ip rule add from 100.64.248.238/32 iif lo priority 47010 table 3
pi@raspberrypi3:~ $ ping -I wwan0 dsl.sk
PING dsl.sk (217.67.19.197) from 100.64.248.238 wwan0: 56(84) bytes of data.
64 bytes from hornik1.housing.dialtelecom.sk (217.67.19.197): icmp_seq=1 ttl=57 time=292 ms
64 bytes from hornik1.housing.dialtelecom.sk (217.67.19.197): icmp_seq=2 ttl=57 time=19.3 ms

after reboot:

pi@raspberrypi3:~ $ sudo ip rule add from 100.64.5.41/32 iif lo priority 47010 table 3
pi@raspberrypi3:~ $ ip rule
0:  from all lookup local 
32766:  from all lookup main 
32767:  from all lookup default 
47010:  from 100.64.5.41 iif lo lookup 3 
48000:  from all iif lo lookup 2 
48010:  from all iif eth0 lookup 3 
48010:  from 100.64.5.41 iif lo lookup 3 
pi@raspberrypi3:~ $ ping -I wwan0 dsl.sk
PING dsl.sk (217.67.19.197) from 100.64.5.41 wwan0: 56(84) bytes of data.
From 100.64.5.41 icmp_seq=1 Destination Host Unreachable
From 100.64.5.41 icmp_seq=2 Destination Host Unreachable

in second terminal I did tcpdump:

pi@raspberrypi3:~ $ sudo tcpdump -n -i wwan0
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on wwan0, link-type EN10MB (Ethernet), capture size 262144 bytes
19:40:00.878187 ARP, Request who-has 217.67.19.197 tell 100.64.5.41, length 28
19:40:01.923296 ARP, Request who-has 217.67.19.197 tell 100.64.5.41, length 28
19:40:02.963306 ARP, Request who-has 217.67.19.197 tell 100.64.5.41, length 28
19:40:04.004512 ARP, Request who-has 217.67.19.197 tell 100.64.5.41, length 28
</code></pre>

<p>I also tried to issue only ip rule wwan0ip...47010 (without 48010), it is not helped.</p>

<p>Here is the automated script to make things work automatically (add it to post-up...):</p>

<pre><code>pi@raspberrypi3:~ $ cat /etc/wwan2lan.sh 
#!/bin/bash


sleep 10

# define interfaces

LOCALIF=""wlan0""
WWANIF=""wwan0""
LANIF=""eth0""

#get gateway IP address

LOCALGATEWAY=$(ip route show 0.0.0.0/0 dev $LOCALIF | cut -d\  -f3)
WWANGATEWAY=$(ip route show 0.0.0.0/0 dev $WWANIF | cut -d\  -f3)


#local traffic gets one private default route:

ip rule add iif lo priority 48000 table 2
ip route add default via $LOCALGATEWAY dev $LOCALIF table 2

#eth0 traffic gets another private default route:

ip rule add iif $LANIF priority 48010 table 3
ip route add default via $WWANGATEWAY dev $WWANIF table 3

#delete shared gateways

ip route delete default dev $LOCALIF
ip route delete default dev $WWANIF

#enable wwan0 traffic from localhost if we specify the adapter
INETADDR=$(/sbin/ifconfig $WWANIF | grep 'inet addr:' | cut -d: -f2 | awk '{ print $1}')
ip rule add from $INETADDR/32 iif lo priority 48010 table 3
</code></pre>
"
70521,1,2017-07-31T05:37:34.603,-1,3882,59948,,2018-01-21T18:52:11.300,2017-10-17T05:15:23.607,1,,"<p>I have a problem with reading data from adc convertor MCP3008 10bit.</p>

<p>I found a python script from adafruit that give data value from all channels
(CHO TO CH7). I added a picture with my results and the from adafruit site
""<a href=""https://learn.adafruit.com/assets/30459"" rel=""nofollow noreferrer"">https://learn.adafruit.com/assets/30459</a>"".</p>

<p>You can see that mine results are jumping while from the adafruit is stable on zero. So I think there is something wrong with some of one configuration file.</p>

<p>Any help would be appreciate</p>

<pre><code># Simple example of reading the MCP3008 analog input channels and printing
# them all out.
# Author: Tony DiCola
# License: Public Domain
import time

# Import SPI library (for hardware SPI) and MCP3008 library.
import Adafruit_GPIO.SPI as SPI
import Adafruit_MCP3008

# Hardware SPI configuration:
SPI_PORT   = 0
SPI_DEVICE = 0
mcp = Adafruit_MCP3008.MCP3008(spi=SPI.SpiDev(SPI_PORT, SPI_DEVICE))


print('Reading MCP3008 values, press Ctrl-C to quit...')
# Print nice channel column headers.
print('| {0:&gt;4} | {1:&gt;4} | {2:&gt;4} | {3:&gt;4} | {4:&gt;4} | {5:&gt;4} | {6:&gt;4} | {7:&gt;4} |'.format(*range(8)))
print('-' * 57)
# Main program loop.
while True:
    # Read all the ADC channel values in a list.
    values = [0]*8
    for i in range(8):
        # The read_adc function will get the value of the specified channel (0-7).
        values[i] = mcp.read_adc(i)
    # Print the ADC values.
    print('| {0:&gt;4} | {1:&gt;4} | {2:&gt;4} | {3:&gt;4} | {4:&gt;4} | {5:&gt;4} | {6:&gt;4} | {7:&gt;4} |'.format(*values))
    # Pause for half a second.
    time.sleep(0.5)
</code></pre>

<p><a href=""https://i.stack.imgur.com/6KJ43.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/6KJ43.png"" alt=""enter image description here""></a></p>
"
70672,1,2017-08-03T05:42:50.200,1,706,30886,,2020-02-03T06:01:30.210,,0,,"<p>I am writing a daemon using node.js, running under systemd and it will <a href=""https://github.com/saraf/raspi2-power-monitor"" rel=""nofollow noreferrer"">monitor the status of the power supply voltage on a raspberry pi 2 B</a>.</p>

<p>I am using the <a href=""https://www.npmjs.com/package/pigpio"" rel=""nofollow noreferrer"">node.js wrapper</a> to the pigpio library </p>

<p>The code I started with was as follows:</p>

<pre><code>var Gpio = require('pigpio').Gpio,
gpio;

gpio = new Gpio(35);

const checkIntervalDuringBrownout   = 5000;
const checkIntervalDuringGoodSupply = 100;
var timer = 100;

function startTimer() {
  setTimeout(function() {
    var brownoutState = isUnderVoltage();

    if(brownoutState) {
      console.log(""Brownout - telling the syslog ..."");
      console.log(""Brownout ... Power Supply Voltage went below 4.63 V"");
      timer = checkIntervalDuringBrownout;
    }
    else {
      timer = checkIntervalDuringGoodSupply;
   }
    startTimer();
  }, timer);
}

function isUnderVoltage() {
  var ledStatus = gpio.digitalRead(); 
  if(ledStatus === 1) {
    return 0;
  }
  else if (ledStatus === 0) {
    //console.log(""brownout"");
    return 1;
  }
  else {
    console.log(""We got neither a 1 or a 0: "", ledStatus);
  }
}

startTimer();
</code></pre>

<p>was getting mysterious error messages in the syslog:</p>

<pre><code>Aug  2 00:22:10 chintu systemd[1]: Started Brownout Monitor and Logger written using node.js.
Aug  2 00:22:11 chintu brownout-monitor[5203]: 2017-08-02 00:22:11 initMboxBlock: init mbox zaps failed
Aug  2 00:22:11 chintu brownout-monitor[5203]: /home/pi/sandbox/raspi2-power-monitor/node_modules/pigpio/pigpio.js:11
Aug  2 00:22:11 chintu brownout-monitor[5203]: pigpio.gpioInitialise();
Aug  2 00:22:11 chintu brownout-monitor[5203]: ^
Aug  2 00:22:11 chintu brownout-monitor[5203]: Error: pigpio error -1 in gpioInitialise
Aug  2 00:22:11 chintu brownout-monitor[5203]: at Error (native)
Aug  2 00:22:11 chintu brownout-monitor[5203]: at initializePigpio (/home/pi/sandbox/raspi2-power-monitor/node_modules/pigpio/pigpio.js:11:12)
Aug  2 00:22:11 chintu brownout-monitor[5203]: at new Gpio (/home/pi/sandbox/raspi2-power-monitor/node_modules/pigpio/pigpio.js:25:3)
</code></pre>

<p>and</p>

<pre><code>Aug  2 00:17:11 chintu systemd[1]: Starting Brownout Monitor and Logger written using node.js...
Aug  2 00:17:11 chintu systemd[1]: Started Brownout Monitor and Logger written using node.js.
Aug  2 00:17:12 chintu brownout-monitor[4555]: 2017-08-02 00:17:12 initInitialise: Can't lock /var/run/pigpio.pid
Aug  2 00:17:12 chintu brownout-monitor[4555]: /home/pi/sandbox/raspi2-power-monitor/node_modules/pigpio/pigpio.js:11
Aug  2 00:17:12 chintu brownout-monitor[4555]: pigpio.gpioInitialise();
Aug  2 00:17:12 chintu brownout-monitor[4555]: ^
Aug  2 00:17:12 chintu brownout-monitor[4555]: Error: pigpio error -1 in gpioInitialise
Aug  2 00:17:12 chintu brownout-monitor[4555]: at Error (native)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at initializePigpio (/home/pi/sandbox/raspi2-power-monitor/node_modules/pigpio/pigpio.js:11:12)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at new Gpio (/home/pi/sandbox/raspi2-power-monitor/node_modules/pigpio/pigpio.js:25:3)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at Object.&lt;anonymous&gt; (/home/pi/sandbox/raspi2-power-monitor/index.js:7:8)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at Module._compile (module.js:570:32)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at Object.Module._extensions..js (module.js:579:10)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at Module.load (module.js:487:32)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at tryModuleLoad (module.js:446:12)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at Function.Module._load (module.js:438:3)
Aug  2 00:17:12 chintu brownout-monitor[4555]: at Module.runMain (module.js:604:10)
Aug  2 00:17:12 chintu systemd[1]: brownout-monitor.service: main process exited, code=exited, status=1/FAILURE
Aug  2 00:17:12 chintu systemd[1]: Unit brownout-monitor.service entered failed state.
</code></pre>

<p>Looking up these errors led me to a page where the solution said - </p>

<blockquote>
  <p>I'll have to check the code but off the top of my head the most likely
  is that the GPU (which allocates mbox DMA memory) has no spare memory.</p>
</blockquote>

<p>How can this be fixed?</p>
"
70697,1,2017-08-03T15:52:37.770,0,2622,1208,,2017-08-03T18:08:16.370,,1,,"<p>I'd like to add a LDR, Humidity and Temperature sensor, as well as some buttons to the Raspberry Pi 3. I mean, wire them to it (I've done that many times before).</p>

<p>Then the RasPi should be able to advertise itself via its integrated BT to a phone when the phone (an app, as it differs from normal Bluetooth) is scanning for Bluetooth LE devices, and ultimately connect to the phone <code>(btgBluetoothGatt = device.connectGatt(context, false, btGattCallback);</code> on Android), so that the phone can receive those sensor data as if it were a heart rate monitor or a speed and cadence sensor.</p>

<p>Is this possible? Where do I start with it?</p>

<p>I'd also prefer to use Python when possible.</p>
"
70871,1,2017-08-07T18:54:20.167,2,219,71463,,2021-01-20T17:04:30.397,2017-08-14T06:30:01.687,0,,"<p>I am attempting to get an Epson PictureMate 100 working with a Raspberry Pi 3 running Raspian (Jessie).</p>

<p>According to <a href=""http://www.openprinting.org/printer/Epson/Epson-PictureMate"" rel=""nofollow noreferrer"">Open Printing</a> the PictureMate should work perfectly with Gutenprint 5.2.7. I chose the printer because of this and because a few photobooth tutorials (my project) mentioned using the PictureMate 100 with a Pi, so in theory it should work.</p>

<p>I have successfully installed the printer using CUPS with the PictureMate 100 driver from Gutenprint. However, whenever I try to print a test page the printer freezes just as it is about to start printing (it sounds like the print head has moved into position).</p>

<p>The CUPS status shows:</p>

<blockquote>
  <p>Processing - ""Printing page 1, 19%""</p>
</blockquote>

<p>And does not move any further even after waiting for an hour. The job can be cancelled in CUPS but this has no effect on the printer. Turning the printer off causes it to hang with an hourglass icon on the screen.</p>

<p>The printer works perfectly on my Mac laptop running El Capitan with CUPS 2.1.0 and Gutenprint 5.2.3. But obviously the PPD is Apple-specific.</p>

<p>I thought that the version of CUPS on Raspian Jessie might be out of date so I updated to CUPS 2.2.1 with Gutenprint 5.2.11. This has had no effect. I have also changed the USB cable and tried a new ink cartridge.</p>

<p>Looking at <code>/var/log/cups/error_log</code> (with log level set to 'debug') everything seems ok until it gets to this point:</p>

<blockquote>
  <p>D [07/Aug/2017:18:31:58 +0000] [Job 31] Set job-printer-state-message to ""Printing page 1, 16%"", current level=INFO
  D [07/Aug/2017:18:31:58 +0000] [Job 31] ATTR: job-media-progress=16
  D [07/Aug/2017:18:31:58 +0000] Discarding unused job-progress event...
  D [07/Aug/2017:18:31:58 +0000] Discarding unused job-progress event...
  D [07/Aug/2017:18:31:58 +0000] Discarding unused printer-state-changed event...
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Read 8192 bytes of print data...
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Wrote 8192 bytes of print data...
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Read 8192 bytes of print data...
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Wrote 8192 bytes of print data...
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Read 8192 bytes of print data...
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Printing page 1, 17%
  D [07/Aug/2017:18:31:58 +0000] cupsdMarkDirty(---J-)
  D [07/Aug/2017:18:31:58 +0000] cupsdSetBusyState: newbusy=""Printing jobs and dirty files"", busy=""Printing jobs and dirty files""
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Set job-printer-state-message to ""Printing page 1, 17%"", current level=INFO
  D [07/Aug/2017:18:31:58 +0000] [Job 31] ATTR: job-media-progress=17
  D [07/Aug/2017:18:31:58 +0000] Discarding unused job-progress event...
  D [07/Aug/2017:18:31:58 +0000] Discarding unused job-progress event...
  D [07/Aug/2017:18:31:58 +0000] Discarding unused printer-state-changed event...
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Printing page 1, 18%
  D [07/Aug/2017:18:31:58 +0000] cupsdMarkDirty(---J-)
  D [07/Aug/2017:18:31:58 +0000] cupsdSetBusyState: newbusy=""Printing jobs and dirty files"", busy=""Printing jobs and dirty files""
  D [07/Aug/2017:18:31:58 +0000] [Job 31] Set job-printer-state-message to ""Printing page 1, 18%"", current level=INFO
  D [07/Aug/2017:18:31:58 +0000] [Job 31] ATTR: job-media-progress=18
  D [07/Aug/2017:18:31:58 +0000] Discarding unused job-progress event...
  D [07/Aug/2017:18:31:58 +0000] Discarding unused job-progress event...
  D [07/Aug/2017:18:31:58 +0000] Discarding unused printer-state-changed event...
  D [07/Aug/2017:18:32:01 +0000] [Client 47] GET /printers/EPSON_PictureMate_100 HTTP/1.1
  D [07/Aug/2017:18:32:01 +0000] cupsdSetBusyState: newbusy=""Active clients, printing jobs, and dirty files"", busy=""Printing jobs and dirty files""
  D [07/Aug/2017:18:32:01 +0000] [Client 47] Read: status=200
  D [07/Aug/2017:18:32:01 +0000] [Client 47] Authorized as ""pi"" using Basic.
  D [07/Aug/2017:18:32:01 +0000] [Client 47] Processing GET /printers/EPSON_PictureMate_100</p>
</blockquote>

<p>The rest of the log after this appears to be a couple of different clients querying information about the printer - 'Job 31' no longer appears. Possibly this is related to the printer-state-change event that is being discarded?</p>

<p><code>lpstat -a -p</code> while the printer is in this frozen state is simply:</p>

<blockquote>
  <p>EPSON_PictureMate_100 accepting requests since Mon 07 Aug 2017 18:31:49 UTC
  printer EPSON_PictureMate_100 now printing EPSON_PictureMate_100-31.
  enabled since Mon 07 Aug 2017 18:31:49 UTC
          Printing page 1, 19%</p>
</blockquote>

<p>The <code>pi</code> user is part of the <code>lpadmin</code> group.</p>

<h2>Questions</h2>

<ul>
<li>If the PictureMate should work with Gutenprint 5.2.7 can I assume that later versions should work without regressions? Is there any point in me building Gutenprint 5.2.7?</li>
<li>Why is the <code>printer-state-changed</code> event unused and is it possible to view it?</li>
</ul>

<h2>Edit</h2>

<p>Attempting to print with <code>lp -d EPSON_PictureMate_100 pic00001.jpg</code> generates a similar set of messages about reading and writing and then the printer freezes a split second after it starts to print.</p>
"
70913,1,2017-08-08T14:05:50.023,0,3118,71513,,2017-08-08T14:37:48.290,,1,,"<p>I'm working on a project that will monitor the temperature of a refrigerator. Ideally, we are hoping to do this wireless via RF to a Raspberry PI to collect the data. If anyone has completed this project already, would you mind sharing your lessons learned.</p>
"
70926,1,2017-08-08T22:25:00.143,0,450,42456,,2017-10-17T08:21:34.183,2018-12-17T19:02:24.963,2,,"<p>I have written a small C application to do PWM for some motors connected to a Raspberry Pi. I am using the <a href=""http://abyz.me.uk/rpi/pigpio/cif.html"" rel=""nofollow noreferrer"">PiGPIO</a> library. The <a href=""https://github.com/qbalsdon/tank_pi/blob/master/drive.c"" rel=""nofollow noreferrer"">code</a> as follows:</p>

<pre><code>int[] FWD = {MOTOR1_FWD, MOTOR2_FWD};
int[] BCK = {MOTOR1_BCK, MOTOR2_BCK};

void setMotorSpeed(int motorIndex, int speed)
{
    if (speed &gt; 0) //forward
    {
        gpioPWM(FWD[motorIndex], speed);
        gpioPWM(BCK[motorIndex], 0);
    }
    else if (speed &lt; 0) //back
    {
         gpioPWM(FWD[motorIndex], 0);
         gpioPWM(BCK[motorIndex], -speed);
    }
    else /* stop */
    {
        gpioPWM(FWD[motorIndex], 0);
        gpioPWM(BCK[motorIndex], 0);
    }
}

int main(int argc, char *argv[])
{
   double start;

   if (gpioInitialise() &lt; 0)
   {
      fprintf(stderr, ""pigpio initialisation failed\n"");
      return 1;
   }

   char *p;
   int speed = strtol(argv[2],&amp;p, 10);

   /* Set GPIO modes */
   int i = 0;
   for (i = 0; i &lt; 4; i++) {
      gpioSetMode(FWD[i], PI_OUTPUT);
      gpioSetMode(BCK[i], PI_OUTPUT);
      gpioSetMode(EN[i], PI_OUTPUT);

      setMotorSpeed(i, 0);
      gpioWrite(EN[i], ON);
   }

   if (argc &lt;= 1)
   {
      printf(""STOP\n"");
   } else {
      if (strcmp(argv[1], ""l"") == 0 || strcmp(argv[1], ""lr"") == 0)
      {
         printf(""LEFT ON: %d\n"", speed);
         setMotorSpeed(0, speed);
      }
      if (strcmp(argv[1], ""r"") == 0 || strcmp(argv[1], ""lr"") == 0)
      {
         printf(""RIGHT ON: %d\n"", speed);
         setMotorSpeed(1, speed);
      }
   }
   gpioTerminate();
   return 0;
}
</code></pre>

<p><s>Works fine, but if I change MAX to 255 and use <code>gpioPWM(motorX, MAX)</code> it only works sometimes, and when it does work only the left will run. What should I do to make them both be able to work, and work consistently?</s></p>

<p>This does not work <strong>consistently</strong> when I compile and run as follows:</p>

<blockquote>
  <p>gcc -o drive drive.c -lpigpio -lrt -lpthread<br/>
  sudo ./drive lr 150</p>
</blockquote>

<p>Currently I just have the pins connected to LED's and sometimes the LED's get power, other times they do not.</p>
"
70945,1,2017-08-09T09:36:46.260,7,14807,12404,,2018-02-08T11:20:39.580,2018-02-08T11:20:39.580,1,,"<p>How can I control my TV using only a Raspberry Pi and the Infrared diode from an old remote control. Plus how can I interpret IR commands from an existing remote control.</p>
"
71149,1,2017-08-14T07:19:15.233,0,8644,71799,,2017-08-14T09:07:41.140,,2,,"<p>I want to have a button on raspberry pi to send a message to android device using bluetooth,is it possible by using the raspberry pi or i should look for another iot hardware ?</p>
"
71162,1,2017-08-14T12:47:22.650,0,576,71816,,2018-04-14T07:54:50.510,2017-08-14T18:06:45.053,1,,"<p>I am running Google Assistant on my Pi (and an Imp) to open my door over voice control.</p>

<p>My problem is that I am using a 3.5mm speaker, in connection with a mic that is connected via an external soundcard over USB. I tried to create a new asound.conf with the required input (speaker hw: 0,0 and mic hw: 1,0 (which are correct, I checked them over aplay and arecord). But even though thats the case I will only ever get input <strong>OR</strong> output, depending on which device I put a checkmark as standard device (on the desktop loudspeaker icon).</p>
"
71347,1,2017-08-18T12:46:40.213,0,566,65955,,2017-08-30T12:17:38.453,,0,,"<p>I've been working on this project, which consists in using a web page to control RPi's GPIOs and read sensor data via WebIOPI. Everything worked fine, at this point the project is very simple and the documentation on <a href=""http://webiopi.trouch.com"" rel=""nofollow noreferrer"">WebIOPi website</a> really helped. Also, if anyone is having trouble with this, I recommend <a href=""https://forums.connectedly.com/raspberry-pi-f179/how-controlling-gpio-pins-via-internet-2884/"" rel=""nofollow noreferrer"">this tutorial</a>. But I decided to raise the complexity level by doing the exact same thing, except controlling various ESP-01s connected to the server as clients. These ESP-01s have been updated with NodeMCU firmware, in order to be programmed directly and not only used as Wi-Fi modules for some other microcontroller. Also, they can be programmed straight from the Arduino IDE, which really helps.</p>

<p>The thing is: I have no experience at all working with HTTP protocols. There are several examples for both server and client applications on the ESP8266 side, but I can't figure out what to do on the RPi side. I've already been able to connect the ESP-01 to the server on the Pi, but I can't really exchange information between them.(Here is the code that does the connection on the client side, in case anyone asks)</p>

<pre><code>#include &lt;ESP8266WiFi.h&gt;
#include &lt;ESP8266HTTPClient.h&gt;

#define       LED0      2

char*         ssid = ""SSID"";
char*         password = ""PASSWORD"";

int             ESPServerPort  = 8000;
IPAddress       ESPServer(192,168,0,133);
WiFiClient      client;

void setup() {
  Serial.begin(115200);
  pinMode(LED0, OUTPUT);
  Serial.println(""\nSetting I/O Pin Modes ... Done\n"");

  if(WiFi.status() == WL_CONNECTED){
    WiFi.disconnect();
    WiFi.mode(WIFI_OFF);
    delay(50);
  }

  WiFi.mode(WIFI_STA);
  WiFi.begin(ssid, password);

  Serial.println(""!--- Connecting To "" + WiFi.SSID() + "" ---!"");

  CheckWiFiConnectivity();

  digitalWrite(LED0, LOW);
  Serial.println(""!-- Client Device Connected --!\n"");

  Serial.println(""Connected To      : "" + String(WiFi.SSID()));
  Serial.println(""Signal Strenght   : "" + String(WiFi.RSSI()) + "" dBm"");
  Serial.print  (""Server IP Address : "");
  Serial.println(ESPServer);
  Serial.print  (""Server Port Num   : "");
  Serial.println(ESPServerPort);
  Serial.print  (""Device MC Address : "");
  Serial.println(String(WiFi.macAddress()));
  Serial.print  (""Device IP Address : "");
  Serial.println(WiFi.localIP());
  Serial.print  (""\n\n"");

  ESPRequest();
}

void loop(){

}


void CheckWiFiConnectivity(){
  while(WiFi.status() != WL_CONNECTED){
    for(int i=0; i &lt; 10; i++){
      digitalWrite(LED0, !HIGH);
      delay(250);
      digitalWrite(LED0, !LOW);
      delay(250);
      Serial.print(""."");
    }
    Serial.println("""");
  }
}

void ESPRequest(){

  client.stop();
  Serial.println(""!---Connecting to server---!"");

  client.connect(ESPServer, ESPServerPort);

  if(client.connected()){
    Serial.println    (""&lt;CONNECTED&gt;\n"");
    client.println (""&lt;CONNECTED&gt;"");
  }
}
</code></pre>

<p>I'm not sure if I need to tap into the WebIOPi code files, the ones that do the HTTP heavy-lifting, or if simple changes on my html/javascript code would do the trick. Well... How can I do this?</p>

<p>Help a newbie out guys. Thanks in advance!</p>
"
71594,1,2017-08-23T21:40:36.790,1,1299,72313,,2020-12-02T18:06:35.757,2017-08-24T12:28:35.457,1,,"<p>I want to use a microphone and get input from it to sample it in real time and I don't have a set idea about how to interface it to get the input. Any help will be appreciated.</p>
"
71638,1,2017-08-24T17:42:50.967,0,1928,72366,,2017-08-27T23:56:57.953,2017-08-24T18:31:27.223,5,,"<p>I am designing a Raspberry Pi based home automation unit in which the Pi will communicate with several atmega328p microcontrollers (in each room) via nrf24l01. Atmega side will not be a problem, but I am not an expert in server/Raspberry/Linux.</p>

<p>I am using apache as the webserver. By browsing a few days, I have managed to design a HTML webpage in PHP which is calling a Python script. Right now I am experimenting with GPIO toggling.There are two Python scripts which are used to ON/OFF a LED.</p>

<p>The main problem is, after calling the Python script, the PHP script is not returning to the main webpage and everything is being white.
I am attaching my code below. Please take a look. Any help is appreciated. But just remember, I am not an expert in Linux/webpage development, so please be a little descriptive.</p>

<p>index.php</p>

<pre><code>&lt;DOCTYPE html&gt;    
&lt;html&gt;    
&lt;head&gt;
&lt;title&gt;Room automation&lt;/title&gt;
&lt;?php
exec(""python LED_OFF.py"");
?&gt;
&lt;style&gt;
  body
        {
            font-family: comic sans ms;
            text-align:center;
            background:#CACFD2;
        }
        h1
        {
            text-shadow: 10px 10px 10px #aaaaaa ;
        }


&lt;/style&gt;


&lt;/head&gt;

&lt;body&gt;
&lt;h1&gt;Sharanya's room automation&lt;/h1&gt;
&lt;/body&gt;
&lt;img src=""red_btn.png"" id=""btn_l"" onmouseover=""this.src='blue_btn.png'"" onmouseout=""this.src='red_btn.png'""  onclick=""parent.location='do.php' "" style=""width:70px;height:70px;""&gt;
&lt;img src=""red_btn.png"" id=""btn_2"" style=""width:70px;height:70px;""&gt;
&lt;img src=""red_btn.png"" id=""btn_3"" style=""width:70px;height:70px;""&gt;
&lt;img src=""red_btn.png"" id=""btn_4"" style=""width:70px;height:70px;""&gt;
&lt;img src=""red_btn.png"" id=""btn_5"" style=""width:70px;height:70px;""&gt;
&lt;img src=""red_btn.png"" id=""btn_6"" style=""width:70px;height:70px;""&gt;
&lt;/html&gt;
</code></pre>

<p>Now, the do.php</p>

<pre><code>&lt;?php
echo exec(""python LED_ON.py"");
echo(""Hello"");
?&gt;
</code></pre>

<p>And the LED_ON.py</p>

<pre><code>import sys
import RPi.GPIO as GPIO
import time


GPIO.setmode(GPIO.BCM)
GPIO.setup(14,GPIO.OUT)
GPIO.output(14,GPIO.HIGH)
</code></pre>

<p><a href=""https://i.stack.imgur.com/ko4Fl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ko4Fl.png"" alt=""Main page""></a></p>

<p><a href=""https://i.stack.imgur.com/BqYUv.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/BqYUv.png"" alt=""After clicking the leftmost button""></a></p>
"
71698,1,2017-08-25T17:20:44.357,0,553,19639,,2017-08-25T17:20:44.357,,0,,"<p>The ds18b20 reports temperature in sixteenths of a degree; however, the w1_therm driver reports temperature in millidegrees, as a truncated integer. It takes half-millidegrees to accurately represent every sixteenth of a deg, so how do you get full resolution from the sensor?</p>

<p>For example, here is an emulated ds18b20 with temperature set to 23.0625 degC:</p>

<pre><code>pi@xenon:~$ cat /sys/bus/w1/devices/28-00da18b20000/w1_slave
71 01 4b 46 7f ff 00 10 4e : crc=4e YES
71 01 4b 46 7f ff 00 10 4e t=23062
</code></pre>

<p>The driver reports 23.062 deg, so it's off by 0.005 deg. Of course, that's pretty small, but if you're looking for small temperature fluctuations you'll miss it.</p>
"
71858,1,2017-08-29T19:49:39.467,4,10234,72617,,2020-06-06T21:07:54.797,2017-08-29T20:51:18.840,0,,"<p>I am using Raspian Stretch and I can not set the resolution of my desktop when using VNC headless.</p>

<p>I am using Real VNC because it comes <a href=""https://www.raspberrypi.org/documentation/remote-access/vnc/"" rel=""nofollow noreferrer"">by default</a> (I have it configured there).</p>

<p>I have no monitors plugged in.</p>

<p>I have tried all the suggestions <a href=""https://raspberrypi.stackexchange.com/questions/8985/forcing-resolution-on-display-0-when-hdmi-is-not-connected"">here</a></p>

<p>Currently I have the following saved in <code>/boot/config.txt</code></p>

<pre><code>hdmi_force_hotplug=1
hdmi_ignore_edid=0xa5000080      
hdmi_group=2     
hdmi_mode=16
</code></pre>

<p>but still it looks like it boots into 640x480.</p>

<p>When I try to set this from the Raspberry Pi Configuration GUI, no options are available (only ""Default - preferred monitor settings"").</p>

<p>When I do not make these changes to <code>config.txt</code> I can set the monitor resolution from the GUI but still no changes take place.</p>

<p>Please let me know if you have a solution to this issue.</p>
"
71887,1,2017-08-30T09:58:59.273,0,268,71853,,2017-09-01T03:04:40.817,,6,,"<p>I am using below code to get the distance from an ultrasonic sensor.</p>

<p>when the sensor is pointed to the wall with no change in its position, after some correct values some incorrect values will show up.</p>

<p><strong>what might be the cause? how can i handle it?</strong></p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;time.h&gt;
#include &lt;wiringPi.h&gt;


#define NO_ECHO 0
#define MAX_DISTANCE 300 
#define PING_INTERVAL 100 
#define US_ROUNDTRIP_CM 57 

unsigned long ping(int8_t GPIO_Signal_Pin,float temp,int max_cm_distance)
{
    unsigned long _max_time;    //max time to wait for echo
    float _sound_speed; //sound speed based on the current temprature
    unsigned long _start_time;  //ping start time
    unsigned long _end_time;    //ping end time
    unsigned int _maxEchoTime;  //
    unsigned long _time;    //ping time
    unsigned long _distance;    //calculated distance

    _maxEchoTime = max_cm_distance * US_ROUNDTRIP_CM;
    _sound_speed = 331.4 + (0.6 * temp); // sound speed relevant to the temprature

    pinMode(GPIO_Signal_Pin,OUTPUT); //Set the signal pin to output

    digitalWrite(GPIO_Signal_Pin, LOW); //Make sure the module is not outputting
    delay(4); //4ms delay to allow the module to settle

    digitalWrite(GPIO_Signal_Pin,HIGH); //Send a 10us pulse to trigger
    delayMicroseconds (10);
    digitalWrite(GPIO_Signal_Pin,LOW);

    pinMode(GPIO_Signal_Pin,INPUT); //Set the signal pin to input

    _max_time = micros() + _maxEchoTime;

    while (digitalRead(GPIO_Signal_Pin) == 0)
    { 
        if (micros() &lt; _max_time)
            continue; 
        else 
        {
            return NO_ECHO; 
            }
        }

    _start_time = micros();

    while (digitalRead(GPIO_Signal_Pin) == 1)
    { 
        continue;
        }

    _end_time = micros();

    _time = (_end_time - _start_time);      

    _distance =  ((_sound_speed * _time)/2)/10000;

    return _distance;
}

int main()
{
    /*Set up the Pi for GPIO*/
    wiringPiSetup ();

    unsigned long _pingTimer; // Holds the times when the next ping should happen
    _pingTimer = millis() + 75; // First ping starts at 75ms

    while(1)
    {
        if (millis() &gt;= _pingTimer) { // Is it sensor's time to ping?
            _pingTimer += PING_INTERVAL;
            printf(""Distance: %luCM\n"", ping(0,22,300));
            printf(""********************************\n\n"");
            fflush( stdout );
        }
    }
}
</code></pre>

<p><strong>Outpout:</strong></p>

<pre><code>Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 188CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 10CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 210CM
Distance: 262CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 245CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 137CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 174CM
Distance: 170CM
Distance: 191CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 211CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 248CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 263CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 265CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
Distance: 170CM
Distance: 171CM
</code></pre>
"
71953,1,2017-08-31T21:36:57.293,1,5840,72719,,2017-08-31T23:55:27.700,2017-08-31T23:22:59.287,0,,"<p>I am working on using my Pi Zero to create a Google assistant.  I have a usb sound card and usb mic that I would like to use, but I am not sure exactly how I need to modify asound.conf or if there is anything else that I need to do.</p>

<p>I have been following this basic instructable: <a href=""http://www.instructables.com/id/Hands-Free-Google-Assistant-for-Raspberry-Pi/?amp_page=true"" rel=""nofollow noreferrer"">http://www.instructables.com/id/Hands-Free-Google-Assistant-for-Raspberry-Pi/?amp_page=true</a> for the most part, but am having an issue with this part.</p>

<p>I am not sure if it matters, but I am also using a usb hub.</p>
"
72022,1,2017-09-02T17:24:11.147,13,10527,54372,,2017-11-14T09:08:16.720,,1,,"<p>I recently upgraded from Jessie to Stretch and received a new version of the configuration file for <code>unattended-upgrades</code>. Oddly, this new version  references Debian instead of Raspbian. </p>

<pre><code>pi@kegerator:/etc/apt/apt.conf.d $ diff 50unattended-upgrades 50unattended-upgrades.ucf-old 
10,12c10,12
&lt; //   c,component     (eg, ""main"", ""contrib"", ""non-free"")
&lt; //   l,label         (eg, ""Debian"", ""Debian-Security"")
&lt; //   o,origin        (eg, ""Debian"", ""Unofficial Multimedia Packages"")
---
&gt; //   c,component     (eg, ""main"", ""crontrib"", ""non-free"")
&gt; //   l,label         (eg, ""Raspbian"", ""Raspbian-Security"")
&gt; //   o,origin        (eg, ""Raspbian"", ""Unofficial Multimedia Packages"")
14c14
&lt; //     site          (eg, ""http.debian.net"")
---
&gt; //     site          (eg, ""http.Raspbian.net"")
20c20
&lt; // derived from /etc/debian_version:
---
&gt; // derived from /etc/Raspbian_version:
27,30c27
&lt; //      ""o=Debian,n=jessie"";
&lt; //      ""o=Debian,n=jessie-updates"";
&lt; //      ""o=Debian,n=jessie-proposed-updates"";
&lt; //      ""o=Debian,n=jessie,l=Debian-Security"";
---
&gt; //      ""o=Raspbian,n=jessie"";
36,39c33,34
&lt; //      ""o=Debian,a=stable"";
&lt; //      ""o=Debian,a=stable-updates"";
&lt; //      ""o=Debian,a=proposed-updates"";
&lt;         ""origin=Debian,codename=${distro_codename},label=Debian-Security"";
---
&gt; //      ""o=Raspbian,a=stable"";
&gt; 
85,87d79
&lt; // Automatically reboot even if there are users currently logged in.
&lt; //Unattended-Upgrade::Automatic-Reboot-WithUsers ""true"";
&lt; 
96,102d87
&lt; 
&lt; // Enable logging to syslog. Default is False
&lt; // Unattended-Upgrade::SyslogEnable ""false"";
&lt; 
&lt; // Specify syslog facility. Default is daemon
&lt; // Unattended-Upgrade::SyslogFacility ""daemon"";
&lt; 
</code></pre>

<p>Between <a href=""https://bugs.launchpad.net/raspbian/+bug/1375919"" rel=""noreferrer"">this Launchpad bug</a>, <a href=""https://github.com/mvo5/unattended-upgrades/issues/32"" rel=""noreferrer"">this issue</a> in the source repo, and several forum topics lamenting the absence of the <code>Raspbian-security</code> label, I'm fairly confused about what the 'correct' configuration should be. </p>

<p>Could anyone share their working <code>unattended-upgrades</code> configuration for Raspbian Stretch?</p>
"
72103,1,2017-09-04T18:27:01.300,1,2208,72879,,2020-12-14T19:06:10.650,,2,,"<p>So I'm trying to format my 64 GB SD card, using the instructions on <a href=""https://www.raspberrypi.org/documentation/installation/sdxc_formatting.md"" rel=""nofollow noreferrer"">the Raspberry Pi website</a> (for Windows).  They say to run the SD Formatter with Format Size Adjustment set to ON.  But in the SD Formatter that they link to, the option doesn't exist.</p>

<p>Every place I have looked uses the exact same instructions, with pictures showing the selection of Format Size Adjustment, but they all seem to be using versions 3 or 4 of the SD Formatter.  It seems they have upgraded to 5 and no longer have Format Size Adjustment as an option?</p>

<p>Figuring that maybe the new version simply handles it automatically, I tried following the rest of the instructions (for installing NOOBS).  But when I tried booting up the Pi, I got 2 green flashes and that's it - which most information says is caused by the disk not being formatted correctly.</p>

<p>So now I'm back where I started.  I tried finding earlier versions of the SD Formatter but wasn't able to.  Anyone know what to do here?</p>
"
72118,1,2017-09-04T22:16:27.130,3,24462,72892,,2020-11-20T15:16:17.080,2017-09-04T22:55:33.260,0,,"<p>The official Raspberry Pi display has a resolution of 800x480. </p>

<p>However, Raspbian doesn't have an option for this resolution under Raspberry Pi Confiugration->System-> Set Resolution. </p>

<p>How do I adjust the resolution of the pi to take advantage of exactly 800x480 pixels?</p>

<p>Edit: I should also add, the display setting I have set is 720x480, however, the screen only seems to be displaying a 400 pixel height.</p>
"
72171,1,2017-09-06T05:53:46.193,4,3557,72954,,2017-09-07T00:08:36.040,2017-09-06T07:33:33.807,8,,"<p>I have spent two days on this and have tried nearly everything I could find.  I am using an apache server (2.4.10).</p>

<p>I have two files in a folder called <code>testPythonPHP</code> that is located in the root folder of my server (<code>/var/www/html</code>).  The files are <code>callPythonFromPHP.php</code> and <code>pythonReturn.py</code>.  I call the python script from the PHP script using the exec command.  Everything works fine before I try to use the <code>RPi.GPIO</code> module in the python script.  Before using the <code>RPi.GPIO</code> module, I get the desired output.  </p>

<p>Here is the PHP code:</p>

<pre><code>&lt;?php

exec("" python /var/www/html/testPythonPHP/pythonReturn.py"" , $status, 
$return );

echo( $status[0] ."" is status and "".$return."" is return and user is "");

echo exec( ""whoami"");

?&gt;
</code></pre>

<p>Here is my python code:</p>

<pre><code>import RPi.GPIO as GPIO
import time

butPin = 25
ledPin = 24

GPIO.setmode (GPIO.BCM)
#GPIO.setup (ledPin, GPIO.OUT)
#GPIO.setup (butPin, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)
#GPIO.output (ledPin, GPIO.LOW)

def bullspit():
    cat = ""3""
    dog = ""4""
    catDog = cat + dog
    GPIO.cleanup()
    return catDog


if __name__ == '__main__':
    print bullspit()
</code></pre>

<p>Here is the output to the browser:</p>

<pre><code>34 is status and 0 is return and user is www-data
</code></pre>

<p>Once I un-comment any of the code in the python script, my output becomes:</p>

<pre><code>is status and 1 is return and user is www-data
</code></pre>

<p>I no longer get the returned value from the python script and I now get the 1 return status (indicating something went wrong).  I have tried changing permissions and using different commands (not that I can guarantee those were done correctly).  </p>

<p>I feel like I am on the right track but cannot get this to work.  Does anyone know what my mistake is or if there is another GPIO module I can use that will work with python and read analog values?  </p>

<p>My goal is to use python to read in an analog value from a MCP3008 chip and return the value to the PHP script where I will dictate different GPIO pins to write high or low depending on the returned value.  I tested a variation of the python file in the terminal and was able to print different return values based on an input button being high or low.  </p>

<p>I would settle for reading in analog values from the PHP script, but it still seems like a permission issue and I will likely run into the same problem.  </p>
"
72251,1,2017-09-08T11:30:52.470,0,1384,73061,,2020-12-15T09:04:50.607,2017-09-08T16:36:55.870,0,,"<p>Yesterday I bought a Raspberry Pi 3, and I tried to enable WLAN on it. This did not work.</p>

<p>Now I can't access the Raspberry Pi over SSH because it's always trying to connect to my router.</p>

<p>Is there a way to reset the WLAN configuration without a display?</p>
"
72548,1,2017-09-15T14:53:21.010,2,1739,65720,,2017-09-15T19:20:01.537,2017-09-15T19:20:01.537,0,,"<p>I'm using Windows IoT Creators Update on my Raspberry Pi 3 and programming with C#. I want to read my network adapter MAC address.</p>

<p>When I use <code>NetworkInterface.GetAllNetworkInterfaces()</code> it throws <code>NotImplementedException</code>.</p>

<p>Is there another way to get MAC address of my ""Ethernet"" network?</p>
"
73006,1,2017-09-27T10:00:32.497,1,79,73934,,2017-09-27T16:40:05.090,2017-09-27T13:36:23.750,3,,"<p>I could use some advice for this project (beginner here).</p>

<p><strong>Situation:</strong></p>

<p>We have 10 or so families who need reminders to take medicine, appointments reminders etc.</p>

<p>We would like to find a way to have these families update their medicine intake/medical needs, twice-3-times daily using a simple touchscreen button app.]</p>

<p><strong>Scenario:</strong></p>

<p>Family one receives Raspberry Pi with app preloaded initially. Enters patients information in home (names address etc.) </p>

<p>We receive that info on a website/webserver, we can visualize it on a map, we automatically push reminders to take medicine, alerts, updates.</p>

<p>Family received updated, reminders etc.</p>

<p>(We are planning to use Raspberry Pi with wifi-bluetooth and to add a GRSM card for cell service in case no internet is available)</p>

<p>We also so we can add on a cam, is there a way to be able to see patients remotely if they ask for that thru the app?( welfare check)
is this feasible with Raspberry Pi?</p>

<p>We purchased some Raspberry Pi zero w and Raspberry Pi 3.</p>

<p>Thank you for any basic simple guidance. We are trying to learn to code.</p>
"
73275,1,2017-10-03T05:33:55.420,-2,537,72163,,2017-10-04T04:59:44.230,2017-10-03T11:50:57.210,6,,"<p>Was my code for read the libreoffice cal file was right?And i wan send back true or false to arduino after compare the input with cal file. When i key in the number from arduino,no matter correct or wrong the program just throw it. in this case, i have a file with the IDnumber. i wan compare the users is the right person in the list. </p>

<p>My Python Code:</p>

<pre><code>import serial
import csv
arduino = serial.Serial('/dev/ttyACM0',9600)

    while(1==1):
        if (arduino.inWaiting()&gt;0:
            myData = arduino.readline()
            print myData
            with open('idnum.csv') as csvDatafile:
                csvReader = csv.reader(csvDatafile)
                found = False
                line = arduino.readline()
            found = True
            arduino.write(""True"")
</code></pre>

<p>My Arduino Code:</p>

<pre class=""lang-cpp prettyprint-override""><code>void state0(){
    lcd.setCursor(0,0);
    lcd.print(""Welcome"");
    char Key = mykeypad.getKey();
    //key in ID 
    if (Key != NO_KEY) {
        key1[z] = Key;
        z++;
        lcd.setCursor(0,1);
        lcd.print(key1);
        Serial.println(key1);
        //send to raspberrypi 
        if(z==11) {
            if(Serial.available()) {
                char inByte = Serial.read();
                //send to python to compare char received1 = true;
                // received true from python state = 1;
            }
            else {
                state = 2;
            }
        }
    }
}
</code></pre>

<p>My CSV File </p>

<pre><code>50212215000 50212215001 50212215002
</code></pre>
"
73321,1,2017-10-04T02:48:26.857,0,1253,74240,,2017-10-04T04:51:17.763,,0,,"<p>I am trying to achieve the following :
I want to start a selected song on the rpi from a web interface.</p>

<p>I can play the song through exec</p>

<pre><code>exec(""mpg123 /var/www/html/Sounds/Zelda.mp3"",$status);
</code></pre>

<p>and I can create a list dynamically through /var/www/html/Sounds</p>

<pre><code>&lt;?php
$arr_files = scandir(""/var/www/html/Sounds/"");
echo ""&lt;select name =\""songlist\"" size=\""5\""&gt;"";

foreach ($arr_files as $value){
echo ""&lt;option value=\""$value\""&gt;$value&lt;/option&gt;"";
}   
echo ""&lt;/select&gt;""
?&gt;
</code></pre>

<p>How would I go about in order to take the selected song from the html select 'songlist' and then play it using the exec command by clicking a button?</p>

<p>So far, the only thing I am finding is how to play a song on the client, not on the server side. </p>

<p>Hopefully this is clear enough. Please let me know if more information is required.</p>

<p>Thanks.</p>

<p>edit : I would like to say that I am a total newbie with PHP/HTML, so explanations would be welcomed as well. </p>
"
73483,1,2017-10-07T22:43:58.560,1,626,1764,,2017-10-08T10:04:17.180,,0,,"<p>I'm trying to get a pi happening as an IP camera, using a CSI camera module. I'd like to minimise CPU usage. I don't need motion detection, just to dump an image from the camera onto the network where another server will do things with it. Any pointers on how to achieve this? Most guides use the 'motion' software but that's designed for motion detection - can the motion detection there be disabled? Is it possible to have the software on the pi only capture images when a network client is connected?</p>
"
73491,1,2017-10-08T08:34:35.770,1,1491,74435,,2020-12-24T12:00:30.063,2017-10-08T10:32:33.793,0,,"<p>I installed REALVNC VNC(R) Server 6.2.0 (r29523) ARMv6 (Aug 3 2017 18:32:53) in my Pi 3b board. The VNC server can not auto start when Pi reboot. I have to type the command "" vncserver"" to start VNC server, after that I can connect Pi from my PC through the VNC viewer.</p>

<p>In menu Preferences > Raspberry Pi Configuration > Interfaces, SSH and VNC are set to Enabled. </p>

<p>Run the command <code>sudo raspi-config</code>, and navigate to Advanced Options, there is no option of VNC.</p>
"
73609,1,2017-10-10T18:21:28.483,2,4081,74556,,2019-02-21T13:39:59.303,2017-10-12T00:19:59.253,3,,"<p>I have been developing an expansion board for my RPi Zero, which contains a power supply based on the buck converter TPS62130 (5V/3A) by Texas Instruments, a USB Hub and a CAN Controller/Transceiver MCP25625. </p>

<p>The controller/transceiver is being fed with two voltage leves, 5V from the buck converter to the transceiver and 3.3V from a voltage regulator LM1117-3.3v to the controller. I used a voltage regulator because the 3.3V output from the RPi Zero would not be able to supply the necessary current.</p>

<p>The MCP25625 is basically the MCP2515 controller and the MCP2551 transceiver in the same chip.</p>

<p>Since MCP25625 has the same ""register structure"" that the MCP2515, I've been trying to use some tutorials for MCP2515.</p>

<p>I am using Raspian with kernel version 4.9</p>

<p>I have modified /boot/config.txt to include:</p>

<pre><code>dtparam=spi=on
dtoverlay=mcp2515-can0,oscillator=8000000,interrupt=12
dtoverlay=spi-bcm2835
</code></pre>

<p>But every time I use <code>sudo ip link set can0 up type can bitrate 250000</code></p>

<p>All I get is <code>Cannot find device ""can0""</code> !!
Every single time! </p>

<p>When I run dmesg I get:</p>

<pre><code>    mcp251x spi0.0: Cannot initialize MCP2515. Wrong wiring?
    mcp251x spi0.0: Probe failed, err=19
</code></pre>

<p>The board is a PCB and everything is soldered just fine, but perhaps I've made some silly mistake in my circuit. Or maybe I'm forgetting some middle step.</p>

<p>I am attaching part of my schematics in the hopes someone will find my mistake.</p>

<p><a href=""https://i.stack.imgur.com/hshi3.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hshi3.jpg"" alt=""Board schematics""></a></p>

<p>Is it really possible to simply change the MCP2515 for the MCP25625?</p>

<p>Have I made some silly mistake in the circuit?</p>
"
73710,1,2017-10-12T08:55:30.097,2,2141,19296,,2017-10-12T21:56:46.573,,0,,"<p>right now I am kind of digging into the topic of using the RPi to read/write SMS and if possible use it make/receive Phone calls.</p>

<p>I have this <a href=""http://consumer.huawei.com/kh/support/products/technicalspecs/e5786-kh.htm"" rel=""nofollow noreferrer"">Router (Huawei E5786)</a>, Model E5786s-32a. It seams to support GSM/GPRS etc. and I am asking myself if it is possible to use it as a GSM Modem, such that I can make calls…</p>

<p>I can connect to it via USB and <code>lsusb</code> yields:</p>

<pre><code>Bus 002 Device 007: ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
</code></pre>

<p>Anyway, I am just digging into that right now so my question is: Can I use that device as »modem« for phone calls and sms, or wont it be possible? How I figure that out?</p>
"
73732,1,2017-10-12T18:23:05.257,0,73,74669,,2017-10-14T08:56:40.893,2017-10-13T07:55:16.980,0,,"<p>I am a teacher and have had a lot of fun learning how to code solutions to the problems I have. This is a fun project idea - I want to be able to insert little videos or gifs into class at a keystroke. I have a PI and monitor on a cart in the front of my room. I am not sure how to get started with a project like this. </p>

<p>On the PI I have a rails server set up to generate random student names already and would like to continue using that also, but I may need to dedicate the pi to this new project.</p>

<p>I have gifs in a folder, how can I map them to play for a while when I hit a key that is mapped to them? </p>

<p>For example, if someone gets an answer: </p>

<p>-right ... D=dunk.gif<br>
-wrong ... F=faceplant.gif</p>
"
73749,1,2017-10-13T11:32:37.750,23,57635,72820,,2020-02-24T07:26:44.310,,1,,"<p>I just put a freshly flashed card (with 2017-09-07-raspbian-stretch-lite) into a Raspberry Pi Zero W.  </p>

<p>Then I added these lines:</p>

<pre><code>network={
    ssid=""myWifiSsid""
    psk=""myWifiPassword""
}
</code></pre>

<p>to <code>/etc/wpa_supplicant/wpa_supplicant.conf</code>.</p>

<p>The data entered was 100% correct. I waited 10 minutes and checked: It did not connect automatically. </p>

<p>Then I went back to the <a href=""https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md"" rel=""noreferrer"">official instructions</a> and ran <code>sudo wpa_cli reconfigure</code> as suggested. Same result: It did not connect.</p>

<p>Then I tried to manually restart wlan0:  </p>

<pre><code>sudo ifconfig wlan0 down
sudo ifconfig wlan0 up
</code></pre>

<p>Still the same: Is does not connect.  </p>

<p>Then I did a reboot and it instantly automatically connected.   </p>

<p>It's soo frustrating. It feels like the official instructions aren't tested at all.  </p>

<p>So what is missing here, how can this be done without a reboot?</p>
"
73822,1,2017-10-14T23:24:47.137,2,932,,user29510,2017-10-15T08:26:12.510,2018-12-17T19:02:24.963,0,,"<p>I'm currently trying to understand the <a href=""http://abyz.me.uk/rpi/pigpio/"" rel=""nofollow noreferrer"">pigpio library</a> and I found it supports reading from and writing to more than one GPIO pin at once. However can it do the same with pin mode?</p>

<p>I'm asking the question because I am also trying to write a program to test a graphics display (that is powered in 3.3v). The latter uses a 8080-like communication bus, i.e. there are 3 control lines (outputs) but data is read from and written to the same 8 bus lines so I'd need to set 8 GPIO lines as inputs or outputs at different times.</p>

<p>The display expects commands and parameters. When reading from the display, I must write an 8-bit data, pulse the WR line low, set the 8 GPIO lines as input before I can pulse the RD line low and read what's on the 8 GPIO lines.</p>

<p>So is it possible to control 8 GPIO pins as input/output in one go? Or do they have to be set individually?</p>

<p>The device is a Raspberry Pi 2 model B.</p>

<hr>

<p><strong>EDIT</strong>: I also took a look at <a href=""http://www.airspayce.com/mikem/bcm2835/index.html"" rel=""nofollow noreferrer"">BCM2835 library</a> and looking at the code it seems it might be possible though the 32-bit word that controls GPIO pins is split into bit fields, each field being 3 bits wide, due to the many possible pin configurations:</p>

<pre><code>/* Function select
// pin is a BCM2835 GPIO pin number NOT RPi pin number
//      There are 6 control registers, each control the functions of a block
//      of 10 pins.
//      Each control register has 10 sets of 3 bits per GPIO pin:
//
//      000 = GPIO Pin X is an input
//      001 = GPIO Pin X is an output
//      100 = GPIO Pin X takes alternate function 0
//      101 = GPIO Pin X takes alternate function 1
//      110 = GPIO Pin X takes alternate function 2
//      111 = GPIO Pin X takes alternate function 3
//      011 = GPIO Pin X takes alternate function 4
//      010 = GPIO Pin X takes alternate function 5
//
// So the 3 bits for port X are:
//      X / 10 + ((X % 10) * 3)
*/
void bcm2835_gpio_fsel(uint8_t pin, uint8_t mode)
{
    /* Function selects are 10 pins per 32 bit word, 3 bits per pin */
    volatile uint32_t* paddr = bcm2835_gpio + BCM2835_GPFSEL0/4 + (pin/10);
    uint8_t   shift = (pin % 10) * 3;
    uint32_t  mask = BCM2835_GPIO_FSEL_MASK &lt;&lt; shift;
    uint32_t  value = mode &lt;&lt; shift;
    bcm2835_peri_set_bits(paddr, value, mask);
}
</code></pre>

<p>So it looks like setting the mode for multiple pins is possible but it requires determining which bank to address first. If the 8 GPIO pins are fixed then the mask can be set in much fewer steps than setting all 8 pins one by one.</p>

<p>Can anyone confirm?</p>
"
73993,1,2017-10-19T07:06:44.317,1,807,74981,,2017-10-19T16:05:06.307,2017-10-19T16:05:06.307,0,,"<p>I've setup my Raspberry Pi 2 Model B v1.1 with Node.js v8.7 and installed the <code>rpi-gpio</code> module.</p>

<p>I used Node shell (REPL) to test the module, and it worked like a charm. But when I put the same 3 lines of code in <code>app.js</code> and try a <code>node app.js</code> I get the following error. Code added below for reference.</p>

<p>Error:</p>

<pre><code>/home/pi/PiClient/node_modules/rpi-gpio/rpi-gpio.js:358
        return currentPins[channel] + '';
                          ^

TypeError: Cannot read property '7' of undefined
    at getPinRpi (/home/pi/PiClient/node_modules/rpi-gpio/rpi-gpio.js:358:27)
    at Gpio.read.input (/home/pi/PiClient/node_modules/rpi-gpio/rpi-gpio.js:266:19)
    at Object.&lt;anonymous&gt; (/home/pi/PiClient/test.js:5:6)
    at Module._compile (module.js:624:30)
    at Object.Module._extensions..js (module.js:635:10)
    at Module.load (module.js:545:32)
    at tryModuleLoad (module.js:508:12)
    at Function.Module._load (module.js:500:3)
    at Function.Module.runMain (module.js:665:10)
    at startup (bootstrap_node.js:187:16)
</code></pre>

<p>Code:</p>

<pre><code>var gpio = require('rpi-gpio');
gpio.(7, gpio.DIR_IN);
gpio.read(7, function (err, val) {
   console.log(err, val);
});
</code></pre>
"
74044,1,2017-10-20T10:02:01.257,2,2225,75031,,2017-10-20T11:18:15.203,2017-10-20T11:07:08.103,1,,"<p>I have installed a fresh copy of the latest Android Things rom into my pi 3 and now I wish to connect it to my tethered smartphones wifi connection.</p>

<p>How do I do that?</p>

<p>All examples I have seen has shown that it only works if you attach an ethernet connection from the pi 3 to a router?</p>

<p>Can't this done without ethernet cable and able to somehow type in commands on the actual pi 3 device to connect to a wifi?</p>

<p>I have my pi 3 attached to a external monitor with keyboard and mouse</p>
"
74353,1,2017-10-27T03:53:59.607,1,1819,75252,,2018-05-23T12:03:50.523,2017-10-27T14:08:53.707,4,,"<p>I'm doing a project that requires a sound sensor detecting a specific frequency range and triggering a buzzer/alarm. Currently, this is what I have for the sound sensor and buzzer</p>

<pre><code>import RPi.GPIO as GPIO
import time

channel = 8
Buzzer = 11

GPIO.setmode(GPIO.BOARD)
GPIO.setup(channel, GPIO.IN)
GPIO.setup(Buzzer, GPIO.IN)
GPIO.setup(Buzzer, GPIO.OUT)

def on():
    GPIO.output(Buzzer, GPIO.LOW)

def off():
    GPIO.output(Buzzer, GPIO.HIGH)

def beep(x):
    on()
    time.sleep(x)
    off()
    time.sleep(x)

def loop():
    while True:
        beep(0.5)

def callback(channel):
    if GPIO.input(channel):

        print (""Sound Detected"")
        GPIO.output(Buzzer, True)
        loop()

GPIO.add_event_detect(channel, GPIO.BOTH, bouncetime=300)
GPIO.add_event_callback(channel, callback)

while True:
    time.sleep(1)

def destroy():
    GPIO.output(Buzzer, GPIO.LOW)
    GPIO.output(Buzzer, GPIO.HIGH)
    beep(x)
    GPIO.cleanup()

if __name__ == '__main__':
    setup()
    try:
        loop()
    except KeyboardInterrupt:
        destroy()
</code></pre>

<p>Any suggestions would be a great help.</p>
"
74492,1,2017-10-26T13:34:02.270,-1,816,75542,Dennis,2018-01-23T12:01:57.947,,0,,"<p>I am studying Raspberry Pi 3 by android things dp 5.1.</p>

<p>I build and play sample sources which is androidthings weatherstation.</p>

<p>(<a href=""https://github.com/androidthings/weatherstation"" rel=""nofollow noreferrer"">https://github.com/androidthings/weatherstation</a>)</p>

<p>I cannot playing app and below logs.</p>

<p>I cannot use i2c on RP3 by android things 5.1?</p>

<p>How to fix this?</p>

<hr>

<p>pin connection picture:</p>

<p><img src=""https://i.stack.imgur.com/JTBxW.jpg"" alt=""pin connections picture.""></p>

<p>upside picture for BME280:</p>

<p><img src=""https://i.stack.imgur.com/pR6kf.jpg"" alt=""upside picture for BME280.""></p>

<p>downside picture for BME280:</p>

<p><img src=""https://i.stack.imgur.com/mANTL.jpg"" alt=""downside picture for BME280.""></p>

<hr>

<p>logcat at launching application:</p>

<pre><code>10-30 19:05:31.307 23-23/? I/kdevtmpfs: type=1400 audit(0.0:155): avc: denied { create } for name=""i2c-1"" scontext=u:r:kernel:s0 tcontext=u:object_r:device:s0 tclass=chr_file permissive=1
10-30 19:05:31.307 23-23/? I/kdevtmpfs: type=1400 audit(0.0:156): avc: denied { setattr } for name=""i2c-1"" dev=""devtmpfs"" ino=33671 scontext=u:r:kernel:s0 tcontext=u:object_r:device:s0 tclass=chr_file permissive=1
10-30 19:05:31.317 23-23/? I/kdevtmpfs: type=1400 audit(0.0:157): avc: denied { getattr } for path=""/i2c-1"" dev=""devtmpfs"" ino=33671 scontext=u:r:kernel:s0 tcontext=u:object_r:device:s0 tclass=chr_file permissive=1
10-30 19:05:31.317 23-23/? I/kdevtmpfs: type=1400 audit(0.0:158): avc: denied { unlink } for name=""i2c-1"" dev=""devtmpfs"" ino=33671 scontext=u:r:kernel:s0 tcontext=u:object_r:device:s0 tclass=chr_file permissive=1
10-30 19:05:31.347 2153-2153/com.example.androidthings.weatherstation E/AndroidRuntime: FATAL EXCEPTION: main
    Process: com.example.androidthings.weatherstation, PID: 2153
    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidthings.weatherstation/com.example.androidthings.weatherstation.WeatherStationActivity}: java.lang.RuntimeException: Error initializing BMP280
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)
        at android.app.ActivityThread.-wrap11(Unknown Source:0)
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)
        at android.os.Handler.dispatchMessage(Handler.java:105)
        at android.os.Looper.loop(Looper.java:164)
        at android.app.ActivityThread.main(ActivityThread.java:6541)
        at java.lang.reflect.Method.invoke(Native Method)
        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)
     Caused by: java.lang.RuntimeException: Error initializing BMP280
        at com.example.androidthings.weatherstation.WeatherStationActivity.onCreate(WeatherStationActivity.java:205)
        at android.app.Activity.performCreate(Activity.java:6975)
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) 
        at android.app.ActivityThread.-wrap11(Unknown Source:0) 
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) 
        at android.os.Handler.dispatchMessage(Handler.java:105) 
        at android.os.Looper.loop(Looper.java:164) 
        at android.app.ActivityThread.main(ActivityThread.java:6541) 
        at java.lang.reflect.Method.invoke(Native Method) 
        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) 
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) 
     Caused by: com.google.android.things.pio.PioException: android.os.ServiceSpecificException: I/O error (code 5)
        at com.google.android.things.pio.I2cDeviceImpl.readRegByte(I2cDeviceImpl.java:81)
        at com.google.android.things.contrib.driver.bmx280.Bmx280.connect(Bmx280.java:174)
        at com.google.android.things.contrib.driver.bmx280.Bmx280.&lt;init&gt;(Bmx280.java:152)
        at com.google.android.things.contrib.driver.bmx280.Bmx280SensorDriver.&lt;init&gt;(Bmx280SensorDriver.java:54)
        at com.example.androidthings.weatherstation.WeatherStationActivity.onCreate(WeatherStationActivity.java:199)
        at android.app.Activity.performCreate(Activity.java:6975) 
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213) 
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770) 
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) 
        at android.app.ActivityThread.-wrap11(Unknown Source:0) 
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) 
        at android.os.Handler.dispatchMessage(Handler.java:105) 
        at android.os.Looper.loop(Looper.java:164) 
        at android.app.ActivityThread.main(ActivityThread.java:6541) 
        at java.lang.reflect.Method.invoke(Native Method) 
        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) 
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) 
     Caused by: android.os.ServiceSpecificException: I/O error (code 5)
        at android.os.Parcel.readException(Parcel.java:1956)
        at android.os.Parcel.readException(Parcel.java:1888)
        at com.google.android.things.pio.IPeripheralManagerClient$Stub$Proxy.I2cReadRegByte(IPeripheralManagerClient.java:1465)
        at com.google.android.things.pio.I2cDeviceImpl.readRegByte(I2cDeviceImpl.java:79)
        at com.google.android.things.contrib.driver.bmx280.Bmx280.connect(Bmx280.java:174) 
        at com.google.android.things.contrib.driver.bmx280.Bmx280.&lt;init&gt;(Bmx280.java:152) 
        at com.google.android.things.contrib.driver.bmx280.Bmx280SensorDriver.&lt;init&gt;(Bmx280SensorDriver.java:54) 
        at com.example.androidthings.weatherstation.WeatherStationActivity.onCreate(WeatherStationActivity.java:199) 
        at android.app.Activity.performCreate(Activity.java:6975) 
        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213) 
        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770) 
        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) 
        at android.app.ActivityThread.-wrap11(Unknown Source:0) 
        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) 
        at android.os.Handler.dispatchMessage(Handler.java:105) 
        at android.os.Looper.loop(Looper.java:164) 
        at android.app.ActivityThread.main(ActivityThread.java:6541) 
        at java.lang.reflect.Method.invoke(Native Method) 
        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) 
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) 
</code></pre>
"
74723,1,2017-11-03T23:13:03.720,2,352,75725,,2021-01-27T16:03:50.360,2018-10-16T16:11:51.223,0,,"<p>I have been having some trouble with port knocking my VNC, as when I nmap my rpi, the vnc ports are still open, here is my config file (excuse the lame sequence, I haven't fully set it up yet) : </p>

<pre><code>[options]
    UseSyslog

[SSH]
    sequence    = 6000,7000,8000
    seq_timeout = 5
    command     = /sbin/iptables -A INPUT -s %IP% -p tcp --dport 3197 -j 
    ACCEPT
    tcpflags    = syn
    cmd_timeout = 10
    stop_command = /sbin/iptables -D INPUT -s %IP% -p tcp --dport 3197 -j 
    ACCEPT

[openVNC1]
    sequence    = 8000,6000,4000
    seq_timeout = 5
    command     = /sbin/iptables -A INPUT -s %IP% -p tcp --dport 3197 -j 
    ACCEPT
    tcpflags    = syn,ack

[closeVNC1]
    sequence    = 4000,6000,8000
    seq_timeout = 5
    command     = /sbin/iptables -D INPUT -s %IP% -p tcp --dport 3197 -j 
    ACCEPT
    tcpflags    = syn,ack

 [openVNC2]
    sequence    = 3000,5000,7000
    seq_timeout = 5
    command     = /sbin/iptables -A INPUT -s %IP% -p tcp --dport 3197 -j 
    ACCEPT
    tcpflags    = syn,ack

[closeVNC2]
    sequence    = 7000,5000,3000
    seq_timeout = 5
    command     = /sbin/iptables -D INPUT -s %IP% -p tcp --dport 3197 -j 
ACCEPT
    tcpflags    = syn,ack
</code></pre>

<p>It still appears as open, and I can assess it too. This is strange, as it worked for my ssh. Any suggestions?</p>
"
74913,1,2017-11-08T05:22:54.007,3,3115,75358,,2017-11-08T18:28:21.973,2017-11-08T17:47:11.737,0,,"<p>Bought one of those cheapo HDMI LED projectors which has HDMI input but only a native resolution of 320x240. Internally it down-samples.</p>

<p>I'm wondering if the Pi Zero W can be configured to output at that native resolution so no down-sampling would be needed.</p>

<p>Note: I actually don't need--or even want--the full Raspbian Desktop so I'm not worried about how that UI won't look correct with such a small resolution.  The ultimate goal is to have only a single, full-screen app and nothing else since the Pi will be embedded inside the projector, which together will be used as an information appliance.</p>
"
74987,1,2017-11-09T16:53:48.883,2,3635,68896,,2019-07-09T13:45:23.323,,0,,"<p>I'm looking for a python module to convert a .xlsx excel file to .pdf. My excel file will have formatted cells and embedded images. Does any one have any recommendations?</p>
"
75039,1,2017-11-11T01:02:55.457,2,2090,76067,,2018-01-11T03:40:44.500,2017-11-11T05:56:26.647,2,,"<p>What I want:</p>

<ul>
<li>Every time the Pi starts, it should connect to the wifi</li>
<li>I should be able to ssh into it via its IP</li>
</ul>

<p>So, after a whole day of trying and searching, I managed to finally connect to my wifi router. But, unfortunately, the connection is somehow not persistent. So here is my setup:</p>

<p>I <code>ssh</code> into my raspberry while it is connected to USB. From here I created a <code>/etc/wpa_supplicant/wpa_supplicant.conf</code> file with following content:</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=DE
network={
  ssid=""MYDEVICENAME""
  psk=""MYDEVICEPASSWORD""
  key_mgmt=WPA-PSK
}
#fake network workaround for headless Raspberry Pi Zero
network={
  ssid=""fakessid""
  psk=""fakepass""
  key_mgmt=WPA-PSK
}
</code></pre>

<p>I don’t really remember where I got this from but it seems to work. Because I had no idea if it is relevant and saw both locations used, I copied the exact same thing one directory up to <code>/etc/wpa_supplicant.conf</code> (is that even necessary?)</p>

<p>I rebooted, but the Pi did not connect to the wifi by itself. So I found this command online:</p>

<pre><code>sudo wpa_supplicant -iwlan0 -c/etc/wpa_supplicant.conf -Dwext -B
</code></pre>

<p>which did connect my Pi to the internet.
I also can ssh into it.
I also have internet as I can clone an online repo.
I can’t <code>apt-update</code> but I guess that’s probably a topic on its own.</p>

<p>But everytime I unplug it or reboot it, it won’t connect automatically and I’ll have to retype the above command.</p>

<p>How can I have the Raspberry Pi zero w connect to that network automatically every time it gets turned-on/booted?</p>

<p>I feel like it’s just one last small piece missing </p>

<p>Thank you!</p>
"
75120,1,2017-11-12T16:06:28.723,2,5997,76125,,2018-02-13T08:53:34.333,2017-11-14T05:10:00.807,5,,"<p>I am using a NOIR Pi camera for my Raspberry Pi 3 module.
I plan to run some high fps image processing algo using openCV in a C++ environment.
However, I cant seem to obtain the video stream in a high enough fps.
Setting CV_CAM_PROPS_FPS using openCV's VideoCapture class doesn't seem to do anything to the actual fps of the camera.</p>

<p>Is there a way I can adjust the FPS of the camera to 90fps within the cpp file or externally from the console?
I don't mind reducing the resolution of the video.</p>

<p>[Edit]</p>

<p>Here is the code i am using</p>

<pre><code>#include ""stdio.h""
#include ""opencv2/opencv.hpp""

using namespace cv;

int main(int, char**)
{

 std::cout &lt;&lt; ""Init Program 2\n"";

 VideoCapture cap(0); // open the default camera

if(!cap.isOpened())  // check if we succeeded
 {        
std::cout &lt;&lt; ""Camera Init Fail\n"";
return -1;
 }

std::cout &lt;&lt; ""Camera Init Successful\n"";
std::cout &lt;&lt; ""Setting parameters..\n"";

std::cout &lt;&lt;""\t[PARAM_FPS] "";
if(!cap.set(CV_CAP_PROP_FPS,15)){
     std::cout &lt;&lt;""SUCCESS\n"";
}else{
     std::cout &lt;&lt;""FAIL\n"";
}

std::cout &lt;&lt;""\t[PARAM_FRAME_WIDTH] "";
if(!cap.set(CV_CAP_PROP_FRAME_WIDTH,320)){
     std::cout &lt;&lt;""SUCCESS\n"";
}else{
     std::cout &lt;&lt;""FAIL\n"";
}

std::cout &lt;&lt;""\t[PARAM_FRAME_HEIGHT] "";
if(!cap.set(CV_CAP_PROP_FRAME_HEIGHT,240)){
     std::cout &lt;&lt;""SUCCESS\n"";
}else{
     std::cout &lt;&lt;""FAIL\n"";
}

int nFPS = cap.get(CV_CAP_PROP_FPS);
std::cout &lt;&lt; ""Loaded FPS : "" &lt;&lt; nFPS &lt;&lt; ""\n"";


namedWindow(""show"",1);
for(;;)
{
    Mat frame;
    cap &gt;&gt; frame; // get a new frame from camera
    imshow(""show"", frame);
    if(waitKey(1) &gt;= 0) break;

}
// the camera will be deinitialized automatically in VideoCapture destructor
return 0;
 }
</code></pre>

<p>[Solved]</p>

<p>The setting the FPS after setting the width and height seems to do the trick.
That makes sense because a higher resolution image will cause a significant drop in the FPS. Therefore every time you change the geometry feature, the FPS will reset by default.</p>
"
75193,1,2017-11-14T15:08:30.447,0,853,76233,,2018-04-12T09:17:46.603,,2,,"<p>I have followed instructions i have found here to get rid of most boot text but while the custom splashscreen in pixel is displayed i'm getting a list of services showing up.  how do i hide that</p>
"
75219,1,2017-11-15T02:27:31.060,2,6999,74822,,2019-09-21T22:44:09.383,2017-11-26T04:31:29.690,0,,"<p>This is related to an earlier question <a href=""https://raspberrypi.stackexchange.com/questions/56124/eglgetdisplay-fails-on-raspberry-3"">""eglGetDisplay() fails on RaspBerry 3""</a>. On Raspbian Stretch with the full OpenGL driver, running hello_triangle or other GLES examples under <code>/opt/vc/src/hello_pi/</code> results in:</p>

<pre><code>failed to add service - already in use?
</code></pre>

<p>Per the Stack Overflow link below, this can be worked around by commenting out <code>dtoverlay=vc4-kms-v3d</code> in config.txt. Unfortunately that disables OpenGL, leading to odd configuration restrictions like being unable to run both Quake 3 and full Minecraft without rebooting.</p>

<p>How can I fix this in the source code of GLES apps while still linking with the 
Broadcom VideoCore GLES/EGL libraries? Note that although such apps could be ported to avoid dispmanx and use the Mesa open-source driver instead, performance would take a hit.</p>

<p>minecraft-pi doesn't have this error so it should be possible, but it would take some effort to step through that closed-source application. Maybe someone knows a working example with source code?</p>

<p>Links:</p>

<ul>
<li><a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=12581"" rel=""nofollow noreferrer"">""failed to add service - already in use?"" error - Raspberry Pi forums</a></li>
<li><a href=""https://stackoverflow.com/questions/40490113/eglfs-on-raspberry2-failed-to-add-service-already-in-use"">eglfs on raspberrypi2 -- * failed to add service - already in use? - Stack Overflow</a></li>
</ul>
"
75228,1,2017-11-15T10:24:17.677,3,14677,75998,,2017-11-18T22:34:35.563,2017-11-15T11:48:04.340,0,,"<p>I have a Raspberry Pi 3 with Stretch and wish to install a Realtek USB WLAN adapter. There are various tutorials on how to do this in the Pi 2, but none on the Pi 3 since it has a built-in wifi adapter. Also I understand things work a little differently with Stretch. How should I install the USB WLAN adapter?</p>

<p>Running <em>usb-devices</em> indicates it recognises the USB dongle:</p>

<pre><code>S:  Manufacturer=Realtek
S:  Product=802.11n WLAN Adapter
</code></pre>

<p>Running <em>iwconfig</em> shows that the native adapter is running:</p>

<pre><code>wlan0     IEEE 802.11  ESSID:off/any
          Mode:Managed  Access Point: Not-Associated
          Retry short limit:7   RTS thr:off   Fragment thr:off
          Power Management:on
</code></pre>

<p>What steps should I take to get the USB WLAN adapter up and running?</p>
"
75364,1,2017-11-18T16:08:25.683,0,232,76426,,2017-11-21T13:12:18.583,2017-11-18T18:04:51.543,0,,"<p>This is my first trial run using a Raspberry Pi Zero W to run RGB LEDs following this tutorial: <a href=""https://dordnung.de/raspberrypi-ledstrip/"" rel=""nofollow noreferrer"">https://dordnung.de/raspberrypi-ledstrip/</a></p>

<p>I've completed the tutorial, have everything wired up, and running the following python3 code from the command line gives expected results and the LEDs color is consistent. </p>

<pre><code>from gpiozero import PWMLED
from time import sleep
import sys

ri = int(sys.argv[1])
gi = int(sys.argv[2])
bi = int(sys.argv[3])

rl = PWMLED(17)
gl = PWMLED(27)
bl = PWMLED(22)

def rgb_toPWM (r,g,b):
    rl.value = r / 255
    gl.value = g / 255
    bl.value = b / 255


rgb_toPWM(ri,gi,bi)
sleep(3)
</code></pre>

<p>When I wrap it in flask the LEDs flicker and the colors don't match what I give in the code above.</p>

<pre><code>from flask import Flask, render_template, request
from gpiozero import PWMLED
from time import sleep
import json

rl = PWMLED(17)
gl = PWMLED(27)
bl = PWMLED(22)

def rgb_toPWM (r,g,b):
   rl.value = 0
   gl.value = 0
   bl.value = 0
   rl.value = r / 255
   gl.value = g / 255
   bl.value = b / 255

app = Flask(__name__)

@app.route('/')
def index():
   redValue = 20
   greenValue = 100
   blueValue = 200
   templateData = {
      'title' : 'Pi Zero 00',
      'red_v': redValue,
      'green_v': greenValue,
      'blue_v': blueValue
      }
   return render_template('index.html', **templateData)

@app.route('/changecolor', methods=['POST'])
def changeColor():
   red = int(request.form['red'])
   green = int(request.form['green'])
   blue = int(request.form['blue'])
   rgb_toPWM (red, green, blue)
   data = {}
   data['red_3'] = str(red)
   data['green_3'] = str(green)
   data['blue_3'] = str(blue)
   data['red_digit'] = str(red / 255)
   data['green_digit'] = str(green / 255)
   data['blue_digit'] = str(blue / 255)
   json_data = json.dumps(data)
   sleep(3)
   return json_data

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=80, debug=True)
</code></pre>

<p>I assume this has something to do with flask, but I really have no clue. Here's the output of the above</p>

<pre><code>blue_3: ""114"" blue_digit: ""0.4470588235294118""
green_3: ""128"" green_digit: ""0.5019607843137255""  
red_3: ""250"" red_digit: ""0.9803921568627451""
</code></pre>

<p>I put those same values in the top code and it looks like the color I'd expect, but from the flask code it flickers and ""spurts""</p>

<p>OS VERSION=""9 (stretch)""</p>

<p>Kernal Linux 4.9.59+ #1047 Sun Oct 29 11:47:10 GMT 2017 armv6l GNU/Linux</p>

<p>Addition: 
I've started just moving one pin at a time and the PWM just doesn't seem consistent, regardless of the value I give it. </p>
"
75381,1,2017-11-19T04:53:12.303,1,720,62750,,2017-11-20T00:05:02.380,,0,,"<p>I recently bought on ebay a sensor for a drone project im working on <a href=""https://www.ebay.com/itm/MPU9250-BMP280-10DOF-Acceleration-Gyroscope-Compass-Nine-Shaft-Sensor-GY-91-/322878981797?hash=item4b2d1646a5"" rel=""nofollow noreferrer"">MPU9250 BMP280 10DOF</a> the thing is i always get a ""bad handle"" error, and honestly i cant figure it out.</p>

<blockquote>
  <p>2017-11-18 22:10:03 i2cReadByte: bad handle (-74)
  Valor de 0x3B: -25</p>
</blockquote>

<p>note:  the ""Valor de 0x3B"" its just for info purpose</p>

<p>in this example im trying to retrieve the X axis of the accelerometer</p>

<p>i dont know if its a bad conecction or an error on the code, but to be sure can anyone check it just in case, my code its as follows</p>

<pre><code>#include &lt;cstdlib&gt;
#include ""../pigpio.h""
#include &lt;unistd.h&gt;
#include &lt;iostream&gt;

/*   Leer datos del sensor usando I2C
 * 
*/
int main(void) {

typedef int *Acc;      // Defino un handle (Apuntador) // not sure about this one
gpioInitialise();      // inicializa la libreria
if (gpioInitialise() &lt;=0)
   {  
      std::cout &lt;&lt; ""gpio not initialise"";
      return 0;
   }
   else
   {
      std::cout &lt;&lt; ""gpio working fine"" &lt;&lt; std::endl;
   } 


  //i2cOpen(0,0x3B,0); habro el i2c y leeo la informacion en la direccion 0x3b
  //i2cOpen(Bus seleccionado, Direccion sensor, Flag debe ser 0)
 //Acc i2cOpen(0,0x3B,0);  

for (;;)
{
  std::cout &lt;&lt; ""Valor de 0x3B: ""&lt;&lt; i2cReadByte (i2cOpen(0,0x3B,0)) &lt;&lt; std::endl; // Leeo informacion del bus, menos codigo
}

gpioTerminate();
return 0;
}
</code></pre>

<p>I wired the follow pins on the sensor to the I2c conecctions on the pi</p>

<blockquote>
  <p>Sensor --- RP3</p>
  
  <blockquote>
    <p>3,3v to pin 1</p>
    
    <p>Gnd to pin 9</p>
    
    <p>SCL to Pin 5</p>
    
    <p>SDA to pin 3</p>
  </blockquote>
</blockquote>
"
75412,1,2017-11-19T17:14:13.787,0,706,54888,,2017-11-25T18:39:15.150,2017-11-21T20:46:53.113,2,,"<p>I recently installed a JustBoom DAC HAT on my Raspberry Pi 3, but I can't make it play a sound by using ALSA or PulseAudio. <code>alsamixer</code> lets me configure the HAT, apparently without problems, but <code>test-speaker</code> complains it can't access the sound device (ALSA) or can't connect to the PulseAudio server when it's running (connection refused).</p>

<p>Here are the steps I've taken after installing the HAT:</p>

<ol>
<li><p>Removed the on-board sound device from /boot/config.txt:</p>

<p>dtparam=audio=off
dtoverlay=justboom-dac</p></li>
<li><p>Used the following .asoundrc for ALSA:</p>

<p>pcm.!default {
    type hw
    card 0
    device 0
}</p>

<p>ctl.!default {
    type hw
    card 0
}</p></li>
</ol>

<p>…and for PulseAudio:</p>

<pre><code>pcm.!default {
  type plug
  slave {
    pcm ""hw:1,0""
  }
}

ctl.!default {
  type hw
  card 0
}
</code></pre>

<ol start=""3"">
<li><p>For PulseAudio, changed the /etc/pulse/default.pa file as follows:</p>

<p>load-module module-native-protocol-tcp
load-module module-zeroconf-publish</p></li>
<li><p>Ran alsamixer and set volumes of both channels to 100%. For PulseAudio, I started the server as daemon (which started without errors): <code>pulseaudio -D</code></p></li>
<li><p>Ran <code>speaker-test</code>, which crashed both in the ALSA, and in the PulseAudio config: With PulseAudio, it said:</p>

<p>pi@autoradio:~ $ speaker-test</p>

<p>speaker-test 1.0.28</p>

<p>Playback device is default
Stream parameters are 48000Hz, S16_LE, 1 channels
Using 16 octaves of pink noise
ALSA lib pulse.c:243:(pulse_connect) PulseAudio: Unable to connect:     Connection refused</p>

<p>Playback open error: -111,Connection refused</p></li>
</ol>

<p>What's wrong here? Does anybody have a hint for me? Thank you.</p>

<p>UPDATE: Using ALSA in debug mode (by adaprint the /etc/libao.conf file) and trying to play an OGG sound file, I get this:</p>

<pre><code>pi@autoradio:/import/valen/autoradio $ ogg123 -v Emergency_Alert_System_Attention_Signal_20s.ogg
debug: Loaded driver null (built-in)
debug: Loaded driver wav (built-in)
debug: Loaded driver raw (built-in)
debug: Loaded driver au (built-in)
debug: Loading driver plugins from /usr/lib/ao/plugins-4...
debug: Loaded driver oss
debug: Loaded driver pulse
debug: Loaded driver nas
debug: Loaded driver esd
debug: Loaded driver alsa
debug: Testing drivers to find playback default...

Audio Device:   Advanced Linux Sound Architecture (ALSA) output
Author:   Bill Currie &lt;bill@taniwha.org&gt;/Kevin Cody, Jr. &lt;kevinc@wuff.dhs.org&gt;
Comments: Outputs to the Advanced Linux Sound Architecture version 0.9/1.x

Playing: Emergency_Alert_System_Attention_Signal_20s.ogg
Ogg Vorbis stream: 1 channel, 44100 Hz
Vorbis format: Version 0
Bitrate hints: upper=-1 nominal=96000 lower=-1 window=0
Encoded by: Xiph.Org libVorbis I 20030909
Encoder: Cool Edit
ao_alsa debug: Trying to open ALSA device 'default'
ao_alsa debug: snd_pcm_hw_params_set_channels() failed.
ao_alsa debug: Unable to open ALSA device 'default'
ao_alsa ERROR: Unable to open ALSA device 'default' for playback =&gt; Invalid argument
ERROR: Cannot open device alsa.
</code></pre>
"
75521,1,2017-11-21T23:28:07.357,12,34871,76601,,2018-06-18T22:32:50.153,2017-11-22T18:00:12.693,10,,"<p>I was wondering if there is a simple way to ""turn on"" all 100% of the CPU so that I can run processes faster (such as python calculations). </p>

<p>1) Is this possible?</p>

<p>2) Is there an easy way to revert back to normal?</p>

<p>3) Is there a way to use less CPU if desired?</p>

<p>I'm thinking of a command line interaction like:</p>

<p><code>pi@raspberry:~ $ sudo turnOnFourCores python run.py</code></p>
"
75802,1,2017-11-28T17:03:02.360,3,1242,76936,,2020-07-09T15:56:49.253,2020-07-09T15:56:49.253,0,,"<p>I'm trying to set <kbd>numlock</kbd> to be always on for my numpad on my Raspberry Pi, how do I make this possible?</p>
<pre><code>$ sudo sed -i 's/#LEDS=+num/LEDS=+num/' '/etc/kbd/config'
</code></pre>
<p>Using the code above in the terminal I was able to make it boot with the LED on, but it can't be turned off after hitting the button?</p>
"
75882,1,2017-11-30T15:30:27.160,0,1298,76678,,2020-12-05T09:04:40.597,2017-12-01T21:28:22.417,2,,"<p>Picture 1 shows my setup. I connected the RPi3 Input parallel to an I/O terminal. The inputs are connected to a pull down resistor setup. Pictures 2 and 3 show the setup more in detail.</p>

<p>Program-> event detection: printing Pin number and datetime while sensor triggered
Checking the pins simultaneously.</p>

<p>Pictures 4 and 5 show the result. 
Picture 1:
<a href=""https://i.stack.imgur.com/z0DOH.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/z0DOH.jpg"" alt=""enter image description here""></a>
Picture 2:
<a href=""https://i.stack.imgur.com/W2T7B.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/W2T7B.jpg"" alt=""enter image description here""></a>
Picture 3:
<a href=""https://i.stack.imgur.com/I63F1.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/I63F1.jpg"" alt=""enter image description here""></a>
The first few lines show one sensor triggered each. Then 7 and 12 together.
Picture 4:
<a href=""https://i.stack.imgur.com/jksSi.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/jksSi.jpg"" alt=""enter image description here""></a>
16 and another one together just show 16 alone.
All together stops the print.
Picture 5:
<a href=""https://i.stack.imgur.com/UYiGa.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/UYiGa.jpg"" alt=""enter image description here""></a>
First program:</p>

<pre><code>import threading
import RPi.GPIO as GPIO
import time
import time
from datetime import datetime


PIN = 7
PIN2 = 12
PIN3 = 16

class GPIOThread(threading.Thread):
    def __init__(self):
        threading.Thread.__init__(self)              

    def run(self):
        while True:
            while (GPIO.input(PIN) == True): # adjust this statement as per your pin status i.e HIGH/LOW

                print(""PIN 7"",str(datetime.now()))
                time.sleep(0.1)

            while GPIO.input(PIN2) == True: # adjust this statement as per your pin status i.e HIGH/LOW

                print(""PIN 12"",str(datetime.now()))
                time.sleep(0.1)

            while GPIO.input(PIN3) == True: # adjust this statement as per your pin status i.e HIGH/LOW

                print(""PIN 16"",str(datetime.now()))
                time.sleep(0.1)


def main():

      GPIO.setmode(GPIO.BCM)
      GPIO.setwarnings(False)
      GPIO.setup(PIN,GPIO.IN,pull_up_down=GPIO.PUD_UP)    
      GPIO.setup(PIN2,GPIO.IN,pull_up_down=GPIO.PUD_UP)
      GPIO.setup(PIN3,GPIO.IN,pull_up_down=GPIO.PUD_UP) 
      GPIO.add_event_detect(PIN,GPIO.RISING)

      gpio_thread = GPIOThread()
      gpio_thread.start() 




if __name__==""__main__"":
    main()
</code></pre>

<p>Corrected statechange code (now as it is on the RPi):</p>

<pre><code>import RPi.GPIO as GPIO
GPIO.setmode(GPIO.BCM)
from time import sleep

GPIO.setup(7, GPIO.IN) 
GPIO.setup(8, GPIO.IN)
GPIO.setup(12, GPIO.IN)
GPIO.setup(16, GPIO.IN)
GPIO.setup(20, GPIO.IN)
GPIO.setup(21, GPIO.IN)


buttonstate0 = 0;
lastbuttonstate0 = 0;
buttonstate1 = 0;
lastbuttonstate1 = 0;
buttonstate2 = 0;
lastbuttonstate2 = 0;
buttonstate3 = 0;
lastbuttonstate3 = 0;
buttonstate4 = 0;
lastbuttonstate4 = 0;
buttonstate5 = 0;
lastbuttonstate5 = 0;

while True:
    buttonstate0 = GPIO.input(7)
    buttonstate1 = GPIO.input(8)
    buttonstate2 = GPIO.input(12)
    buttonstate3 = GPIO.input(16)
    buttonstate4 = GPIO.input(20)
    buttonstate5 = GPIO.input(21)

    if buttonstate0 !=lastbuttonstate0:
        if buttonstate0 == 1:
            print(""Sensor1 an"")
        sleep(0.1)
    buttonstate0 = lastbuttonstate0

    if buttonstate1 !=lastbuttonstate1:
        if buttonstate1 == 1:
            print(""Sensor2 an"")
        sleep(0.1)
    buttonstate1 = lastbuttonstate1

    if buttonstate2 !=lastbuttonstate2:
        if buttonstate2 == 1:
            print(""Sensor3 an"")
        sleep(0.1)
    buttonstate2 = lastbuttonstate2

    if buttonstate3 !=lastbuttonstate3:
        if buttonstate3 == 1:
            print(""Sensor4 an"")
        sleep(0.1)
    buttonstate3 = lastbuttonstate3

    if buttonstate4 !=lastbuttonstate4:
        if buttonstate4 == 1:
            print(""Sensor5 an"")
        sleep(0.1)
    buttonstate4 = lastbuttonstate4

    if buttonstate5 !=lastbuttonstate5:
        if buttonstate5 == 1:
            print(""Sensor6 an"")
        sleep(0.1)
    buttonstate5 = lastbuttonstate5
</code></pre>

<p>How can i implement, printing out the current input state once it goes   high?</p>
"
75900,1,2017-11-30T20:46:07.330,1,1101,76944,,2017-12-01T07:02:16.190,2017-12-01T07:02:16.190,0,,"<p>As the title says, the distance in my sonar is giving me 0, I think I found out the problem, but the code was working fine with wiringPi.</p>

<p>Functions:</p>

<ul>
<li>I only changed names to be equal to Arduino</li>
<li>digitalRead = gpioRead</li>
<li>digitalWrite = gpioWrite</li>
<li>delayMicroseconds = gpioDelay</li>
<li>micros = gpioTick</li>
</ul>

<p>This function is in a class, so I'm copying what matters.</p>

<pre><code>float distance()
    {
        static float old = 0.0;
        float duration = 0.0, distance = 0.0, threshold = 0.01;

        digitalWrite(TrigPin, LOW);
        delayMicroseconds(2);

        digitalWrite(TrigPin, HIGH);
        delayMicroseconds(10);
        digitalWrite(TrigPin, LOW);

        duration = pulseIn(EchoPin, HIGH);
        distance = (duration / 2.0) * 0.0343 / 100.0;

        if (old == 0.0 || (abs(distance - old) &lt;= threshold))
            return old = distance;
        else
            return old;
    }
</code></pre>

<p>Here is where I think the problem is:</p>

<pre><code>uint32_t pulseIn(uint8_t pin, uint8_t state, uint32_t timeout = 1000000L);

uint32_t pulseIn(uint8_t pin, uint8_t state, uint32_t timeout)
{
  uint32_t start = micros();
  while (digitalRead(pin) == state &amp;&amp; (micros() - start) &lt; timeout);
  while (digitalRead(pin) != state &amp;&amp; (micros() - start) &lt; timeout);
  start = micros();
  while (digitalRead(pin) == state &amp;&amp; (micros() - start) &lt; timeout);
  return micros() - start;
}
</code></pre>
"
76094,1,2017-12-05T17:44:39.450,2,771,77346,,2017-12-05T21:20:30.857,2017-12-05T18:21:58.827,1,,"<p>I'm trying to send multiple characters (two digit numbers) from a Raspberry Pi 3 (Python 2.7.9) to an Arduino Uno via USB. The Arduino then prints these numbers to a 16x2 LCD panel. </p>

<p>So far, I can send a single character, but it repeats this character on the entire LCD panel. If given more than one character, it repeats only the first character. I've futzed around with it a fair but, bit it seems that whenever I add complication, it breaks entirely. I've done a fair amount of research to get this far, but must admit my knowledge of Python is limited. I've attached my Arduino sketch and Python code. They're both fairly simple as they will be added to larger programs. As a note, I've connected a 47µF capacitor from the reset pin to ground on my Arduino so it won't auto-reset. Can someone please point me in the right direction here? I feel like I'm getting close and would really appreciate any help.</p>

<p>Arduino sketch:</p>

<pre><code>#include &lt;LiquidCrystal.h&gt; 
const int rs = 6, en = 7, d4 = 8, d5 = 9, d6 = 10, d7 = 11;
LiquidCrystal lcd(rs, en, d4, d5, d6, d7);
char count;
boolean data;

void setup() {
 Serial.begin(9600);
 lcd.begin(16, 2);
 lcd.print(""Ready for Data..."");
}

void loop() {
  if(Serial.available() &gt; 0){
    count = Serial.read();
    data = true;
  }
    if(data == true){
      lcd.print(count);
    }
}
</code></pre>

<p>Python Code:</p>

<pre><code>import serial
ser = serial.Serial('/dev/ttyACM0',9600)
val=""5""
ser.write(val)
ser.close
</code></pre>

<p><a href=""https://i.stack.imgur.com/LnzGB.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/LnzGB.png"" alt=""enter image description here""></a></p>
"
76102,1,2017-12-05T20:56:59.167,1,453,77361,,2018-09-17T21:54:37.480,2017-12-06T13:35:20.480,0,,"<p>I've connected a USB speaker to my Raspberry Pi Zero, and modified /boot/config.txt to set <code>dtparam=audio=off</code>. Running <code>speaker-test</code> now sends test audio to the speaker.</p>

<p>But, when I attempt to run a game in mame4all, I get this error:</p>

<pre><code>ALSA lib pcm.c:7935:(snd_pcm_set_params) Rate doesn't match (requested 44100Hz, get 48000Hz)
</code></pre>

<p>Any ideas?</p>
"
76109,1,2017-12-06T00:04:46.393,12,11069,77177,,2019-09-15T08:42:03.763,2019-05-21T16:15:03.683,0,,"<p>Does anyone know how to setup a Raspberry Pi 3 as an I2C slave (in C++)?</p>

<p>Before someone answers saying that it's not possible, it is possible.</p>

<p><a href=""http://abyz.me.uk/rpi/pigpio/cif.html#bscXfer"" rel=""noreferrer"">Here is a link that says it is possible (pigpio documentation)</a></p>

<p>This is the code I'm trying to use (from the link above):</p>

<pre><code>#include &lt;pigpio.h&gt;
#include &lt;iostream&gt;
using namespace std;


int main(){
    bsc_xfer_t xfer;
    gpioInitialise();
    xfer.control = (0x0A&lt;&lt;16) | 0x305; // Set I2C slave Address to 0x0A
    int status = bscXfer(&amp;xfer);
    if (status &gt;= 0)
    {
        xfer.rxCnt = 0;
        while(1){
            if (xfer.rxCnt &gt; 0){
                cout &lt;&lt; xfer.rxBuf;
            }
       }    
    }

    return 1;
} 
</code></pre>

<p>My connections are SCL to BCM GPIO 18 and SDA to BCM GPIO 19.
(This should be the other way round: SDA is GPIO 18, SCL is GPIO 19)</p>

<p>The rest of the devices on the bus are ok (already tested). </p>

<p>I also have connected the SDA1 and SCL1 of the raspberry to this I2C bus so that I can do <code>i2cdetect -y 1</code> to list I2C devices on the bus.</p>

<p>The problem with this code is that despite correctly Addressing the Raspberry Pi, <code>i2cdetect -y 1</code> is able to see address 0x0A, I can not receive any message. </p>

<p>If I run a sniffer in other process I'm able to get the message correctly.</p>
"
76188,1,2017-12-07T12:34:47.597,4,26958,57252,,2019-06-11T22:40:44.117,2017-12-07T12:42:51.700,1,,"<p>I purchased a PCM5102 for my PiZeroW, but having problems finding </p>

<ol>
<li>complete driver software information</li>
<li>voltage information</li>
<li>wiring information.</li>
</ol>

<p>I chose this particular unit because they seemed very popular on Ebay when talking about adding I2S sound to Raspberry Pi.</p>

<p>With so many on sale, I guessed instructions would be easy to find.</p>

<p><a href=""https://i.stack.imgur.com/ZBK8Q.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ZBK8Q.jpg"" alt=""enter image description here""></a>
<strong>What is the Device Driver / Device Setup</strong></p>

<p>I have been watching the Adafruit setup of a different I2S unit.
Looking for hints.
<a href=""https://www.youtube.com/watch?v=kkaYTIC0RoQ"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=kkaYTIC0RoQ</a></p>

<p>aplay -l </p>

<p>This should show available sound cards. But I don't get any.
I suspect I have the wrong boot config.
I do have I2S enabled in the /boot/config.txt, also set the</p>

<p>dtoverlay=hifiberry-dac </p>

<p>I have setup /etc/asound.conf as well.</p>

<p><strong>What is the Vcc Voltage for this card? 3.3v or 5v?</strong></p>

<p>The raw chip looks to be 3.3v, according to the datasheet, but there are many surface mount resistors on the card, any could be used to pull down a Vcc of 5volts to 3.3v.
<a href=""http://www.ti.com/general/docs/datasheetdiagram.tsp?genericPartNumber=PCM5102&amp;diagramId=SLAS764B"" rel=""nofollow noreferrer"">http://www.ti.com/general/docs/datasheetdiagram.tsp?genericPartNumber=PCM5102&amp;diagramId=SLAS764B</a></p>

<p>I've gone conservative for now, picking 3.3v. Trying to keep the magic smoke within the unit:)</p>

<p><strong>Wiring the PCM5102 to the PiW</strong></p>

<p>Other than Vcc, the other wiring I deduced from here.</p>

<p><a href=""http://masterandrey.com/posts/en/dac_raspberry_pi_pcm5102/"" rel=""nofollow noreferrer"">http://masterandrey.com/posts/en/dac_raspberry_pi_pcm5102/</a>
<a href=""http://www.denshi.club/pc/audio/raspberry-pi-2i2s-dac.html"" rel=""nofollow noreferrer"">http://www.denshi.club/pc/audio/raspberry-pi-2i2s-dac.html</a></p>

<p>Is the MCK (SCK) line to be connected, or left unconnected as suggested by www.denshi.club ?</p>

<p><strong>Symptoms</strong></p>

<p>No sound when using headphones plugged into the 3.5mm jack.</p>

<p>The led on the card comes on.</p>

<p>Sorry, I don't have a scope, so I'm not able to test the I2S lines.</p>

<p>aplay -l </p>

<p>Not seeing any cards listed.</p>
"
76426,1,2017-12-13T15:59:30.460,3,595,74923,,2017-12-13T20:38:58.403,2017-12-13T18:35:16.413,7,,"<p>As you may know, DS18B20 is not the quickest sensor and answers after around 750ms delay but, afaik, 1-wire is a relatively quick bus.
I have multiple sensors connected to the board, which means if I iterate over them , I waste around 4-5 seconds just to read the values.
Is there a way to read multiple values at once. I can do this via <code>std::thread</code>/<code>pthread</code>, but it means that the memory consumption increases with each connected sensor (I believe each thread allocates around 1mb of memory) which seems pointless (and stupid) for such a simple task. </p>

<p>I guess I am looking for a way to handle multiple open connections (with the hardware) at once.
Some people recommended a <code>select</code> with <code>fd_set</code> approach, but I am not sure if they make sense as I am not completely understand if the read actually blocks and/or notifies the system if there is any data available.</p>

<p>I am not sure if is allowed to link my own post, but the original question, which pointed me to this was 
<a href=""https://stackoverflow.com/questions/47779500/controlling-different-hardware-multithreading-or-something-different"">https://stackoverflow.com/questions/47779500/controlling-different-hardware-multithreading-or-something-different</a></p>

<p>Edit (clarification):</p>

<p>Right now I read sensor values 1-wire sequentially in a loop (simplified pseudocode)</p>

<pre><code>while (is_not_shutdown) {
    foreach(w1_sensor : w1_sensors) {
        w1_sensor.updateValue(); //reads from /sys/bus/w1/28-*/value
    }
}
</code></pre>

<p>Similar code handles GPIO updates, I2C sensors, SPI sensors and so on. Some sensors are fast to respond, some are quite slow. I am trying to implement a code in which each following sensor update would not depend on the delay from a communication with a previous sensor.</p>

<p>I could do it like this:</p>

<pre><code>while (is_not_shutdown) {
    foreach (sensor : sensors) {
        sensor.init_background_update_thread(); //launches a thread
    }
}
</code></pre>

<p>And then in main thread:</p>

<pre><code>while (is_not_shutdown) {
    foreach(sensor : sensors) {
        value = sensor.readValue(); //returns latest value.
    }
}
</code></pre>

<p>Obviously this means a lot of locking/unlocking and other multithreading drawbacks. I believe this multithreaded approach is not very efficient because each additional sensor means spawning an additional thread.</p>

<p>The initial idea was that the task of reading sensor values simultaneously was solved long before the development of multithreading in its current form (a simple user space API). In addition, this is somehow solved by the kernel drivers, for which the thread as a concept does not exist.</p>
"
76954,1,2017-12-27T13:57:29.960,2,3923,41605,,2017-12-28T06:28:58.290,2017-12-28T06:28:58.290,0,,"<p>I have a Raspberry Pi 3 and I'm currently use <code>read(2)</code> system call to read data from serial port. At this moment, I'm reading byte by byte from port with;</p>

<pre><code>rc = read(uart_fd, &amp;byte, 1);
</code></pre>

<p>I'm wondering that if there is a better approach instead of reading one byte at a time. I know I can read 100 bytes and do a for loop for how much bytes I actually read from file (<code>rc</code>). I'm just curious about that is the size effects performance. Which value should I choose? I assume that this value depends hardware buffer size, where can I find this size? </p>

<p><strong>EDIT:</strong><br>
My Serial Port setup comes from FTDI. So I attach FTDI to USB Port and use <code>open(2)</code> syscall with <code>/dev/ttyUSBx</code>.</p>
"
77070,1,2017-12-30T04:59:10.977,4,8886,10182,,2019-07-22T08:43:10.100,2018-01-08T03:08:28.960,16,,"<p>I have a Raspberry Pi 3 with the latest Raspbian Stretch, and the Sony 8MB official camera. </p>

<p>I can save a good looking JPEG with the following commands:</p>

<pre><code>v4l2-ctl --set-fmt-video=width=2592,height=1944,pixelformat=3
v4l2-ctl --stream-mmap=3 --stream-count=1 --stream-to=somefile.jpg
</code></pre>

<p>I can list all formats with this command:</p>

<pre><code>root@raspberrypi:/home/pi# v4l2-ctl -d /dev/video0 --list-formats-ext
ioctl: VIDIOC_ENUM_FMT
    Index       : 0
    Type        : Video Capture
    Pixel Format: 'YU12'
    Name        : Planar YUV 4:2:0
        Size: Stepwise 32x32 - 3280x2464 with step 2/2

    ...

    Index       : 3
    Type        : Video Capture
    Pixel Format: 'JPEG' (compressed)
    Name        : JFIF JPEG
        Size: Stepwise 32x32 - 3280x2464 with step 2/2
</code></pre>

<p>Now I want to translate the v4l2-ctl capture of a JPEG to C++ / Qt5 with libv4l2. My code is shown below and whenever I run it on the Pi, I get the following error:</p>

<pre><code>root@raspberrypi:/home/pi# ./v4l2-test 
Begin Capture
VIDIOC_STREAMON: Operation not permitted
</code></pre>

<p>C++ Code:</p>

<pre><code>#include &lt;QCoreApplication&gt;

// C++ / V4L2 Includes
#include &lt;linux/videodev2.h&gt;
#include &lt;fcntl.h&gt;              /* low-level i/o */
#include &lt;unistd.h&gt;
#include &lt;errno.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/time.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;sys/ioctl.h&gt;

// Debugging
#include &lt;QDebug&gt;

int main(int argc, char *argv[])
{
    QCoreApplication a(argc, argv);

    qDebug() &lt;&lt; ""Begin Capture"";

    int fd;
    if((fd = open(""/dev/video0"", O_RDWR)) &lt; 0){
        perror(""open"");
        exit(1);
    }

    struct v4l2_capability cap;
    if(ioctl(fd, VIDIOC_QUERYCAP, &amp;cap) &lt; 0){
        perror(""VIDIOC_QUERYCAP"");
        exit(1);
    }

    if(!(cap.capabilities &amp; V4L2_CAP_VIDEO_CAPTURE)){
        fprintf(stderr, ""The device does not handle single-planar video capture.\n"");
        exit(1);
    }

    struct v4l2_format format;
    format.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    format.fmt.pix.pixelformat = V4L2_PIX_FMT_JPEG;
    format.fmt.pix.width = 2592;
    format.fmt.pix.height = 1944;

    if(ioctl(fd, VIDIOC_S_FMT, &amp;format) &lt; 0){
        perror(""VIDIOC_S_FMT"");
        exit(1);
    }

    struct v4l2_requestbuffers bufrequest;
    bufrequest.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    bufrequest.memory = V4L2_MEMORY_MMAP;
    bufrequest.count = 1;

    if(ioctl(fd, VIDIOC_REQBUFS, &amp;bufrequest) &lt; 0){
        perror(""VIDIOC_REQBUFS"");
        exit(1);
    }

    struct v4l2_buffer bufferinfo;
    memset(&amp;bufferinfo, 0, sizeof(bufferinfo));

    bufferinfo.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    bufferinfo.memory = V4L2_MEMORY_MMAP;
    bufferinfo.index = 0;

    if(ioctl(fd, VIDIOC_QUERYBUF, &amp;bufferinfo) &lt; 0){
        perror(""VIDIOC_QUERYBUF"");
        exit(1);
    }

    void* buffer_start = mmap(
                NULL,
                bufferinfo.length,
                PROT_READ | PROT_WRITE,
                MAP_SHARED,
                fd,
                bufferinfo.m.offset
                );

    if(buffer_start == MAP_FAILED){
        perror(""mmap"");
        exit(1);
    }

    memset(buffer_start, 0, bufferinfo.length);

    // Activate streaming
    int type = bufferinfo.type;
    if(ioctl(fd, VIDIOC_STREAMON, &amp;type) &lt; 0){
        perror(""VIDIOC_STREAMON"");
        exit(1);
    }

    /* Here is where you typically start two loops:
     * - One which runs for as long as you want to
     *   capture frames (shoot the video).
     * - One which iterates over your buffers everytime. */

    bool capture_is_running = true;
    while(capture_is_running){
        for(int i = 0; i &lt; bufrequest.count; i++){

            // Put the buffer in the incoming queue.
            if(ioctl(fd, VIDIOC_QBUF, &amp;bufferinfo) &lt; 0){
                perror(""VIDIOC_QBUF"");
                exit(1);
            }

            // The buffer's waiting in the outgoing queue.
            if(ioctl(fd, VIDIOC_DQBUF, &amp;bufferinfo) &lt; 0){
                perror(""VIDIOC_QBUF"");
                exit(1);
            }

        }

    }

    // Deactivate streaming
    if(ioctl(fd, VIDIOC_STREAMOFF, &amp;type) &lt; 0){
        perror(""VIDIOC_STREAMOFF"");
        exit(1);
    }

    close(fd);
    return EXIT_SUCCESS;

    return a.exec();
}
</code></pre>

<p>What am I doing wrong? The camera works and I run as root, but for some reason I get ""Permission Denied"". I appreciate any help - thanks.</p>

<p>UPDATE - The exact error I see is shown below as well as the terminal output showing that ""root"" is in the ""video"" group</p>

<pre><code>root@raspberrypi:/home/pi# groups root
root : root video
root@raspberrypi:/home/pi# ./v4l2-test 
Begin Capture
VIDIOC_STREAMON: Operation not permitted
</code></pre>

<p>UPDATE: Running 'file' on the v4l2-ctl saved image shows the 2592x1944 sized frame:</p>

<pre><code>root@raspberrypi:/tmp# file somefile.jpg 
somefile.jpg: JPEG image data, Exif standard: [TIFF image data, big-endian, direntries=9, height=0, model=imx219, xresolution=130, yresolution=138, resolutionunit=2, datetime=1970:01:01 00:00:00, width=0], baseline, precision 8, 2592x1944, frames 3
</code></pre>

<p>UPDATE: Here is a paste of the complete STRACE output of all commands:</p>

<pre><code>https://zerobin.net/?84fee190a4a904a0#ZZOwDe7ftBKjpqpP/lPfnTMPrUlILyJaCCCyunO6aug=
</code></pre>

<p>UPDATE: Linking step of application compilation</p>

<pre><code>/home/me/Desktop/buildroot/output/host/bin/arm-buildroot-linux-gnueabihf-g++ --sysroot=/home/me/Desktop/buildroot/output/host/arm-buildroot-linux-gnueabihf/sysroot -o v4l2-test main.o   -lrt -lpthread -ldl -latomic 
</code></pre>

<p>UPDATE: I removed my S_FMT ioctl, but the issue still continues:</p>

<pre><code>    struct v4l2_format format;
    format.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    format.fmt.pix.pixelformat = V4L2_PIX_FMT_JPEG;
    // 3280x2464
    format.fmt.pix.width = 3280;
    format.fmt.pix.height = 2464;

//    if(ioctl(fd, VIDIOC_S_FMT, &amp;format) &lt; 0){
//        perror(""VIDIOC_S_FMT"");
//        exit(1);
//    }

    struct v4l2_requestbuffers bufrequest;
    bufrequest.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    bufrequest.memory = V4L2_MEMORY_MMAP;
    bufrequest.count = 1;
</code></pre>

<p>UPDATE: I just checked dmesg again I'm seeing the following error - however Google has not turned up anything so far...</p>

<pre><code>Jan 06 01:40:19 raspberrypi kernel: video0: VIDIOC_QUERYCAP
Jan 06 01:40:19 raspberrypi kernel: video0: VIDIOC_S_FMT
Jan 06 01:40:19 raspberrypi kernel: video0: VIDIOC_REQBUFS
Jan 06 01:40:19 raspberrypi kernel: video0: VIDIOC_QUERYBUF
Jan 06 01:40:20 raspberrypi kernel: bcm2835-v4l2: Failed to enable capture port - error -28. Disabling camera port again
Jan 06 01:40:20 raspberrypi kernel: video0: VIDIOC_STREAMON: error -1
</code></pre>

<p>UPDATE: Per suggestion - I tried increasing the buffer count to 3 - but it did not help:</p>

<pre><code>struct v4l2_requestbuffers bufrequest;
bufrequest.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
bufrequest.memory = V4L2_MEMORY_MMAP;
bufrequest.count = 3;

if(ioctl(fd, VIDIOC_REQBUFS, &amp;bufrequest) &lt; 0){
    perror(""VIDIOC_REQBUFS"");
    exit(1);
}

fprintf(stderr,""Buffer Request is for 3 buffers...\n"");
</code></pre>
"
77189,1,2018-01-02T22:46:00.207,-1,96,77537,,2018-01-03T10:48:31.800,2018-01-03T10:48:31.800,1,,"<p>When I run my code for my sense hat weather station it outputs the error:</p>

<pre class=""lang-none prettyprint-override""><code>File ""/home/pi/weather_script.py"", line 17
   humidity = sense.get_humidity()
   ^

IndentationError: unexpected indent
</code></pre>

<p>Here is my code:</p>

<pre><code>#!/usr/bin/python
from sense_hat import SenseHat
import time
import sys
from ISStreamer.Streamer import Streamer  

sense = SenseHat()
logger = Streamer(bucket_name=""Sense Hat Sensor Data"", access_key=""MY_ACCESS_KEY"")  
sense.clear()

try:
      while True:
           temp = sense.get_temperature()
           temp = 1.8 * round(temp, 1) + 32
           logger.log(""Temperature F"",temp) 

            humidity = sense.get_humidity()  
            humidity = round(humidity, 1)  
            logger.log(""Humidity :"",humidity)  

            pressure = sense.get_pressure()
            pressure = round(pressure, 1)
            logger.log(""Pressure:"",pressure)

           time.sleep(1)
except KeyboardInterrupt:
      pass
</code></pre>

<p>I replaced my access key with MY_ACCESS_KEY. Please help.</p>
"
77290,1,2018-01-05T08:51:37.073,0,1464,78869,,2018-12-01T04:38:47.620,2018-01-08T17:41:06.730,4,,"<p>I didn't write here before, though i get in often to find solutions for my problems with raspberry, so thanks in advance.</p>

<p>I got the following problem with nRF24L01+ radio breakout board. Here is my configuration</p>

<pre><code>Model: Raspberry B+ rev 1.2
Kernel: 4.9.70+
OS: Raspbian GNU/Linux 8 (Jessie)
</code></pre>

<p><strong>Problem:</strong></p>

<p>Module nRF24L01+ is connected to SPI channel 0:</p>

<pre><code>MOSI -&gt; MOSI
MISO -&gt; MISO
SCK -&gt; SCK
CE0 -&gt; CSN
</code></pre>

<p>I left CE floating on nRF but it doesn't matter until i only try read/write on registers), i use wiringPi (through pip3 it installed well) on Python 3. Simplest commands (avoid syntax error please, i am writing those without reading them on the script, though i don't get syntax errors):</p>

<pre><code>import wiringpi
wiringpi.wiringPiSetupGpio()
wiringpi.wiringPiSPISetupMode(0, speed, 2)

//i wrote speed cause i tried any frequency between 0,5 to 8 MHz

//the 2 is the mode, i will explain soon why i chose 2 though i tried also the others

wiringpi.wiringPiSPIDataRW(0, b'\x00\xff')

//good, it returns two bytes, the right status 0x0e and the right config register value, which is 0x08

wiringpi.wiringPiSPIDataRW(0, b'\x20\x0B')

//try to write config register to go power on and rx mode... weird behavior, it again return correct status but the second byte is 0xe7, there's no reason to have that, it should return 0x00 but i go on

wiringpi.wiringPiSPIDataRW(0, b'\x00\xff')

//try to read back config register to see if it has been changed

//it returns 0x0e status ok but again 0x08 so no, config hasn't been written
</code></pre>

<p>I am debugging it with tests for two days, i will try to say them all but i don't remember everything i guess:</p>

<p>I tired SPI with raspi master and a picMicro as slave, all fine.</p>

<p>I tried SPI with picMicro master and nRF slave with the same procedure of read config register/write 0x0b in it/read back to see changes, all fine, it changes. Here, i found that SPI mode of raspi has to be 2 to interact with the nRF since also the pic has to be set to the same to interact right with nRF, though as i said i tried also other modes. Plus, i noticed on the pic, i had to change the sampling time to middle of clock period instead of the end of it (or the opposite, i don't remember) to make it work.</p>

<p>I tried using spidev with identical results.</p>

<p>I tried using python2 with identical results.</p>

<p>I tried a fresh installation of OS with same results.</p>

<p>I guess those are the noticeable tests to be said. From those i guessed something:</p>

<p>It cannot be a matter of connection (or it won't reply with the right status and config values)</p>

<p>I guess it is a matter of the sampling time point, if true it should be just a matter of sampling on received bits but if i try to write config with the raspi then connect the pic to nRF without turning it off and read config, it hasn't been written by raspi (still returning 0x08) and i don't know how to check it since i didn't find a way to change it on raspi.</p>

<p>I don't have more options, so if someone of you got suggestions, i will be happy to try. Unfortunately at work i don't have enough free time to turn raspi on and check signals with the oscilloscope, it will be much better i am sure, i hope i can in next days.</p>

<p>I know i could use a pic for translation in between raspi and nRF since the micro has 2 SPI and also i2c (tried with success with raspi) but it will be a ""patch"" not a solution and also a bottleneck for communication speed. Thanks for reading my long post and also for future suggestions, hi again,
Alessandro</p>
"
77376,1,2018-01-07T11:10:14.890,0,884,63572,,2018-01-08T04:10:29.980,,1,,"<p>Is this a real raspberry pi 3 B or is it counterfeit?</p>

<p>Hello,</p>

<p>I recently purchased what I believed was a Raspberry Pi 3 B. Now I am suspicious that it may not be.</p>

<p>lscpu shows as below. But Raspberry Pi 3 B is supposed to have armv8, no?</p>

<pre><code>Architecture:          armv7l
Byte Order:            Little Endian
CPU(s):                4
On-line CPU(s) list:   0-3
Thread(s) per core:    1
Core(s) per socket:    4
Socket(s):             1
Model:                 4
Model name:            ARMv7 Processor rev 4 (v7l)
CPU max MHz:           1200.0000
CPU min MHz:           600.0000
BogoMIPS:              38.40
Flags:                 half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm crc32
</code></pre>

<p>Also, the sticker on the board says Raspberry Pi 3 B Copyright 2015. But the RPi3B was released in 2016, no?</p>

<p>Is there a way to confirm if this is a real RPi3B or a counterfeit unit? The box says 3B and there is some kind of 7 digit reference number if I can check that somewhere.</p>

<p>Vesa</p>

<p><img src=""https://i.imgur.com/rf7Cllv.jpg"" alt=""enter image description here""></p>
"
77415,1,2018-01-08T06:18:32.923,-1,408,78677,,2018-01-09T07:22:44.387,,2,,"<p>I have created small normal c++ code to test in raspberry pi which is working perfectly fine on the terminal.Now I want to write it down in qt, the problem here I am facing is I can able to move my functions inside the main function into another function. This is the code:
rotary_encoder.cpp</p>

<pre><code>#include &lt;iostream&gt;

#include &lt;pigpio.h&gt;

#include ""rotary_encoder.hpp""

void re_decoder::_pulse(int gpio, int level, uint32_t tick)
{
  if (gpio == mygpioA) levA = level; else levB = level;

   if (gpio != lastGpio) /* debounce */
   {
     lastGpio = gpio;

     if ((gpio == mygpioA) &amp;&amp; (level == 1))
     {
      if (levB) (mycallback)(1);
  }
  else if ((gpio == mygpioB) &amp;&amp; (level == 1))
  {
     if (levA) (mycallback)(-1);
  }
 }
}

 void re_decoder::_pulseEx(int gpio, int level, uint32_t tick, void *user)
 {
  re_decoder *mySelf = (re_decoder *) user;
  mySelf-&gt;_pulse(gpio, level, tick); 
 }

re_decoder::re_decoder(int gpioA, int gpioB, re_decoderCB_t callback)
{
  mygpioA = gpioA;
  mygpioB = gpioB;

  mycallback = callback;

  levA=0;
  levB=0;

  lastGpio = -1;

  gpioSetMode(gpioA, PI_INPUT);
  gpioSetMode(gpioB, PI_INPUT);

  gpioSetPullUpDown(gpioA, PI_PUD_UP);
  gpioSetPullUpDown(gpioB, PI_PUD_UP);

  gpioSetAlertFuncEx(gpioA, _pulseEx, this);
  gpioSetAlertFuncEx(gpioB, _pulseEx, this);
 }

void re_decoder::re_cancel(void)
{
 gpioSetAlertFuncEx(mygpioA, 0, this);
 gpioSetAlertFuncEx(mygpioB, 0, this);
 }
</code></pre>

<p>rotary_encoder.hpp</p>

<pre><code>#ifndef ROTARY_ENCODER_HPP
#define ROTARY_ENCODER_HPP

#include &lt;stdint.h&gt;

typedef void (*re_decoderCB_t)(int);

class re_decoder
{
   int mygpioA, mygpioB, levA, levB, lastGpio;
   re_decoderCB_t mycallback;
   void _pulse(int gpio, int level, uint32_t tick);
   static void _pulseEx(int gpio, int level, uint32_t tick, void *user);

   public:
   void re_cancel(void);
};

#endif
</code></pre>

<p>test_encoder.cpp</p>

<pre><code>#include &lt;pigpio.h&gt;
#include ""rotary_encoder.hpp""

void callback(int way)
{
   static int pos = 0;
   pos += way;
   std::cout &lt;&lt; ""pos="" &lt;&lt; pos &lt;&lt; std::endl;
}

int main(int argc, char *argv[])
{
   if (gpioInitialise() &lt; 0) return 1;
   re_decoder dec(7, 8, callback);
   sleep(3000);
   dec.re_cancel();
   gpioTerminate();
}
</code></pre>

<p>I have created qt widget project and added rotary_encoder.cpp hpp file but I have a problem with a test_encoder.cpp file. Can anyone suggest something?</p>
"
77459,1,2018-01-09T05:07:14.497,2,776,79076,,2020-05-02T21:03:20.333,,0,,"<p>I am having issues using a microphone in a Node script.</p>

<p>The microphone (a SEEED Array mic) works when running the command line:</p>

<pre><code>arecord -D plughw:1 --duration=10 -f cd -vv ~/rectest.wav
</code></pre>

<p>It does not work, however, when called from a node script:</p>

<pre><code>var record = require('node-record-lpcm16');
var fs = require('fs');

var file = fs.createWriteStream('test.wav', { encoding: 'binary' });

record.start({
    sampleRate : 48000,
    verbose : true,
    source: 'plughw:1',
    recordProgram: 'arecord'
}).pipe(file);
</code></pre>

<p>This sample script runs fine on my mac, but not on my Rpi Zero. </p>

<p>On Rpi Zero have no error message, the file created is empty.</p>

<p>I have tried a number of things (including combinations of source - 1/1,1/1,0/0,1/0,0) but I am having a hard time finding a way to debug.</p>

<p>I have a Speaker Bonnet from Adafruit connected to the RPI (but get the same error when disconnecting it).</p>

<p>I am running node 8.9.3 and have built 'node-record-lpcm16' with no errors.</p>

<p>Any ideas what of what I could be doing wrong or ideas on how to further debug?</p>
"
77626,1,2018-01-12T08:09:29.117,1,1191,78677,,2018-01-12T08:56:53.453,,0,,"<pre><code>#include &lt;iostream&gt;

#include &lt;pigpio.h&gt;

#include ""rotary_encoder.hpp""

void callback(int way)
{
   static int pos = 0;

   pos += way;

   std::cout &lt;&lt; ""pos="" &lt;&lt; pos &lt;&lt; std::endl;
}

int main(int argc, char *argv[])
{
   if (gpioInitialise() &lt; 0) return 1;

   re_decoder dec(7, 8, callback);

   sleep(3000);

   dec.re_cancel();

   gpioTerminate();
}
</code></pre>

<p>rotary_encoder.hpp</p>

<pre><code>#ifndef ROTARY_ENCODER_HPP
#define ROTARY_ENCODER_HPP

#include &lt;stdint.h&gt;

typedef void (*re_decoderCB_t)(int);

class re_decoder
{
   int mygpioA, mygpioB, levA, levB, lastGpio;

   re_decoderCB_t mycallback;

   void _pulse(int gpio, int level, uint32_t tick);

   /* Need a static callback to link with C. */
   static void _pulseEx(int gpio, int level, uint32_t tick, void *user);


   public:

   re_decoder(int gpioA, int gpioB, re_decoderCB_t callback);
   /*
      This function establishes a rotary encoder on gpioA and gpioB.

      When the encoder is turned the callback function is called.
   */

   void re_cancel(void);
   /*
      This function releases the resources used by the decoder.
   */
};

#endif
</code></pre>

<p>rotary_encoder.cpp</p>

<pre><code>#include &lt;iostream&gt;

#include &lt;pigpio.h&gt;

#include ""rotary_encoder.hpp""

void re_decoder::_pulse(int gpio, int level, uint32_t tick)
{
   if (gpio == mygpioA) levA = level; else levB = level;

   if (gpio != lastGpio) /* debounce */
   {
      lastGpio = gpio;

      if ((gpio == mygpioA) &amp;&amp; (level == 1))
      {
         if (levB) (mycallback)(1);
      }
      else if ((gpio == mygpioB) &amp;&amp; (level == 1))
      {
         if (levA) (mycallback)(-1);
      }
   }
}

void re_decoder::_pulseEx(int gpio, int level, uint32_t tick, void *user)
{
   /*
      Need a static callback to link with C.
   */

   re_decoder *mySelf = (re_decoder *) user;

   mySelf-&gt;_pulse(gpio, level, tick); /* Call the instance callback. */
}

re_decoder::re_decoder(int gpioA, int gpioB, re_decoderCB_t callback)
{
   mygpioA = gpioA;
   mygpioB = gpioB;

   mycallback = callback;

   levA=0;
   levB=0;

   lastGpio = -1;

   gpioSetMode(gpioA, PI_INPUT);
   gpioSetMode(gpioB, PI_INPUT);

   /* pull up is needed as encoder common is grounded */

   gpioSetPullUpDown(gpioA, PI_PUD_UP);
   gpioSetPullUpDown(gpioB, PI_PUD_UP);

   /* monitor encoder level changes */

   gpioSetAlertFuncEx(gpioA, _pulseEx, this);
   gpioSetAlertFuncEx(gpioB, _pulseEx, this);
}

void re_decoder::re_cancel(void)
{
   gpioSetAlertFuncEx(mygpioA, 0, this);
   gpioSetAlertFuncEx(mygpioB, 0, this);
}
</code></pre>

<p>Which changes I have to do in test file?</p>

<p>C + pigpio daemon: <a href=""http://abyz.me.uk/rpi/pigpio/examples.html#pdif2_RED"" rel=""nofollow noreferrer"">http://abyz.me.uk/rpi/pigpio/examples.html#pdif2_RED</a></p>
"
77803,1,2018-01-15T15:53:01.930,1,3035,79420,,2018-06-11T12:37:24.047,2018-01-15T19:58:03.753,2,,"<p>Hello i've got a board connected to my raspberry pi 3 and according to the pin set on boot of the raspberry this shield reboot which is problematic. I need to be able to reset the board and control the pin. I cannot add an EEPROM to use the Raspberry shield system, so i tried to add an overlay to the DT to activate the gpio to an high output at boot but it doesn't work.
My overlay:</p>

<pre><code>// Definitions for gpio module 
/dts-v1/;
/plugin/;

/ {
    compatible = ""brcm,bcm2835"", ""brcm,bcm2708"", ""brcm,bcm2709"";

    fragment@0 {
        target-path = ""/"";
        __overlay__ {
            test_board: test_board {
                compatible = ""brcm,bcm2835"";
                pinctrl-names = ""default"";
                pinctrl-0 = &lt;&amp;test_board_pin&gt;;
                gpio-controller;
                gpios = &lt;&amp;gpio 27 0&gt;;//GPIO active high is 0
                default-state = ""keep"";
                non-removable;
                #gpio-cells = &lt;2&gt;;
                status = ""okay"";
            };
        };
    };
    fragment@1 {
        target = &lt;&amp;gpio&gt;;
        __overlay__ {
            test_board_pin: test_board_pin {
                status = ""okay"";
                brcm,pins = &lt;27&gt;;
                brcm,pull = &lt;1&gt;;//pull-down
                brcm,function = &lt;1&gt;; // out 
                output-hight;
            };
        };
    };
};
</code></pre>

<p>I compile it:</p>

<pre><code>dtc -W no-unit_address_vs_reg -@ -I dts -O dtb -o test_board.dtbo gpio-test-overlay.dts
</code></pre>

<p>I add it to the overlay:</p>

<pre><code>sudo cp test_board.dtbo /boot/overlays
</code></pre>

<p>I activate it:</p>

<pre><code>dtoverlay=test_board
</code></pre>

<p>I reboot.
I check that it wok:</p>

<pre><code>dtc -I fs /proc/device-tree &gt; look1.txt

gpio@7e200000 {
        compatible = ""brcm,bcm2835-gpio"";
        gpio-controller;
        #interrupt-cells = &lt;0x2&gt;;
        interrupts = &lt;0x2 0x11 0x2 0x12&gt;;
        phandle = &lt;0xc&gt;;
        reg = &lt;0x7e200000 0xb4&gt;;
        #gpio-cells = &lt;0x2&gt;;
        interrupt-controller;

        i2c1 {
            brcm,pins = &lt;0x2 0x3&gt;;
            phandle = &lt;0x13&gt;;
            brcm,function = &lt;0x4&gt;;
        };

        test_board_pin {
            brcm,pins = &lt;0x1b&gt;;
            status = ""okay"";
            phandle = &lt;0x4b&gt;;
            brcm,pull = &lt;0x1&gt;;
            brcm,function = &lt;0x1&gt;;
            linux,phandle = &lt;0x4b&gt;;
            output-hight;
        };

        spi0_pins {
            brcm,pins = &lt;0x9 0xa 0xb&gt;;
            phandle = &lt;0xd&gt;;
            brcm,function = &lt;0x4&gt;;
        };

        sdhost_pins {
            brcm,pins = &lt;0x30 0x31 0x32 0x33 0x34 0x35&gt;;
            phandle = &lt;0x17&gt;;
            brcm,function = &lt;0x4&gt;;
        };

        uart1_pins {
            brcm,pins;
            phandle = &lt;0x11&gt;;
            brcm,pull;
            brcm,function;
        };

        i2s {
            brcm,pins = &lt;0x12 0x13 0x14 0x15&gt;;
            phandle = &lt;0xb&gt;;
            brcm,function = &lt;0x4&gt;;
        };
aliases {
    intc = ""/soc/interrupt-controller@7e00b200"";
    spi2 = ""/soc/spi@7e2150c0"";
    i2c1 = ""/soc/i2c@7e804000"";
    i2c_vc = ""/soc/i2c@7e205000"";
    spi0 = ""/soc/spi@7e204000"";
    thermal = ""/soc/thermal"";
    vchiq = ""/soc/vchiq"";
    sdhost = ""/soc/sdhost@7e202000"";
    aux = ""/soc/aux@0x7e215000"";
    gpio = ""/soc/gpio@7e200000"";
    audio = ""/soc/audio"";
    dma = ""/soc/dma@7e007000"";
    soc = ""/soc"";
    leds = ""/leds"";
    mmc = ""/soc/mmc@7e300000"";
    serial1 = ""/soc/serial@7e201000"";
    i2c_arm = ""/soc/i2c@7e804000"";
    ethernet = ""/soc/usb@7e980000/usb1@1/usbether@1"";
    uart0 = ""/soc/serial@7e201000"";
    fb = ""/soc/fb"";
    i2c2 = ""/soc/i2c@7e805000"";
    i2s = ""/soc/i2s@7e203000"";
    spi1 = ""/soc/spi@7e215080"";
    usb = ""/soc/usb@7e980000"";
    i2c0 = ""/soc/i2c@7e205000"";
    watchdog = ""/soc/watchdog@7e100000"";
    sound = ""/soc/sound"";
    mailbox = ""/soc/mailbox@7e00b880"";
    uart1 = ""/soc/serial@7e215040"";
    random = ""/soc/rng@7e104000"";
    i2c = ""/soc/i2c@7e804000"";
    serial0 = ""/soc/serial@7e215040"";
};
.......................

test_board {
    gpios = &lt;0xc 0x1b 0x0&gt;;
    compatible = ""brcm,bcm2835"";
    gpio-controller;
    status = ""okay"";
    phandle = &lt;0x4c&gt;;
    #gpio-cells = &lt;0x2&gt;;
    pinctrl-0 = &lt;0x4b&gt;;
    default-state = ""keep"";
    linux,phandle = &lt;0x4c&gt;;
    non-removable;
    pinctrl-names = ""default"";
};
</code></pre>

<p>So the code OVERLAY is well integrated in the DT but the gpio is not exported, and when i export it, i can see that it's not set to output but input.</p>

<p>Can you help me to activate my GPIO?</p>

<p>thanks,</p>
"
77860,1,2018-01-16T20:16:03.557,1,16545,79491,,2019-05-01T20:19:14.263,2018-01-17T06:54:32.130,7,,"<p>I set up an home server using my Raspberry Pi 3 Model B. This server is accessed from Linux distros, Mac OS, and Windows on the local network. I've chosen to set up the server using the smb protocol. </p>

<p>Now I'm connecting to it using my ubuntu laptop mounting it using smb vers 3.0. The download rate is about 1 MByte/s, which seems a bit slow to me, since the ethernet port should allow up to 100 Mbit/s.</p>

<p>Is there something I could do to increase the transfer rate?</p>

<hr>

<p>EDIT: I'm using an external hard drive connected via USB (which should not be the bottleneck, though) formatted as ext4</p>
"
77875,1,2018-01-17T06:44:58.547,1,10777,79505,,2020-12-12T03:08:50.853,2018-01-19T20:14:06.557,11,,"<p>EDIT: This is a brand-new Pi 3 board running raspbian </p>

<p>I just got my Pi, and for whatever reason I can't access the Internet. Ethernet will try and configure forever, and when I try to connect to WiFi, the connection breaks down entirely. I'm at university, so all wireless access points and all Ethernet ports go back to the school network. I think that might have something to do with it, but all of my other devices connect to my roommate's wireless router (connected to the school network) just fine, and the old Dell desktop I have, on which I installed Xfce for kicks, connects via Ethernet just fine.</p>

<p>No matter what network I try to connect to, the same things happen. Here's the information I have:</p>

<ul>
<li>As soon as I boot up the Pi, I shut off WiFi. If I let it try and connect, nothing will happen. If I turn WiFi off and then turn it back on, everything goes to dirt.</li>
<li>On the Ethernet port, there are two lights: one is solid amber and the other is flashing green</li>
<li><p>The up/down arrows on the network/Internet icon on the taskbar are flashing blue. The icon stays that way. When I hover over it, the following is displayed ('Kisha's Wifi' is my roommate's network's SSID):</p>

<pre><code>eth0: Link is up, configuring
wlan0: Disassociated from Kisha's Wifi
</code></pre></li>
<li><p>Here's what I see when I run <code>ifconfig -a</code>:</p>

<pre><code>pi@raspberrypi:~$ ifconfig -a
eth0:  flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 150
     inet 192.168.1.84  netmask 255.255.255.0  broadcast 192.168.1.255
     inet6 fe80::ba27::ebff:feb3:7ece prefixlen 64  scopeid 0x20&lt;link&gt;
     ether b8:27:eb:b3:7e:ce  txqueuelen 1000  (Ethernet)
     RX packets 2926  bytes 451348 (440.7 KiB)
     RX errors 0  dropped 5  overruns 0  frame 0
     TX packets 41  bytes 7435 (7.2 KiB)
     TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo:  flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
     inet 127.0.0.1  netmask 255.0.0.0
     inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
     loop  txqueuelen 1  (Local Loopback)
     RX packets 0  bytes 0 (0.0 B)
     RX errors 0  dropped 0  overruns 0  frame 0
     TX packets 0  bytes 0 (0.0 B)
     TX errors 0 dropped 0 overruns 0  carrier 0  collisions 0

wlan0:  flags=4098&lt;BROADCAST,MULTICAST&gt;  mtu 1500
     ether b8:27:eb:e6:2b:9b  txqueueln 1000  (Ethernet)
     RX packets 13  bytes 2360 (2.3 KiB)
     RX errors 0  dropped 0  overruns 0  frame 0
     TX packets 31  bytes 4671 (4.5 KiB0
     TX errors 0  dropped 0 overruns 0  carrier 0 collisions 0

pi@raspberrypi:~$
</code></pre></li>
<li>So, I try to pull a webpage. I get the 'This site can't be reached' message, with the error <code>ERR_NAME_RESOLUTION_FAILED</code></li>
<li><p>When I try to ping <code>www.google.com</code>, nothing happens. Then I ping the loopback. Stuff happens:</p>

<pre><code>pi@raspberrypi:~$ ping www.google.com
ping: www.google.com: Temporary failure in name resolution
pi@raspberrypi:~$ ping 127.0.0.1
PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.107ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.107ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.111ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.104ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.103ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.106ms
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.105ms
^C
--- 127.0.0.1 ping statistics ---
7 packets trasmitted, 7 received, 0% packet loss, time 6230ms
rtt min/avg/max/mdev = 0.103/0.107/0.115/0.011 ms
pi@raspberrypi:~$
</code></pre></li>
<li>So, I turn WiFi back on, and select my roommates SSID. As soon as I make the selection, the arrows in the network/Internet icon go gray with a little red 'x' on the end of each arrow. Now, the dropdown menu for the network/Internet icon reads <code>No wireless interfaces found</code></li>
<li><p>I run <code>ifconfig -a</code> again, for good measure:</p>

<pre><code> pi@raspberrypi:~$ ifconfig -a
 eth0:  flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 150
      inet 192.168.1.84  netmask 255.255.255.0  broadcast 192.168.1.255
      inet6 fe80::ba27::ebff:feb3:7ece prefixlen 64  scopeid 0x20&lt;link&gt;
      ether b8:27:eb:b3:7e:ce  txqueuelen 1000  (Ethernet)
      RX packets 27469  bytes 3393710 (3.8 MiB)
      RX errors 0  dropped 40  overruns 0  frame 0
      TX packets 79  bytes 19422 (18.9 KiB)
      TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo:  flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
     inet 127.0.0.1  netmask 255.0.0.0
     inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
     loop  txqueuelen 1  (Local Loopback)
     RX packets 14  bytes 1176 (1.1 KiB)
     RX errors 0  dropped 0  overruns 0  frame 0
     TX packets 14  bytes 1176 (1.1 KiB)
     TX errors 0 dropped 0 overruns 0  carrier 0  collisions 0

wlan0:  flags=4098&lt;BROADCAST,MULTICAST&gt;  mtu 1500
     ether b8:27:eb:e6:2b:9b  txqueueln 1000  (Ethernet)
     RX packets 15  bytes 2614 (2.5 KiB)
     RX errors 0  dropped 1  overruns 0  frame 0
     TX packets 36  bytes 5297 (5.1 KiB)
     TX errors 0  dropped 0 overruns 0  carrier 0 collisions 0

pi@raspberrypi:~$       
</code></pre></li>
<li><p>When I hover over the icon again, another message is displayed, this time reading:</p>

<pre><code>dhcpcd not running
</code></pre></li>
<li><p>I read somewhere that I could restart dhcpcd with <code>sudo dhcpcd</code>, so I try that:</p>

<pre><code>pi@raspberrypi:~$ sudo dhcpcd
unknown option: SSID
unknown option: SSID
unknown option: SSID
control_open: Connection refused
unknown option: SSID
unknown option: SSID
unknown option: SSID
unknown option: SSID
unknown option: SSID
unknown option: SSID
wlan0: starting wpa_supplicant
wlan0: waiting for carrier
wlan0: carrier acquired
unknown option: SSID
unknown option: SSID
unknown option: SSID
Segmentation fault
pi@raspberrypi:~$
</code></pre></li>
</ul>

<p>That's it. No matter what access point I try, whether wireless or wired, nothing changes. It always ends the same way. Maybe there's some kind of DNS issue? But would that be on my side or the school's? How would I figure that out? How could I approach fixing it? Why would that break my ability to access the <code>Wired &amp; Wireless Settings</code> window, or to view any WiFi access points?</p>

<p>Any help would be really appreciated.</p>

<p>EDIT 2: Here is the output for <code>route -n</code>:</p>

<pre><code>    pi@raspberrypi:~$ route -n
    Kernel IP routing table
    Distination     Gateway         Genmask         Flags Metric Ref    Use Iface
    192.168.1.0     0.0.0.0         255.255.255.0   U     202    0        0 eth0
    pi@raspberrypi:~$
</code></pre>
"
78136,1,2018-01-22T09:32:07.877,0,285,77244,,2018-01-25T01:00:50.077,2018-01-25T01:00:50.077,0,,"<p>Using the pigpio library, I wanted to detect when a button is pressed and turn on/off an LED. I am trying to use the gpioSetAlertFunc function to trigger the LED when the button is detected as pressed. But when I press the button, the LED does not light up. Am I using gpioSetAlertFunc function wrongly? I used the circuit (pins different) similar to this: <a href=""https://www.sunfounder.com/learn/Super_Kit_V2_for_RaspberryPi/lesson-2-controlling-an-led-by-a-button-super-kit-for-raspberrypi.html"" rel=""nofollow noreferrer"">https://www.sunfounder.com/learn/Super_Kit_V2_for_RaspberryPi/lesson-2-controlling-an-led-by-a-button-super-kit-for-raspberrypi.html</a></p>

<pre><code>#include &lt;pigpio.h&gt;
#include &lt;stdio.h&gt;

static int LED_gpio = 14;
static int Button_gpio = 21;

void triggerLED(int gpio, int level, uint32_t tick)
{
    if (gpioRead(LED_gpio) == 0)
        gpioWrite(LED_gpio, 1);
    else
    gpioWrite(LED_gpio, 0);
}


int main(void)
{
    int status = gpioInitialise();

    if (status &gt; 0)
    {
        gpioSetMode(LED_gpio, PI_OUTPUT);
        gpioSetMode(Button_gpio, PI_INPUT);

        gpioSetAlertFunc(Button_gpio, triggerLED);

        while (1)
        {
        } 
    }
    gpioTerminate();

}
</code></pre>
"
78346,1,2018-01-26T01:08:58.223,0,1509,78660,,2018-01-27T04:11:37.180,,0,,"<h1>Situation</h1>

<p><code>DHT11</code> doesn't work on <code>raspberry pi 3 stretch</code>.  </p>

<p><img src=""https://i.stack.imgur.com/p17Aj.jpg"" alt=""DHT11""></p>

<p>This is my DHT11, and my connection is:  </p>

<pre><code>DHT11   &lt;-&gt;   Rasp3  
VCC    &lt;-&gt;   5V  
GND    &lt;-&gt;   GND  
DOUT   &lt;-&gt;   Pin#7 (GPIO 4)
</code></pre>

<p>and my code is on <a href=""https://pastebin.com/1UM8WXfG"" rel=""nofollow noreferrer"">here</a> </p>

<p>and the results from the code are always </p>

<blockquote>
  <p>Data not good, skip</p>
</blockquote>

<hr>

<p>I confirmed <strong>there's no error on <code>DHT11</code> module.</strong><br>
I tested on <code>Arduino Uno</code>, it worked well.</p>

<p>How can I solve this?</p>

<p>ps.There's an ADC Converter <code>MCP3208</code> on my circuit, which I suspect to be the cause of error.</p>
"
78351,1,2018-01-26T03:01:47.700,2,4172,79988,,2018-01-26T19:48:30.270,2018-01-26T14:46:45.933,0,,"<p>I'm novice about homebridge.</p>

<p>I managed to run it with no errors on a Raspberry Pi 3 and ""homebridge-lifx"" plug in runs like a charm!</p>

<p>Now I need to find out how the plugin ""homebridge-ifttt-webhooks"" works. I read ""README.md"" but I cannot understand how this works. What I want to do is to appear a new HomeKit button on my iPhone and when I push it, I want to trigger a webhooks link e.g. </p>

<pre><code>""maker.ifttt.com/trigger/heat_on/with/key/fVi8awmhXVDTwIxxxxxxxxxvj1Pxtw"" 
</code></pre>

<p>which triggers an IFTTT recipe. 
Can someone please help me with the steps? What should I do to make plug in work?
Your help is really appreciated!</p>
"
78411,1,2018-01-27T18:50:25.760,2,9132,44889,,2018-06-18T18:36:57.440,,0,,"<p>I have a Raspberry Pi running Openmediavault and I need to expand the main partition as I’m running out of space.</p>

<p>I’ve got a 2013 i7 (64bit) MacBook and I’ve been trying to boot GParted from a usb stick but it keeps crashing. The GParted iso that I used is the AMD64 version (as the Mac is 64bit) - I get through most of the menus but it doesn’t launch the program.</p>

<p>Has anyone got any advice for using GParted on a Mac?</p>

<p>Is there another way to change the partition on the RPi SD?...I have other RPi’s running but I haven’t got a usb card reader.</p>

<p>I do have the option of borrowing a PC laptop from work but I’m not sure if that has an SD reader.</p>
"
78455,1,2018-01-28T18:59:02.090,1,1161,80101,,2019-09-28T06:01:05.137,,0,,"<p>I am building a project wherein I'll be controlling four servos using the Raspberry Pi 3. I wanted to control each pair of servos simultaneously (as in, when one servo is moving to a specified angle, the other servo will also move to a different specified angle). Not concurrent control, but parallel control. Is this possible? How would I go about it?</p>

<p>Also, can I achieve non-jittery servo control without the need for an external hardware controller?</p>
"
78726,1,2018-02-02T13:10:36.603,0,101,61400,,2021-02-15T17:00:25.567,,0,,"<p>I am trying to play a random amount of random audio files over PIFM using node.js </p>

<pre><code>// A function that will let me call and play one random audio file. 

function audio1(){

var child_process = require(""child_process"") //calls child process 

//These are my 9 audio wavs that will play one after the other on pi2fm
var ran1 = child_process.execSync(""sudo -E /Path/to/pi2fm audio1.wav 103.50""); 
var ran2 = child_process.execSync(""sudo -E /Path/to/pi2fm audio2.wav 103.50"");
var ran3 = child_process.execSync(""sudo -E /Path/to/pi2fm audio3.wav 103.50"");
var ran4 = child_process.execSync(""sudo -E /Path/to/pi2fm audio4.wav 103.50"");
var ran5 = child_process.execSync(""sudo -E /Path/to/pi2fm audio5.wav 103.50"");
var ran6 = child_process.execSync(""sudo -E /Path/to/pi2fm audio6.wav 103.50"");
var ran7 = child_process.execSync(""sudo -E /Path/to/pi2fm audio7.wav 103.50"");
var ran8 = child_process.execSync(""sudo -E /Path/to/pi2fm audio8.wav 103.50"");
var ran9 = child_process.execSync(""sudo -E /Path/to/pi2fm audio9.wav 103.50"");

function randomFrom(array) {return array[Math.floor(Math.random() * array.length)];} // this creates a function (randomFrom()) that selects a random variable in array 

var ranAudio = [ran1, ran2, ran3, ran4, ran5, ran6, ran7, ran8 ,ran9]; //this is my array of variable containg execution of audio on Pi2fm


randomFrom(ranAudio).call(); // feeds ranAudio to randomFrom() 

}

//calls audio1();
audio1();
</code></pre>

<p>with the above code the files are playing one after another (I don't want this). And then when it gets to randomFrom() where I would expect one of the files to play randomly I am getting the following error:</p>

<pre><code>randomFrom(ranAudio).call();
                     ^

TypeError: randomFrom(...).call is not a function
</code></pre>

<p>To clarify, I just want a random amount of audio files (1- 9) to play, however, so far I can not get even one random file to play.</p>

<p>Any suggestions, appreciated etc. </p>
"
78751,1,2018-02-02T22:26:05.490,5,13380,60647,,2018-02-04T14:17:58.770,2018-02-04T14:17:58.770,3,,"<p>I know there are many, many threads on this, but hear me out before marking it as a duplicate.</p>

<p>On an Raspberry Pi running stretch</p>

<p>installed mysql</p>

<pre><code>sudo apt-get install mysql-server
</code></pre>

<p>No errors</p>

<pre><code>pi@raspberrypi:~ $ mysql -u root

ERROR 1698 (28000): Access denied for user 'root'@'localhost'
</code></pre>

<p>Then I tried</p>

<pre><code>pi@raspberrypi:~ $ mysql_secure_installation

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB 
SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY!

In order to log into MariaDB to secure it, we'll need the current password 
for the root user. If you've just installed MariaDB, and you haven't set the 
root password yet, the password will be blank, so you should just press 
enter here.

Enter current password for root (enter for none):

ERROR 1698 (28000): Access denied for user 'root'@'localhost'

Enter current password for root (enter for none):
</code></pre>

<p>Now I had pressed enter, no password which should be the case since it is a brand new install.</p>

<p>Now, If I run the same install script with sudo</p>

<pre><code>pi@raspberrypi:~ $ sudo mysql_secure_installation

NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MariaDB 
SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY!

In order to log into MariaDB to secure it, we'll need the current password 
for the root user. If you've just installed MariaDB, and you haven't set the 
root password yet, the password will be blank, so you should just press 
enter here.

Enter current password for root (enter for none): OK, successfully used 
password, moving on...

Setting the root password ensures that nobody can log into the MariaDB root 
user without the proper authorisation.

Set root password? [Y/n]
</code></pre>

<p>again, I used not password, just pressed enter</p>

<p>And I can continue Down through setting up new password, disabling remote login, etc.</p>

<p>However when it is all done, and I try and log in....</p>

<pre><code>Reload privilege tables now? [Y/n] Y ... Success!

Cleaning up...

All done! If you've completed all of the above steps, your MariaDB 
installation should now be secure.

Thanks for using MariaDB! pi@raspberrypi:~ $ mysql -u root -p Enter 
password: ERROR 1698 (28000): Access denied for user 'root'@'localhost'

pi@raspberrypi:~ $
</code></pre>

<p>I am sure I used the correct password (and have actually gone through this process a couple times).</p>

<p>I can login to mysql with just sudo any no password, but this does not solve the problem of needing non sudo access.</p>

<pre><code>pi@raspberrypi:~ $ sudo mysql Welcome to the MariaDB monitor. Commands end 
with ; or \g. Your MariaDB connection id is 26 Server version: 10.1.23-
MariaDB-9+deb9u1 Raspbian 9.0

Copyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input 
statement.

MariaDB [(none)]&gt;
</code></pre>

<p>I have gone through other examples of how to reset the password (--skip-grant-tables and such) with no luck. But even still I don't really want to RESET any passwords, I am starting with a fresh installation.</p>

<p>I had seen somewhere that the default login for root wasn't any password, but was authenticated via a socket connection, but I have not been able to find out more about that.</p>
"
78955,1,2018-02-07T16:51:16.603,3,3529,80630,,2018-06-15T15:49:20.707,,0,,"<p>I have an old NAS (Xtreamer eTrayz) which does not have DLNA server. It is not supported anymore (the manufacturer does not exist, there is no community, all download links are broken), and I can't install any software on it (not with my level on embeded Linux knowledge at least)</p>

<p>Now I want to serve media to my TV, so figured out I need to get hardware media player which would act as DLNA server and take the files from my NAS.</p>

<p>Can Raspberry Pi play this role? I know that it's possible to use it as DLNA server serving media from attached flash drive, but it it possible for it to serve media from network storage?</p>
"
79127,1,2018-02-12T13:59:54.913,0,1085,76944,,2018-02-12T14:11:12.503,,0,,"<p>I'm trying to communicate with MCP3008 ADC via SPI using ""pigpio"" library. Basically I'm trying to read an IR Sensor and I've managed to do it manually by sending the required signals but I can only read distances from 5 to 15 cm instead of 5 to 30 cm (I already tested in Arduino and It works fine), so I'm trying another approach. The only problem I have is that in ""pigpio"" we have the <em>spiXfer()</em> function to read and write from/to the ADC but I don't understand how the rxBuf and txBuf works, since they are char types.
I would appreciate some help in how to read and write the bytes needed for this communication between the RPi and the ADC. </p>
"
79186,1,2018-02-13T18:50:15.123,0,1257,79902,,2020-08-10T22:06:35.650,,4,,"<p>Every audio engine I've tried (SoLoud, cAudio, openal-soft) hasn't worked on my pi zero. I just want to be able to play audio in a program without too much hassle. I can use a system call like system(""aplay sound.wav"") but system() calls are expensive and supposedly a security problem. Are there any alternatives to using a system call that I can use without being a major hassle? Thanks</p>
"
79251,1,2018-02-15T04:13:55.147,1,4425,80966,,2018-08-16T14:25:52.987,2018-04-17T13:15:29.770,0,,"<p>I need some help with Can4Python/SocketCAN with Raspberry Pi. Currently, I am using <a href=""http://copperhilltech.com/pican2-controller-area-network-can-interface-for-raspberry-pi/"" rel=""nofollow noreferrer"">PiCAN2</a>. </p>

<p>What I want to do is upon receiving a particular signal from transmitter, I would like to turn on/off LED (ON for signal value x and OFF for signal value y) connected to GPIO of Raspberry. </p>

<p>Currently, I am able to do basic operation like send CAN messages, Receive it, working on KCD files. I have written a code which sends CAN signals in some interval (Broadcast) on <code>vcan0</code>. My question is how to receive those signal continuously? I am only able to find <code>from_kcd_files</code> method which allows me to read signal from kcd files. I want to receive signals in real-time ie. signal coming on can0 or can1. </p>

<p>I am new to this field so I am little bit confused too.!! Any guidance or help would be appreciated. Thanks</p>
"
79598,1,2018-02-22T21:03:32.087,5,8702,81068,,2019-12-08T22:39:04.420,2018-03-01T08:31:00.443,1,,"<p>If so, how? I'm using Raspbian Stretch.
I looked in the Openbox config manager and keyboard and mouse configuration.
I would like to move the pointer without a mouse using the arrow keys.</p>
"
80052,1,2018-03-07T20:59:54.200,0,407,82005,,2020-05-29T20:01:10.197,,1,,"<p>I have a Raspbian image (4.9.59-v7) into which I am loading a kernel module that I have built myself since it is not in the default image (for an ICS43432 MEMS I2S microphone).</p>

<p>I have this working without issue on a Raspberry Pi B+; my module <code>snd_soc_ics43432</code> is listed as present after boot by <code>lsmod</code> and I know it runs correctly 'cos I can record stuff.  I've also modified the <code>boot</code> and <code>rootfs</code> partitions on this SD card to run read-only in preparation for using it in an environment where I have little control over the power supply. Hence the disk image is a <strong>fixed</strong> thing.</p>

<p>I have now plugged the same SD card into a Pi Zero W and it works there EXCEPT that it is unable to load the ICS43432 module.  During boot it says:</p>

<p><code>systemd-modules-load[92]: Failed to find module 'snd-soc-ics43432'</code></p>

<p>...and if I use <code>insmod</code> to manually insert the module I get:</p>

<p><code>ERROR: could not insert module sound/soc/codecs/snd-soc-ics43432.ko: Invalid module format</code></p>

<p>Running <code>sudo modinfo</code> on this module file returns:</p>

<p><code>vermagic: 4.9.59-v7+ SMP mod_unload modversions ARMv7 p2v8</code></p>

<p>...which looks correct to me, and indeed it has to be since the goldarned SD card is read-only.</p>

<p>So what gives? Is there a difference between the Broadcom chips on the Pi Zero W versus the Pi B+ that would cause this?  Or is it some sort of timing race condition?  Any help/advice is appreciated.</p>
"
80169,1,2018-03-10T20:21:59.900,0,1151,37514,,2018-03-12T07:38:53.350,2018-03-12T07:31:30.093,0,,"<p>I'm trying to read the <a href=""https://de.wikipedia.org/wiki/Extended_Display_Identification_Data"" rel=""nofollow noreferrer"">EDID</a> information from my BenQ W1070 projector which is connected to my Raspberry Pi via HDMI.</p>

<p>I have every generation/version of Raspis available, but am currently testing on my Raspberry 3 B. 
I'm on <code>Raspbian GNU/Linux 8 (jessie)</code>.</p>

<p>I'm tried several ways of reading the EDID, each failed, probably because I don't see any i2c devices in <code>/dev/i2c...</code>:</p>

<p>1.) tvservice:</p>

<pre><code>root@pithree:~# tvservice -d dump
Nothing written!
</code></pre>

<hr>

<p>2.) get-edid from the edid-tools package:</p>

<pre><code>root@pithree:~# get-edid
This is read-edid version 3.0.1. Prepare for some fun.
Attempting to use i2c interface
Looks like no busses have an EDID. Sorry!
I'm sorry nothing was successful. Maybe try some other arguments
if you played with them, or send an email to Matthew Kern &lt;pyrophobicman@gmail.com&gt;.
</code></pre>

<p>i2c-dev module is loaded:</p>

<p><code>root@pithree:~# lsmod | grep i2c
i2c_dev                 6913  0</code></p>

<hr>

<p>3.) Since I see no i2c bus, <code>i2cdetect</code> from i2c-tools and tools like <code>https://github.com/bulletmark/edid-rw</code> are also not working. (no <code>/dev/i2c</code>...)</p>

<hr>

<p>4.) I tried getting the EDID information from the i2c EEPROM data, but this also failed: No devices or other data under <code>/sys/bus/i2c/devices</code>.
(Some pages explain that under this path there should be the EEPROM data accessible, e.g. <code>/sys/bus/i2c/devices/3-0050/eeprom</code>, but I don't see anything here. Yet I was not able to find and load the eeprom module (via <code>modprobe eeprom</code> - maybe somebody has some hints where the eeprom module comes from?)).</p>

<hr>

<p>Can anybody point me to the reason why all the above is failing for me? Or any other pointers how to completely read the EDID data of my projector?</p>
"
80219,1,2018-03-11T21:56:12.800,2,1621,35753,,2020-09-26T09:41:34.323,2018-03-14T08:34:12.813,6,,"<p>I am writing a data logging python script and I would like it to find out if the system clock has been synchronized via NTP recently, and if not, to attempt to cause it to happen before proceeding.</p>

<p>Starting from <a href=""https://askubuntu.com/a/256004/804741"">this answer</a>, I've found that for the status</p>

<pre><code>os.system('sudo service ntp status')
</code></pre>

<p>will display the results on the console, but I don't know how I can get the python script to see if ntp is active or not, since this call returns only <code>0</code>.</p>

<p>I could always just force a reset even if not needed using </p>

<pre><code>os.system('sudo service ntp stop')
os.system('sudo ntpd -gq')
os.system('sudo service ntp start')
</code></pre>

<p>but it seems like a bad idea to do that if it wasn't necessary.</p>

<p><strong>edit:</strong> using Raspbian GNU/Linux 8 (jessie)</p>

<p><strong>Question:</strong> How can I test the status and then conditionally force a synchronization only if needed?</p>

<p><a href=""https://raspberrypi.stackexchange.com/a/70875/35753"">This answer</a> suggests the package <code>ntplib</code> <a href=""https://pypi.python.org/pypi/ntplib/"" rel=""nofollow noreferrer"">https://pypi.python.org/pypi/ntplib/</a> but I'm not sure if this is advisable or not, so I thought I'd ask before installing and running it, and I'd still have to guess the status by comparing the results to the system clock and deciding if the agreement were good enough or not. I'd still like to know if ntp is active and that it believes the synchronization is close.</p>
"
81465,1,2018-03-17T21:05:08.843,0,1000,83526,,2019-08-24T09:00:38.137,2018-03-18T08:54:21.767,0,,"<p>I need a mouse on old dos 486dx4 computer. This computer has a RS232 port only.
I want a general solution to use usb mice on rs232 port.</p>

<p>I'm new to raspberry capabilities, I'm asking if is possible to connect an usb mouse to raspberry, read, convert the protocol, and output with UART.
The UART will be connected to the old 486 dos computer.</p>

<p>Is possible or there are some particular issues ?</p>

<p>Thanks in advance</p>

<p>Luke</p>
"
81470,1,2018-03-17T22:27:41.990,0,358,82473,,2019-08-15T11:53:58.487,,0,,"<p>I recently bought a PIR Motion Sensor and wrote a java program which prints in the console whenever movement is detected. I connected the pins properly, and the signal to GPIO_17 according to the BCM numbering scheme. Here's my code:</p>

<pre><code>import com.pi4j.io.gpio.*;
import com.pi4j.io.gpio.event.GpioPinListenerDigital;
import com.pi4j.io.gpio.event.GpioPinDigitalStateChangeEvent;

public class Main {

    public static void main(String[] args) {

        GpioFactory.setDefaultProvider(new RaspiGpioProvider(RaspiPinNumberingScheme.BROADCOM_PIN_NUMBERING));
        GpioController gpio = GpioFactory.getInstance();
        GpioPinDigitalInput motionDetector = gpio.provisionDigitalInputPin(RaspiBcmPin.GPIO_17, ""motionDetector"", PinPullResistance.PULL_DOWN);


        System.out.println(""Motiondetector started."");

        motionDetector.addListener(new GpioPinListenerDigital() {

            @Override
            public void handleGpioPinDigitalStateChangeEvent(GpioPinDigitalStateChangeEvent event) {
                System.out.println(""State changed"");
            }

        });

        while(true) {

            try {
                Thread.sleep(50);
            } catch (Exception e) {
                e.printStackTrace();
            }


        }

    }

}
</code></pre>

<p>This code should print the text ""State changed"" in the console whenever I move my hand in front of it, but for some reason nothing happens. But when I add this code to the while loop,</p>

<pre><code>System.out.println(motionDetector.getState());
</code></pre>

<p>It does print high every 50 milliseconds whenever I move my hand and low when nothing moves. So for some reason the event doesn't trigger. Can anybody tell me why this happens, and how I can solve it?</p>
"
81687,1,2018-03-22T12:07:39.243,1,287,66952,,2019-01-08T07:27:19.077,2018-03-25T11:37:08.603,1,,"<p>when I tried to tvservice -e ""CEA 16"", the TV's screen always black-out.</p>

<p>Whether the option is not supported or is it a bug. I am currently, running RASPBIAN NON-NOOBS and running 4.8.16 kernel. Will upgrading to a new kernel can solve this issue.</p>

<p>I tried for long time that I could not able to figure out, my requirement is to set the Screen resolution during runtime( i.e, hotplugging different monitor's or screen)</p>

<p>Any information is of a great help.  </p>
"
81691,1,2018-03-22T12:46:54.000,2,1004,83532,,2019-02-11T18:58:58.103,,3,,"<p>I'm trying to enable a GPIO pin on raspberry pi 3 B using assembly. I tried to do the same on raspberry pi 1 and it worked, also it worked when I used raspbian command to enable it and then I tried interpreting the Rpi 1 code to Rpi 3 B but it wouldn't work. here is my code</p>

<pre><code>.section "".text.boot""

.global _start

_start:
    ldr X0,=0x3F200000 
    mov X1,#1
    lsl X1,X1,#12
    str X1,[X0,#4]
    mov X1,#1
    lsl X1,X1,#14
    str X1,[X0,#40]
1:  wfe
    b       1b
</code></pre>

<p>Also should the kernel image be named 'kernel8.img'</p>

<p>N.B. I'm trying to enable pin 14 with this code</p>
"
81715,1,2018-03-23T04:12:38.013,1,3245,81344,,2020-03-03T22:49:28.327,2018-03-23T04:22:13.210,2,,"<p>i am having a very hard time finding a purely C program for the Raspberry Pi and the 4x4 membrane matrix keypad. i can find python, c#, stamp, c++ and a couple java. however, C is completely missing from my 1/2 day's worth of google'ing. </p>

<p>any help would be greatly appreciated.</p>

<p>thanks.</p>
"
81811,1,2018-03-25T17:19:51.070,0,286,83962,,2021-02-14T14:06:55.760,2018-03-25T17:52:26.113,1,,"<p>I have a project in which an Arduino is reading a sensor and printing that value to the serial port. When connected to the serial monitor in the Arduino IDE on my PC, the data is printed flawlessly.</p>

<p>I wrote a script in Python on my Raspberry Pi to essentially work as a serial monitor but it is not behaving properly. When I run the script it starts printing the first data it gets, but won't change. So for instance if my sensor is at 0 when the script starts, the Pi will just keep printing zero forever, even when the value changes. If the sensor is at 540, it will keep returning 540 forever, and so on. </p>

<p>It is printing the values b'993\r\n' and so on but it's almost like it's not registering the newline. Although sometimes it'll keep printing values around the original value, i.e. 993, 994,990,992,993,etc.</p>

<p>Here is the code on my Pi:</p>

<pre class=""lang-py prettyprint-override""><code>import serial
import time
ser = serial.Serial('/dev/ttyUSB1',9600)

while True:
    print(ser.readline())
    time.sleep(0.1)
</code></pre>

<p>I have to believe the issue is with the pi since the Arduino communicates to the serial monitor in the IDE fine. I think the issue is that it's not recognizing the EOL characters and so it gets stuck reading the same line, but that's just a guess. Not to mention, if that is the case, I am unsure how to fix that!</p>

<p>I am running an Adafruit Metro Mini, Raspberry Pi 3B, Python 3.5.3 .</p>
"
81876,1,2018-03-26T21:22:16.743,5,18642,81947,,2020-05-04T23:21:37.133,,1,,"<p>Im trying to get my Pi to take input from an IR remote using lirc. But it is not working. Ive tried a few different tutorials <a href=""https://www.youtube.com/watch?v=ymFO0oFyXA4"" rel=""noreferrer"">like this one</a> that basically did the same thing.</p>

<p><a href=""https://i.stack.imgur.com/unjjJ.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/unjjJ.png"" alt=""""></a></p>

<p>One problem here is the the Pi couldnt find /etc/init.d/lirc, so i could not stop it. The test (mode2 -d /dev/lirc0) also fails, it does not tell me anything.</p>

<p>Under /boot/config.txt I have</p>

<pre><code>dtoverlay=lirc-rpi,gpio_in_pin=17
</code></pre>

<p>hardware.conf is</p>

<pre><code># /etc/lirc/hardware.conf
#
# Arguments which will be used when launching lircd
LIRCD_ARGS=""--uinput""

# Don't start lircmd even if there seems to be a good config file
# START_LIRCMD=false

# Don't start irexec, even if a good config file seems to exist.
# START_IREXEC=false

# Try to load appropriate kernel modules
LOAD_MODULES=true

# Run ""lircd --driver=help"" for a list of supported drivers.
DRIVER=""default""
# usually /dev/lirc0 is the correct setting for systems using udev
DEVICE=""/dev/lirc0""
</code></pre>

<p>Also the wiring is like this
<a href=""https://i.stack.imgur.com/kBBsl.jpg"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/kBBsl.jpg"" alt=""enter image description here""></a></p>
"
82288,1,2018-04-04T18:48:41.140,5,1818,84548,,2018-05-19T14:01:35.087,2018-04-04T21:30:48.353,1,,"<p>I've been running into issues trying to get a RPi 3B PXE booting - the Pi doesn't appear to make any TFTP request once it receives a DHCP response, but instead remakes the BOOTP request. This might indicate that it thinks the response is invalid in some way?</p>

<p>I have a DHCP server on <code>192.168.2.1</code> (Kea DHCP), and a TFTP server on a different host (<code>192.168.2.2</code>). I can manually pull files from the TFTP server, and see that in the TFTP log. I'm aware that I've got to set option 60 to <code>PXEClient</code>, option 67 to the TFTP address and option 43 should contain <code>Raspberry Pi Boot</code>. Using <code>dhcpdump -i eth0.2 -h b8:27:eb:bf:db:dd</code>, this is the DHCP response being sent. Any obvious issues that would cause the Pi to reject it?</p>

<pre><code>  TIME: 2018-04-03 18:10:15.501    
    IP: 0.0.0.0 (b8:27:eb:bf:db:dd) &gt; 255.255.255.255 (ff:ff:ff:ff:ff:ff)                                                                                                                                                                      
    OP: 1 (BOOTPREQUEST)          
 HTYPE: 1 (Ethernet)                  
  HLEN: 6                   
  HOPS: 0            
   XID: 26f30339                    
  SECS: 0             
 FLAGS: 0                  
CIADDR: 0.0.0.0           
YIADDR: 0.0.0.0           
SIADDR: 0.0.0.0                          
GIADDR: 0.0.0.0
CHADDR: b8:27:eb:bf:db:dd:00:00:00:00:00:00:00:00:00:00
 SNAME: .
 FNAME: .
OPTION:  53 (  1) DHCP message type         1 (DHCPDISCOVER)
OPTION:  55 ( 12) Parameter Request List     43 (Vendor specific info)
                                             60 (Vendor class identifier)
                                             67 (Bootfile name)
                                            128 (???)
                                            129 (???)
                                            130 (???)
                                            131 (???)
                                            132 (???)
                                            133 (???)
                                            134 (???)
                                            135 (???)
                                             66 (TFTP server name)

OPTION:  93 (  2) Client System             0000             ..
OPTION:  94 (  3) Client NDI                010201           ...
OPTION:  97 ( 17) UUID/GUID                 0044444444444444 .DDDDDDD
                                            4444444444444444 DDDDDDDD
                                            44               D
OPTION:  60 ( 32) Vendor class identifier   PXEClient:Arch:00000:UNDI:002001
---------------------------------------------------------------------------

  TIME: 2018-04-03 18:10:15.502
    IP: 192.168.2.1 (0:4:23:64:7d:c2) &gt; 192.168.2.19 (b8:27:eb:bf:db:dd)
    OP: 2 (BOOTPREPLY)
 HTYPE: 1 (Ethernet)
  HLEN: 6
  HOPS: 0
   XID: 26f30339
  SECS: 0
 FLAGS: 0
CIADDR: 0.0.0.0
YIADDR: 192.168.2.19
SIADDR: 192.168.2.2
GIADDR: 0.0.0.0
CHADDR: b8:27:eb:bf:db:dd:00:00:00:00:00:00:00:00:00:00
 SNAME: .
 FNAME: .
OPTION:   1 (  4) Subnet mask               255.255.255.0
OPTION:   3 (  4) Routers                   192.168.2.1
OPTION:   6 (  4) DNS server                192.168.2.1
OPTION:  43 ( 20) Vendor specific info      0112526173706265 ..Raspbe
                                            7272792050692042 rry Pi B
                                            6f6f74ff         oot.
OPTION:  51 (  4) IP address leasetime      4000 (1h6m40s)
OPTION:  53 (  1) DHCP message type         2 (DHCPOFFER)
OPTION:  54 (  4) Server identifier         192.168.2.1
OPTION:  60 (  9) Vendor class identifier   PXEClient
OPTION:  66 ( 11) TFTP server name          192.168.2.2
OPTION:  67 ( 12) Bootfile name             bootcode.bin
</code></pre>
"
82686,1,2018-04-12T02:41:19.230,3,6265,84961,,2020-03-24T20:52:51.830,,1,,"<p>I am using a <a href=""https://www.winstar.com.tw/products/tft-lcd/hdmi-tft-lcd/7_0.html"" rel=""nofollow noreferrer"">7"" TFT LCD Display</a> (1024x600) with the Raspberry Pi 3 and I can not make it work with that screen resolution. It looks like it is zoomed in.</p>

<p>I know that there are a bunch of topics about this issue in and out stackoverflow, and I have tried to edit the config.txt as much as I could, never getting different results. (BTW: I got it working with Raspian really easily editing the config.txt, but it does not work for android for some reason).</p>

<p>I used <a href=""https://howtoraspberrypi.com/install-android-raspberry-pi/"" rel=""nofollow noreferrer"">this Android image</a>, and this is how my config.txt looks like:</p>

<pre><code>hdmi_force_hotplug=1
hdmi_drive=2
hdmi_group=2
hdmi_mode=87
hdmi_cvt 1024 600 60
Framebuffer_width=1024
Framebuffer_height=600
disable_overscan=1
config_hdmi_boost=5
kernel=zImage
device_tree=bcm2710-rpi-3-b.dtb
dtparam=audio=on
dtparam=i2c1=on
dtparam=i2c_arm=on
dtoverlay=vc4-kms-v3d,cma-256
initramfs ramdisk.img 0x01f00000
mask_gpu_interrupt0=0x400
avoid_warnings=2
gpu_mem=256
enable_uart=1
</code></pre>

<p>I would really appreciate some insight on this.</p>

<p>PS: I tried different resolutions with the <em>hdmi_group</em> and <em>hdmi_mode</em>, according to <a href=""https://www.raspberrypi.org/documentation/configuration/config-txt/video.md"" rel=""nofollow noreferrer"">this RPi article</a>, but the image remains the same.</p>
"
82796,1,2018-04-14T03:58:15.283,1,2241,85050,,2020-12-03T10:05:55.807,2018-04-15T02:27:22.287,2,,"<p>I'm having a bit of difficulty locating a specific example, however I have found people referencing that they have accomplished what I am looking for. </p>

<p>At a basic level, I have a webpage being served through Chromium and I have my RC522 RFID module. What I'd like to do is be able to scan an RFID card and to submit the ID of the RFID either through an AJAX script or pull the ID into an input field.</p>

<p>I'm fine with the web side and the page itself, but I am still learning Raspberry Pi, and this is a bit beyond what the little DIY books discuss haha. </p>

<p>There are cases like these where they pull the RFID through Python:</p>

<p><a href=""https://rickyventrella.com/2017/05/08/raspberryrfid/"" rel=""nofollow noreferrer"">https://rickyventrella.com/2017/05/08/raspberryrfid/</a></p>

<p><a href=""http://helloraspberrypi.blogspot.com/2015/10/raspberry-pi-2-mfrc522-python-dump-rfid.html"" rel=""nofollow noreferrer"">http://helloraspberrypi.blogspot.com/2015/10/raspberry-pi-2-mfrc522-python-dump-rfid.html</a></p>

<p><a href=""https://www.electromaker.io/blog/article/launch-applications-using-an-rfid-card-reader-and-raspberry-pi"" rel=""nofollow noreferrer"">https://www.electromaker.io/blog/article/launch-applications-using-an-rfid-card-reader-and-raspberry-pi</a></p>

<p>And then there is a case like this one where I get close, but it doesn't seem to quite get there:</p>

<p><a href=""http://www.blog.emmeshop.eu/node/48"" rel=""nofollow noreferrer"">http://www.blog.emmeshop.eu/node/48</a> </p>

<p>If anyone can give me any leads or suggestions, I'd greatly appreciate it. Our little museum is trying to update ourselves for grants and some things are doable and others are a stretch.</p>

<p>Thank you so very much -
Matt</p>

<p>//-----UPDATE-----//</p>

<p>My issue is the connection of the two. I'm in new territory here and not sure how I would pass the data from the RFID reader to the Chromium browser. If I use the basics through this python GIT - <a href=""https://github.com/mxgxw/MFRC522-python"" rel=""nofollow noreferrer"">https://github.com/mxgxw/MFRC522-python</a> - and use the read.py file through the console, I can easily pull the ID from the RFID chip/card. But I'm not sure how I'd be using the script in the background and passing the RFID ID to the Chromium browser. </p>

<p>I've continued to browse around the internet and found that some people have suggested using node.js instead to pass the data from the RFID Card and Reader to the Chromium browser. </p>

<p>I'm open to any suggestions, some of these posts I'm sifting through are older and I'm not sure if one suggestion is better off than the other for recent updates of Raspberry Pi and its operating system. Even the python I mentioned above, which is widely used, states that their haven't been any large overhauls to the code and at some point, might become unusable as Raspberry Pi progresses.</p>
"
83004,1,2018-04-18T20:19:13.680,0,638,85282,,2021-01-01T16:01:05.093,2018-04-23T14:51:37.083,3,,"<p>Please, could someone help me, I am trying to use the module (max3421-hcb) with the raspberry pi 3, but I really don't know how to load this module, with the parameters, like wich GPIO will act as INT or the speed (clock).</p>

<p>I have compiled the kernel 4.14 with the config CONFIG_USB_MAX3421_HCD=m, so I have the module max3421-hcb.ko, but it seen not be working.</p>

<p>I am using the USB/SPI Shield from sparkfun but even when I load the module using modprobe max3421-hcb I don't get any message in the syslog or dmesg that indicates that the kernel is recognizing the max3421.</p>

<p>I have followed this example: <a href=""https://github.com/raspberrypi/linux/blob/rpi-4.14.y/arch/arm/boot/dts/overlays/mcp2515-can0-overlay.dts"" rel=""nofollow noreferrer"" title=""mcp2515-can0-overlay.dts"">mcp2515-can0-overlay.dts</a> and goted this file:</p>

<pre><code>/dts-v1/;
/plugin/;

/ {
compatible = ""brcm,bcm2835"", ""brcm,bcm2836"", ""brcm,bcm2708"", ""brcm,bcm2709"";
/* disable spi-dev for spi0.0 */
fragment@0 {
    target = &lt;&amp;spi0&gt;;
    __overlay__ {
        status = ""okay"";
    };
};

fragment@1 {
target = &lt;&amp;spidev0&gt;;
__overlay__ {
    status = ""disabled"";
};
};

/* the interrupt pin of the usb-controller */
fragment@2 {
    target = &lt;&amp;gpio&gt;;
    __overlay__ {
        usb0_pins: usb0_pins {
            brcm,pins = &lt;25&gt;;
            brcm,function = &lt;0&gt;; /* input */
        };
    };
};

/* the clock/oscillator of the usb-controller */
fragment@3 {
    target-path = ""/clocks"";
    __overlay__ {
        /* external oscillator of max3421 on SPI0.0 */
        usb0_osc: usb0_osc {
            compatible = ""fixed-clock"";
            #clock-cells = &lt;0&gt;;
            clock-frequency  = &lt;25000000&gt;;
        };
    };
};

/* the spi config of the usb-controller itself binding everything together */
fragment@4 {
    target = &lt;&amp;spi0&gt;;
    __overlay__ {
        /* needed to avoid dtc warning */
        #address-cells = &lt;1&gt;;
        #size-cells = &lt;0&gt;;
        usb@0 {
            compatible = ""maxim,max3421"";
            reg = &lt;0&gt;;
            maxim,vbus-en-pin = &lt;3 1&gt;;
            spi-max-frequency = &lt;25000000&gt;;
            interrupt-parent = &lt;&amp;gpio&gt;;
            interrupts = &lt;25 8&gt;;
            clocks = &lt;&amp;usb0_osc&gt;;
        };
    };
};
__overrides__ {
    oscillator = &lt;&amp;usb0_osc&gt;,""clock-frequency:0"";
    spimaxfrequency = &lt;&amp;usb0&gt;,""spi-max-frequency:0"";
    interrupt = &lt;&amp;usb0_pins&gt;,""brcm,pins:0"",&lt;&amp;usb0&gt;,""interrupts:0"";
    };
};
</code></pre>

<p>I'm using this setup to try make MAX3421E work:</p>

<ul>
<li>Raspberry Pi 3</li>
<li>Raspbian GNU/Linux 9</li>
<li>Kernel Linux raspberrypi 4.15.17-v7+

<ul>
<li>With MAX3421-HCB compile as module</li>
<li>spi0-max3421e.dtbo inside /boot/overlay</li>
<li>Line dtoverlay=spi0-max3421e in /boot/config.txt</li>
</ul></li>
</ul>

<p>Printout of command raspi-gpio get 25,8,10,9,11</p>

<pre><code>GPIO 8: level=1 fsel=4 alt=0 func=SPI0_CE0_N
GPIO 9: level=0 fsel=4 alt=0 func=SPI0_MISO
GPIO 10: level=0 fsel=4 alt=0 func=SPI0_MOSI
GPIO 11: level=0 fsel=4 alt=0 func=SPI0_SCLK
GPIO 25: level=1 fsel=0 func=INPUT;
</code></pre>

<p>Sparkfun SPI USB Arduino Shield</p>

<pre><code>D7 (RESET) - connected to 5Vdc
D8 (GPX) - not connected
D9 (INT) - connected to BCM25 (Pin 22)
D10 (SS) - connected to BCM8 (Pin 24)
D11 (MOSI) - connected to BCM10 (Pin 19)
D12 (MISO) - connected to BCM9 (Pin 21)
D13 (SCK) - connected to BCM11 (Pin 23)
VIN - connected to Raspberry Pi Pin 2
</code></pre>

<p>On boot the module max3421-hcb do not is load automatically, I believe that it should be, because of dtoverlay=spi0-max3421e </p>

<p>Even with sudo modeprobe max3421-hcb:</p>

<pre><code>root@raspberrypi:~# lsmod
Module Size Used by
max3421_hcd 20480 0
spidev 16384 0
</code></pre>

<p>I get 0 messages inside syslog or dmesg</p>

<p>When I was using the version 4.14 of the kernel I alter the file max3421-hcb.c to be like the one in 4.15 kernel! Now I'm using a full 4.15.y kernel, but no result either. </p>

<p>Best Regards</p>
"
83110,1,2018-04-21T08:35:37.997,1,759,32589,,2019-03-22T08:28:28.877,,0,,"<p>I am trying to use a 4x20 LCD display with RPLCD module. Its working. But if I run the program ten times every four or five times LCD shows these three garbage values(See below images). Here is my code:</p>

<pre><code>from RPLCD.gpio import CharLCD
import RPi.GPIO as GPIO

class LCD(object):
    def __init__(self):
        GPIO.setwarnings(False)

        self.lcd = CharLCD(pin_rs = 15, pin_e = 16 \
            , pin_backlight = 18 \
            , pins_data = [21, 22, 23, 24] \
            , numbering_mode = GPIO.BOARD \
            , cols = 20, rows = 4, dotsize = 8 \
            , charmap = 'A02', auto_linebreaks = True \
            , backlight_mode = 'active_high')

        self.lcd.clear()
        self.lcd.cursor_mode = 'hide'
        self.lcd.backlight_enable = True
        self.lcd.write_string(""hello, world"")

    def close(self):
        self.lcd.close(clear = True)

if __name__ == ""__main__"":
    disp = LCD()

    try:
        while True:
            pass

    except KeyboardInterrupt:
        disp.close()
</code></pre>

<p><a href=""https://i.stack.imgur.com/oafHY.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oafHY.jpg"" alt=""lcd garbage 1""></a>
<a href=""https://i.stack.imgur.com/nReaJ.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/nReaJ.jpg"" alt=""lcd garbage 2""></a>
<a href=""https://i.stack.imgur.com/drD4M.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/drD4M.jpg"" alt=""lcd garbage 3""></a></p>
"
83405,1,2018-04-29T07:23:13.483,1,776,75986,,2018-06-17T07:23:01.650,,0,,"<p>I am using raspberry pi 3. I am trying to run the AC induction motor for that I want an analog pin. In raspberry pi model doesn't have an analog pin. All pins are digital IO pins.</p>

<p>So I have tried MCP 4725 DAC. Below I have mentioned which library I am using and what I have tried. This is new for me, I am facing some difficulties It might be experiance issue also.</p>

<p>I need a help to solve this issue. Sorry for my poor english, I hope you can understand the problem listed here.</p>

<p>mcp4725.h</p>

<pre><code>#ifdef __cplusplus
extern ""C"" {
#endif

#define WRITEDAC 0x40
#define WRITEDACEEPROM 0x60
#define MCP4725 0x62

void setVoltage(int fd, int voltage, int persist);
extern int mcp4725Setup(int pinBase, int id);

#ifdef __cplusplus
}
#endif
</code></pre>

<p>mcp4725.cpp</p>

<pre><code>#include &lt;wiringPi.h&gt;
#include &lt;wiringPiI2C.h&gt;

#include ""mcp4725.h""

/* MCP4725 analogWrite function:
 *    value is 12bit data to be writen.
 *    pin is a mask for write type:
 *    pinBase + 0 - DAC standard
 *    pinBase + 1 - EEROM write DAC
*===================================*/

static void myAnalogWrite(struct wiringPiNodeStruct *node, int pin, int value) {
  // 2 byte array to hold 12bit data chunks
  int data[2];
  // pin is a mask for DAC set to EEROM
  int persist = pin - node-&gt;pinBase;

  // limit check value
  value = (value &gt; 4095) ? 4095 : value;

  // MCP4725 expects a 12bit data stream in two bytes (2nd &amp; 3rd of transmission)
  data[0] = (value &gt;&gt; 8) &amp; 0xFF; // [0 0 0 0 D12 D11 D10 D9 D8] (first bits are modes for our use 0 is fine)
  data[1] = value; // [D7 D6 D5 D4 D3 D2 D1 D0]

  // 1st byte is the register
  if (persist) {
    wiringPiI2CWrite(node-&gt;fd, WRITEDACEEPROM);
  } else {
    wiringPiI2CWrite(node-&gt;fd, WRITEDAC);
  }

  // send our data using the register parameter as our first data byte
  // this ensures the data stream is as the MCP4725 expects
  wiringPiI2CWriteReg8(node-&gt;fd, data[0], data[1]);
}

/* MCP4725 DAC setup:
 *    create MC4725 device.
 *    id is the address of the chip (0x62 default)
*===============================================*/

int mcp4725Setup(const int pinBase, int id) {
  struct wiringPiNodeStruct *node;

  node = wiringPiNewNode(pinBase,2);

  node-&gt;fd = wiringPiI2CSetup(id);
  node-&gt;analogWrite = myAnalogWrite;

  if (node-&gt;fd &lt; 0) {
    return -1;
  } else {
    return 0;
  }
}
</code></pre>

<p>Project (on of the thread (so main not using))</p>

<pre><code>#include ""mcp4725.h""

int output_dac, i_dac;

using namespace std;


Motion::Motion()
{
      mcp4725Setup(100,WRITEDACEEPROM); // 0x60 address 
}

Motion::~Motion()
{
    cout&lt;&lt;""Motion Destroyed""&lt;&lt; endl;
}

void Motion::move_Motion()
{
    output_dac = 2000; // 200 = 0.200v , 1000 = 1.124v, 2000 = 2.117v(max)

    analogWrite(100, output_dac);
}


void Motion::stop_Motion()
{
    output_dac = 0;  // 0=0v

    analogWrite(0, output_dac);
}
</code></pre>

<p>If I keep 0 then it is stopping properly. similar way I want to increase and decrease voltage also.</p>

<p>If I increase the voltage range above 2000 it is not working. The maximum voltage that is going up to 2.1v but I want 5v. I have tried 8000 but still it is 2.117v.</p>

<p>Is there any mistake in the code. Can you help me to fix this issue?</p>
"
83514,1,2018-05-02T16:15:48.557,2,1241,81746,,2020-12-04T21:02:45.250,,0,,"<p>OK, so on Raspbian 9, on Raspberry Pi 3, if I try to list audio devices, I get this:</p>

<pre><code>pi@raspberrypi:~ $ aplay -l
**** List of PLAYBACK Hardware Devices ****
card 0: ALSA [bcm2835 ALSA], device 0: bcm2835 ALSA [bcm2835 ALSA]
  Subdevices: 7/7
  Subdevice #0: subdevice #0
  Subdevice #1: subdevice #1
  Subdevice #2: subdevice #2
  Subdevice #3: subdevice #3
  Subdevice #4: subdevice #4
  Subdevice #5: subdevice #5
  Subdevice #6: subdevice #6
card 0: ALSA [bcm2835 ALSA], device 1: bcm2835 ALSA [bcm2835 IEC958/HDMI]
</code></pre>

<p>You can notice that card 0: device 0: bcm2835 ALSA has 7 subdevices. </p>

<p>I had always thought that a subdevice corresponds to a ""channel"" in multichannel soundcards; but as far as I know, the Raspberry Pi 3 does not have separate outputs for 7 audio channels  (or at least, they do not advertise it).</p>

<p>So why are there 7 subdevices in card 0: device 0? What is their purpose?</p>
"
83583,1,2018-05-04T13:32:16.400,2,732,17798,,2020-02-02T12:01:30.340,,1,,"<p>There are 2 clock sources that are not officially (?) listed with a string id available to the <code>vcgencmd measure_clock</code> command.</p>

<pre class=""lang-bsh prettyprint-override""><code># for i in {0..255}; do vcgencmd measure_clock $i; done | grep -v ""=0""

frequency(1)=400000000
frequency(9)=163683000
frequency(22)=47999000
frequency(26)=4800000
frequency(28)=299999000
frequency(29)=148500000
frequency(42)=300000000
frequency(43)=300000000
frequency(45)=1200000000
frequency(47)=200000000
frequency(50)=1920000

# for src in arm core h264 isp v3d uart pwm emmc pixel vec hdmi dpi ; do x=$(vcgencmd measure_clock $src ); echo -e ""$src:\t$x""; done;

arm:    frequency(45)=1200000000
core:   frequency(1)=400000000
h264:   frequency(28)=300000000
isp:    frequency(42)=300000000
v3d:    frequency(43)=300000000
uart:   frequency(22)=48000000
pwm:    frequency(25)=0
emmc:   frequency(47)=200000000
pixel:  frequency(29)=148500000
vec:    frequency(10)=0
hdmi:   frequency(9)=163683000
dpi:    frequency(4)=0
</code></pre>

<p>There are (at least) 2 clocks here that are non-zero, <code>26</code> and <code>50</code>, but which do not have an official name.  </p>

<p><strong>What do they represent?</strong> (Are there others?)</p>
"
83659,1,2018-05-06T20:48:21.413,2,3632,86014,,2019-08-01T13:50:32.390,2019-08-01T13:50:32.390,1,,"<p>I have written a python program that continuously parses my current IP and emails it to me if it changes that I want to begin running as soon as the computer boots up: <code>/home/pi/sendIP.py</code><pre><code>#note that unnecessary comments and sensitive information have been stripped
#assume this code works as intended
import smtplib
import os
import re
import time<br />
def mail(message):
        try:
                server = smtplib.SMTP('smtp.gmail.com', 587)
                server.ehlo()
                server.starttls()
                server.login('from_email', 'password')
                server.sendmail('from_email', 'to_email', '\nIP: ' + str(message))
                server.close()
                return True
        except:
                return False
<br />
def getStringIP():
        try:
                IP = re.search(r'((?:\d{1,3}.){3}\d{1,3})', os.popen('hostname -I').read()).group(1)
                return IP
        except:
                return ""null""
<br />
ip = """"
<br />
while(True):
        try:
                newIP = getStringIP()
                while(newIP == ""null""):
                        time.sleep(1)
                        newIP = getStringIP()
                if(ip == newIP):
                        time.sleep(1)
                else:
                        ip = newIP
                        while(not mail(ip)):
                                time.sleep(0.5)
                        time.sleep(1)
        except:
                time.sleep(2)</code></pre>
This file is run by <code>/home/pi/sendIP.sh</code><br /></p>

<pre><code>#!/bin/bash
echo ""calling sendIP.py""
/usr/bin/python3 /home/pi/sendIP.py&
echo ""called in separate process""</code></pre>

<p><code>sendIP.sh</code> is in turn called by <code>sendIP.service</code> when the service is started manually or on bootup.
If I call <code>sendIP.sh</code> directly by doing <code>sudo bash sendIP.sh</code> in a terminal window, it works perfectly and I receive an email with my current local IP.
If, however, I do <code>sudo systemctl start sendIP.service</code>, it does not run the python file.
Here is the .service file: <code>/etc/systemd/system/sendIP.service</code><br /></p>

<pre><code>[Unit]
Description=Sends IP to my cellphone
After=all
<br />
[Service]
ExecStart=/bin/bash /home/pi/sendIP.sh
StandardOutput=inherit
StandardInput=inherit
User=pi
<br />
[Install]
WantedBy=multi-user.target</code></pre>

<p>And here is the result of <code>sudo systemctl status sendIP.service</code> after attempting to start the service:</p>

<pre>● sendIP.service - Sends IP to my cellphone
   Loaded: loaded (/etc/systemd/system/sendIP.service; enabled)
   Active: inactive (dead) since Sun 2018-05-06 20:10:45 UTC; 1min 40s ago
  Process: 9830 ExecStart=/bin/bash /home/pi/sendIP.sh (code=exited, status=0/SUCCESS)
 Main PID: 9830 (code=exited, status=0/SUCCESS)
<br />
May 06 20:10:44 raspberrypi systemd[1]: Started Sends IP to my cellphone.
May 06 20:10:45 raspberrypi bash[9830]: calling sendIP.py
May 06 20:10:45 raspberrypi bash[9830]: called in separate process</pre>

<p>It looks like it runs, as it echoes the text from the .sh file, but I do not receive any email as I should... I tried using <code>print()</code> statements in my python file to see if it even begins execution, but it does not print anything to my terminal window&#8212;including the <code>echo</code> statements, which I can only see when I check the status of the service (I am using ssh to access it, I don't know if it opens another window and prints there but it shouldn't). Running <code>sendIP.sh</code> directly does print both <code>echo</code> statements in the .sh file and and any <code>print</code> statements in the python program to the console, even with the <code>&amp;</code> character causing <code>sendIP.py</code> to execute in another process.
I should admit that I do not really know what I am doing with the .system file configuration, that part is mostly just what I have pieced together from similar questions and responses. If anyone could help me out that would be great! Thank y'all so much!</p>
"
83687,1,2018-05-07T14:44:48.500,2,2342,86049,,2018-05-08T14:15:13.593,2018-05-07T15:40:39.947,3,,"<p>I'm setting up a website on raspberry Pi.</p>

<p>my websitename is like this</p>

<p>abc123.example.co</p>

<p>so the thing is that the ""abc123"" is random, no idea what will it be next time I start the server.</p>

<p>now, I'd like to re-direct all the traffic that comes to the subdomain to a HTTPS of the same website. </p>

<p>my apache 000-default.config looks like this:</p>

<pre><code>&lt;VirtualHost *:80&gt;
        #ServerName www.example.com
        #ServerAlias *.example.co
        RewriteEngine On
        RewriteCond %{HTTPS} off
        RewriteRule ^(.*)$ https://%{HTTP_HOST}$1 [R=301,L]
        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;
</code></pre>

<p>now, when it is like that, the user is getting redirected multiple times &amp; the website isn't opening.</p>

<p>now, when I disable it:</p>

<pre><code>&lt;VirtualHost *:80&gt;
        #ServerName www.example.com
        #ServerAlias *.example.co
        #RewriteEngine On
        #RewriteCond %{HTTPS} off
        #RewriteRule ^(.*)$ https://%{HTTP_HOST}$1 [R=301,L]
        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined
&lt;/VirtualHost&gt;
</code></pre>

<p>then hit <code>sudo service apache2 restart</code></p>

<p>the websites from http actually are being redirected to https.</p>

<p>I'm pulling my hairs out on this one. tried various stuff and am able to narrow down till here. No idea where to go. Please help.</p>

<p>totally new to linux &amp; all, so please be easy on me. I don't know much.</p>
"
83966,1,2018-05-16T06:55:10.433,0,1838,76147,,2019-07-13T15:06:16.607,,0,,"<p>I have been trying to install opencv 3 but this github url(<code>https://github.com/Itseez/opencv_contrib/archive/3.3.0.zip</code>) seems not working. But the zip file is downloading when I'm entering above url in a browser. I have a Raspbian stretch installation in Raspberry Pi B3.</p>

<p>I'm following the instructions given in this page <a href=""https://www.pyimagesearch.com/2017/09/04/raspbian-stretch-install-opencv-3-python-on-your-raspberry-pi/"" rel=""nofollow noreferrer"">https://www.pyimagesearch.com/2017/09/04/raspbian-stretch-install-opencv-3-python-on-your-raspberry-pi/</a></p>

<p>But terminal is showing the error given below:</p>

<pre><code>pi@raspberrypi:~ $ wget -O 3.4.1.zip https://github.com/opencv/opencv/archive/3.4.1.zip
--2018-05-16 12:11:50--  https://github.com/opencv/opencv/archive /3.4.1.zip
Resolving github.com (github.com)... 192.30.253.113, 192.30.253.112
Connecting to github.com (github.com)|192.30.253.113|:443... failed: No   route to host.
Connecting to github.com (github.com)|192.30.253.112|:443... failed: No route to host.
</code></pre>

<p>Can anyone please tell me what am I missing here? Or please give me a working url.</p>
"
84003,1,2018-05-17T10:14:13.443,1,401,86454,,2018-05-17T16:10:00.773,2018-05-17T16:10:00.773,1,,"<p>Actually i am working on a project. I want my raspberry to stay connected with my DSL wifi. But raspberry connect with a open wifi automatically . Thats why i lose connection.</p>

<p>Please help me that how i can stay connected my raspberry pi 3 with my home wifi. </p>

<p>I am using Rasbian OS</p>

<p>Thanks</p>
"
84031,1,2018-05-18T03:28:59.980,0,304,86494,,2018-05-18T11:09:18.370,,4,,"<p>I am getting errors about <strong>“DNS address” could not be found ERR_NAME_NOT_RESOLVED</strong> when going to SOME web pages (like doing a duckduckgo search) yet I can go to google and do searches, and raspberrypi.org works fine (unless trying to search the site. Search results from Google randomly seem to work or not.</p>

<p>Based on this thread <a href=""https://www.raspberrypi.org/forums/viewtopic.php?p=469583"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/forums/viewtopic.php?p=469583</a> and jumping around a few others here is what I have tried.</p>

<p>I am using the latest version of Raspbian Full on a Pi 3</p>

<p>I have Google Fiber and have tried connecting it with wi-fi or ethernet, same issue.
When connected by wi-fi, Google Fiber shows the pi’s name (raspberrypi) and I set static ip to 169.254.68.136</p>

<p>I tried enabling a DNS server to 136.62.136.72, though I am still hazy about how DNS works. same behavior.
One post recommends adding <code>“dns-nameservers 8.8.4.4 8.8.8.8” to /etc/network/interfaces</code>. same behavior.</p>

<p>I also tried <a href=""https://www.howtogeek.com/167190/how-and-why-to-assign-the-.local-domain-to-your-raspberry-pi/"" rel=""nofollow noreferrer"">https://www.howtogeek.com/167190/how-and-why-to-assign-the-.local-domain-to-your-raspberry-pi/</a> to assign a local domain to my pi, but that hasn’t seemed to do anything; raspberrypi.local gets the DNS error.</p>

<p>Any ideas on what the heck is going on? </p>

<p>here's the detailed info based on one of those posts:</p>

<p><strong>Post the output from the following commands:</strong></p>

<p><strong>ifconfig -a</strong></p>

<p><strong>route</strong></p>

<p><strong>cat /etc/network/interfaces</strong></p>

<p><strong>root@raspberrypi:/home/pi# ifconfig -a</strong></p>

<pre><code>eth0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500
    ether b8:27:eb:c6:ae:a0  txqueuelen 1000  (Ethernet)
    RX packets 4914  bytes 1892923 (1.8 MiB)
    RX errors 0  dropped 1  overruns 0  frame 0
    TX packets 1058  bytes 158075 (154.3 KiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
    inet 127.0.0.1  netmask 255.0.0.0
    inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
    loop  txqueuelen 1  (Local Loopback)
    RX packets 9  bytes 524 (524.0 B)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 9  bytes 524 (524.0 B)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
    inet6 2605:a601:4044:8600:1726:a088:f043:1d8f  prefixlen 64  scopeid 
0x0&lt;global&gt;
    inet6 fe80::a37b:1a59:83e9:4628  prefixlen 64  scopeid 0x20&lt;link&gt;
    ether b8:27:eb:93:fb:f5  txqueuelen 1000  (Ethernet)
    RX packets 133541  bytes 188543020 (179.8 MiB)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 98870  bytes 11444959 (10.9 MiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
**root@raspberrypi:/home/pi# route**
  Kernel IP routing table
  Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
</code></pre>

<p><strong>root@raspberrypi:/home/pi# cat /etc/network/interfaces</strong></p>

<pre><code> # interfaces(5) file used by ifup(8) and ifdown(8)
 # Please note that this file is written to be used with dhcpcd
 # For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'
 # Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d
dns-nameservers 8.8.4.4 8.8.8.8
</code></pre>

<p>And on your Windows machine (that you're using to post on here):
ipconfig /all:</p>

<pre><code>Windows IP Configuration
   Host Name . . . . . . . . . . . . : Flipper-PC
   Primary Dns Suffix  . . . . . . . :
   Node Type . . . . . . . . . . . . : Hybrid
   IP Routing Enabled. . . . . . . . : No
   WINS Proxy Enabled. . . . . . . . : No

Ethernet adapter Ethernet:

   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : Realtek PCIe FE Family Controller
   Physical Address. . . . . . . . . : 08-9E-01-EB-5C-93
   DHCP Enabled. . . . . . . . . . . : Yes
   Autoconfiguration Enabled . . . . : Yes

Ethernet adapter PdaNet Broadband Connection:
   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : PdaNet Broadband Adapter
   Physical Address. . . . . . . . . : 02-50-F2-7D-1D-92
   DHCP Enabled. . . . . . . . . . . : Yes
   Autoconfiguration Enabled . . . . : Yes

Wireless LAN adapter Local Area Connection* 12:
   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter
   Physical Address. . . . . . . . . : 0C-8B-FD-66-F4-05
   DHCP Enabled. . . . . . . . . . . : Yes
   Autoconfiguration Enabled . . . . : Yes

Wireless LAN adapter Local Area Connection* 2:
   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : Microsoft Hosted Network Virtual Adapter
   Physical Address. . . . . . . . . : 0E-8B-FD-66-F4-04
   DHCP Enabled. . . . . . . . . . . : Yes
   Autoconfiguration Enabled . . . . : Yes

Wireless LAN adapter Wi-Fi:
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : Intel(R) Wireless-N 7260
   Physical Address. . . . . . . . . : 0C-8B-FD-66-F4-04
   DHCP Enabled. . . . . . . . . . . : Yes
   Autoconfiguration Enabled . . . . : Yes
   IPv6 Address. . . . . . . . . . . :         2605:a601:4044:8600:1884:c303:f3b0:b20c(Preferred)
   Temporary IPv6 Address. . . . . . : 2605:a601:4044:8600:9ca6:98a0:540d:3bef(Preferred)
   Link-local IPv6 Address . . . . . : fe80::1884:c303:f3b0:b20c%17(Preferred)
   IPv4 Address. . . . . . . . . . . : 169.254.68.147(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Lease Obtained. . . . . . . . . . : Thursday, May 17, 2018 6:10:08 PM
   Lease Expires . . . . . . . . . . : Friday, May 18, 2018 7:45:45 PM
   Default Gateway . . . . . . . . . : fe80::f6f5:e8ff:fe6e:cb30%17
                                   169.254.68.1
   DHCP Server . . . . . . . . . . . : 169.254.68.1
   DHCPv6 IAID . . . . . . . . . . . : 319589373
   DHCPv6 Client DUID. . . . . . . . : 00-01-00-01-19-CF-CC-BA-08-9E-01-EB-5C-93
   DNS Servers . . . . . . . . . . . : 2605:a601:4048:2b00::1
                                   169.254.68.1
   Primary WINS Server . . . . . . . : 169.254.68.1
   NetBIOS over Tcpip. . . . . . . . : Enabled

Wireless LAN adapter Local Area Connection* 6:

   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter #3
   Physical Address. . . . . . . . . : 0E-8B-FD-66-F4-05
   DHCP Enabled. . . . . . . . . . . : No
   Autoconfiguration Enabled . . . . : Yes
   Link-local IPv6 Address . . . . . : fe80::a040:bd23:a804:b312%19(Preferred)
   Autoconfiguration IPv4 Address. . : 169.254.179.18(Preferred)
   Subnet Mask . . . . . . . . . . . : 255.255.0.0
   Default Gateway . . . . . . . . . :
   DHCPv6 IAID . . . . . . . . . . . : 537824253
   DHCPv6 Client DUID. . . . . . . . : 00-01-00-01-19-CF-CC-BA-08-9E-01-EB-5C-93
   DNS Servers . . . . . . . . . . . : fec0:0:0:ffff::1%1
                                   fec0:0:0:ffff::2%1
                                   fec0:0:0:ffff::3%1
   NetBIOS over Tcpip. . . . . . . . : Enabled

Tunnel adapter Local Area Connection* 14:
   Media State . . . . . . . . . . . : Media disconnected
   Connection-specific DNS Suffix  . :
   Description . . . . . . . . . . . : Microsoft Teredo Tunneling Adapter
   Physical Address. . . . . . . . . : 00-00-00-00-00-00-00-E0
   DHCP Enabled. . . . . . . . . . . : No
   Autoconfiguration Enabled . . . . : Yes
</code></pre>
"
84110,1,2018-05-20T14:51:52.160,0,39,86583,,2019-02-12T19:45:49.880,2018-05-21T03:23:27.197,1,,"<p>I am running nodejs webserver on my raspberry pi 3 and I want to create a user interface where the user can set a specific time of a day and trigger an output on that particular time. I have tried websocket to control an led from my webpage and I want for it to light up at a pre-set time. </p>
"
84119,1,2018-05-20T19:19:59.393,4,479,86600,,2018-05-25T17:55:09.827,2018-05-20T20:06:53.633,8,,"<p>I am having a bit of a problem here, I really hope some of you can point me in the right direction:</p>

<p>I made a python3 program running a loop and checking if the file /DATALOGGER/DATALOGUSB/SETUP.py exists, and if it does the program continues. The DATALOGUSB directory is the mount point for a specific USB drive set up in etc/fstab with the UUID of the USB drive.</p>

<p>This all works flawless when I execute the script directly from the terminal - the OS mounts the USB drive in the correct place, the script recognizes that the SETUP.py file suddenly exists, and continues execution.</p>

<p>My issue is that I require the program to run headless and stand-alone, i.e. I need the python3 program to start up upon reboot and just wait for the USB drive. Once the drive is mounted, the program should just continue exactly like when I run it in the terminal. I have tried to start the program  during startup both from the crontab and from rc.local - and the program starts up fine (I can see that from the status LEDs the program controls). Unfortunately, when I then afterwards insert the USB drive, the program does not recognize that the file SETUP.py suddenly exists - so it is just stuck waiting for that file. If I check using the desktop GUI, I can see that the USB drive does indeed mount to the correct mount point, but for some reason the python3 program does not recognize it.</p>

<p>I really have no idea what to do now, as to me it seems strange that the program executes correctly from the terminal - but not if it is scheduled via crontab or startet from rc.local upon reboot.</p>

<p>If anyone has any idea as to what might be wrong, please do not hesitate to reply.</p>

<p>Best regards,
Rasmus</p>

<p>Minimum example of my python3 script. The functionality lies in the if os.path.isfile('DATALOGUSB/SETUP.py') branch, but the execution never gets here if the script is started from crontab or rc.local:</p>

<pre><code># Package import
import time
import os
from multiprocessing import Process

shutdown_flag = False

# The core functionalities of the program
def datalogger():
    while True:
        if os.path.isfile('DATALOGUSB/SETUP.py'):
            # Program functionality, but execution never gets
            # here when started from crontab or rc.local
        else:
            time.sleep(0.1)

# Main loop
datalogger_thread = Process(target=datalogger)
datalogger_thread.start()
while True:
    if shutdown_flag:
        shutdown_flag = False
        shutdown()
    time.sleep(0.1)
</code></pre>

<p>My etc/fstab file. The last line is my USB-drive set up by its UUID to mount to the described mount point (it is in one line with a blankspace between vfat and rw - I don't know if the format is correctly showed here). It does mount here, but if the DATALOGGER.py program above is started from crontab or rc.local, the program does not recognize the file SETUP.py as existing.</p>

<pre><code>proc            /proc           proc    defaults          0       0
/dev/mmcblk0p6  /boot           vfat    defaults          0       2
/dev/mmcblk0p7  /               ext4    defaults,noatime  0       1
# a swapfile is not a swap partition, no line here
#   use  dphys-swapfile swap[on|off]  for that
UUID=CCE1-5BCB  /home/pi/Documents/DATALOGGER/DATALOGUSB vfat rw,uid=1000,gid=1000,umask=000,nofail 0 0
</code></pre>

<p>Finally my rc.local file:</p>

<pre><code>#!/bin/sh -e
#
# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will ""exit 0"" on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.
# Print the IP address
_IP=$(hostname -I) || true
if [ ""$_IP"" ]; then
  printf ""My IP address is %s\n"" ""$_IP""
fi

sudo python3 /home/pi/Documents/DATALOGGER/DATALOGGER.py &amp;

exit 0
</code></pre>
"
84175,1,2018-05-22T10:21:20.323,2,963,37189,,2020-10-29T02:00:13.127,2018-05-22T11:34:57.353,1,,"<p>I am using UART sensors that do not allow the RPI to finish the boot when the serial console and the bluetooth are on. I did disable them using the <code>dtoverlay=pi3-disable-bt</code> in <code>/boot/config.txt</code> and deleted the serial console parameters from the  <code>/boot/cmdline.txt</code>, but the problem is that they are still on during the boot and they only get disabled after, which does not allow my pi to boot when I have my UART sensors plugged in. Does anyone know how this could be fixed? </p>

<p>EDIT: It might be that my pi does not boot because the sensors connected send garbage to the board, which cause my u-boot to stop at <code>hit any key to stop u-boot</code>, hence I am thinking that setting that key to something pre-defined instead of ""any key"" could solve my problem. However, I don't know how to do that, could anyone help?</p>

<p>Thank you</p>
"
84276,1,2018-05-25T00:18:53.810,2,756,81699,,2018-05-29T05:30:36.580,2018-05-25T00:47:48.733,0,,"<p>i'm new to this part of the forum and the raspberry. Hope my way of questioning is appropiate and that you can get a picture of what i'm talking about. Otherwise please be merciful.</p>

<p>I have a little problem with my lcd-monitor which is connected to my raspberry (hdmi) when turning on the 'R3'-Relay in the picture. The monitor switches on and off when i switch the relays. I don't intend to let the circuits run with the monitor connected, but i think there is propably something really 'unhealty' going on for my pi.</p>

<p><a href=""https://i.stack.imgur.com/Rc5DO.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Rc5DO.jpg"" alt=""enter image description here""></a></p>

<p>In this link you can see how the pi is connected to the relais module: <a href=""https://docs.google.com/file/d/0B5-HND9HJkXWSTQtYlFTZ3VyODA/edit"" rel=""nofollow noreferrer"">https://docs.google.com/file/d/0B5-HND9HJkXWSTQtYlFTZ3VyODA/edit</a></p>

<p>I heard that its possible to use a capacitor to compensate voltage up- and downs, caused inductively by the relay, whose might be responsible for my problem. But where do i have to put them?</p>

<p>By the way, my transformer is not a RLTS80. I don't know my model. A simple voltage transformer. if the model makes any differences i will look it up.</p>

<p>The monitor is connected to the hdmi interface on the pi and its plug is in the same plugbar as the raspberry pi and the device which voltage i want to regulate.</p>

<p>I don't owe a phase tester.</p>
"
84507,1,2018-05-31T12:08:20.067,0,2893,87013,,2018-05-31T15:12:43.907,2018-05-31T12:13:45.197,4,,"<p>I want to design a Power Supply Unit(PSU) for Raspbery Pi Zero W. I will have a camera <a href=""https://www.raspberrypi.org/products/camera-module-v2"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/products/camera-module-v2</a> connected and running, two relays and few gpio's running.</p>

<p>Camera Consumes around 250mA, RPi idle mode 150mA.</p>

<p>I read here <a href=""https://www.raspberrypi.org/help/faqs/#power"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/help/faqs/#power</a> it states Recommended PSU to be 1.2A
I can design 5V 1A PSU, will it be sufficient? How to calculate power consumption?</p>

<p>I have read these before but still unclear</p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/63519/power-consumption-of-pi-zero-w"">Power consumption of Pi Zero W?</a></p>

<p><a href=""https://www.jeffgeerling.com/blogs/jeff-geerling/raspberry-pi-zero-power"" rel=""nofollow noreferrer"">https://www.jeffgeerling.com/blogs/jeff-geerling/raspberry-pi-zero-power</a></p>

<p>If not, could you please share some PSU reference design with inrush | surge protection for 1.2A?</p>
"
84710,1,2018-06-06T08:55:33.143,0,3698,87217,,2018-06-06T18:16:25.587,2018-06-06T15:35:07.987,6,,"<p>I am trying to sample from two analog sensors at highest frequency possible (using and Arduino Uno, MPC3002 ADC), then send the data to raspberry pi to save them as binary file. </p>

<p>Arduino and MCP3002 communicates at 8MHz through SPI and it all works fine (double checked with oscilloscope). Here is my Arduino Code:</p>

<pre><code>#include &lt;SPI.h&gt;
#include ""MCP3002.h""

MCP3002 adc(10);

uint16_t ISR_BUF_FULL_COUNT = 256;
ISR(TIMER2_COMPA_vect) {
  byte buff[2];


  adc.analogRead0(buff);
  Serial.write(buff,2);
  adc.analogRead1(buff);
  Serial.write(buff,2);

}

void setup() {

  pinMode(7, OUTPUT);
  //set timer2 interrupt at 64kHz
  TCCR2A = 0;// set entire TCCR2A register to 0
  TCCR2B = 0;// same for TCCR2B
  TCNT2  = 0;//initialize counter value to 0
  // set compare match register for 15.625khz increments
  OCR2A = 127;// = (16*10^6) / (50000??*8) - 1 (must be &lt;256)
  // turn on CTC mode
  TCCR2A |= (1 &lt;&lt; WGM21);
  // Set CS21 bit for 8 prescaler
  TCCR2B |= (1 &lt;&lt; CS21);
  //TCCR2B |= (1 &lt;&lt; CS20);  
  // enable timer compare interrupt
  TIMSK2 |= (1 &lt;&lt; OCIE2A);

  adc.begin();
  Serial.begin(1000000);

}

void loop() {

}
</code></pre>

<p>and Here is my python code in Pi side:</p>

<pre><code>import serial
ser = serial.Serial('/dev/ttyUSB0',baudrate=1000000,timeout=None, bytesize=8, parity='N', stopbits=1)
ser.flushInput()
ser.flushOutput()
newFile = open(""data.bin"", ""wb"")
while True:
    newFile.write(ser.read(ser.inWaiting()))
    ##print ser.inWaiting()
</code></pre>

<p>Pi save the data correctly at the beginning and then suddenly (like after 200 samples) the data start be irrelevant values (my strong guess is that it is related to the buffer of pi)
I intend to transfer 4 bytes (2 bytes for each sensor) at 1 MPS serial. I checked with oscilloscope the tx and the whole procedure takes less than 40 us. </p>

<p>ISR timer of Arduino is called every 64 us (checked with osilloscope)
I checked the TX pin of Arduino and sending each 2 bytes will take exactly less than 40us, including reading time from MCP3002 which all looks fine.</p>

<p>Can any body suggest any solution why Pi behave like this? Can it be related to the buffer? Is Python on Pi fast enough to read at 1MBPS rates?</p>

<p>UPDATE:
So here is the C code I used (using read/write functions) and It still doesn't work properly.</p>

<pre><code>/*====================================================================================================*/
/* www.xanthium.in                                            */
/* Copyright (C) 2014 Rahul.S                                                                         */
/*====================================================================================================*/

/*====================================================================================================*/
/* Running the executable                                                                             */
/* ---------------------------------------------------------------------------------------------------*/ 
/* 1) Compile the  serialport_read.c  file using gcc on the terminal (without quotes)                 */
    /*                                                                                                    */
/*  "" gcc -o serialport_read serialport_read.c ""                                                  */
/*                                                                                                    */
    /* 2) Linux will not allow you to access the serial port from user space,you have to be root.So use   */
    /*    ""sudo"" command to execute the compiled binary as super user.                                    */
    /*                                                                                                    */
    /*       ""sudo ./serialport_read""                                                                     */
/*                                                                                                    */
/*====================================================================================================*/

/*====================================================================================================*/
/* Sellecting the Serial port Number on Linux                                                         */
/* ---------------------------------------------------------------------------------------------------*/ 
/* /dev/ttyUSBx - when using USB to Serial Converter, where x can be 0,1,2...etc                      */
/* /dev/ttySx   - for PC hardware based Serial ports, where x can be 0,1,2...etc                      */
    /*====================================================================================================*/

/*-------------------------------------------------------------*/
    /* termios structure -  /usr/include/asm-generic/termbits.h    */ 
/* use ""man termios"" to get more info about  termios structure */
/*-------------------------------------------------------------*/

    #include &lt;stdio.h&gt;
    #include &lt;fcntl.h&gt;   /* File Control Definitions           */
    #include &lt;termios.h&gt; /* POSIX Terminal Control Definitions */
    #include &lt;unistd.h&gt;  /* UNIX Standard Definitions      */ 
    #include &lt;errno.h&gt;   /* ERROR Number Definitions           */

void main(void)
    {
        int fd;/*File Descriptor*/

    printf(""\n +----------------------------------+"");
    printf(""\n |        Serial Port Read          |"");
    printf(""\n +----------------------------------+"");

    /*------------------------------- Opening the Serial Port -------------------------------*/

    /* Change /dev/ttyUSB0 to the one corresponding to your system */

        fd = open(""/dev/ttyUSB0"",O_RDWR | O_NOCTTY);    /* ttyUSB0 is the FT232 based USB2SERIAL Converter   */
                            /* O_RDWR   - Read/Write access to serial port       */
                            /* O_NOCTTY - No terminal will control the process   */
                            /* Open in blocking mode,read will wait              */



        if(fd == -1)                        /* Error Checking */
               printf(""\n  Error! in Opening ttyUSB0  "");
        else
               printf(""\n  ttyUSB0 Opened Successfully "");


    /*---------- Setting the Attributes of the serial port using termios structure --------- */

    struct termios SerialPortSettings;  /* Create the structure                          */

    tcgetattr(fd, &amp;SerialPortSettings); /* Get the current attributes of the Serial port */

    /* Setting the Baud rate */
    cfsetispeed(&amp;SerialPortSettings,B1000000); /* Set Read  Speed as 9600                       */
    cfsetospeed(&amp;SerialPortSettings,B1000000); /* Set Write Speed as 9600                       */

    /* 8N1 Mode */
    SerialPortSettings.c_cflag &amp;= ~PARENB;   /* Disables the Parity Enable bit(PARENB),So No Parity   */
    SerialPortSettings.c_cflag &amp;= ~CSTOPB;   /* CSTOPB = 2 Stop bits,here it is cleared so 1 Stop bit */
    SerialPortSettings.c_cflag &amp;= ~CSIZE;    /* Clears the mask for setting the data size             */
    SerialPortSettings.c_cflag |=  CS8;      /* Set the data bits = 8                                 */

    SerialPortSettings.c_cflag &amp;= ~CRTSCTS;       /* No Hardware flow Control                         */
    SerialPortSettings.c_cflag |= CREAD | CLOCAL; /* Enable receiver,Ignore Modem Control lines       */ 


    SerialPortSettings.c_iflag &amp;= ~(IXON | IXOFF | IXANY);          /* Disable XON/XOFF flow control both i/p and o/p */
    SerialPortSettings.c_iflag &amp;= ~(ICANON | ECHO | ECHOE | ISIG);  /* Non Cannonical mode                            */

    SerialPortSettings.c_oflag &amp;= ~OPOST;/*No Output Processing*/

    /* Setting Time outs */
    SerialPortSettings.c_cc[VMIN] = 10; /* Read at least 10 characters */
    SerialPortSettings.c_cc[VTIME] = 0; /* Wait indefinetly   */


    if((tcsetattr(fd,TCSANOW,&amp;SerialPortSettings)) != 0) /* Set the attributes to the termios structure*/
        printf(""\n  ERROR ! in Setting attributes"");
    else
                printf(""\n  BaudRate = 1000000 \n  StopBits = 1 \n  Parity   = none"");

        /*------------------------------- Read data from serial port -----------------------------*/

    tcflush(fd, TCIFLUSH);   /* Discards old data in the rx buffer            */

    char read_buffer[32];   /* Buffer to store the data received              */
    int  bytes_read = 0;    /* Number of bytes read by the read() system call */
    FILE *write_ptr;
    write_ptr = fopen(""testc.bin"",""wb"");  // w for write, b for binary
    while (1){
        bytes_read = read(fd,&amp;read_buffer,32); /* Read the data                   */
        fwrite(&amp;read_buffer,1,bytes_read,write_ptr); 
        printf(""%d"",bytes_read);


    }
    close(fd); /* Close the serial port */

    }
</code></pre>
"
84719,1,2018-06-06T11:59:30.837,1,79,82031,,2018-06-06T14:44:53.167,,0,,"<p>The recent KRACK vulnerability has made me worried about taking my Pi out with me in public areas. I was wondering if the Raspian/Linux dist would of updated the WiFi driver automatically to protect from the vulnerability or do I need to do somthing like ""sudo rpi-update"" to do this.</p>
"
84776,1,2018-06-08T07:36:58.507,2,326,87301,,2018-06-10T09:52:09.780,2018-06-08T13:35:01.837,1,,"<p>I would simply like to know how many MB the Pi sends/receives in a day. What's the easiest way to do this? I'm using the built in Ethernet adapter. I've tried searching but surprisingly haven't found anything. </p>
"
84797,1,2018-06-08T22:24:14.383,2,362,87065,,2018-06-10T01:09:00.940,2018-06-09T12:12:25.787,1,,"<p>I followed <a href=""https://projects.raspberrypi.org/en/projects/temperature-log/7"" rel=""nofollow noreferrer"">this tutorial</a> to log my CPU temperature into a .csv-file and try to run the .py script it at bootup with cron.</p>

<p>The script:</p>

<pre><code>from gpiozero import CPUTemperature
from time import sleep, strftime, time
cpu = CPUTemperature()
with open(""/home/user/Desktop/cpu_log.csv"", ""a"") as log:
    while True:
        temp = cpu.temperature
        log.write(""{0},{1}\n"".format(strftime(""%Y-%m-%d %H:%M:%S""),str(temp)))
        sleep(300)
</code></pre>

<p>I did a <code>chmod 757</code> to the python script. Then added it to <code>crontab -e:
@reboot python3 /home/user/Desktop/log.py</code></p>

<p>If I execute <code>python3 log.py</code> from shell when the machine is running, the .csv file is being created and written to perfectly.
However when I reboot my machine, I see the script running with <code>ps -aux | grep log.py</code>.
And I see the .csv file being created once. However not a single line is written to the file and after I delete it, it is not recreated. There is just an empty csv file on the desktop.</p>
"
84855,1,2018-06-11T05:05:41.450,0,671,87412,,2018-06-11T12:00:46.483,2018-06-11T12:00:46.483,2,,"<p>I am creating a TCP server on raspberry pi so that i can control it from my android phone over WIFI. I have connected both the pi and the phone to my WIFI router.</p>

<pre><code>import socket
from cookieLED_FINAL import callLED

host = '192.168.100.100'
port = 5560

def setupServer():
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    print(""Socket created."")
    try:
        s.bind((host, port))
    except socket.error as msg:
        print(msg)
    print(""Socket bind complete."")
    return s

def setupConnection():
    s.listen(1) # Allows one connection at a time.
    conn, address = s.accept()
    print(""Connected to: "" + address[0] + "":"" + str(address[1]))
    return conn

def storeFile(filePath):
    picFile = open(filePath, 'wb')
    print(""Opened the file."")
    pic = conn.recv(1024)
    while pic:
        print(""Receiving picture still."")
        picFile.write(pic)
        pic = conn.recv(1024)
    picFile.close()

def dataTransfer(conn):
    # A big loop that sends/receives data until told not to.
    while True:
        # Receive the data
        data = conn.recv(1024) # receive the data
        data = data.decode('utf-8')
        # Split the data such that you separate the command
        # from the rest of the data.
        dataMessage = data.split(' ', 1)
        command = dataMessage[0]
        if command == 'GET':
            reply = GET()
        elif command == 'REPEAT':
            reply = REPEAT(dataMessage)
        elif command == 'STORE':
            print(""Store command received. Time to save a picture"")
            storeFile(dataMessage[1])
            print(""FINISHED STORING FILE"")
            break
        elif command == 'LED_ON':
            callLED()
            reply = 'LED was on'
        elif command == 'EXIT':
            print(""Our client has left us :("")
            break
        elif command == 'KILL':
            print(""Our server is shutting down."")
            s.close()
            break
        else:
            reply = 'Unknown Command'
        # Send the reply back to the client
        conn.sendall(str.encode(reply))
        print(""Data has been sent!"")
    conn.close()


s = setupServer()

while True:
    try:
        conn = setupConnection()
        dataTransfer(conn)
    except:
        break
</code></pre>

<p>When using IP:</p>

<p>192.168.100.100 : </p>

<blockquote>
  <p>[Errno 99] Cannot assign requested address</p>
</blockquote>

<p>127.162.100.100 or 0.0.0.0:
The socket is being created but android client is not getting connected.</p>

<p>On my android phone i am using an app named TCP/UDP Test Tool which I downloaded from play store.</p>

<p>I am new on linux as well as on raspberry pi 3 B+.</p>

<p>OS: RASPBIAN</p>

<p>PROGRAMMING LANGUAGE: PYTHON 3.5</p>
"
84949,1,2018-06-13T05:28:42.033,1,496,87484,Holmes.Sherlock,2019-08-03T00:03:05.810,2018-09-05T18:52:21.343,0,,"<p>The <a href=""https://www.op-tee.org/docs/rpi3/"" rel=""nofollow noreferrer"">OP-TEE on Raspberry Pi 3</a> webpage says,</p>

<blockquote>
  <p>This port of ARM Trusted Firmware and OP-TEE to Raspberry Pi3 IS NOT SECURE!</p>
  
  <p>Although the Raspberry Pi3 processor provides ARM TrustZone exception
  states, the mechanisms and hardware required to implement secure boot,
  memory, peripherals or other secure functions are not available. Use
  of OP-TEE or TrustZone capabilities within this package <em>does not
  result</em> in a secure implementation.</p>
  
  <p>This package is provided solely for educational purposes.</p>
</blockquote>

<p>The description seems a little vague to me. What mechanisms and hardware do they talk about? Why does RPi3 fall short to provide a secure implementation?</p>
"
85015,1,2018-06-15T00:08:46.340,4,3623,8697,,2020-06-30T14:16:12.207,2019-08-15T05:26:19.827,3,,"<p>Users often seem confused about what Pi model they have and what OS version is installed or how to find details.</p>

<p>Where is this located?</p>
"
85039,1,2018-06-15T18:14:57.377,0,846,87578,,2018-06-15T23:51:42.343,2018-06-15T18:20:54.297,2,,"<p>I use SSH to communicate with my Raspberry Pi (server) from my laptop (Putty client).
I would like to disable root SSH login.
I change the value of ""PermitRootLogin"" to no in the /etc/ssh/sshd_config.
I restart ssh service via the cmd ""sudo service ssh restart""</p>

<p>But, on Putty, I can always login with root password.</p>

<p>How can I disable root ssh login ?</p>

<p>Thx !</p>
"
85061,1,2018-06-16T10:12:23.090,-1,202,19965,,2021-01-08T14:03:05.293,2018-06-16T12:32:36.737,4,,"<p>i've a 100kHz signal and i want to detect every rising edge.
I'm using ISR but edge isn't detected and when detected it's 46µs after the edeg.</p>

<p>How to do?</p>

<p>[EDIT]
Here's the code with pigpio library:</p>

<pre><code>int main (void)
{
    if (gpioInitialise() &lt; 0)
    {
       printf(""FAILED""); // pigpio initialisation failed.
    }
    else
    {
        printf(""OK"");// pigpio initialised okay.
    }
    gpioSetMode (RSPI_DATA, PI_INPUT) ;
    gpioSetMode (RSPI_LATCH, PI_INPUT) ;
    gpioSetMode (RSPI_CLK, PI_INPUT) ;
    gpioSetMode (RSPI_A, PI_OUTPUT) ;
    gpioWrite(RSPI_A,0);
    printf(""bb\n"");
     while(1)
    {
        if (gpioRead(RSPI_LATCH)==1)
        {
            if (gpioRead(RSPI_LATCH)==0)                                    // FALLING
            {
                gpioWrite(RSPI_A,1);
                cpt_nb_clk=0;
                gpioWrite(RSPI_A,0);
            }
        }
    } 
    return 0;
}
</code></pre>

<p>And here's the result:</p>

<p><a href=""https://i.stack.imgur.com/iSkB3.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/iSkB3.png"" alt=""enter image description here""></a></p>
"
85096,1,2018-06-17T10:46:47.317,0,734,87395,,2021-01-20T12:08:00.780,,1,,"<p>i have build a Smartmeter based on an SPI ADC from Analog Devices. The measured values are beeing transfered to an Raspberry Pi with lib bcm2835 for visualization. The lib works with single bytes in its transfer functions and the ADC with 32bit registers. So i have to work with a lot of bit shifting. My Code for this can be found here: <a href=""https://github.com/digitaldex/piMeter/blob/master/spi.h"" rel=""nofollow noreferrer"">Github SPI Routine</a>. </p>

<p>In the next step i want to make use of the Waveform Buffers the ADE9000 offers. The Datasheet says there are 2048 32bit Registers that can be read with a single Command Header continously. </p>

<p>My question is how to adress this amount of data with the bcm2835 library in a useful way. Do i have to declare a receive buffer of 2048 * 4 bytes and puzzle the whole chunck of data together after i have received it? Or is there a better way / other lib that could make my life easier?</p>

<p>Thanks!</p>
"
85138,1,2018-06-19T08:55:08.103,-1,138,87681,,2020-10-21T06:04:50.433,,7,,"<p>I am newbie to Raspberry Pi. 
Here is the script I want to see work:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;wiringPi.h&gt;


#define LED     0

int main (void)
{

  wiringPiSetupGpio() ; // also tried with wiringPiSetup();

  pinMode (LED, OUTPUT) ;

  while(1)
  {
    digitalWrite (LED, 1) ;     // On
    delay (500) ;               // mS
    digitalWrite (LED, 0) ;     // Off
    delay (500) ;
    printf(""Blink \n"");
  }
  return 0 ;
}
</code></pre>

<p>When it is launched, ""Blink"" appears every second but nothing else happen.
I plugged my oscilloscope on the pin 11 aka GPIO_GEN0 aka GPIO17 declared as ""0"" as I saw in the ton of examples on internet.</p>

<p>I checked if my wiringPi was correctly installed, and it was. 
I would try to use man gpio but it answered me there is no manual entry for it. ""gpio -g mode, gpio -g write"" does not work too.</p>

<p>I am sure something missing but I don't know what</p>

<p>Someone has an idea?
Thanks by advance</p>
"
85408,1,2018-06-27T16:50:38.647,5,10651,87973,,2019-01-20T15:30:54.480,,2,,"<p>I would like to have a network for 10+ Pi with a switch (192.168.42.x). This switch is connected to Internet via one port (to an another switch).</p>

<p>I try to have one Pi with the ip (eth0) 192.168.1.127 (which is connected to internet) and a virtual ip like 192.168.42.1 to connect to the other Pi (and they will have Internet via Pi #1)</p>

<p>So far, no luck :)</p>

<p>My dhcpcd.conf : </p>

<pre><code>denyinterfaces eth0

interface eth0.2
static ip_address=192.168.42.1/24
static routers=192.168.42.1
static domain_name_server=1.1.1.1 8.8.8.8
</code></pre>

<p>And i add in /etc/network/interfaces</p>

<pre><code>auto eth0.2
iface eth0.2 inet manual
vlan-raw-device eth0
</code></pre>

<p>I've installed vlan (apt-get install vlan) et /etc/modules contains 8021q.</p>

<p>The interface eth0.2 is displayed when i do a 'ifconfig' but i cannot ping an another pi on the switch (for example with the ip 192.168.42.3). </p>

<p>My ifconfig :</p>

<pre><code>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
    inet 192.168.1.127  netmask 255.255.255.0  broadcast 192.168.1.255
    ether b8:27:eb:4d:36:17  txqueuelen 1000  (Ethernet)
    RX packets 2201  bytes 162493 (158.6 KiB)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 983  bytes 73130 (71.4 KiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth0.2: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
    inet 192.168.42.1  netmask 255.255.255.0  broadcast 192.168.42.255
    inet6 fe80::55c4:a14b:2dec:f810  prefixlen 64  scopeid 0x20&lt;link&gt;
    ether b8:27:eb:4d:36:17  txqueuelen 1000  (Ethernet)
    RX packets 0  bytes 0 (0.0 B)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 135  bytes 8414 (8.2 KiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
    inet 127.0.0.1  netmask 255.0.0.0
    inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
    loop  txqueuelen 1000  (Boucle locale)
    RX packets 130  bytes 7259 (7.0 KiB)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 130  bytes 7259 (7.0 KiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
    inet 10.3.141.1  netmask 255.255.255.0  broadcast 10.3.141.255
    inet6 fe80::baf7:cd15:76c2:e46a  prefixlen 64  scopeid 0x20&lt;link&gt;
    ether b8:27:eb:18:63:42  txqueuelen 1000  (Ethernet)
    RX packets 603  bytes 91522 (89.3 KiB)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 147  bytes 24893 (24.3 KiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<p>My routing table is :</p>

<pre><code>default         livebox         0.0.0.0         UG    202    0        0 eth0
default         192.168.42.1    0.0.0.0         UG    204    0        0 eth0.2
default         10.3.141.1      0.0.0.0         UG    303    0        0 wlan0
10.3.141.0      0.0.0.0         255.255.255.0   U     303    0        0 wlan0
192.168.1.0     0.0.0.0         255.255.255.0   U     202    0        0 eth0
192.168.42.0    0.0.0.0         255.255.255.0   U     204    0        0 eth0.2
</code></pre>

<p>Perhaps, there is too much default route ?
What have I missed ?</p>

<p>Thanks in advance ! :)</p>
"
85415,1,2018-06-28T06:22:48.143,7,34664,53444,,2020-02-27T13:15:06.437,2018-07-01T04:06:10.037,0,,"<p>Goal is to switch an exhaust fan at an outside data-logging station at a solar power station.  The data-collection program is written in Python under Raspbian.</p>

<p>For reading CPU temp at a command line, there is the <code>vcgencmd</code> command.</p>

<p>Example in bash:</p>

<pre><code>echo ""The CPU is at $(vcgencmd measure_temp) degrees.""

The CPU is at temp=39.2'C degrees.
</code></pre>

<p>as the command returns the string ""temp=39.2'C""</p>

<p>I've never personally seen this fail, although I know there is a question about that point.</p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/14396/vcgencmd-measure-temp-doesnt-always-work"">vcgencmd measure_temp doesn&#39;t always work</a></p>

<p>Meanwhile, I would like to obtain the CPU temp in Python.  </p>

<p>Back to the Goal:  the fans are controlled by <code>PiGPIO</code> calls, and during data-logging I keep my external system calls to the minimum (ie., there aren't any other than Python file I/O).  Also, it would be much preferable to get the answer as a simple floating-point value than to extract it from a return strung.</p>

<hr>

<p>The question is:  How to directly get CPU temp in Python?</p>
"
85489,1,2018-06-30T19:41:50.410,1,1999,84747,,2019-11-02T12:02:05.303,,0,,"<p>I've setup my Raspberry pi 3 B with uv4l and have access to the video stream on
<code>http://(raspberry-IP):8080/stream</code> address.</p>

<p>Now, I have Qt5(C++) and OpenCV installed on my main computer.</p>

<p><strong>How can I access the stream frames within a Qt5 project?</strong> Or where can I find information on how to do it?</p>

<p>I've realized the stream is some file format named <code>mjpeg</code> with which I have no experience. Should I use the <code>\stream</code> address to try to access the frames or some other function in the RESTful API of uv4l components? Does OpenCV has any method to access frames from an http stream?</p>
"
85515,1,2018-07-01T18:00:11.513,0,478,13441,,2018-07-13T22:35:44.467,,0,,"<p>I have:</p>

<p><a href=""https://i.stack.imgur.com/Kgv1r.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Kgv1r.png"" alt=""enter image description here""></a></p>

<p>Which is absolutely ideal for the project i work on for my daughter.</p>

<p><a href=""https://i.stack.imgur.com/3DNeh.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3DNeh.png"" alt=""enter image description here""></a></p>

<p>The problem however is that the buttons on the board have separate /dev/input/eventX files. </p>

<p><a href=""https://i.stack.imgur.com/P8P9b.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/P8P9b.png"" alt=""enter image description here""></a></p>

<p>Do you know if this can be 'mapped' somehow, so that there is only one file in /dev/input/ created for all of the buttons (like keyboard, mouse?).</p>

<p>Thanks in advance.</p>
"
85621,1,2018-07-03T22:16:00.383,2,4685,88180,,2019-02-10T00:49:00.373,2018-07-05T21:19:02.827,4,,"<p>I have a number of Pis running jessie, with 2 wifi interfaces. One of the interfaces (wlan1) connects to the local DHCP server, and the other (wlan0) connects to a local ad-hoc network. In jessie this works fine.</p>

<p>I have a new Pi running stretch, and this configuration no longer works.</p>

<p>In /etc/network/interfaces I have</p>

<pre><code>auto lo
iface lo inet loopback

iface eth0 inet manual

allow-hotplug wlan1
iface wlan1 inet manual
wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf

auto wlan0
iface wlan0 inet static
    address 192.168.1.XXX ← insert static IP address here
    netmask 255.255.255.0
    wireless-channel 1
    wireless-essid OLSR
    wireless-mode ad-hoc
</code></pre>

<p>In stretch the /etc/network/interfaces file appears to be deprecated, in favour of dhcpcd.conf. Unfortunately, I cannot figure out a way, using dhcpcd.conf, to configure an ad-hoc interface.</p>

<p>How can I configure an ad-hoc interface in stretch, and still have another interface using DHCP?</p>

<p>Edit: The new PIs are PI 3 B. The previous PIs are also PI 3 B. The onboard WiFi is the ad-hoc interface and the dhcp interface uses an EDIMax N150 WiFi dongle.</p>
"
85678,1,2018-07-05T20:11:18.800,0,272,43843,,2018-07-07T11:58:08.180,2018-07-05T20:44:32.603,2,,"<p>I have problems getting the raspi/wiringPi to work with a <a href=""http://www.bsselektronika.hu/pdf/ic_digit/4094.pdf"" rel=""nofollow noreferrer"">HCF4094 shift register</a>.</p>

<p>I am using the following code part:</p>

<pre><code>#include &lt;wiringPi.h&gt;
#include &lt;wiringShift.h&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;unistd.h&gt;

int LEDClockPin  = 5;
int LEDDataPin   = 3;
int LEDStrobePin = 4;

void setup()
{
    wiringPiSetup();
    pinMode(LEDClockPin, OUTPUT);
    pinMode(LEDDataPin, OUTPUT);
    pinMode(LEDStrobePin, OUTPUT);
}

void writeLEDs(uint8_t value) {
    printf(""%#8x\n"", value);
    std::string s;
    shiftOut(LEDDataPin, LEDClockPin, MSBFIRST, value);
    digitalWrite(LEDStrobePin,HIGH);
    delay(2);
    digitalWrite(LEDStrobePin,LOW);
    std::getline(std::cin, s);
}

int main(int argc, char *argv[]) {
    setup();
    writeLEDs((1&lt;&lt;0));
    writeLEDs((1&lt;&lt;1));
    writeLEDs((1&lt;&lt;2));
    writeLEDs((1&lt;&lt;3));
    writeLEDs((1&lt;&lt;4));
    writeLEDs((1&lt;&lt;5));
    writeLEDs((1&lt;&lt;6));
}
</code></pre>

<p>and I have connected VDD + OE (Output Enable) on +5V, VSS on GND, and Strobe, Data and Clock to the according pins on the Pi.</p>

<p>Here are the pins that are high after each press of [enter]:</p>

<pre><code>value - expected pins - real pins
1     - Q1            - Q1
2     - Q2            - Q2
4     - Q3            - Q2, Q6
8     - Q4            - Q4
16    - Q5            - Q6, Q7
32    - Q6            - Q7
64    - Q7            - Q7
</code></pre>

<p>And I really don't get what I am doing wrong ... Any ideas?</p>
"
85845,1,2018-07-10T15:39:35.090,1,2252,88411,,2021-02-03T17:03:20.413,,1,,"<p>I'm a Raspberry Pi n00b and a python beginner, but I have a lot of experience with DIY electronics, arduino and c#.</p>

<p>I've tried everything I can think of, and I just can't get the Pi to recognise the RF24. </p>

<p>here's my setup</p>

<p>Raspberry Pi 3 model B
nRF24L01+</p>

<p>I'm using <a href=""http://invent.module143.com/daskal_tutorial/raspberry-pi-3-wireless-pi-to-pi-python-communication-with-nrf24l01/"" rel=""nofollow noreferrer"">this tutorial</a> which uses the Blavery version of the RF24 library, but I have tried at least 4 different tutorials and libraries, which all seem pretty similar. </p>

<p>here is the code:</p>

<pre><code>import RPi.GPIO as GPIO
from lib_nrf24 import NRF24
import time
import spidev

GPIO.setmode(GPIO.BCM)

pipes = [[0xe7, 0xe7, 0xe7, 0xe7, 0xe7], [0xc2, 0xc2, 0xc2, 0xc2, 0xc2]]

radio = NRF24(GPIO, spidev.SpiDev())
radio.begin(0, 17)
radio.setPayloadSize(32)
radio.setChannel(0x60)

radio.setDataRate(NRF24.BR_1MBPS)
radio.setPALevel(NRF24.PA_MIN)
radio.setAutoAck(True)
radio.enableDynamicPayloads()
radio.enableAckPayload()

radio.openReadingPipe(0, pipes[1])
radio.printDetails()

radio.startListening()

while(1):
    ackPL = [1]
    while not radio.available(0):
        time.sleep(1 / 100)
    receivedMessage = []
    radio.read(receivedMessage, radio.getDynamicPayloadSize())
    print(""Received: {}"".format(receivedMessage))

    print(""Translating the receivedMessage into unicode characters"")
    string = """"
    for n in receivedMessage:
        # Decode into standard unicode set
        if (n &gt;= 32 and n &lt;= 126):
            string += chr(n)
    print(string)
    radio.writeAckPayload(1, ackPL, len(ackPL))
    print(""Loaded payload reply of {}"".format(ackPL))
</code></pre>

<p>and here is the output:</p>

<pre><code>Warning (from warnings module):
  File ""/home/pi/Desktop/NRF24L01/lib_nrf24.py"", line 377
    self.GPIO.setup(self.ce_pin, self.GPIO.OUT)
RuntimeWarning: This channel is already in use, continuing anyway.  Use GPIO.setwarnings(False) to disable warnings.
STATUS   = 0x0e RX_DR=0 TX_DS=0 MAX_RT=0 RX_P_NO=7 TX_FULL=0
RX_ADDR_P0-1    � = 0x0808080808 0x0808080808 
RX_ADDR_P2-5    � = 0x08 0x08 0x08 0x08 
TX_ADDR      = 0x0808080808 
RX_PW_P0-6  � = 0x08 0x08 0x08 0x08 0x08 0x08 
EN_AA        = 0x08 
EN_RXADDR   � = 0x08 
RF_CH        = 0x08 
RF_SETUP    � = 0x08 
CONFIG       = 0x08 
DYNPD/FEATURE   � = 0x08 0x08 
Data Rate    = 2MBPS
Model        = nRF24L01
CRC Length   = 8 bits
PA Power     = PA_MIN
</code></pre>

<p>Sometimes the addresses are different, but they never match the addresses from the code.</p>

<p>I've tried checking all the wiring with a multimeter, and it seems to be solid. I've tried with many different wires including ribbon cable directly to the nRF24 module and using a breadboard with the breakout. I tried using a capacitor on the power supply to the RF24. I tried sever different RF modules, all of which I tested with an Arduino and they work fine. I tried it with a Raspberry Pi 2, and had more or less the same results. </p>

<p>As its my first time using Pi, I don't really know the steps for how to debug the problem. I unfortunately don't have an oscilliscope/signal analyzer, so it's hard to test the serial pins. Any suggestions would be greatly appreciated!</p>

<p>thanks</p>
"
85933,1,2018-07-12T09:39:49.287,0,350,88478,,2020-02-12T23:02:20.313,2018-07-12T17:28:39.223,2,,"<p>I tried to create a network so that I can see my pi's output anywhere from within the network.</p>

<p>One pi has the data/ output.</p>

<p>I tried to send the data to another pi which acts as a router(connection via ethernet).</p>

<p>Initially, I could access my first pi's data through an already established network.</p>

<p>Now, I created a new network using another pi, but still when I connect the two pi's via ethernet I could not access the output of first pi and I could not even connect to the network i created.</p>

<p>I'm new to raspbian. So far, what I have done? I did it by following some tutorials.</p>

<p>Please help me how to connect two pi's: one which acts as router and other acts as source of information I want to access.</p>
"
87039,1,2018-07-15T08:43:27.607,0,98,89577,,2018-07-15T09:19:15.073,2018-07-15T08:58:00.007,2,,"<p>I am trying to execute the code where the LED will be blinking until the button is pressed. Once the button is pressed, the LED should be 'On' without blinking. The issue is that the LED keeps blinking even when the button is pressed. Here is my code:</p>

<pre><code>import RPi.GPIO as GPIO
import time
GPIO.setmode(GPIO.BCM)
GPIO.setup(17,GPIO.OUT)
GPIO.setup(2, GPIO.IN, pull_up_down=GPIO.PUD_UP)

while True:
        GPIO.output(17,True)
        time.sleep(1)
        GPIO.output(17, False)
        time.sleep(1)
        button_state=GPIO.input(2)
        if button_state==True:
                    GPIO.output(17, True)  
</code></pre>
"
87203,1,2018-07-19T22:18:19.623,2,76,89749,,2021-02-13T03:07:45.763,2018-07-20T08:37:36.813,0,,"<p>I have KY040 rotary switcher(encoder) as shown below picture.</p>

<p><a href=""https://i.stack.imgur.com/47IpW.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/47IpW.jpg"" alt=""enter image description here""></a></p>

<p>It is the scenario that there are 5 radio stations(simple html url) in <code>urls.txt</code> which are read into <code>stations</code> list in <code>radyoCS.py</code>, at every switch(turn) station is changed. I'm using the rotary switch to do that. The radio player is <a href=""http://www.mplayerhq.hu/design7/news.html"" rel=""nofollow noreferrer"">MPlayer</a> which can be run via terminal like <code>mplayer -playlist &lt;url&gt;</code>. <code>playStation(numberOfStation)</code>  uses <code>subprocess.Popen(....)</code> to run MPlayer with the given station. It simply switches between the urls. <strong>The problem is after 2nd switch the application is stuck.</strong> The way is my solution. If you have any better idea, please let me know.</p>

<p>radyoCs.py</p>

<pre><code>import os

import re
import subprocess


### READ RADIO STATIONS FROM FILE AT FIRST ###

playlist = [""m3u"", ""pls"", ""asx""]

f = open('urls.txt', 'r')
stations = [line for line in f.readlines()]
f.close()

print('\n'.join(str(p) for p in stations))

### FUNCTIONS ###
def playStation(i):
    os.system(""killall mplayer"")
    if any(x in stations[i] for x in playlist):
        radioName = 'mplayer ' + '-prefer-ipv4 ' + '-playlist ' + stations[i]
        p = subprocess.Popen(radioName.split(), stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
    else:
        radioName = 'mplayer ' + '-prefer-ipv4 ' + stations[i]
        p = subprocess.Popen(radioName.split(), stdout=subprocess.PIPE, stderr=subprocess.STDOUT)


    ### the below part is to grap radio station name and track being played and print ###
    for line in p.stdout:
        if line.startswith(('ICY Info:'.encode(), 'Name'.encode())):
            if 'Name'.encode() in line:
                nameStr = str(line)
                searchRadioName = re.search(r'(?&lt;=:\s).*?(?=\\n)', nameStr, re.M | re.I)
                if searchRadioName:
                    print(searchRadioName.group())

            if 'ICY Info:'.encode() in line:
                trackStr = str(line)
                searchTrackName = re.search(r'(?&lt;=\=\').*?(?=\'\;)', trackStr, re.M | re.I)
                if searchTrackName:
                    print(searchTrackName.group())
    return p
</code></pre>

<p>main.py</p>

<pre><code>import os
import signal
import time

import RPi.GPIO as GPIO
from time import sleep

import radyoCS


GPIO.setmode(GPIO.BCM)

### PINS ###
CLOCKPIN = 16
DATAPIN = 15
SWITCHPIN = 14

# setup pins
GPIO.setup(CLOCKPIN, GPIO.IN)
GPIO.setup(DATAPIN, GPIO.IN)
GPIO.setup(SWITCHPIN, GPIO.IN, pull_up_down=GPIO.PUD_UP)


MIN_LIMIT_CHANNEL = 0
MAX_LIMIT_CHANNEL = 5

# for testing purpose, it is actually 0
counter = 2


try:
    while True:

        pid = os.fork()

        if pid == 0:
            print(""i'm child my pid =&gt; "" + str(os.getpid()) + ""my parent =&gt; "" + str(os.getppid()))
            #radyoCS.playStation(t)
            print(counter)

            ### normally playStation does work, control is takeovered by '''mplayer''' !!!!
            time.sleep(100)
        else:
            ### wait until rotary switcher turns
            GPIO.wait_for_edge(CLOCKPIN, GPIO.FALLING)

            clock = GPIO.input(CLOCKPIN)
            data = GPIO.input(DATAPIN)

            ### stop current child to create new child
            ### stop currently playing radio station to change to new station
            os.kill(pid, signal.SIGKILL)

            print(""i'm waiting, value t &gt; "" + str(t))

            ### We have 5 radio stations, if data==1 turned counter clokwise, otherwise clockwise
            if data == 1:
                if counter == MIN_LIMIT_CHANNEL:
                    counter = MAX_LIMIT_CHANNEL + 1
                counter -= 1
            else:
                if counter == MAX_LIMIT_CHANNEL:
                    counter = MIN_LIMIT_CHANNEL - 1
                counter += 1


        sleep(0.1)
finally:
    GPIO.cleanup()
</code></pre>

<p>urls.txt</p>

<pre><code>http://rss-streaming.co.uk:8062/listen.pls?sid=1
http://142.4.206.137:26284/
http://dir.xiph.org/listen/922068/listen.m3u
http://retroserver.streamr.ru:8043/retro128.m3u
http://stream.funradio.sk:8000/80-90-128.mp3.m3u
http://www.guldkanalen.se/static/streamGK/WMA.asx
</code></pre>

<p>Minimal <code>fork()</code> part,</p>

<pre><code>try:
    while True:

        pid = os.fork()

        if pid == 0:
            print(""i'm child my pid =&gt; "" + str(os.getpid()) + ""my parent =&gt; "" + str(os.getppid()))
            #radyoCS.playStation(t)
            print(counter)

            ### normally playStation does work, control is takeovered by '''mplayer''' !!!!
            time.sleep(100)
        else:
            ### wait until rotary switcher turns
            GPIO.wait_for_edge(CLOCKPIN, GPIO.FALLING)

            clock = GPIO.input(CLOCKPIN)
            data = GPIO.input(DATAPIN)

            ### stop current child to create new child
            ### stop currently playing radio station to change to new station
            os.kill(pid, signal.SIGKILL)

            print(""i'm waiting, value t &gt; "" + str(counter))

            ### We have 5 radio stations, if data==1 turned counter clokwise, otherwise clockwise
        if data == 1:   # counter clokwise
            if counter == MIN_LIMIT_CHANNEL:
                counter = MAX_LIMIT_CHANNEL + 1
            counter -= 1
        else:           # clockwise
            if counter == MAX_LIMIT_CHANNEL:
                counter = MIN_LIMIT_CHANNEL - 1
            counter += 1


        sleep(0.1)
finally:
    GPIO.cleanup()
</code></pre>
"
87297,1,2018-07-23T09:43:12.293,1,112,50357,,2018-07-24T01:38:02.457,,3,,"<p>It's been two years since I modified my raspberry pi 3(model B).</p>

<p>In linux 4.1 I usually change the value of <strong>/sys/module/bcm2709/parameters/reboot_part</strong> to switch OS I want. But now I can't find it on linux 4.14.</p>

<p>Guys on IRC tell me it's no longer exist：</p>

<blockquote>
  <p>[17:24]  Guest21160: it no longer exists. You can run 'reboot $part_no' instead</p>
</blockquote>

<p>After command ""reboot -f 5"", it still boot from partition 1.</p>

<p>I think reboot command may need re-built, but does anyone know where I can get the source?</p>
"
87410,1,2018-07-26T14:09:49.933,0,459,89979,,2018-07-27T00:37:34.250,2018-07-26T15:00:00.670,3,,"<p>I have been working on a project and everything is working.  I just want a bit more insight on what every line of code does.  It's one thing to write it,  it's completely different to understand it.</p>

<pre class=""lang-py prettyprint-override""><code>import RPi.GPIO as GPIO # I know the import code
import time

# I AM MORE KEEN TO FIND OUT THE NEXT FEW LINES MEANINGS AND WHAT THEY DO,

GPIO.setmode(GPIO.BCM) 
GPIO.setup(4, GPIO.OUT)

GPIO.output(4, GPIO.LOW)
time.sleep(5) # I KNOW THIS 
GPIO.output(4, GPIO.HIGH)
GPIO.cleanup()

print ""Done!"" # I KNOW THIS
</code></pre>
"
87601,1,2018-07-31T21:43:50.863,1,112,90194,,2021-02-19T11:02:05.203,,3,,"<p>Bash script in
<a href=""https://raspberrypi.stackexchange.com/questions/9791/how-can-i-automatically-update-the-hwclock-with-ntp-when-i-have-internet-connect"">How can I automatically update the hwclock with NTP when I have internet connection</a>
seems not to run as expected in Raspbian Stretch 9.4</p>

<p>The log file will be created with the first reading but no more readings will be appended to the file.</p>

<pre><code>pi@raspberrypi:~$ ls -al hwc*
-rw-r--r-- 1 pi pi   84 Jul 31 18:40 hwcsynch.log
-rwxr-xr-x 1 pi pi 1783 Jul 31 18:39 hwcsynch.sh
</code></pre>

<p>crontab -e to have the script run every minute for testing purposes:</p>

<pre><code>* * * * * /home/pi/hwcsynch.sh
</code></pre>

<p>Only the first reading is added to the file. Following readings will not.</p>

<pre><code>pi@raspberrypi:~$ cat hwcsynch.log
Tue 31 Jul 18:40:02 CEST 2018: Connection to time-server. HwClock difference: 1 sec
</code></pre>

<p>And then run the bash script from prompt just to make sure it works:</p>

<pre><code>pi@raspberrypi:~$ ./hwcsynch.sh
Connection to time-server
---------------------------------
HwClock: 1533055729 sec
SysClock: 1533055728 sec
---------------------------------
Difference: 1 sec
</code></pre>

<p>So I assume the script is running properly. Maybe it has to do with...?</p>

<pre><code>if !(awk '/./{line=$0} END{print line}' $LOGFILE | grep -q ""$msgConnection"") || [ ""$secDiff"" -gt ""$maxDiffSec"" ]; then
        echo $(date)"": ""$msgConnection"". ""$msgDiff &gt;&gt; $LOGFILE
fi
</code></pre>
"
87846,1,2018-08-07T18:25:44.570,7,16253,49291,,2021-01-27T09:25:51.230,,6,,"<p>I'm currently using Python's RPi.GPIO module to toggle some pins, and I want to know how quickly it can do this. I need the pins to be toggled on the schedule of a ~50 mhz FPGA clock, which I'm worried is too fast for the Pi (I need 8 pins toggled). I'm using the Pi 3b+, and I've seen estimates for speed varying from .3 mhz to 30 mhz, and that's just with Python - they vary even more widely when I look at other languages/packages.</p>

<p>What is the fastest that the GPIO pins on the Pi 3b+ can be toggled with Python's RPi.GPIO module? With any language/module? Will this be able to keep up with my FPGA clock? (The Pi is being used to feed inputs to the FPGA.)</p>
"
87959,1,2018-08-10T18:29:03.907,0,200,69725,,2018-08-11T07:37:55.360,2018-08-11T07:37:23.010,0,,"<p>I am trying to grasp the purpose of static versus dynamic addressing, specifically when applied to private network. 
I am using SSH to connect from my PC to RPi via Ethernet.</p>

<p>The RPi has static IP which I simply type as parameter to ssh
like this:</p>

<pre><code>os64@os64-desktop:~$ ssh pi@10.0.1.38 
</code></pre>

<p>I have not figured out how to use DNS to name this connection.
I do not see any such configuration in raspi-config to associate DNS with SSH. </p>

<p>How can this be accomplished with commands - using SSH as test  bed?</p>
"
88105,1,2018-08-14T21:04:01.673,0,593,81298,,2018-08-15T00:47:08.807,,0,,"<p>Trying to follow the instructions here (<a href=""https://www.linuxjournal.com/content/better-raspberry-pi-streaming-solution"" rel=""nofollow noreferrer"">https://www.linuxjournal.com/content/better-raspberry-pi-streaming-solution</a>) but can't get their repository to work. I'm using stretch on a Pi3.</p>

<p>I changed my /etc/sources.list to include this line;
deb <a href=""http://www.linux-projects.org/listing/uv4l_repo/raspbian/stretch"" rel=""nofollow noreferrer"">http://www.linux-projects.org/listing/uv4l_repo/raspbian/stretch</a> stretch main</p>

<p>Added the key using;
curl <a href=""http://www.linux-projects.org/listing/uv4l_repo/lrkey.asc"" rel=""nofollow noreferrer"">http://www.linux-projects.org/listing/uv4l_repo/lrkey.asc</a> | sudo apt-key add -</p>

<p>But when I try to run  sudo apt-get update  I get this error;
W: GPG error: <a href=""http://www.linux-projects.org/listing/uv4l_repo/raspbian/stretch"" rel=""nofollow noreferrer"">http://www.linux-projects.org/listing/uv4l_repo/raspbian/stretch</a> stretch InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 978FA72DF442B950
W: The repository '<a href=""http://www.linux-projects.org/listing/uv4l_repo/raspbian/stretch"" rel=""nofollow noreferrer"">http://www.linux-projects.org/listing/uv4l_repo/raspbian/stretch</a> stretch InRelease' is not signed.
N: Data from such a repository can't be authenticated and is therefore potentially dangerous to use.</p>

<p>Can anyone help me with this?</p>
"
88107,1,2018-08-14T21:33:17.723,2,2218,42282,,2018-08-16T07:57:47.027,,0,,"<p>I have a Python script running at boot, on a Raspberry Pi, and of course I didn't write down how I set it up. Now I need to change it, and I can't for the life of me figure out how it's getting launched. How can I figure this out?</p>

<p>I've searched for methods to launch a script at boot, in the hopes that I will stumble across the right one. For instance, <a href=""https://www.dexterindustries.com/howto/run-a-program-on-your-raspberry-pi-at-startup/"" rel=""nofollow noreferrer"">Run a Program On Your Raspberry Pi At Startup</a> gives several options, and I've gone through each of them, to walk through the setup, and see if I already changed the settings. None of them seem to be what I did.</p>

<ul>
<li><code>/etc/rc.local</code> is pretty empty</li>
<li>It's not in <code>~/.bashrc</code> (and I wouldn't want it to be — I want it to run at boot, not when I log in)</li>
<li>As far as I can tell, it's not in <code>/etc/init.d/</code>, but I suppose the launcher script could be named something that I'm not expecting?</li>
<li>It's not set up as a <code>systemd</code> service (Again, as far as I can tell — maybe I named it something weird?)</li>
<li>There are no <code>crontab</code> entries</li>
</ul>

<p>If I search running processes, I get this:</p>

<pre><code>$ ps aux | grep python
root       452  0.0  0.0   1912   396 ?        Ss   12:18   0:00 /bin/sh -c sudo python /home/pi/tikinook/nook_controller.py
root       453  0.0  0.3   6968  3228 ?        S    12:18   0:00 sudo python /home/pi/tikinook/nook_controller.py
root       486 11.7  3.7 110344 35912 ?        Sl   12:18   0:04 python /home/pi/tikinook/nook_controller.py
pi        1205  0.0  0.2   4280  1948 pts/0    S+   12:19   0:00 grep --color=auto python
</code></pre>

<p><code>nook_controller.py</code> is definitely the right Python script, and I'm guessing the <code>/bin/sh</code> means it's being run from a shell script… but I am still at a loss of where that shell script lives. Any ideas what my next steps would be to track this down?</p>
"
88173,1,2018-08-16T09:07:07.263,0,256,90766,,2018-08-21T17:51:57.593,2018-08-20T06:48:04.930,0,,"<p>I have a Rpi, which is behind NAT (4G carrier), but I've managed to expose ports to be accessible from the internet using <a href=""https://www.remot3.it"" rel=""nofollow noreferrer"">https://www.remot3.it</a>.
I want to use the Rpi as proxy, so I can access a IP Webcam which is in the same LAN as the PI.</p>

<p>The IP Cam is providing web interface on port 80.</p>

<p>How to use the Pi to forward PI:81 connections to IPCAM:80?</p>
"
88214,1,2018-08-17T14:37:26.623,23,24648,79866,,2021-01-15T00:46:49.160,2020-05-12T20:51:57.877,0,,"<p>I know how to do it the classic way as described for example by the official documentation at <a href=""https://www.raspberrypi.org/documentation/configuration/wireless/"" rel=""noreferrer"">Wireless connectivity</a>. But that needs many different components which must play together and each component must be configured its own way. These are <em>networking (ifupdown)</em>, <em>dhcpcd</em>, <em>hostapd</em>, <em>dnsmasq</em> and <em>bridge-utils</em>.</p>

<p>Nowadays <em>Raspbian Stretch</em> has all needed components built in so it is not necessary to install additional software. This could simplify the setup a lot.</p>

<p>Is it possible just to configure <em>Raspbian</em> to work as an wifi access point without installing additional software?</p>
"
88469,1,2018-08-25T02:16:30.667,2,558,24720,,2018-08-25T05:18:45.280,,2,,"<p>I'm currently writing a research paper on the power consumption of a raspberry pi 3 and a raspberry pi zero wireless.</p>

<p>One question I have as far as shutdown goes (I'm trying to achieve a powered off state as quickly as possible for duty-cycling):</p>

<p>Can we safely call <code>halt -f</code>? From my understanding, it doesn't explicitly unmount the sdcard filesystems, but it does call <code>sync</code> first, as you have to pass the <code>-n</code> flag for it not to. Additionally, as the green LED stays lit, it seems the card continues to be powered until after the CPU is completely shutdown, meaning any wear-leveling operations should certainly have time to finish.</p>

<p>I'm aware some executables really should be called before shutdown, such as those for saving the random seed and the fake-hwclock value, but that should be it, right? Or am I missing something and we really do need to call <code>shutdown</code>?</p>

<p>Any help would be appreciated. Citations would be helpful, but are not necessary, I've been looking into this for a while and am perfectly happy doing more work if someone can just point me in the right direction.</p>

<p>TL;DR: Is calling <code>halt-f</code> regularly on an RPi safe for the SDCard?</p>
"
88849,1,2018-09-06T00:07:18.647,0,2897,56962,,2018-09-06T11:19:09.237,,5,,"<p>I have been enlisted by the local engineering club (as a programmer myself) to help with their hydroponics project. Basically they are needing help accessing the Pi remotely and this is as much as i know as of now. I promised to do some research and am in need of some help.</p>

<p>What would be the best way to deploy a server on the raspberry pi in 2018 assuming I am most familiar with python and flask when it comes to the Pi?</p>
"
88954,1,2018-09-10T13:54:28.030,9,10887,79866,,2020-08-20T23:45:20.583,,0,,"<p>I want to bridge the wifi interface with the ethernet interface on a Raspberry Pi so any device on the ethernet port becomes a member of the wifi network. Usually this is done by a bridge (OSI layer 2) but on wifi you need <strong>WDS</strong> (wireless distribution system) with <code>4addr</code> to do it. Unfortunately <strong>WDS</strong> isn't supported by the wifi on board chip of a Raspberry Pi so we have to workaround it with <strong>proxy arp</strong>. <a href=""https://wiki.debian.org/BridgeNetworkConnectionsProxyArp"" rel=""noreferrer"">Bridging Network Connections with Proxy ARP</a> shows how to do it on a Debian system. But it uses old style <em>networking</em> that isn't supported out of the box by <em>Raspbian</em>.</p>

<p>How can I make <strong>proxy arp</strong> available on a Raspberry Pi with Raspbian?</p>
"
89010,1,2018-09-12T17:25:16.523,1,576,90815,,2018-09-12T18:04:11.887,2018-09-12T17:57:50.097,0,,"<p>I followed the instructions <a href=""https://raspberrypi.stackexchange.com/questions/45570/how-do-i-make-serial-work-on-the-raspberry-pi3-pi3b-pizerow/45571#45571"">here</a> to disable Bluetooth so that <code>/dev/ttyAMA0</code> is available, which it is.</p>

<p>I wrote a small Python script to open <code>/dev/ttyAMA0</code> and send some random data, and I could receive this data just fine on another computer.</p>

<p>Using .NET Framework and Mono, however, was not as successful.</p>

<p>I initially wrote a simple console application which just lists available ports with <code>SerialPort.GetPortNames()</code>. This just displays <code>/dev/ttyS0</code>, which is the Mini UART port with all its limitations.</p>

<p>I tried connecting to <code>/dev/ttyAMA0</code>, even though it doesn't appear in the list, and this seems to work and I can write and read from it. Though, because it doesn't appear in <code>GetPortNames()</code> I can't use some validation code to check that the port name the user has entered actually exists. And I'm sure this will come back to bite me at some point with something else that suddenly doesn't work as expected.</p>

<p>Why can't Mono see <code>/dev/ttyAMA0</code>?</p>
"
89063,1,2018-09-14T20:35:21.123,0,2465,79480,,2018-09-16T10:30:31.053,,0,,"<p>I have got a new <strong>Raspberry Pi 3 B+</strong> model. I'm using <strong>Noobs</strong> package for Pi OS. </p>

<p>Now, I have the only laptop. So, after seeing some online tuts I'm thinking, can I configure WiFi in Pi via terminal. I've one WiFi router. I've seen that, in order to connect headlessly via Putty, I need to connect my Pi to the WiFi router. And that's by using Monitor and Keyboard. Like, Insert SD card in Pi and after attaching Keyboard and mouse and HDMI monitor to Pi, just power the Pi. </p>

<p>After it boots up, we went to configuration setting and enables SSH and VNC ( if I need it later). And from WiFi settings connect the Pi to a router. And after connecting to WiFi, Open up the terminal and type <code>ifconfig</code> and then in <code>wlan0</code> section, we can see the IP address and we literally use it to access Pi via Putty from the remote computer.</p>

<p>Now, as I have know Monitor or Keyboard available, Is there any way I can connect my Raspberry Pi to my WiFi router and get the IP address to access Pi via Putty from the remote computer. </p>
"
89072,1,2018-09-15T01:07:42.087,1,1460,91794,,2018-09-15T07:56:27.353,,3,,"<p>I want to use the GPIO pins to wait for a button-press without using a CPU spin loop. My preferred way of using the GPIO pins is via the sysfs interface at <code>/sys/class/gpio</code>, but it seems to me that there is an inherent race condition in doing so. Namely, if I understand the sysfs interface to GPIO correctly, it seems one must go through the following sequence:</p>

<ol>
<li>Read the <code>value</code> file to see whether the desired condition holds true.</li>
<li>If it does not (the usual case for the first iteration), poll the value file for <code>POLLPRI</code> to sleep until it changes state, and repeat from step 1.</li>
</ol>

<p>However, in this procedure, there is a window of opportunity between steps 1 and 2 such that the button is not yet pressed when the value is read, but then pushed right before entering doing the <code>poll</code> call, in which case this particular button press would effectively be missed.</p>

<p>I mean, I realize that a low-frequency event like button presses doesn't really have a high probability of triggering this race condition, but there are certainly more high-frequency events that could, and even regardless of that, it just seems ugly. Is there a way to avoid this problem?</p>
"
89106,1,2018-09-15T23:55:16.317,0,721,29567,,2018-09-16T02:13:19.300,2018-09-16T02:05:03.593,0,,"<p>I'm trying to create a kiosk mode for Raspberry Pi, but I also want to be able to display a countdown (near the bottom) to a specific time like 9:00am and show itself like 0:00 or 00:00 respectively. The countdown needs to be independent of when the images change.</p>

<p>What is the best way to do this? Is there a viewer that already has this type of option?</p>

<p>I'm currently using feh which works for displaying the images, but has no way of showing the countdown. It would also be really nice to have the countdown automatically start and stop at different times, but I can work on that after I find a way to get it to show.</p>

<p>Thanks!</p>
"
89113,1,2018-09-16T10:06:53.960,1,326,91830,,2018-09-18T13:40:50.150,2018-09-17T12:16:20.460,4,,"<p>I have bought a GY-86 sensor. it is comprised of an accelerometer/gyroscope (Mpu6050) a magnetometer(HMC5883L) and a barometer(MS5611-01BA01). all these sensors have I2C interface.</p>

<p>I am reading the temperature and pressure from the barometer. the device appears to work fine. It responds to commands accordingly(I can write and read from sensor as described in datasheet). but the problem is that I keep reading a constant value(temp=20.0005625). temperature and pressure do not change.
while in fact the the value should be jumping up and down!!!</p>

<p>also regardless of what resolution I use for conversion(256 or 1024 or 4096 bit ADC conversion), I get the same value.</p>

<p>could you please help me? I have raspbian OS. to test the sensor I have written a code in python. I also used i2cset and i2cget commands and got the same result</p>

<hr>

<p>edited:</p>

<p>I found the problem. I have enclosed my code below. this code is modified. I am coding in python and I use smbus library. </p>

<p>in the previous code I used to call write_byte() function to send a command to sensor and then call read_byte() function to get the response. <strong>But the sensor returns more than one byte.</strong></p>

<p>if I call write_byte() to tell the sensor to start the conversion and then call read_byte() 2 times, I get IO Exception the second time. in that case I can read only one byte. </p>

<p>in cases that the sensor returns 2 bytes I can use <strong>read_word_data(addr,cmd)</strong>.</p>

<p>but in some cases the sensor returns 3 bytes. for that used <strong>read_block_data(addr,cmd)</strong> which returns returns long[]. but when I call this function the program halts and the raspberry does not respond any more.I have to reboot raspberry.</p>

<p>for reading more that 2 bytes there is another function in smbus library. when I call <strong>read_i2c_block_data(addr,cmd)</strong> it returns an array of size 32. while the sensor is supposed to return only 3 bytes.</p>

<p><strong>example output of read_i2c_block_data:</strong> 
[127,80,66,63,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]</p>

<p>how should I exactly read 3 bytes from i2c interface?</p>

<p>read start_conversion and get_conversion methods</p>

<pre><code>#!/usr/bin/python

import smbus
import time
import sys

class MS5611:

    ms5611_addr= 0x77
    ms5611_d1= 0x40
    ms5611_d2= 0x50
    ms5611_reset=0x1e
    ms5611_adc_read=0

    ms5611_osr_256= 0x00
    ms5611_osr_512= 0x02
    ms5611_osr_1024= 0x04
    ms5611_osr_2048= 0x06
    ms5611_osr_4096= 0x08 

    ms5611_prom_base_addr= 0xa2
    ms5611_prom_reg_count= 6
    ms5611_prom_reg_size= 2

    conversion_time= .1 #time in seconds
    extra_precision=5

    channel=1;
    prom=[]


    def __init__(self,addr):

        self.lastTempConv =0
        self.lastPresConv =0
        self.presCache=-1
        self.tempCache=-1

        self.ms5611_addr=addr
        self.bus=smbus.SMBus(self.channel)
        self.reset()
        self.readPROM()
        print(self.prom)

    def reset(self):
        self.bus.write_byte(self.ms5611_addr,self.ms5611_reset)
        time.sleep(0.01)

    def readPROM(self):
        for i in range(self.ms5611_prom_reg_count):

            temp=self.ms5611_prom_base_addr + (i *self.ms5611_prom_reg_size)
            t1=self.bus.read_word_data(self.ms5611_addr,temp)

#           self.bus.write_byte(self.ms5611_addr,temp)
#           time.sleep(0.01)

#           t1= self.bus.read_byte(self.ms5611_addr)
#           time.sleep(0.01)

            self.prom.append(t1)

        def getConversion(self):
 #               self.bus.write_byte(self.ms5611_addr,self.ms5611_adc_read)
#                t1= self.bus.read_byte(self.ms5611_addr)

                t1= self.bus.read_i2c_block_data(self.ms5611_addr, self.ms5611_adc_read)
        print(""inside getconversion: "" + str(t1))
                return t1

        def startConversion(self,command):

                self.bus.write_byte(self.ms5611_addr,command)


    def readBlock(self,command):
        return self.bus.read_i2c_block_data(self.ms5611_addr,command)


        def rawTemperature(self,osr):

                now = time.time()
                if self.lastTempConv !=0 and (now - self.lastTempConv) &gt;= self.conversion_time:

                        self.lastTempConv=0
                        return self.getConversion()

        else:

            if self.lastTempConv ==0 and self.lastPresConv==0:
                self.startConversion(self.ms5611_d2 + osr)
                self.lastTempConv  = now

            elif self.lastPresConv!=0 :
                return self.tempCache

            else:
                return None




        def rawPressure(self,osr):

                now = time.time()
                if self.lastPresConv !=0 and (now - self.lastPresConv) &gt;= self.conversion_time:

                        self.lastPresConv=0
                        return self.getConversion()

        else:

            if self.lastPresConv ==0 and self.lastTempConv==0:
                self.startConversion(self.ms5611_d1 + osr)
                self.lastPresConv  = now

            return None



    def getDeltaTemp(self,osr):

        rawTemp = self.rawTemperature(osr)

        if rawTemp != None:
            return rawTemp - (self.prom[4]&lt;&lt;8)
        else:
            return None



    def getTemperature(self,osr):

        dt=self.getDeltaTemp(osr)

        print(""inside getTemperatue.dt: ""+str(dt))

        if dt!= None:
            return((1&lt;&lt;self.extra_precision)*20001 + ( (dt * self.prom[5]) &gt;&gt; (23-self.extra_precision) ) ) /((1&lt;&lt;self.extra_precision) * 100.0)
        else:
            return None



    def getPressure(self,osr):

        rawPress = self.rawPressure(osr)
        dt = self.getDeltaTemp(osr)

        if(dt==None or rawPress==None):
            return None

        off= (self.prom[1] &lt;&lt;16) + ((self.prom[3] * dt) &gt;&gt; 7)
        sens= (self.prom[0] &lt;&lt;15) + ((self.prom[2] * dt) &gt;&gt;8)

        return ((((rawPress * sens) &gt;&gt; 21) -off) &gt;&gt; (15-self.extra_precision)) / ((1&lt;&lt;self.extra_precision) * 100)
</code></pre>
"
89233,1,2018-09-20T02:24:47.210,1,1293,90276,,2018-09-21T09:03:42.520,,3,,"<p>I'm trying to turn my Pi into a bridge using a wifi adapter and it's ethernet port plugged into the router through a couple floors worth of wires and switches. Doing so however removes me of the ability to ssh into it. I thought maybe it's because as the two interfaces are bridged, they lose their ip's and are controlled by br0, but sshd.conf has the default setup to listen on all ips (although on a different port than 22). </p>

<p>I am following the bridging section of this guide: <a href=""https://www.raspberrypi.org/documentation/configuration/wireless/access-point.md#internet-sharing"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/documentation/configuration/wireless/access-point.md#internet-sharing</a></p>

<p>Through trial and error I discovered the problem occurs after editing <code>/etc/network/interfaces</code>. Here's my current file:</p>

<pre><code>auto br0
iface br0 inet manual
bridge_ports eth0 wlan0
//
bridge_stp off
bridge_fd 0
bridge_maxwait 0
up /etc/init.d/ssh restart
</code></pre>

<p>The slashes are added here in to signify all lines under it are from another stack exchange question on the matter that suggested adding them, so I'm unsure what they do exactly, but adding them hasn't made a difference - ssh is unusable with just the first three, or all of them. </p>

<p>I am using a Pi-1.</p>
"
89301,1,2018-09-22T09:55:57.517,0,602,91765,,2019-01-11T00:25:59.483,,1,,"<p>I have a Raspberry Pi 3 B+. I would like to have the hostname displayed in the top bar (LXPanel), similar to a panel applet/plugin.</p>

<p>How can this be done?</p>
"
89354,1,2018-09-24T19:47:55.983,0,333,90246,,2018-09-25T20:24:28.370,,5,,"<p>E: Syntax error /etc/apt/apt.conf.d/01autoremove:4: Extra junk after value</p>
"
89559,1,2018-10-02T11:03:54.497,1,128,92386,,2019-01-20T21:55:21.393,,0,,"<p>I decided to start monitor mode on my Raspberry PI0 but I messed up somethings afterwards and decided to reinstall kali linux but after reinstalling it I was not able to connect to the internet and when I checked for wifi adapters using <code>ifconfig</code> I saw 3 devices there-1)lo 2)wlan0 3)mon.wlan0
I looked up the internet for solutions and found out that I would have to close monitor mode to connect to internet but I am not able to do so as its a fresh installation. <code>iwconfig wlan0 mode managed</code> doesn't work. Help would be appreciated.</p>
"
89670,1,2018-10-05T05:43:15.620,0,351,92491,,2018-10-05T11:57:08.810,2018-10-05T09:26:31.637,8,,"<p>I am working on a network security project that can inspect network traffic before forwarding and accepting traffic from the internet. </p>

<p>I have a R-Pi B+ Model running raspbian stretch lite where the in-built NIC is connected to my ISP router and i also have a wireless USB adapter to create a wireless network where clients can connect to. (Used hostapd and isc-dhcp-server for this). I used this tutorial to set up the R-Pi as a wireless AP <a href=""https://learn.adafruit.com/setting-up-a-raspberry-pi-as-a-wifi-access-point?view=all"" rel=""nofollow noreferrer"">https://learn.adafruit.com/setting-up-a-raspberry-pi-as-a-wifi-access-point?view=all</a></p>

<p>Here is what my set up looks like:</p>

<pre><code>Smartphone(192.168.42.10) ---&gt; wlan0(192.168.42.1) ---&gt; R-Pi---&gt; eth0(192.168.0.17) ---&gt; ISP Router(192.168.0.1) ---&gt; Internet
</code></pre>

<p>My ip route command looks like this:</p>

<pre><code>default via 192.168.0.1 dev eth0
192.168.0.0/24 dev eth0 proto kernel scope link src 192.168.0.17
192.168.42.0/24 dev wlan0 proto kernel scope link src 192.168.42.1
</code></pre>

<p>When i run traceroute, it shows that packets are first sent to the R-Pi before it goes to my ISP route which is of course expected.</p>

<pre><code>Tracing route to one.one.one.one [1.1.1.1]
over a maximum of 30 hops:

1     1 ms     1 ms     1 ms  192.168.42.1
2     1 ms     1 ms     1 ms  192.168.0.1
</code></pre>

<p>For instance, i tried blocking 31.13.86.36 (facebook.com) on all the iptables chains, but nothing is being blocked. I can still ping/browse from client machines. Here is what my iptables look like</p>

<pre><code>Chain INPUT (policy ACCEPT 1355 packets, 104K bytes)
num   pkts bytes target     prot opt in     out     source               destination
1        0     0 DROP       all  --  *      *       31.13.86.36          0.0.0.0/0

Chain FORWARD (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination
1     5352 5413K ACCEPT     all  --  eth0   wlan0   0.0.0.0/0            0.0.0.0/0            state RELATED,ESTABLISHED
2     3346  650K ACCEPT     all  --  wlan0  eth0    0.0.0.0/0            0.0.0.0/0
3        0     0 DROP       all  --  *      *       31.13.86.36          0.0.0.0/0
4        0     0 DROP       all  --  *      *       0.0.0.0/0            31.13.86.36

Chain OUTPUT (policy ACCEPT 1013 packets, 139K bytes)
num   pkts bytes target     prot opt in     out     source               destination
1        0     0 DROP       all  --  *      *       0.0.0.0/0           31.13.86.36
</code></pre>
"
89762,1,2018-10-08T12:58:19.100,1,452,92611,,2019-11-04T18:00:26.637,,2,,"<p>I want to be able to output to a speaker from multiple applications at the same time, but currently it's only allowing me to output to the speaker from a single application. </p>

<p>I have the following ALSA config for my speaker and microphone:</p>

<pre><code>pcm.!default {
  type asym
  capture.pcm ""mic""
  playback.pcm ""speaker""
}
pcm.mic {
  type plug
  slave {
    pcm ""hw:2,0""
  }
}
pcm.speaker {
  type plug
  slave {
    pcm ""hw:1,0""
  }
}
</code></pre>

<p>I know I need to somehow combine my config to enable <code>dmix</code>, I've tried adding:</p>

<pre><code>pcm.dsp {
        type plug
        slave.pcm ""dmix""
    }
</code></pre>

<p>But that doesn't work.</p>

<p>Any help would be much appreciated.</p>
"
89826,1,2018-10-10T12:40:12.370,2,546,92692,,2019-02-21T21:35:35.670,,6,,"<p>i'm building an embedded prototyp with a raspberry pi 3b+ and its booting via pxe from the network read only.</p>

<p>Multiple devices share the same root file system and just the boot folders are customized for every pi.</p>

<p>I want to configure all hostnames of the pis with the help of the cmdline.txt.</p>

<pre><code>dwc_otg.lpm_enable=0 console=serial0,115200 console=tty1 root=/dev/nfs nfsroot=172.30.1.1:/nfs/disp_root_fs,vers=3 r ip=dhcp rootwait elevator=deadline kernel.hostname=disp13
</code></pre>

<p>But the kernel.hostname is not set in the running system. Instead the hostname is just the ip of the pi that it got from the dhcp server.</p>

<p>Does anybody know where the pi is setting the hostname to the ip? I would try to comment it out so the cmdline variable will be the hostname.</p>

<p>Thanks in advance.</p>
"
89849,1,2018-10-10T22:58:09.090,2,429,47408,,2018-10-11T07:59:44.007,,1,,"<p>I would like to control 10 different devices with SPI. As there is not enough ChipSelect outputs I use GPIO to toggle a MUX on the clock. Problem is I have to wait until the SPI is done transmitting before changing the GPIO to the next device.
Is there a way to set a callback function that will execute once spi.xfer2 is done 'transmitting'? Waiting or sleeping is an accurate and would result in a waste of time.</p>

<p>10 devices, each transmission is 960 bytes long (or 7680 bits). I would like to do 60 transmissions to all the devices each second which means a total of 576kB or ~4Mb (4MHz should do it but I set the frequency it to 8Mhz).
Python 3.5.3</p>
"
89865,1,2018-10-11T15:57:56.180,3,178,62986,,2018-10-12T02:13:48.440,2018-10-11T17:36:22.773,1,,"<p>I have purchased one of <a href=""https://widgetlords.com/products/pi-spi-8ai-raspberry-pi-analog-input-interface?variant=36898176393"" rel=""nofollow noreferrer"">these</a> and I've connected it to a pressure sensor.  I now need to convert the digital values to pressure.  However, my maths is all forgotten.  Can anyone help me out?</p>

<p>The discrete values I get back from the sensor are between 0 to 3750.  750 is equal to 0 bars pressure.  The top pressure the sensor can goto is 250 (which is 3750) and the values are linear.  </p>

<p>Any help appreciated.  </p>
"
89881,1,2018-10-12T03:13:20.853,5,2453,67097,,2018-11-04T02:03:44.467,2018-10-20T19:07:19.183,4,,"<p>I have been trying set up USB modem on my pi (Raspberry Pi 3 Model B+) but have not been successful.
The modem in itself is recognized - lsusb shows the entry for the device - but I cant't get it connected to the Internet. I have a SIM card with a valid contract in the modem so that is not the problem. I would appreciate any help or advice on this.</p>

<p>I loosely followed this article, which ends with successfully using the exact same modem. But it didn't quite work out for me.</p>

<p><a href=""https://www.niandc.co.jp/sol/tech/date20151005_512.php"" rel=""nofollow noreferrer"">https://www.niandc.co.jp/sol/tech/date20151005_512.php</a></p>

<h3>1. Checking USB device mode </h3>

<p>First, My modem is probably in the modem mode, not the storage device mode. The id is the same 1004:6326 shown in the article.</p>

<h3>2. modprobe command</h3>

<p>Next is modprobe command. At first, /dev/tty does not have ttyUSB* files, but after running 'sudo modprobe' command, the following 4 files were created in /dev/.</p>

<pre>
crw-rw---- 1 root dialout 188,  0 Oct 10 07:07 /dev/ttyUSB0
crw-rw---- 1 root dialout 188,  1 Oct 10 07:03 /dev/ttyUSB1
crw-rw---- 1 root dialout 188,  2 Oct 10 07:03 /dev/ttyUSB2
crw-rw---- 1 root dialout 188,  3 Oct 10 07:03 /dev/ttyUSB3
</pre>

<p>This step looks the same with the article above and is probably working fine.
Also this behavior is consistent; every time I boot the rpi there are no /dev/ttyUSB* files
and executing the modprobe command always creates four ttyUSB files above.</p>

<h3> 3. cu and wvdial</h3>

<p>Next I tried two things but neither worked.</p>

<h3>3-a. cu command</h3>

<p>In the article, 'cu' command is used to confirm the connection so I tried it. I couldn't find which ttyUSB file maps to the modem, so I ran cu on all 4 ttyUSB? files. </p>

<p>cu command on different /dev/ttyUSB? files produces different results;</p>

<pre>sudo cu -l ttyUSB0</pre>

<p>→ Says 'Line in use and ttyUSB2'
<p></p>

<pre>sudo cu -l ttyUSB1</pre>

<pre>sudo cu -l ttyUSB3</pre>

<p>→ Both print 'Connected.' and freeze
<p></p>

<pre>sudo cu -l ttyUSB2</pre>

<p>→ Prints error messages below:
<p></p>

<pre>
cu: Stale lock /var/lock/LCK..ttyUSB2 held by process 6807 created 2018-10-11 13:20:14
cu: remove (/var/lock/LCK..ttyUSB2): Operation not permitted
cu: /dev/ttyUSB2: Line in use
</pre>

<h3>3-b. wvdial</h3>

<p>sudo wvdial on /dev/ttyUSB0 to /dev/ttyUSB3 all results in '--> Modem not responding.'</p>

<h3>Update (Oct. 21, 2018)</h3>

<p>As I stated in the comment, I should have checked the compatibility more thoroughly. Maybe there is not point anymore but here is lsusb and wvdial.conf</p>

lsusb

<p>'Device 005' is the USB modem</p>

<pre>
Bus 001 Device 005: ID 1004:6327 LG Electronics, Inc.
Bus 001 Device 004: ID 0424:7800 Standard Microsystems Corp.
Bus 001 Device 003: ID 0424:2514 Standard Microsystems Corp. USB 2.0 Hub
Bus 001 Device 002: ID 0424:2514 Standard Microsystems Corp. USB 2.0 Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub   
</pre>

wvdial.conf

<pre>
[Dialer Defaults]
    Modem = /dev/ttyUSB3
    ISDN = 0
    Modem Type = Analog Modem
    Baud = 460800
    Init1 = ATX3
    Init2 = AT&F Q0 V1 E0 S0=0 &C1 &D2 +FCLASS=0
    Init3 = at+cgdcont=1,""IP"",""i-aeonmobile.com""
    Phone = *99#
    Dial Attempts = 5
    Stupid Mode = on
    Dial Command = ATDT
    Idle Seconds = 7200
    Ask Passwords = 0
    Password = ""0000""
    Username = ""user""
    Carrier Check = on
    New PPPD = 1
    Auto DNS = on
</pre>
"
90034,1,2018-10-16T19:26:10.590,1,39,91495,,2018-10-17T06:26:11.463,,0,,"<p>I'd like to detect multiple presses of the same button and interpret that differently, for example ""tap"" means to do function A and ""tap-tap"" means to do function B.</p>

<p>I've been doing some googling but haven't yet come across a detailed solution for this. I'm sure I can figure out an algorithm/implementation from scratch if I need to, but I'd rather not re-invent the wheel. Ideally this would be implemented in NodeJS, but I can translate the concepts from another language if need be.</p>
"
90097,1,2018-10-18T20:47:23.870,1,691,64799,,2018-10-18T21:01:38.400,,1,,"<p>Good afternoon,</p>

<p>I'm trying to programmatically display an image to a 3.5 inch TFT display mounted on <code>/dev/fb1</code> using the following code:</p>

<p>Using trial and error I determined the pixel width to be 16 bits. 
This would mean the color palette is either stored in a 565 or a 555+1 format</p>

<p>When I run the code below, I get a correct image, but it is very blue.
If I swap around the colors, it still comes out very blue</p>

<p>And if I uncomment Red, Blue, and Green here:</p>

<pre><code> //red_in =  255;
 //blue_in = 0;
 //green_in = 0;
</code></pre>

<p>I get a very faint red or green color, almost black, but the blue is still many times more vivid. </p>

<p>I know it's not the display, because it shows vividly all colors on the Linux splash screen. It must be the formatting of the pixels. </p>

<p>Does anyone know specifically how the color palette is stored on the raspbian framebuffer?</p>

<p>Thanks,</p>

<pre><code>const int display_width  = 480;
const int display_height  = 320;    
struct fb_var_screeninfo screen_info;
struct fb_fix_screeninfo fixed_info;
unsigned char *fbp_2 = NULL;
ssize_t buflen;
int fd = -1;
int r = 1;
fd = open(""/dev/fb1"", O_RDWR);
if (fd &lt; 0)
{
    if (ioctl(fd, FBIOGET_VSCREENINFO, &amp;screen_info) || ioctl(fd, FBIOGET_FSCREENINFO, &amp;fixed_info))
        return 0;

    buflen = screen_info.yres_virtual * fixed_info.line_length;
    fbp_2 = reinterpret_cast&lt;unsigned char*&gt;(mmap(NULL, buflen, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0));
} 

if (fbp_2 != NULL)
{
    int location_display;
    uint8_t red_in, blue_in, green_in;
    uint16_t color_out;
    for (float y = 0; y &lt; display_height; y++)
    {
        for (float x = 0; x &lt; display_width; x++)
        {
            int x_cam = (int)(x * x_scale); 
            int y_cam = (int)(y * y_scale);
            location_cam = (x_cam) * (3) + y_cam * cam_width * 3;
            location_display = x * 2 + y * display_width * 2;
            red_in =   *(fbp + location_cam);
            blue_in =  *(fbp + location_cam + 1);
            green_in = *(fbp + location_cam + 2);
            //red_in =  255;
            //blue_in = 0;
            //green_in = 0;
            color_out = ((red_in &gt;&gt; 3) &lt;&lt; 10) | ((green_in &gt;&gt; 3) &lt;&lt; 5) | ((blue_in &gt;&gt; 3));

            *(fbp_2 + location_display) = color_out;
        }
    }

}
</code></pre>
"
90267,1,2018-10-25T00:42:42.713,4,14566,12404,,2020-06-19T08:23:39.260,,1,,"<p>I have a raspberry pi zero W and I would like to stream sound over bluetooth to a bluetooth-enabled speaker / headphone.</p>

<p>So how to achieve this with <code>alsa</code>?</p>
"
90423,1,2018-10-29T18:14:36.087,0,285,93402,,2018-10-30T13:43:03.110,2018-10-29T22:07:47.257,5,,"<p>I just got my new Raspberry Pi3 (model B). I have installed it and now I don't want to use all the cables for mouse, keyboard, HDMI and so on, which is why I have decided to use Ethernet Cable and using Putty to communicate with it. But when I try to call it with Putty it says ""No route to host"".</p>

<ol>
<li>I use Linux on my laptop as well. When I plug in the cable it gives me a notification that I have established an ethernet connection.</li>
<li><p>I have tried to set up a static IP address for the raspberry pi by changing the <code>/etc/dhcpcd.conf</code> file. I have added the following lines of code at the end: </p>

<p>interface eth0
static ip_address=192.168.0.2
static domain_name_servers=192.168.0.1</p></li>
<li><p>my ifconfig on the laptop looks like this:</p>

<pre><code>$ ifconfig
enp2s0    Link encap:Ethernet  HWaddr 18:31:bf:1c:35:f2  
          inet addr:169.254.220.38  Bcast:169.254.255.255  Mask:255.255.0.0
          inet6 addr: fe80::88c6:d80a:1465:65a8/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:16 errors:0 dropped:0 overruns:0 frame:0
          TX packets:297 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2128 (2.1 KB)  TX bytes:54278 (54.2 KB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:699515 errors:0 dropped:0 overruns:0 frame:0
          TX packets:699515 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:35255453 (35.2 MB)  TX bytes:35255453 (35.2 MB)
</code></pre></li>
<li><p>the ifconfig on the Raspberry Pi:<br>
[<img src=""https://i.stack.imgur.com/3Maf9.jpg"" alt=""screenshot[1]""></p></li>
</ol>

<p>Can someone notice what is my mistake?</p>
"
90779,1,2018-11-10T06:56:19.933,0,2239,76742,,2018-11-11T10:03:41.770,2018-11-11T10:03:41.770,3,,"<p>I have <a href=""https://www.my-webspot.com/blog/what-is-a-pocket-wifi/"" rel=""nofollow noreferrer"">pocket wifi</a> which is a portable wifi router.</p>

<p>It has a SSID and Password.</p>

<p>I want my RPi3 B+(ubuntu server 16.04) connect to that pocket wifi automatically after reboot.</p>

<p>Should I make some script that start when RPi boot up ?</p>

<p>please give me some advice !</p>
"
90932,1,2018-11-14T20:24:13.573,2,912,94000,,2018-11-14T21:45:10.753,,0,,"<p>I want to restrict the wifi range of my Pi in order to only have a really small range of around one or two meters for my access point.
I'm not totally new, but I don't know any way to reach the goal or find a solution, cause somehow everyone wants to raise up the wifi range ;D
Anyway, I would be glad about a solution! 
Cheers guys!</p>
"
91410,1,2018-11-30T04:06:40.937,2,1974,88510,,2018-11-30T22:34:29.967,,0,,"<p>Folks, I cringe to bring this up as it has been discussed frequently, but I am at a loss.</p>

<p>Background:  I have a Raspberry project with about 3000 lines of Python3 code and want to add a wireless Arduino sensor.  I seem to have all the individual parts working - the Arduino sensor board with transmitter and Arduino receiver board hooked up to the Pi via I2C.  Reading and writing individual bytes works in both directions, as do the radios using SPI.  But when I try to get a full block of data I fall flat on my face.</p>

<p>Some details:  </p>

<pre><code>uname -a
Linux pietester 4.14.52-v7+ #1123 SMP Wed Jun 27 17:35:49 BST 2018 armv7l GNU/Linux

cat /etc/os-release
PRETTY_NAME=""Raspbian GNU/Linux 9 (stretch)""
NAME=""Raspbian GNU/Linux""
VERSION_ID=""9""
VERSION=""9 (stretch)""
</code></pre>

<p>What is working:
The Arduino attached to the Pi has a callback:
    void sendData() { Wire.write(""Hello from Arduino""); }</p>

<p>On the Pi side it appears the data is available on the wire:</p>

<pre><code>    i2cdump -y 1 0X08 i
    0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f    0123456789abcdef
    00: 48 65 6c 6c 6f 20 66 72 6f 6d 20 41 72 64 75 69    Hello from Ardui
    10: 6e 6f ff ff ff ff ff ff ff ff ff ff ff ff ff ff    no..............
    20: 48 65 6c 6c 6f 20 66 72 6f 6d 20 41 72 64 75 69    Hello from Ardui
    30: 6e 6f ff ff ff ff ff ff ff ff ff ff ff ff ff ff    no..............
</code></pre>

<p>On the Pi side, a loop call to:
def writeNumber(value):</p>

<pre><code>    my_bus.write_byte(slave_address, value)
</code></pre>

<p>will blink an LED on the Arduino - the number of blinks is ""value"".</p>

<p>A callback obtains the number for blinking:</p>

<pre><code>    void receiveData(int byteCount){ if ( Wire.available() ) { number = Wire.read(); } }
</code></pre>

<p>So at this point everything seems to be working fine, LEDs flash as expected, the radios work, voltages and connections seem fine.  But now the bad news.</p>

<p>I need more than just one byte of data so I try:</p>

<pre><code>    my_bus.read_i2c_block_data(slave_address, 0, 32) ###(addr, cmd, # of bytes)
</code></pre>

<p>and at run time get the ""usual"" error: OSError: [Errno 121] Remote I/O error.</p>

<p>Believe me, I have spent many hours searching for an answer.  The best guess I have at this point is the second parameter - the ""command"" parameter - is somehow the bad guy.  </p>

<p>So, if someone can point me to enlightenment, I will take that path.  But please remember, I have 3000 lines of Python3 already written.</p>

<p>Here is the Pi code:</p>

<pre><code>#!/usr/bin/python3
import time
import smbus as smbus
my_bus = smbus.SMBus(1)  # On RPi only bus 1 exists for our use
block_data = [32]
slave_address = 0x08

def writeNumber(value):
    my_bus.write_byte(slave_address, value)
    return

def readNumber():
#   number = my_bus.read_byte(slave_address) ### This works.
    block_data = my_bus.read_i2c_block_data(slave_address, 0, 32)# (addr, cmd, # of bytes)
    return number

while(1):
    writeNumber(3) #Blink the Arduino LED this many times. ### This works.
    time.sleep(1/100)
    print(""from Read: "")
    print(readNumber())
    time.sleep(3)
</code></pre>

<p>Here is the Arduino code - with radio code removed for clarity:</p>

<pre><code>#include &lt;Wire.h&gt;

#define SLAVE_ADDRESS 0x08
byte number = 0;

void flash_data(int loops) { 
  for (int i = 0; i &lt; loops; i++) {...flashing code...}

void flash_good(int loops) { 
  for (int i = 0; i &lt; loops; i++) {... flashing code ...}

void flash_bad( int loops ) { ... more flashing code...}

// callback for received data
void receiveData(int byteCount){
    if ( Wire.available() ) {
       number = Wire.read();
    }
}

void sendData() {
  Wire.write(""Hello from Arduino"");  
}

void setup() {
  Wire.begin(SLAVE_ADDRESS); // an address makes this unit a Slave
  // define callbacks for i2c communication
  Wire.onReceive(receiveData);
  Wire.onRequest(sendData);  
}

void loop() {
  if ( number &gt; 0 ) { // If the RPi is sending a value, flash it.
    flash_data(number);
    number = 0;
  } else {
    flash_good(1);
  }
  delay(10);
}
</code></pre>

<p>Many thanks to the person who comes up with the obvious fix that I completely overlooked!!!</p>
"
91444,1,2018-12-01T09:22:48.263,0,914,94635,,2018-12-01T10:06:47.017,2018-12-01T10:04:27.933,2,,"<pre><code>cat = True
while cat = True:
    print(""cat"")
else:
    print(""Kitten"")
</code></pre>

<p>I tried to run this program but it says invalid syntax for the while loop.I don't know what to do and I can't find the answer on the internet.</p>
"
92116,1,2018-12-20T11:15:22.680,0,825,96388,,2019-10-24T23:08:52.750,2018-12-20T17:35:08.347,4,,"<p><strong>Problem:</strong></p>

<p>I am trying to configure batman-adv network on raspberry pi 3b+ following this, using on-board wlan0 interface coming with raspberry pi 3b+.</p>

<p>Once the network is executed by following all the steps in the page given above, it sets up healthily only occasionally, but once setup is successful, then it is possible to ping the nodes with each other. But during other instances nodes are not visible to each other.</p>

<p>The differences seen between the two instances when <code>iwconfig</code> is executed are;</p>

<p>(1) during the instance of perfect funtionality;</p>

<pre><code>wlan0    IEEE 802.11 ESSID: ""network_name""
         Mode:Ad-Hoc Frequency:2.447GHz Cell:26:AB:FD:65:E7:9E
         Tx-Power=20dBm
         Retry short  long limit:2  RTS thr:off  Fragment thr:off
         Power Management:off
</code></pre>

<p>and (2) during the faulty instance;</p>

<pre><code>wlan0      IEEE 802.11 ESSID: ""network_name""
           Mode:Managed Frequency:2.447GHz Access Point:Not-Associated
           Tx-Power=31 dBm
           Retry short limit:7  RTS thr:off  Fragment thr:off
           Power Management:on
</code></pre>

<p><strong>What I have tried:</strong></p>

<p>I've tried this on 2018-10-09-raspbian-stretch-lite and 2018-11-13-raspbian-strech-lite images, which still has no effect.</p>

<p>The commands to setup the network as given in the page was;</p>

<pre><code>sudo modprobe batman-adv
sudo ip link set wlan0 down
sudo ifconfig wlan0 mtu 1532
sudo iwconfig wlan0 mode ad-hoc
sudo iwconfig wlan0 essid my-mesh-network
sudo iwconfig wlan0 ap any
sudo iwconfig wlan0 channel 8
sudo ip link set wlan0 up
sudo batctl if add wlan0
sudo ifconfig bat0 up
sudo ifconfig bat0 172.27.0.1/16
</code></pre>

<p>I have tried executing the commands in the script provided in the page above line by line, without letting the whole script of commands to run during the booting of the Pi (as recommended in the page). Then the following issues were encountered.</p>

<pre><code>$ifconfig wlan0 mtu 1532
SCIOSIFMTU: Invalid argument

$sudo iwconfig wlan0 mode ad-hoc
Error for wireless request ""set mode"" (8B06):
SET failed on device wlan0; Device or resource busy
</code></pre>

<p>And all the other commands seems to be accepted without any error (eg: <code>sudo iwconfig wlan0 essid network_name</code> which comes after the above commands takes effect and is reflected in <code>iwconfig</code>)</p>

<p>I would be grateful to have any ideas to solve this issue and get the batman-adv up and running reliably.</p>
"
92118,1,2018-12-20T12:50:22.627,0,153,76230,,2018-12-20T17:18:07.760,,3,,"<p>I am working on HC-SR04 ultrasonic sensor for my project. I made the connections given <a href=""https://electrosome.com/hc-sr04-ultrasonic-sensor-raspberry-pi/"" rel=""nofollow noreferrer"">here</a>. Here is my code</p>

<pre><code>int main(){
int count = 0;

if (gpioInitialise() &lt; 0)
{
    qDebug() &lt;&lt; ""ultrasound gpio initialise Fail!!!"";
    //return -1;
}

gpioSetMode(ECHO, PI_INPUT);
gpioSetMode(TRIG, PI_OUTPUT);

while(1)
{
    ultra_distance = getCM();
    qDebug() &lt;&lt; ""Distance : "" &lt;&lt; ultra_distance &lt;&lt; "" --- "" &lt;&lt; ++count;
}
return 0;
}
</code></pre>

<p>The getCM() function is </p>

<pre><code>    int dist;
    int startTime,stopTime;

    gpioWrite(TRIG, 0);

    gpioDelay(1000000);

    gpioWrite(TRIG, 1);

    gpioDelay(10);

    gpioWrite(TRIG, 0);

    while(gpioRead(ECHO) == 0)
    {
        startTime = gpioTick();
    }

    while(gpioRead(ECHO) == 1)
    {
        stopTime = gpioTick();
    }

    dist = ((stopTime - startTime)/29/2);

    return dist;
</code></pre>

<p>When I tried this, I get reading for first 10-15 iterations and then it freezes. I tried changing the sensor from a good HC-SR04 to a good JSN HC-SR04. But it still didn't work. Is there any permanent solution to this in c++?</p>

<p>Thanks!</p>
"
92196,1,2018-12-23T15:54:55.157,2,499,54888,,2018-12-28T13:34:01.810,2018-12-23T17:53:18.920,2,,"<p>I'm currently struggling with the following scenario: I'd like to make my Raspi (3B) play a short MP3 jingle and then, after a 250 µsec pause, speak a short text by using an add-on sound card (JustBoom DAC HAT). Both mpg123, and eSpeak are running separately, buth all attempts to run them one after another from a C++ client app, were futile 'cause eSpeak complained about sound card #1 not working. My HAT, however, is card #0 in the alsa config file, and on-board sound has been kicked out of the config:</p>

<pre><code>pcm.!default {
  type plug

  slave {
    pcm ""hw:0,0""
    format S32_LE
    channels 2
    rate 192000
  }
}

ctl.!default {
        type hw
        card 0
}
</code></pre>

<p><code>hw:0,0</code> is my JustBoom card:</p>

<pre><code>pi@autoradio:/import/valen/autoradio $ aplay -l
**** Liste der Hardware-Geräte (PLAYBACK) ****
Karte 0: sndrpijustboomd [snd_rpi_justboom_dac], Gerät 0: JustBoom DAC HiFi pcm512x-hifi-0 []
  Sub-Geräte: 1/1
  Sub-Gerät #0: subdevice #0
</code></pre>

<p>Here is the error message:</p>

<pre><code>ALSA lib confmisc.c:768:(parse_card) cannot find card '1'
</code></pre>

<p>An obvious alternative would be PulseAudio, but I've never managed to make it play anything, as client code keeps on complaining about a refused connection.</p>

<p>So is there a method to make bith mpg123, and eSpeak coexist peacefully and play their sounds one after the other without conflicts? Thank you.</p>
"
92618,1,2019-01-04T03:22:26.240,0,1637,96988,,2019-01-04T16:18:01.930,2019-01-04T09:02:21.523,0,,"<p>I have some code which turns an led on when I hold the button. But only when I am pressing it. Could somebody help me so when I press the button then the light stays on and if I press it again the led turns off?</p>

<p>Here is my code - </p>

<pre><code>#button.py
import RPi.GPIO as GPIO
from time import sleep

GPIO.setmode(GPIO.BCM)

sleepTime = .1

#GPIO Pin of the conponent
lightPin = 4
buttonPin = 17

GPIO.setup(lightPin, GPIO.OUT)
GPIO.setup(buttonPin, GPIO.IN, pull_up_down=GPIO.PUD_UP)
GPIO.output(lightPin, False)

try:
    while True:
        GPIO.output(lightPin, not GPIO.input(buttonPin))
        sleep(.1)

finally:
    GPIO.output(lightPin, False)
    GPIO.cleanup()
</code></pre>
"
92621,1,2019-01-04T04:11:24.747,0,82,42452,,2021-02-25T13:07:05.773,,0,,"<p>I am trying to communicate to a UART device using Raspberry Pi (Raspberry Pi 3B with Raspbian stretch) Header pins with pyserial. I have followed all the steps mentioned in <a href=""https://www.raspberrypi.org/documentation/configuration/uart.md"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/documentation/configuration/uart.md</a>  to activate the UART over Header pins (Like editing the /boot/cmdline.txt file, disabling the UART over bluetooth ) . I am able to communicate to the device and get the data but this is not working all time but on a cyclic basis. If I run the program for the first time it works fine. If I close the program and run it again , then I am receiving all the blank values. If I close the program and run it again , I am receiving the perfect output. This happens repeatedly. Is there anything I am doing wrong ?? 
Below is the code i am using. </p>

<pre><code>import time
import serial
try:
    ser = serial.Serial()
    ser.port = '/dev/serial0'
    ser.baudrate = 115200
    ser.bytesize = serial.EIGHTBITS 
    ser.parity =serial.PARITY_NONE 
    ser.stopbits = serial.STOPBITS_ONE 
    ser.timeout = 1
except Exception as e:
    print(e)
    pass
print(ser)

while True:
    try:
        ser.open()
        data=str(ser.readline())
        ser.close()
        print(data)
    except Exception as e:
        print(e)
        pass
</code></pre>

<p>I am trying to figure out what's going wrong with this for 1.5 days now. Somebody please help :(</p>
"
92736,1,2019-01-06T21:25:26.800,23,6590,,user96725,2019-03-15T11:25:11.943,,1,,"<p>My router uses DHCP, and whenever I reformat my raspberry pi, even when using a different microSD card, it always has the same LAN ip. I'm not quite sure how IPs are assigned, but I assume the device has a unique id on the network which my router recognises?</p>
"
92755,1,2019-01-07T09:29:25.223,0,381,97147,,2021-01-18T17:01:30.157,,1,,"<p>I am currently working on a project for which I am using a 3.5"" touchscreen as an output for some buttons. I can get it to be used as the output for the whole GUI, but that leads to the display being overcrowded and an inability to use the monitor for other functions as I would like. Any advice on how to just output a tkinter window to the touchscreen?</p>
"
92926,1,2019-01-11T01:40:39.877,1,4670,97335,,2019-10-19T09:13:37.403,,1,,"<p>I recently updated and upgraded my raspberry pi 3 b+, and now my Logitech keyboard K480 will not connect. It was working fine until this happened. I'm looking for any tips to see what I'm doing wrong/missing in terms of using the terminal to connect.</p>

<pre><code>    pi@raspberrypi:~ $ sudo bluetoothctl 
    [NEW] Controller AA:BB:CC:DD:EE:FF raspberrypi [default] 
    [NEW] Device 11:22:33:44:55:66 Keyboard K480 
    [bluetooth]# agent on 
    Agent registered 
    [bluetooth]# default-agent 
    Default agent request successful 
    [bluetooth]# scan on 
    Discovery started 
    [CHG] Controller AA:BB:CC:DD:EE:FF Discovering: yes 
    [CHG] Device 11:22:33:44:55:66 RSSI: -66 
    [bluetooth]# pair 11:22:33:44:55:66 
    Attempting to pair with 11:22:33:44:55:66 Failed to pair: org.bluez.Error.AlreadyExists 
    [bluetooth]# trust 11:22:33:44:55:66 
    Changing 34:88:5D:A6:D7:E2 trust succeeded 

[bluetooth]# info 11:22:33:44:55:66 
Device 11:22:33:44:55:66    
Name: Keyboard K480     
Alias: Keyboard K480    
Class: 0x002540     
Icon: input-keyboard    
Paired: yes     
Trusted: yes    
Blocked: no     
Connected: no   
LegacyPairing: yes  
UUID: Service Discovery Serve.. (00001000-0000-1000-8000-00805f9b34fb)  
UUID: Human Interface Device... (00001124-0000-1000-8000-00805f9b34fb)  
UUID: PnP Information           (00001200-0000-1000-8000-00805f9b34fb)  Modalias: usb:v046DpB33Dd2803   
RSSI: -66 

[bluetooth]# connect 11:22:33:44:55:66 
Attempting to connect to 11:22:33:44:55:66 
[CHG] Device 11:22:33:44:55:66 Connected: yes 
Failed to connect: org.bluez.Error.Failed 
[CHG] Device 11:22:33:44:55:66 Connected: no
</code></pre>

<p>So It's discovering, able to pair, able to trust, and able to creating a legacy pair, but it cannot connect due to an error described as org.bluez.Error.Failed.</p>

<p>in the GUI for bluetooth connection, like on the homescreen dock, the device is also discoverable but unable to connect, saying ""Connection failed - GDBus.Error:bluez.Error.Failed: Input/output error"".</p>

<p>I'm a total newb but I thought I could maybe get some hints from this site. The keyboard was working excellently before I updated/upgraded and tried out headless mode(ssh with Putty). Any help would be appreciated- I don't want to reflash raspbian but if I have to I will.</p>
"
93005,1,2019-01-13T05:15:34.830,0,235,97454,,2019-02-12T19:33:29.303,,4,,"<p>So I'm currently trying to make an application that will display columns of data in the browser. I want to be able to interact with what is being displayed with buttons wired in through the GPIO pins.</p>

<p>I want to be able to select different columns and then delete columns when necessary by using the buttons. i.e. I have a blue arrow that indicates which column is selected and then ""left"" and ""right"" buttons will move this arrow to change the selection.</p>

<p>What is the best way to do this? I'm able to get Nodejs to detect when the buttons are pushed but not sure how I can use this to modify what the front end displays.</p>

<p>I'm using the node-rpio module to allow Nodejs to interact with the GPIO pins and then express and ejs for general web development and templating stuff.</p>

<p>Is this easier with a Python backend and using something like rpi-gpio or something?</p>
"
93122,1,2019-01-16T16:22:50.267,1,375,97586,,2019-01-18T15:04:24.257,2019-01-18T13:20:29.313,3,,"<p>Pi model: Pi 3 A+</p>

<p>Os: Raspbian GNU/Linux 9 (stretch) &lt;- it's stretch lite</p>

<p>SPI: On</p>

<p>Loop back test:</p>

<pre><code>spi mode: 0x0
bits per word: 8
max speed: 500000 Hz (500 KHz)
TX | FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D  | ......@....�..................�.
RX | FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D  | ......@....�..................�.
</code></pre>

<p>Wiring:
<a href=""https://i.stack.imgur.com/hWJFd.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hWJFd.jpg"" alt=""enter image description here""></a></p>

<p>Code:</p>

<pre><code>package main

import (
  ""log""

  rpio ""github.com/stianeikeland/go-rpio""
  ""golang.org/x/exp/io/spi""
)

const (
  mosi = rpio.Pin(10) //physical 19
  miso = rpio.Pin(9)  //physical 21
  clk  = rpio.Pin(11) //physical 23
  ce0  = rpio.Pin(8)  //physical 24
  ce1  = rpio.Pin(7)  //physical 26

)

func main() {
  if err := rpio.Open(); err != nil {
    log.Println(err)
    return
  }

  defer rpio.Close()

  pins := []rpio.Pin{mosi, miso, clk, ce0, ce1}

  for _, pin := range pins {
    pin.Low()
  }

  dev, err := spi.Open(&amp;spi.Devfs{
    Dev: ""/dev/spidev0.0"", Mode: spi.Mode0, MaxSpeed: 500000})

  if err != nil {
    log.Println(""SPI error"", err)
    log.Println(""Did you forget to enable SPI interface?"")
    return
  }
  defer dev.Close()

  out := []byte{1, 8 &lt;&lt; 4, 0}
  in := make([]byte, 3)

  if err := dev.Tx(out, in); err != nil {
    log.Println(""SPI read/write error. "", err)
    return
  }

  code := int(in[1]&amp;3)&lt;&lt;8 + int(in[2])

  log.Println(code)
}
</code></pre>

<p>Voltage on ch 0 is 1.49, no conversion done by the chip. Returns 0 on ch 0.</p>

<p>Checked Vdd and Vref with multimeter using the analog and digital grounds.</p>

<p>Voltage reads 3.3</p>

<p>A year and a half ago the setup above worked with a pizero on jessie lite.</p>

<p>I tested 3 different mcp3008 chips with the same result.</p>

<p>Also tested on a pizero, no success.</p>

<p>Where is my mistake?</p>
"
93336,1,2019-01-21T20:11:39.890,-1,3230,97803,,2019-01-22T16:56:00.253,,1,,"<p>I have a <a href=""https://www.spec-sensors.com/wp-content/uploads/2017/01/DGS-H2S-968-036.pdf"" rel=""nofollow noreferrer"">sensor</a> connected to an ODROID UART (Basically an RPi just a different name for the UART port) and using the <a href=""http://wiringpi.com/reference/serial-library/"" rel=""nofollow noreferrer"">WiringPi Serial library</a>. </p>

<p>I am able to echo/cat to the sensor via two terminal windows and read it's data but using my C code I cannot. The sensor requires me to send it a ""\r"" to send back data. </p>

<pre><code>cat /dev/ttySAC0
echo -e ""\r"" &gt; /dev/ttySAC0
</code></pre>

<p>I'm wondering if my logic to write/read is wrong because the serialDataAvail (fd) is never true? </p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;errno.h&gt;
#include &lt;wiringPi.h&gt;
#include &lt;wiringSerial.h&gt;

int main ()
{
    int fd;

    // Setup serial port on ODROID
    if ((fd = serialOpen (""/dev/ttySAC0"",9600) &lt; 0)) {
        fprintf (stderr, ""Unable to open serial device: %s\n"", strerror (errno)) ;
    return 1 ;
    }
    if (wiringPiSetup () == -1) {
        fprintf (stdout, ""Unable to start wiringPi: %s\n"", strerror (errno)) ;
        return 1 ;
    }

    delay(1000);
    serialPrintf(fd,""\r""); // send enter key to read data from sensor
    delay(1000);    

    while (serialDataAvail (fd)) {
            printf (""%c"", serialGetchar(fd));
    }

    serialClose(fd);    
}
</code></pre>
"
93737,1,2019-01-31T20:08:09.160,-1,1168,92017,,2019-02-04T18:22:49.337,,1,,"<p>In my raspberry pi 3, I ran this command:</p>

<pre><code>sudo apt-get remove network-manager network-manager-gnome openvpn openvpn-systemd-resolved network-manager-openvpn network-manager-openvpn-gnome
</code></pre>

<p>After that, I lost internet connection, I can't see wlan0 anymore on ifconfig...</p>

<p>I can't find any /etc/dhcpcd.conf file</p>

<p>Now, I could reinstall network-manager and network-manager-gnome with USB, but I still don't have internet. I can see wlan0 when I do <code>ifconfig</code>, but it has no ip.</p>

<p>When I try to set wifi country, it says: </p>

<pre><code>Could not communicate with wpa_supplicant
</code></pre>

<p>I don't really know how to solve this one...</p>
"
93789,1,2019-02-02T21:00:06.387,0,1309,98323,,2020-02-02T16:13:01.457,,5,,"<p>I'm trying to use the <a href=""https://www.waveshare.com/wiki/WM8960_Audio_Board"" rel=""nofollow noreferrer"">WM8960 Audio Board</a> (not the HAT) on a Raspberry Pi Zero W. I followed the instructions for the HAT to install the driver (<a href=""https://www.waveshare.com/w/upload/5/54/WM8960_Audio_HAT_User_Manual_EN.pdf"" rel=""nofollow noreferrer"">WM8960 Audio HAT User Manual</a>). It seems to be installed correctly:</p>

<pre><code>pi@box:~ $ sudo dkms status
wm8960-soundcard, 1.0, 4.14.79+, armv6l: installed
wm8960-soundcard, 1.0, 4.14.79-v7+, armv6l: installed
</code></pre>

<p>I used the pinout table in the same manual to connect the pins from the Pi Zero to the Audio Board. My current pin connection:</p>

<pre><code>Audio Board --&gt; Pi

VCC --&gt; PIN 1 (+3V3 OUT)
GND --&gt; PIN 6 (GND)
SDA --&gt; PIN 3 (I2C1 SDA / GPIO2)
SCL --&gt; PIN 5 (I2C1 SCL / GPIO3)
CLK --&gt; PIN 12 (PWM0 / GPIO18)
WS --&gt; PIN 35 (PWM1 / GPIO19)
TXSDA --&gt; PIN 40 (GPCLK1 / GPIO21)
RXSDA --&gt; PIN 38 (? / GPIO20)
TXMCLK --&gt; not connected
RXMCLK --&gt; not connected
</code></pre>

<p>Unfortunetly the board is not available in the sound card list:</p>

<pre><code>pi@box:~ $ aplay -l
**** Liste der Hardware-Geräte (PLAYBACK) ****
Karte 0: ALSA [bcm2835 ALSA], Gerät 0: bcm2835 ALSA [bcm2835 ALSA]
  Sub-Geräte: 7/7
  Sub-Gerät #0: subdevice #0
  Sub-Gerät #1: subdevice #1
  Sub-Gerät #2: subdevice #2
  Sub-Gerät #3: subdevice #3
  Sub-Gerät #4: subdevice #4
  Sub-Gerät #5: subdevice #5
  Sub-Gerät #6: subdevice #6
Karte 0: ALSA [bcm2835 ALSA], Gerät 1: bcm2835 ALSA [bcm2835 IEC958/HDMI]
  Sub-Geräte: 1/1
  Sub-Gerät #0: subdevice #0
</code></pre>

<p>I also can't see a connected I2C channel:</p>

<pre><code>pi@box:~ $ i2cdetect -y 1
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- --
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
70: -- -- -- -- -- -- -- --
</code></pre>

<p>Is there a step by step instruction to use the WM8960 Audio Board on a Raspberry Pi Zero W? Did I connected something wrong or does anyone has some ideas how to use the board correctly? Thanks in advance for your answers.</p>
"
93883,1,2019-02-05T20:01:42.053,0,450,92349,,2020-01-02T14:52:32.213,,0,,"<p>I would like to connect a client to my Node.js web server via my rpi access point. </p>

<p>I have successfully setup my rpi3 stretch as an <a href=""http://www.raspberryconnect.com/network/item/333-raspberry-pi-hotspot-access-point-dhcpcd-method"" rel=""nofollow noreferrer"">access point</a>. Now I am trying to have the client redirected to the simple web server running on the Pi. </p>

<p>I have seen this <a href=""https://raspberrypi.stackexchange.com/questions/41369/wifi-hotspot-with-redirect-to-html?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa"">iptables redirection</a> but its not working for me.</p>

<pre><code>iptables -t nat -A PREROUTING -p tcp --dport 443 -j DNAT --to-destination localhost:80
iptables -t nat -A PREROUTING -p tcp --dport 80 -j DNAT --to-destination localhost:80
</code></pre>

<p>Once my client connects to the RPi AP wifi I am not redirected to any browser to the destination of the server. I can verify the iptable rules are there using.</p>

<pre><code>iptables -t nat -L -n -v
</code></pre>

<p>I would like to be able to have the client redirected to a browser and the destination with out having to manually open a broswer and type in the address. </p>

<p>Can anyone help with this?</p>
"
94005,1,2019-02-08T18:07:08.093,2,2279,59523,,2019-07-10T13:01:01.267,,1,,"<p>So I want to use my DS online again, and what I need to do is get a router with WEP seurity, or a router without security. So I decided to use my Pi 3 B as a WiFi hotspot. But all the stuff I find is for WPA and the like. Is there a way to make a hotspot without security or a WEP security?</p>

<p>Thanks!</p>
"
94273,1,2019-02-15T19:12:19.723,1,176,97076,,2019-02-15T23:48:35.287,2019-02-15T23:48:35.287,3,,"<p>I wrote an assembly code for my Raspberry Pi to read an I/O with a button and switch an LED according to the state of the button. It seems that the I/O with the LED is toggling all the time and I don´t understand why.</p>

<p>My idea is to use conditional execution for setting the LED state, according to the state of the I/O with the button (pull up with button connecting to ground).</p>

<p>Where is the mistake? </p>

<pre><code>_start:
@ Base adress for gpio controller
ldr r0, =0x20200000

@ Set GPIO 24 as output
mov r2, #0x01
lsl r2, #0x0C
str r2, [r0, #0x08]

@ Set GPIO 13 as input
mov r1, #0x00
str r1, [r0, #0x04]

mov r2, #0x01
lsl r2, #0x0D

Loop:
    @ Read GPIO 13
    ldr r1, [r0, #0x34]

    @ Check if the button is pressed
    tst r1, r2

    @ Clear the GPIO if the button is not pressed (GPIO 13 = 1)
    streq r2, [r0, #0x28]

    @ Set the GPIO if the button is pressed (GPIO 13 = 0)
    strne r2, [r0, #0x1C]

    b Loop
</code></pre>
"
94392,1,2019-02-20T00:40:18.840,1,739,33530,,2019-02-20T12:50:07.153,,2,,"<p>I have recently been having a lot of issues with my raspberry pi 3 b+. Many seg faults and weird errors coming with programs like apt and certbot. This is on a fresh install of raspbian lite and I think the issue must be something hardware related. I feel that it could either be an issue with the sd card or memory. Are there any tools I can use to check for faults in these parts? </p>

<p>I had the pi sitting on top of a router and after a week I noticed the PLA case it was in started warping so the temperature of the case was probably at about 60c so maybe something on the pi overheated and started causing issues. </p>
"
94667,1,2019-02-26T04:54:48.073,2,987,99377,,2020-09-28T12:51:00.570,2020-09-28T12:51:00.570,0,,"<p>want to ask help, for setting the desired password for p2p_group_add command,</p>

<p>if we run p2p_group_add on wpa_cli, it will generate random ssid and passphrase</p>

<p><em>P2P-GROUP-STARTED p2p-wlan0-3 GO ssid=""DIRECT-uv"" freq=2437 passphrase=""UqZ76VLR"" go_dev_addr=0a:a1:12:84:45:6e</em></p>

<p>How can we set our own password ?</p>
"
95010,1,2019-03-06T17:24:01.783,0,42,99766,,2019-03-06T18:30:57.287,,2,,"<p>I don't have another computer to go in and mess around with the SD card. Is it possible to change operating systems from within the Pi itself?</p>
"
95122,1,2019-03-09T06:31:01.843,0,428,99888,,2020-10-01T11:56:29.687,,2,,"<p>My Project on a Raspberry Pi 2 with Raspian stretch. 
I want use a GPIO pin to drive 3d shutter glasses (glasses hacked to receive 0 _3V square wave) 
Video playing on the HDMI port and A Pin goes on when one video frame completes then goes off when the next video frame completes.</p>

<p>Things I’ve tried.
HDMI splitter then a VGA converter one of the HDMI’s. This works but requires a bit of electronics to clean up the signal to give me the square wave I want. I’m also hoping in the end to have more than one pin switching.  Plus it seems to upset the RPI on occasions possible due to the and shaking between the PI and the monitor.  So this solution doesn’t really cut it</p>

<p>Set up the DPI output and get the Vsync from pin 3. Then use mirroring software like rpi-fbcp or 
raspi2fb to show the same video on the HDMI and DPI at the same time. Main problem here is there is a varying time delay between the HDMI frames and the DPI frames. So they are not synchronised.</p>

<p>I’ve been searching the ol google for near a week now trying stuff but haven’t managed to bottom it.  </p>

<p>As the video I’m showing is made up of still images made in to an MPG I could send the individual JPGs to the HDMI and put a pin toggle command between each frame but Python is too slow to get a decent frame rate (ie 60fps or more) .
So a smart person maybe able to do this in C or something but it’s beyond me and I can’t find any example close enough on the net to figure it out… </p>

<p>I think it is probably very possible using the Video core API’s like DispmanX but I can’t understand how to use it and again can’t find any examples out there that are close enough for me to tinker with.</p>

<p>So I’m really open to suggestions…</p>

<p>Thanks for reading…. </p>
"
95236,1,2019-03-12T02:02:59.277,1,2410,100014,,2019-03-12T23:46:26.253,,3,,"<p>I'm working on a IoT project. The idea is basically: I have a notebook running a Python program that get frames from an IP camera, process it, and based on the result change a Raspberry Pi GPIO pin state. The computer, the camera and the Pi are connected to the same wireless router (by cables).</p>

<p>I was trying to use Paramiko to execute the commands on the raspPi, but I got problem with the velocity. The camera FPS is bigger than Paramiko could provide. I also tried parallel-ssh library (<a href=""https://parallel-ssh.org/post/ssh2-python/"" rel=""nofollow noreferrer"">https://parallel-ssh.org/post/ssh2-python/</a>) but still not fast enough.</p>

<p>Do you have an ideia to help me on this problem?</p>

<p>Thank you!</p>
"
95292,1,2019-03-13T11:10:47.113,6,1149,68608,,2019-04-09T19:35:24.367,,0,,"<p>I just updated my Raspbian to Buster (testing) by editing <code>/etc/apt/sources.list</code> and replacing all <code>stretch</code> with <code>buster</code> and doing <code>apt update &amp;&amp; apt dist-upgrade</code>. Now <code>apt update</code> always shows an error when updating CommandNotFound database, as well as manually running <code>update-command-not-found</code> as root. How can I get rid of this error?</p>

<pre><code>root@raspberrypi:/home/pi # update-command-not-found
Traceback (most recent call last):
  File ""/usr/sbin/update-command-not-found"", line 26, in &lt;module&gt;
    col.create(db)
  File ""/usr/share/command-not-found/CommandNotFound/db/creator.py"", line 94, in create
    self._fill_commands(con)
  File ""/usr/share/command-not-found/CommandNotFound/db/creator.py"", line 132, in _fill_commands
    self._parse_single_contents_file(con, f, fp.stdout)
  File ""/usr/share/command-not-found/CommandNotFound/db/creator.py"", line 271, in _parse_single_contents_file
    priority = component_priorities[component]
KeyError: 'rpi'
root@raspberrypi:/home/pi # echo $?
1
root@raspberrypi:/home/pi # 
</code></pre>
"
95470,1,2019-03-17T12:28:53.793,1,1406,98364,,2019-03-20T12:10:17.123,2020-06-16T10:47:29.480,2,,"<p>I am facing some problems in my raspberry Pi 3 B+ when I compile this simple program that uses time library:</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;time.h&gt;

int main(int argc, char** argv) {
    struct timespec now;

    clock_gettime(CLOCK_REALTIME, &amp;now);

    printf(&quot;Nsecs %d \n&quot;, now.tv_nsec);

    return 0;
}
</code></pre>
<p>The output of the compilation shows these errors/warnings:</p>
<blockquote>
<p>main.c: In function ‘main’: main.c: error: storage size of ‘now’ isn’t known struct <strong>timespec</strong> now;</p>
<p>main.c: warning: implicit declaration of function ‘clock_gettime’ [-Wimplicit-function-declaration] <strong>clock_gettime</strong>(CLOCK_REALTIME, &amp;now);</p>
<p>main.c: error: ‘CLOCK_REALTIME’ undeclared (first use in this function) clock_gettime(<strong>CLOCK_REALTIME</strong>, &amp;now);</p>
</blockquote>
<p>I verified that the struct <code>timespec</code>, the method <code>clock_gettime</code> and the constant <code>CLOCK_REALTIME</code> are available in time.h file.</p>
<p>I am compiling with gcc &amp; C99. I am using NetBeans in a laptop to create the code and then I build on the raspberry (no problems so far in other projects). The command is:</p>
<pre><code>gcc -c -g -std=c99 -MMD -MP -MF &quot;build/Debug/GNU-Linux/main.o.d&quot; -o build/Debug/GNU-Linux/main.o main.c
</code></pre>
<p>What is happening? Could you help me to understand it?</p>
"
95806,1,2019-03-26T08:01:03.617,2,464,100349,,2020-12-21T21:02:25.237,2019-03-27T10:05:40.387,9,,"<p>I am using a tutorial from BeardMonkey in order to retrieve and store the measured data from a smart plug (a smart plug is monitoring the power consumption of my kettle at the moment)</p>

<p><a href=""https://www.beardmonkey.eu/tplink/hs110/2017/11/21/collect-and-store-realtime-data-from-the-tp-link-hs110.html"" rel=""nofollow noreferrer"">https://www.beardmonkey.eu/tplink/hs110/2017/11/21/collect-and-store-realtime-data-from-the-tp-link-hs110.html</a> </p>

<p>I think I followed it pretty well but I am only receiving this back:""No data returned on power request.""</p>

<p>The only thing I changed in the script is the IP Address of the smart plug and replaced it with the IP Address of mine.</p>

<p>My question is, do any of you experience programmers know from a glance, if there is something I am not seeing? </p>

<pre><code>import sys
import time
import socket
import json
import threading

#localtime = time.asctime( time.localtime(time.time()) )


# https://stackoverflow.com/questions/21017698/converting-int-to-bytes-in-python-3
def int_to_bytes(x):
    return x.to_bytes((x.bit_length() + 7) // 8, 'big')


def int_from_bytes(xbytes):
    return int.from_bytes(xbytes, 'big')


# Based on: https://github.com/softScheck/tplink-smartplug/blob/master/tplink-smartplug.py
def encrypt(string):
    key = 171
    result = b""\0\0\0\0""
    for i in string:
        a = key ^ i
        key = a
        result += int_to_bytes(a)
    return result


def decrypt(string):
    key = 171
    result = b""""
    for i in string:
        a = key ^ i
        key = i
        result += int_to_bytes(a)
    return result


def send_hs_command(address, port, cmd):
    data = b""""

    tcp_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    try:
        tcp_sock.connect((address, port))
        tcp_sock.send(encrypt(cmd))
        data = tcp_sock.recv(2048)
    except socket.error:        
        print(time.asctime( time.localtime(time.time()) ), ""Socket closed."", file=sys.stderr)
    finally:
        tcp_sock.close()
    return data


def store_metrics(current, voltage, power):
    current_time = time.time()

    tcp_sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    try:
        tcp_sock.connect((""localhost"", 2003))
        tcp_sock.send(""hs110-tv.voltage {0} {1} \n"".format(voltage, current_time).encode())
        tcp_sock.send(""hs110-tv.current {0} {1} \n"".format(current, current_time).encode())
        tcp_sock.send(""hs110-tv.power {0} {1} \n"".format(power, current_time).encode())
    except socket.error:
        print(""Unable to open socket on graphite-carbon."", file=sys.stderr)
    finally:
        tcp_sock.close()


def run():
    threading.Timer(5.0, run).start()

    data = send_hs_command(""192.168.1.4"", 9999, b'{""emeter"":{""get_realtime"":{}}}')

    if not data:
        print(""No data returned on power request."", file=sys.stderr)
        store_metrics(0, 0, 0)
        return

    decrypted_data = decrypt(data[4:]).decode()
    json_data = json.loads(decrypted_data)
    emeter = json_data[""emeter""][""get_realtime""]

    if not emeter:
        print(""No emeter data returned on power request."", file=sys.stderr)
        store_metrics(0, 0, 0)
        return

    store_metrics(emeter[""current""], emeter[""voltage""], emeter[""power""])

    print(""Stored values, current: {0}, voltage: {1}, power: {2}"".format(
        emeter[""current""], emeter[""voltage""], emeter[""power""]))


run()
</code></pre>

<p>Implementing the solution from @JaromandaX I get this return:</p>

<pre><code>Traceback (most recent call last):
  File ""hs110-data-collect.py"", line 98, in &lt;module&gt;
    run()
  File ""hs110-data-collect.py"", line 92, in run
    store_metrics(emeter[""current""], emeter[""voltage""], emeter[""power""])
KeyError: 'current'
b'\x00\x00\x00\x1e\xd0\xf2\x97\xfa\x9f\xeb\x8e\xfc\xde\xe4\x9f\xbd\xda\xbf\xcb\x94\xe6\x83\xe2\x8e\xfa\x93\xfe\x9b\xb9\x83\xf8\x85\xf8\x85'
Exception in thread Thread-1:
Traceback (most recent call last):
  File ""/usr/lib/python3.5/threading.py"", line 914, in _bootstrap_inner
    self.run()
  File ""/usr/lib/python3.5/threading.py"", line 1180, in run
    self.function(*self.args, **self.kwargs)
  File ""hs110-data-collect.py"", line 92, in run
    store_metrics(emeter[""current""], emeter[""voltage""], emeter[""power""])
KeyError: 'current'
</code></pre>

<p>UPDATE ********************************</p>

<p>I have taken the original script (no editions except for the IP-Address of my smart plug) and replaced <code>[""current""], emeter[""voltage""], emeter[""power""]</code>  with 0,1,2. For some reason now I get a message back with some values, but I am not sure they are getting stored or what I should write instead of 0,1,2 (or why <code>[""current""], emeter[""voltage""], emeter[""power""]</code> seems to be a problem)</p>

<pre><code>{""emeter"":{""get_realtime"":{""voltage_mv"":226139,""current_ma"":7382,""power_mw"":1669548,""total_wh"":366,""err_code"":0}}}``` 

</code></pre>
"
95953,1,2019-03-29T16:20:25.870,1,63,97870,,2020-01-01T03:02:05.250,2019-04-05T11:24:45.370,4,,"<p>R Pi 3 B+, Arduino Mega 2650</p>

<p>I am trying to send motor control instructions via user input from the Pi to the Mega.</p>

<p>Pi side code...</p>

<pre><code>import serial

port = ""/dev/ttyACM0""
rate = 9600
s1 = serial.Serial(port, rate)
s1.flushInput()

def motors_over_serial(left_1, left_2, right_1, right_2, pwm):

    directions = left_1 + left_2 + right_1 + right_2
    print(directions)
    directions = int(directions, 2)
    print(directions)
    s1.write(str.encode(str(directions)))
    s1.write(str.encode(pwm))

while True:

    left_1  = input(""left 1: "")
    left_2  = input(""left 2: "")
    right_1 = input(""right 1: "")
    right_2 = input(""right 2: "")
    pwm     = input(""pwm %: "")


    motors_over_serial(left_1, left_2, right_1, right_2, pwm)

    print(""----------------"")
</code></pre>

<p>Where <code>left_1, Left_2</code> etc are single binary digits that set up the h-bridge direction control &amp; <code>pwm</code> is the pwm duty cycle.</p>

<p>On the Mega side...</p>

<pre><code>// Outputs to H bridges
// h_bridge_pwm_left  = 8  
// h_bridge_left_1    = 9  
// h_bridge_left_2    = 10 
// h_bridge_pwm_right = 11 
// h_bridge_right_1   = 12 
// h_bridge_right_2   = 13 
int h_bridge_outputs[] = {8, 9, 10, 11, 12, 13};
const int num_outputs = sizeof(h_bridge_outputs) / sizeof(h_bridge_outputs[0]);

// Inputs from Pi
int from_r_pi_pwm = 0;
int from_r_pi_dir = 0;
int pwm;

void setup() {

  Serial.begin(9600);

  // Outputs to H bridge
  for (int i = 0; i &lt; num_outputs; i++)
  {
    pinMode(h_bridge_outputs[i], OUTPUT);
    digitalWrite(h_bridge_outputs[i], LOW);
  }
}

void loop() {

  // Check input from R Pi &amp; send it to the H bridges
  while (!Serial.available()){}

  if (Serial.available()) {
    from_r_pi_dir = Serial.parseInt();
    from_r_pi_pwm = Serial.parseInt();
  }

  digitalWrite(h_bridge_outputs[1], bitRead(from_r_pi_dir, 3));
  digitalWrite(h_bridge_outputs[2], bitRead(from_r_pi_dir, 2));
  digitalWrite(h_bridge_outputs[4], bitRead(from_r_pi_dir, 1));
  digitalWrite(h_bridge_outputs[5], bitRead(from_r_pi_dir, 0));

  pwm = map(from_r_pi_pwm, 0, 100, 0, 255);

  analogWrite(h_bridge_outputs[0], 60); // have set tp 60 to make sure the motors work
  analogWrite(h_bridge_outputs[3], 60);
  Serial.print(pwm);
}
</code></pre>

<p>So that's the set up. Now everything works fine (as I've hardcoded the pwm value on the Mega) the motors go in the directions as selected in the Python terminal UNLESS I put a value in for <code>pwm</code> then the motor behave in an unpredictible (well to me at the moment) manner.</p>

<p>I dont get why when I just press enter at the pwm prompt is works fine but otherwise not? The pwm value on the mega side does nothiing as far as I'm aware.</p>

<p>Is there something about serial comms I'm not understanding?</p>

<p>EDIT: Input from the terminal</p>

<pre><code>left 1: 1
left 2: 0
right 1 : 1
right 2 : 0
pwm % :
</code></pre>

<p>Here just hitting return for the pwm entry here. This has the effect of both motors rotating clockwise.</p>

<p>Values sent by the Pi (or so I think) are a byte 0b00001010 for the h bridge directions &amp; a byte 0b00000000 for the pwm value.</p>

<p>Ahh hold on... Is the Arduino expecting a 16 bit integer? Is the R Pi byte 8 bit?</p>
"
96205,1,2019-04-06T17:32:36.093,1,1896,101102,,2020-11-20T15:03:45.467,2020-06-16T10:47:29.480,5,,"<p>Although, this dongle works (for awhile), there is a problem with the bluetooth driver.  After streaming for about an hour, the driver eats up all the Pi memory and the Pi stops responding.  Power cycling is the only fix.  This may be related to the flood of messages it puts out on dmesg.  I tried clearing dmesg, but that does not recover the lost memory.  You can watch the memory slowly decrease by running htop while streaming to a bluetooth speaker.  I think the memory problem is with the bluetooth driver, because the problem does not occur when using a different bluetooth dongle.</p>
<p>Maybe someone with driver coding experience could find a solution.  Please post any ideas you might have regarding the memory problem.</p>
<pre><code>#the bluetooth driver floods dmesg with about 10 messages per second...
dmesg|tail
[  329.685269] rtk_btcoex: count_pan_packet_timeout: pan_packet_count 0
[  329.765265] rtk_btcoex: count_a2dp_packet_timeout: a2dp_packet_count 37
[  330.725279] rtk_btcoex: count_pan_packet_timeout: pan_packet_count 0
[  330.805278] rtk_btcoex: count_a2dp_packet_timeout: a2dp_packet_count 38
[  331.765273] rtk_btcoex: count_pan_packet_timeout: pan_packet_count 0
[  331.845278] rtk_btcoex: count_a2dp_packet_timeout: a2dp_packet_count 37
[  332.805301] rtk_btcoex: count_pan_packet_timeout: pan_packet_count 0
[  332.885305] rtk_btcoex: count_a2dp_packet_timeout: a2dp_packet_count 38
[  333.845301] rtk_btcoex: count_pan_packet_timeout: pan_packet_count 0
[  333.925309] rtk_btcoex: count_a2dp_packet_timeout: a2dp_packet_count 37

</code></pre>
<h1>Steps to compile the bluetooth and wifi drivers for EDIMAX EW-7611ULB on Raspberry Pi</h1>
<h1>The compile process:</h1>
<p>First, install the headers for your OS</p>
<pre><code>sudo apt-get install raspberrypi-kernel-headers
</code></pre>
<h1>---  the system is now ready to compile  ---</h1>
<h1>BLUETOOTH DRIVER</h1>
<pre><code>#get bluetooth driver from the Edimax site
wget http://www.edimax.us/download/drivers/EW-7611ULB/EW-7611ULB_Bluetooth_driver.zip
unzip EW-7611ULB_Bluetooth_driver.zip
cd EW-7611ULB_Bluetooth_driver
cd Linux_BT_USB_v3.1_20150526_8723BU_BTCOEX_20150119-5844_Edimax
</code></pre>
<h1>Fix source file so will compile with &gt;= 4.9.x kernels</h1>
<p>In Section &quot;(II.) Bluetooth Driver Installation&quot;, before running
&quot;sudo make install -s&quot;, you need to edit the file
bluetooth_usb_driver/rtk_coex.c
At line 448, change:</p>
<pre><code>#if HCI_VERSION_CODE &gt;= KERNEL_VERSION(3, 10, 0)
#if HCI_VERSION_CODE &lt; KERNEL_VERSION(4, 4, 0)
    bt_cb(skb)-&gt;req.start = true;
#else
    bt_cb(skb)-&gt;hci.req_start = true;
#endif
#endif
</code></pre>
<p>to:</p>
<pre><code>#if HCI_VERSION_CODE &gt;= KERNEL_VERSION(3, 10, 0)
#if HCI_VERSION_CODE &lt; KERNEL_VERSION(4, 4, 0)
    bt_cb(skb)-&gt;req.start = true;
#elif HCI_VERSION_CODE &gt;= KERNEL_VERSION(4,9,0)
    bt_cb(skb)-&gt;hci.req_flags |= HCI_REQ_START;
#else
    bt_cb(skb)-&gt;hci.req_start = true;
#endif
#endif
</code></pre>
<h1>Fix the Makefile</h1>
<p>change depmod line to in TWO places, BOTH the install and uninstall sections:</p>
<pre><code>depmod -a -v                                           
</code></pre>
<h1>Compile and install the driver</h1>
<pre><code>sudo make install -s
sudo reboot
</code></pre>
<h1>This completes the bluetooth driver install.  If you want, you can test by connecting something using bluetoothctl.  Read the Bluetooth driver info below to prevent your logfiles from filling up.</h1>
<h1>If you later want to use a different Bluetooth dongle, you'll need to revert to the stock Bluetooth driver as follows:</h1>
<pre><code>cd EW-7611ULB_Bluetooth_driver
cd Linux_BT_USB_v3.1_20150526_8723BU_BTCOEX_20150119-5844_Edimax
sudo make uninstall -s
sudo reboot
</code></pre>
<h1>WIFI DRIVER</h1>
<pre><code>sudo apt update
#get the wifi driver
sudo apt install git
git clone https://github.com/lwfinger/rtl8723bu.git

####   optional    ###################################################
#if you don't want TWO wlan devices (wlan0 and wlan1) in ifconfig    #
#disable concurrent mode, by commenting out the line in the Makefile #
#cd rtl8723bu                                                        #
#nano Makefile                                                       #
#(put # in front of this line):                                      #
#EXTRA_CFLAGS += -DCONFIG_CONCURRENT_MODE                            #
######################################################################

#make the driver
sudo make
sudo make install
sudo modprobe -v 8723bu
#This driver cannot work with the standard driver rtl8xxxu
#so create 50-rtl8xxxu.conf with one line: 
blacklist rtl8xxxu
sudo nano /etc/modprobe.d/50-rtl8xxxu.conf 
</code></pre>
<h1>This completes the WIFI driver install</h1>
<h1>Bluetooth Driver Info</h1>
<p>The bluetooth driver floods the message log with some info,
so to prevent it overloading your logfile, edit /etc/rsyslog.conf
and add the following line to discard those messages:</p>
<pre><code>:msg, contains, &quot;rtk_btcoex&quot;    ~
</code></pre>
<h1>Log file example snip shown below:</h1>
<h1>...snip from /etc/rsyslog.conf.........................</h1>
<pre><code>###############
#### RULES ####
###############

#
# First some standard log files.  Log by facility.
#
auth,authpriv.*         /var/log/auth.log
:msg, contains, &quot;rtk_btcoex&quot;    ~
*.*;auth,authpriv.none      -/var/log/syslog
#cron.*             /var/log/cron.log
daemon.*            -/var/log/daemon.log
kern.*              -/var/log/kern.log
lpr.*               -/var/log/lpr.log
mail.*              -/var/log/mail.log
user.*              -/var/log/user.log
#kern.info           -/var/log/kern.info
</code></pre>
<h1>...snip...............................................</h1>
"
96210,1,2019-04-06T21:18:20.797,2,6318,101122,,2019-10-07T16:30:23.820,,0,,"<p>I've seen setterm suggested, but it did nothing
I've seen suggestions based on ansi esc characters , doesnt last I think the prompt resets any color changes, so I can echo a color change to print a word, but I can't it get it to maintain the color set, 
I went to the terminal preference, selected foreground as green, nothing happened
Specifically
$  setterm -foreground green 
Nothing happened</p>

<p>There has to be an easier way to set the terminal colors, I haven't found it
Any suggestions</p>
"
96408,1,2019-04-12T00:08:04.713,1,178,101360,,2019-09-10T18:08:13.747,,4,,"<p>i got this simple code that writes a ""abc"" into a text file calles test.txt.
Now, on  a Raspberry execute this code wit IDLE or Thonny does NOT work, the text file remains empty... but instead, when call with the terminal, it writes the text into the file.</p>

<pre><code>f = open(""test.txt"",""w"")  f.write(""abc"")
</code></pre>

<p>Is there someone who could explain this?</p>
"
96423,1,2019-04-12T11:10:08.760,1,1063,101378,,2019-04-12T14:20:00.953,2019-04-12T12:45:46.147,0,,"<p>I am looking for a Pi HAT capable of generating 300 kHz sine waves at about 8 samples per waveform with my Raspberry Pi 3B+. Sampling rate required is around 2.5 MSps. Output voltage ideally needs to be at least 3.3V or higher.</p>

<p>In the past, I have used a DAC HAT made by this man from diymat.co.uk but unfortunately I think he is no longer making them anymore.</p>

<p>Struggling to find a replacement HAT to cope with the application and would greatly appreciate any suggestions.</p>

<p>Thanks in advance!</p>
"
96592,1,2019-04-16T16:11:04.107,1,1613,101476,,2019-06-10T23:48:27.567,2019-06-10T23:48:27.567,0,,"<p>This is a follow up to <a href=""https://raspberrypi.stackexchange.com/questions/96550/static-ip-address-for-usb-screencast-in-raspbian-stretch"">Static IP Address for USB Screencast in Raspbian Stretch</a>. Concisely, I want to use USB Tethering to connect VNC on my smartphone to the RPi for use as a remote desktop-type connection.</p>

<p>I've found that connecting my Android Phone via USB to my Raspberry Pi 3 B+ (Raspbian Stretch OS) and enabling Smartphone Tethering creates a new <code>eth1</code> interface, as shown in row 4 of my <code>networkctl</code> outputs:</p>

<pre><code>IDX LINK             TYPE               OPERATIONAL SETUP
  1 lo               loopback           carrier     unmanaged
  2 eth0             ether              no-carrier  unmanaged
  3 wlan0            wlan               routable    unmanaged
  4 eth1             ether              off         unmanaged
</code></pre>

<p>However, as you can see, <code>eth1</code> is ""off and unmanaged"". I want to be able to give the Raspberry Pi an IP address on the <code>eth1</code> connection, so that I can use VNC to control the screen of the RPi via a USB cable. How do I ""enable"" the eth1 connection and use it?</p>
"
96653,1,2019-04-18T03:23:24.403,2,12477,101507,,2020-04-21T03:36:04.850,2019-10-07T11:39:28.143,0,,"<p>I have a pH meter (DIY-4502C) hooked up with Raspberry Pi. However, the <a href=""https://www.diymore.cc/collections/ph-value-detect-sensor/products/diymore-liquid-ph-value-detection-detect-sensor-module-monitoring-control-for-arduino-m"" rel=""nofollow noreferrer"">instructions to calibrate</a> is in Chinese and seems outdated.</p>

<p>Does anybody know how to calibrate it for measuring pH4-7?</p>
"
96677,1,2019-04-18T14:56:51.620,2,774,101647,,2019-05-03T12:46:01.950,2019-04-25T11:13:10.713,8,,"<p>So I have the following configuration:</p>

<pre><code>                    +---------------------+      +----------------------------------+
                    |      10.10.10.*     |      |            192.168.100.*         |
                    |---------------------|      |----------------------------------|
                    |                     |      |                                  |
                    |              +------|------|------+                           |
                    |              |    Raspberry Pi    |                           |
                    |              |------|------|------|                           |
                    |              |      |      |      |                           |
                    |              |  +--------------+  |                           |
                    |              |  |   |      |   |  |                           |
                    |              |  v   |      |   v  |                           |
                    | +--------+   |------|------|------|   +--------+   +----+     |
         Internet   | |Router 1|   | eth0 |      |wlan0 |   |Router 2|   | PC |     |
                    | +--------+   +------|------|------+   +--------+   +----+     |
            ^       |    ^  ^         ^   |      |  ^          ^  ^        ^        |
            |       +----|--|---------|---+      +--|----------|--|--------|--------+
            |            |  |         |             |          |  |        |
            |            |  |         |             |          |  |        |
            +------------+  +---------+             +----------+  +--------+
</code></pre>

<p>I've installed and configured OpenVPN on the Raspberry PI, and I can connect to it from external. When i'm connected the ip is in 10.8.0.* range, and I have no problem accessing any computer that is connected to ""Router 1"", but what I'm trying is to access PC that is connect to ""Router 2"", and I'm stuck :). Everything that is behind Router 2 shouldn't have internet access, but I do want to have access to them when needed from a remote location. I do have access to both routers for configuration.</p>

<p>I assume is some routes or iptable configuration, but I'm quite a noob in this.</p>

<p>If it helps this are my routes:</p>

<pre><code>0.0.0.0         10.10.10.1      0.0.0.0         UG    202    0        0 eth0
0.0.0.0         192.168.100.1   0.0.0.0         UG    303    0        0 wlan0
10.8.0.0        0.0.0.0         255.255.255.0   U     0      0        0 tun0
10.10.10.0      0.0.0.0         255.255.255.0   U     202    0        0 eth0
192.168.100.0   0.0.0.0         255.255.255.0   U     303    0        0 wlan0
</code></pre>

<p>and my iptable config (i'm using iptable-persistent)</p>

<pre><code># Generated by iptables-save v1.6.0 on Thu Apr 18 16:52:58 2019
*filter
:INPUT ACCEPT [952:111277]
:FORWARD ACCEPT [36:3024]
:OUTPUT ACCEPT [675:99113]
-A INPUT -i tun0 -j ACCEPT
-A POSTROUTING -o tun0 -j MASQUERADE
-A INPUT -i eth0 -p udp -m udp --dport 1194 -j ACCEPT
-A FORWARD -i eth0 -o tun0 -j ACCEPT
-A FORWARD -i tun0 -o eth0 -j ACCEPT
COMMIT
# Completed on Thu Apr 18 16:52:58 2019
# Generated by iptables-save v1.6.0 on Thu Apr 18 16:52:58 2019
*nat
:PREROUTING ACCEPT [20:3877]
:INPUT ACCEPT [17:3625]
:OUTPUT ACCEPT [146:9653]
:POSTROUTING ACCEPT [147:9737]
-A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE
COMMIT
# Completed on Thu Apr 18 16:52:58 2019
</code></pre>

<p>And my <em>/etc/openvpn/server.conf</em></p>

<pre><code>port 1194
proto udp
dev tun
user nobody
group nogroup
persist-key
persist-tun
keepalive 10 120
topology subnet
server 10.8.0.0 255.255.255.0
ifconfig-pool-persist ipp.txt
push ""dhcp-option DNS 127.0.0.1""
push ""redirect-gateway def1 bypass-dhcp""
push ""route 192.168.100.0 255.255.255.0""
dh none
ecdh-curve prime256v1
tls-crypt tls-crypt.key 0
crl-verify crl.pem
ca ca.crt
cert server.crt
key server.key
auth SHA256
cipher AES-128-GCM
ncp-ciphers AES-128-GCM
tls-server
tls-version-min 1.2
tls-cipher TLS-ECDHE-ECDSA-WITH-AES-128-GCM-SHA256
status /var/log/openvpn/status.log
verb 3
</code></pre>
"
96716,1,2019-04-19T19:32:35.137,-2,270,100835,,2019-04-25T15:36:17.757,2019-04-22T02:37:31.410,9,,"<p>My objective is to program a print out a reading, but I want to delay the reprint so that its not spamming me with the reading constantly.</p>

<pre class=""lang-py prettyprint-override""><code>try:
  cpuFile=open(""/sys/class/thermal/thermal_zone0/temp"","""",""r"")
  cpuTemp=float(cpuTempFile.read())/1000
  cpuTempFile.close()
  if(abs(cpuTemp-cpuTempOld &gt; hyst)):
    print(""Pin {0} is ON"".format(FAN_PIN))
    sleep(30)   # I've tried the sleep command like this
     # but it didnt do the trick

This obviously isn't created by me and I also didn't provide the entire code, this is just want I believe you will need to have an understanding of what I'm trying to do.
</code></pre>
"
97961,1,2019-04-26T18:05:56.753,3,1525,80163,,2019-08-09T14:36:04.620,2019-08-09T14:36:04.620,3,,"<p>I am trying to setup Raspberry Pi as VPN-WiFi access point connecting to AWS VPC. I followed Raspberry Pi as an access point</p>

<p>Here are the all steps I performed in sequence</p>

<p>Installed fresh full Raspbian Stretch on Raspberry Pi 3+, which is connected to local network over ethernet.</p>

<pre><code>#Update Raspbian
sudo apt-get update -y
sudo apt-get dist-upgrade -y
sudo reboot

sudo apt install dnsmasq hostapd -y

sudo nano /etc/dhcpcd.conf 
#Added following after # Example static IP configuration:
interface wlan0
    static ip_address=192.168.4.1/24
    nohook wpa_supplicant

sudo systemctl restart dhcpcd

sudo mv /etc/dnsmasq.conf /etc/dnsmasq.conf.orig
sudo nano /etc/dnsmasq.conf
#Added following 
interface=wlan0      # Use the require wireless interface - usually wlan0
dhcp-range=192.168.4.2,192.168.4.20,255.255.255.0,24h

sudo systemctl reload dnsmasq

sudo nano /etc/hostapd/hostapd.conf

interface=wlan0
driver=nl80211
ssid=MyWiFi
hw_mode=g
channel=7
wmm_enabled=0
macaddr_acl=0
auth_algs=1
ignore_broadcast_ssid=0
wpa=2
wpa_passphrase=AccessMyNetwork
wpa_key_mgmt=WPA-PSK
wpa_pairwise=TKIP
rsn_pairwise=CCMP

sudo nano /etc/default/hostapd
#Added following line
DAEMON_CONF=""/etc/hostapd/hostapd.conf""

sudo systemctl unmask hostapd
sudo systemctl enable hostapd
sudo systemctl start hostapd

sudo nano /etc/sysctl.conf
#Added 
net.ipv4.ip_forward=1

sudo apt install hostapd bridge-utils -y

sudo nano /etc/dhcpcd.conf
#Added following lines just before interface wlan0 config I added above
denyinterfaces wlan0
denyinterfaces eth0

sudo nano /etc/network/interfaces
# Added following after source-directory
# Bridge setup
auto br0
iface br0 inet manual
bridge_ports eth0 wlan0

sudo ifup br0
sudo systemctl restart dhcpcd

sudo nano /etc/hostapd/hostapd.conf
#Added bridge=br0 below the interface=wlan0 line and comment out the driver line 
bridge=br0
#driver=nl80211

sudo systemctl unmask hostapd
sudo systemctl enable hostapd
sudo systemctl start hostapd

sudo reboot
</code></pre>

<p>This what network interface </p>

<pre><code>pi@accesspoint:~ $ ifconfig
br0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 10.24.11.15  netmask 255.255.255.0  broadcast 10.24.11.255
        inet6 fe80::4152:f5f5:5bee:6082  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether b8:27:eb:8e:38:ee  txqueuelen 1000  (Ethernet)
        RX packets 92  bytes 10655 (10.4 KiB)
        RX errors 0  dropped 3  overruns 0  frame 0
        TX packets 75  bytes 10841 (10.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        ether b8:27:eb:db:6d:bb  txqueuelen 1000  (Ethernet)
        RX packets 64  bytes 8284 (8.0 KiB)
        RX errors 0  dropped 1  overruns 0  frame 0
        TX packets 102  bytes 14518 (14.1 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        ether b8:27:eb:8e:38:ee  txqueuelen 1000  (Ethernet)
        RX packets 29  bytes 3519 (3.4 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 38  bytes 6341 (6.1 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<p>After doing above steps I cant ssh directly to accesspoint, I have to connect to WiFi Access point (<code>MyWiFi</code>)created on Raspberry pi first and then ssh to Raspberry pi IP. Is there any way to avoid this ?</p>

<p>OpenVPN Client Installation :</p>

<pre><code>sudo apt-get install openvpn -y

sudo cp /etc/openvpn/client1.ovpn /etc/openvpn/client.conf

sudo systemctl start openvpn@client

pi@accesspoint:~ $ ifconfig
br0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 10.24.11.15  netmask 255.255.255.0  broadcast 10.24.11.255
        inet6 fe80::4152:f5f5:5bee:6082  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether b8:27:eb:8e:38:ee  txqueuelen 1000  (Ethernet)
        RX packets 2355  bytes 1999824 (1.9 MiB)
        RX errors 0  dropped 108  overruns 0  frame 0
        TX packets 894  bytes 108321 (105.7 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        ether b8:27:eb:db:6d:bb  txqueuelen 1000  (Ethernet)
        RX packets 4094  bytes 2863772 (2.7 MiB)
        RX errors 0  dropped 18  overruns 0  frame 0
        TX packets 3289  bytes 660002 (644.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 16  bytes 1631 (1.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 16  bytes 1631 (1.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

tun0: flags=4305&lt;UP,POINTOPOINT,RUNNING,NOARP,MULTICAST&gt;  mtu 1500
        inet 10.8.0.2  netmask 255.255.255.0  destination 10.8.0.2
        inet6 fe80::48dd:8f8b:8dcd:a059  prefixlen 64  scopeid 0x20&lt;link&gt;
        unspec 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  txqueuelen 100  (UNSPEC)
        RX packets 1  bytes 76 (76.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 95  bytes 5492 (5.3 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        ether b8:27:eb:8e:38:ee  txqueuelen 1000  (Ethernet)
        RX packets 2600  bytes 546612 (533.8 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 2446  bytes 1014039 (990.2 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0


pi@accesspoint:~ $ sudo ip route
0.0.0.0/1 via 10.8.0.1 dev tun0
default via 10.24.11.1 dev br0 src 10.24.11.15 metric 204
10.8.0.0/24 dev tun0 proto kernel scope link src 10.8.0.2
10.24.11.0/24 dev br0 proto kernel scope link src 10.24.11.15 metric 204
35.166.225.161 via 10.24.11.1 dev br0
128.0.0.0/1 via 10.8.0.1 dev tun0

pi@accesspoint:~ $ sudo route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.8.0.1        128.0.0.0       UG    0      0        0 tun0
0.0.0.0         10.24.11.1      0.0.0.0         UG    204    0        0 br0
10.8.0.0        0.0.0.0         255.255.255.0   U     0      0        0 tun0
10.24.11.0      0.0.0.0         255.255.255.0   U     204    0        0 br0
35.166.225.161  10.24.11.1      255.255.255.255 UGH   0      0        0 br0
128.0.0.0       10.8.0.1        128.0.0.0       UG    0      0        0 tun0
</code></pre>

<p><code>10.24.11.0/24</code> Local Ethernet Network</p>

<p><code>10.2.0.0/16</code> is VPC network</p>

<p><code>10.2.2.101</code> IP of OpenVPN server Private IP</p>

<p><code>10.8.0.2</code> is VPN IP for <code>accesspoint</code> and <code>10.8.0.1</code> is VPN IP for OpenVPN server <code>openvpn</code></p>

<p>Connectivity :</p>

<pre><code>pi@accesspoint:~ $ ping 10.2.2.101
PING 10.2.2.101 (10.2.2.101) 56(84) bytes of data.
64 bytes from 10.2.2.101: icmp_seq=1 ttl=64 time=81.2 ms

pi@accesspoint:~ $ ping 10.2.1.145
PING 10.2.1.145 (10.2.1.145) 56(84) bytes of data.
64 bytes from 10.2.1.145: icmp_seq=1 ttl=63 time=80.5 ms

pi@accesspoint:~ $ ping 10.8.0.1
PING 10.8.0.1 (10.8.0.1) 56(84) bytes of data.
64 bytes from 10.8.0.1: icmp_seq=1 ttl=64 time=80.1 ms

pi@accesspoint:~ $ ping 10.8.0.2
PING 10.8.0.2 (10.8.0.2) 56(84) bytes of data.
64 bytes from 10.8.0.2: icmp_seq=1 ttl=64 time=0.171 ms

sudo iptables -t nat -A POSTROUTING -o tun0 -j MASQUERADE

pi@accesspoint:~ $ ping -I 10.8.0.2 10.2.1.145
PING 10.2.1.145 (10.2.1.145) from 10.8.0.2 : 56(84) bytes of data.
64 bytes from 10.2.1.145: icmp_seq=1 ttl=63 time=80.9 ms

pi@accesspoint:~ $ ping -I 10.24.11.15 10.2.1.145
(0 received, 100% packet loss)
</code></pre>

<p>Added Route : </p>

<pre><code>pi@accesspoint:~ $ sudo iptables -t nat -A POSTROUTING -o tun0 -j MASQUERADE
pi@accesspoint:~ $ sudo sudo iptables -A FORWARD -i tun0 -o br0 -j ACCEPT
pi@accesspoint:~ $ sudo iptables -A FORWARD -i br0 -o tun0 -j ACCEPT

pi@accesspoint:~ $ ping 10.2.1.145
PING 10.2.1.145 (10.2.1.145) 56(84) bytes of data.
64 bytes from 10.2.1.145: icmp_seq=1 ttl=63 time=82.5 ms

pi@accesspoint:~ $ ping -I 10.24.11.15 10.2.1.145
PING 10.2.1.145 (10.2.1.145) from 10.24.11.15 : 56(84) bytes of data.
64 bytes from 10.2.1.145: icmp_seq=1 ttl=63 time=82.5 ms

pi@accesspoint:~ $ sudo ip route get 10.2.1.145 from 10.8.0.2 iif br0
RTNETLINK answers: Invalid argument

pi@accesspoint:~ $ sudo ip route get 10.2.1.145 from 10.8.0.2 iif tun0
RTNETLINK answers: Invalid argument

pi@accesspoint:~ $ sudo ip route get 10.2.1.145 from 10.24.11.15 iif br0
RTNETLINK answers: Invalid argument

pi@accesspoint:~ $ sudo ip route get 10.2.1.145 from 10.24.11.15 iif tun0
RTNETLINK answers: Invalid argument

pi@accesspoint:~ $ sudo ip netconf show dev tun0
ipv4 dev tun0 forwarding on rp_filter off mc_forwarding off proxy_neigh off ignore_routes_with_linkdown off

pi@accesspoint:~ $ sudo ip netconf show dev br0
ipv4 dev br0 forwarding on rp_filter off mc_forwarding off proxy_neigh off ignore_routes_with_linkdown off
</code></pre>

<p>I setup another Raspberry Pi (<code>client</code>) and connected to WiFi access point (<code>MyWiFi</code>) I created in above steps.</p>

<pre><code>pi@client:~ $ ifconfig
eth0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500
    ether b8:27:eb:d2:02:8c  txqueuelen 1000  (Ethernet)
    RX packets 0  bytes 0 (0.0 B)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 0  bytes 0 (0.0 B)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
    inet 127.0.0.1  netmask 255.0.0.0
    inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
    loop  txqueuelen 1000  (Local Loopback)
    RX packets 73  bytes 6692 (6.5 KiB)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 73  bytes 6692 (6.5 KiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
    inet 10.24.11.201  netmask 255.255.255.0  broadcast 10.24.11.255
    inet6 fe80::561a:a6ae:7d08:1470  prefixlen 64  scopeid 0x20&lt;link&gt;
    ether b8:27:eb:87:57:d9  txqueuelen 1000  (Ethernet)
    RX packets 7277  bytes 792141 (773.5 KiB)
    RX errors 0  dropped 0  overruns 0  frame 0
    TX packets 28592  bytes 3117200 (2.9 MiB)
    TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

pi@client:~ $ sudo ip route
default via 10.24.11.1 dev wlan0 src 10.24.11.201 metric 303
10.24.11.0/24 dev wlan0 proto kernel scope link src 10.24.11.201 metric 303

pi@client:~ $ sudo route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.24.11.1      0.0.0.0         UG    303    0        0 wlan0
10.24.11.0      0.0.0.0         255.255.255.0   U     303    0        0 wlan0
</code></pre>

<p>Connectivity from client :</p>

<pre><code>pi@client:~ $ ping 10.24.11.15
PING 10.24.11.15 (10.24.11.15) 56(84) bytes of data.
64 bytes from 10.24.11.15: icmp_seq=1 ttl=64 time=2.31 ms

pi@client:~ $ ping 10.2.1.145
PING 10.2.1.145 (10.2.1.145) 56(84) bytes of data
(0 received, 100% packet loss)

pi@client:~ $ ping 10.8.0.2
PING 10.8.0.2 (10.8.0.2) 56(84) bytes of data.
(0 received, 100% packet loss)
</code></pre>

<p>Adding Routes on accesspoint : </p>

<pre><code>pi@accesspoint:~ $ sudo ip route add 10.2.0.0/16 via 10.8.0.2 dev tun0 proto static

pi@accesspoint:~ $ sudo ip route
0.0.0.0/1 via 10.8.0.1 dev tun0
default via 10.24.11.1 dev br0 src 10.24.11.15 metric 204
10.2.0.0/16 via 10.8.0.2 dev tun0 proto static
10.8.0.0/24 dev tun0 proto kernel scope link src 10.8.0.2
10.24.11.0/24 dev br0 proto kernel scope link src 10.24.11.15 metric 204
35.166.225.161 via 10.24.11.1 dev br0
128.0.0.0/1 via 10.8.0.1 dev tun0

pi@accesspoint:~ $ sudo route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.8.0.1        128.0.0.0       UG    0      0        0 tun0
0.0.0.0         10.24.11.1      0.0.0.0         UG    204    0        0 br0
10.2.0.0        10.8.0.2        255.255.0.0     UG    0      0        0 tun0
10.8.0.0        0.0.0.0         255.255.255.0   U     0      0        0 tun0
10.24.11.0      0.0.0.0         255.255.255.0   U     204    0        0 br0
35.166.225.161  10.24.11.1      255.255.255.255 UGH   0      0        0 br0
128.0.0.0       10.8.0.1        128.0.0.0       UG    0      0        0 tun0
</code></pre>

<p>Adding Routes on openvpn server in AWS VPC : </p>

<pre><code>ubuntu@openvpn:~$ sudo route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.2.2.1        0.0.0.0         UG    100    0        0 ens5
10.2.2.0        0.0.0.0         255.255.255.0   U     0      0        0 ens5
10.2.2.1        0.0.0.0         255.255.255.255 UH    100    0        0 ens5
10.8.0.0        0.0.0.0         255.255.255.0   U     0      0        0 tun0

ubuntu@openvpn:~$ sudo ip route add 10.24.11.0/24 via 10.8.0.1 dev tun0 proto static

ubuntu@openvpn:~$ sudo route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.2.2.1        0.0.0.0         UG    100    0        0 ens5
10.2.2.0        0.0.0.0         255.255.255.0   U     0      0        0 ens5
10.2.2.1        0.0.0.0         255.255.255.255 UH    100    0        0 ens5
10.8.0.0        0.0.0.0         255.255.255.0   U     0      0        0 tun0
10.24.11.0      10.8.0.1        255.255.255.0   UG    0      0        0 tun0
</code></pre>

<p>Connectivity from OpenVPN Server to accesspoint :</p>

<pre><code>ubuntu@openvpn:~$ ping 10.8.0.2
PING 10.8.0.2 (10.8.0.2) 56(84) bytes of data.
64 bytes from 10.8.0.2: icmp_seq=1 ttl=64 time=80.0 ms

ubuntu@openvpn:~$ ping 10.24.11.15
PING 10.24.11.15 (10.24.11.15) 56(84) bytes of data.
(0 received, 100% packet loss)
</code></pre>

<p>Connectivity for client (following command were running simultaneously) :</p>

<pre><code>pi@client:~ $ ping 10.8.0.2
PING 10.8.0.2 (10.8.0.2) 56(84) bytes of data.
^C
--- 10.8.0.2 ping statistics ---
12 packets transmitted, 0 received, 100% packet loss, time 11416ms

pi@accesspoint:~ $ sudo tcpdump -ni br0 'icmp'
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on br0, link-type EN10MB (Ethernet), capture size 262144 bytes
11:22:23.054146 IP 10.24.11.201 &gt; 10.8.0.2: ICMP echo request, id 2619, seq 1, length 64
11:22:24.084698 IP 10.24.11.201 &gt; 10.8.0.2: ICMP echo request, id 2619, seq 2, length 64
11:22:25.126055 IP 10.24.11.201 &gt; 10.8.0.2: ICMP echo request, id 2619, seq 3, length 64

pi@accesspoint:~ $ sudo tcpdump -ni tun0 'icmp'
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on tun0, link-type RAW (Raw IP), capture size 262144 bytes
^C
(0 packets captured)
</code></pre>

<p>And 
(following command were running simultaneously)</p>

<pre><code>pi@client:~ $ ping 10.2.1.145
PING 10.2.1.145 (10.2.1.145) 56(84) bytes of data.
^C
--- 10.2.1.145 ping statistics ---
17 packets transmitted, 0 received, 100% packet loss, time 16644ms

pi@accesspoint:~ $ sudo tcpdump -ni br0 'icmp'
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on br0, link-type EN10MB (Ethernet), capture size 262144 bytes
11:24:27.609493 IP 10.24.11.201 &gt; 10.2.1.145: ICMP echo request, id 3222, seq 5, length 64
11:24:28.644693 IP 10.24.11.201 &gt; 10.2.1.145: ICMP echo request, id 3222, seq 6, length 64

pi@accesspoint:~ $ sudo tcpdump -ni tun0 'icmp'
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on tun0, link-type RAW (Raw IP), capture size 262144 bytes
^C
0 packets captured
0 packets received by filter
0 packets dropped by kernel
</code></pre>

<p>I tried to re-do entire set-up in a clean way.</p>

<p>I can't ping AWS VPC IP's from <code>client</code> which is connected to access point <code>MyWiFi</code>, all connectivity works from <code>accesspoint</code> node.</p>

<pre>
          (Office Network) 10.24.11.1/24                    (AWS VPC) 10.2.0.0/16
+--------------------------------------------+       +----------------------------------+
|                                            |       |                                  |
|                 OpenVPN Client (Pi)        |       |       OpenVPN Server (Ubuntu)    |
|                                            |       |                                  |
|             +--------------------------+   |       |  +--------------------------+    |
|             |                          |   |       |  |                          |    |
|       eth0  |                          |   |tun0   |  |                          |    |
|      &lt;--+--&gt;|                  10.8.0.2|&lt;--|--+----|-&gt;|10.8.0.1       10.2.2.101 |ens5|
|             |                          |   |       |  |                          |    |
|         br0 |10.24.11.15               |   |       |  |                          |    |
|             |                          |   |       |  |                          |    |
|             |       wlan0              |   |       |  |                          |    |
|             +--------------------------+   |       |  +--------------------------+    |
|                       ^                    |       |                                  |
|                       |                    |       |                                  |
|     WiFi Client       |                    |       |                                  |
| +------------------+  |                    |       |                  +----------+    |
| |wlan0:10.24.11.201|  |                    |       |                  | Host 1   |    |
| |                  |--+                    |       |                  |          |    |
| +------------------+                       |       |                  |10.2.1.145|    |
+--------------------------------------------+       |                  +----------+    |
                                                     +----------------------------------+</pre>

<p><code>OpenVPN Server</code> route :</p>

<pre><code>ubuntu@openvpn:~$ ip route
default via 10.2.2.1 dev ens5 proto dhcp src 10.2.2.101 metric 100
10.2.2.0/24 dev ens5 proto kernel scope link src 10.2.2.101
10.2.2.1 dev ens5 proto dhcp scope link src 10.2.2.101 metric 100
10.8.0.0/24 dev tun0 proto kernel scope link src 10.8.0.1
10.24.11.0/24 via 10.8.0.2 dev tun0 proto static src 10.8.0.1
</code></pre>

<p><code>OpenVPN Client</code> route :</p>

<pre><code>pi@accesspoint:~ $ ip route
default via 10.24.11.1 dev br0 src 10.24.11.15 metric 203
10.2.0.0/16 via 10.8.0.1 dev tun0 proto static src 10.8.0.2
10.8.0.0/24 dev tun0 proto kernel scope link src 10.8.0.2
10.24.11.0/24 dev br0 proto kernel scope link src 10.24.11.15 metric 203
35.176.225.61 via 10.24.11.1 dev br0
</code></pre>

<p><code>WiFi Client</code> route :</p>

<pre><code>pi@client:~ $ ip route
default via 10.24.11.1 dev wlan0 src 10.24.11.201 metric 303
10.2.0.0/16 via 10.24.11.15 dev wlan0 proto static
10.24.11.0/24 dev wlan0 proto kernel scope link src 10.24.11.201 metric 303
</code></pre>
"
98090,1,2019-04-30T21:36:31.873,3,449,87812,,2019-05-01T07:48:39.187,,0,,"<p>What are advantages and disadvantages in accessing I2C and other interfaces directly with /dev/mem (as in <a href=""https://github.com/raspberry-sharp/raspberry-sharp-io/blob/master/Raspberry.IO.InterIntegratedCircuit/I2cDriver.cs#L49"" rel=""nofollow noreferrer"">this code</a>) instead of using /dev/i2c-1 (as in most examples <a href=""https://raspberry-projects.com/pi/programming-in-c/i2c/using-the-i2c-interface"" rel=""nofollow noreferrer"">like this</a>)?</p>
"
98142,1,2019-05-02T14:23:02.420,2,3248,12486,,2020-03-16T03:43:53.407,2019-10-30T11:16:56.137,4,,"<p>I am trying to cross-compile for raspberry B/raspberry zero on ubuntu18.04 using <a href=""https://launchpad.net/ubuntu/bionic/+package/crossbuild-essential-armhf"" rel=""nofollow noreferrer"">crossbuild-essential-armhf</a>.
I installed it using :</p>

<pre><code>apt-get install -y crossbuild-essential-armhf
</code></pre>

<p>In order to test I am using a simple hello world file <code>hello.c</code>: </p>

<pre><code>#include &lt;stdio.h&gt; 
int main() {
        printf(""hello\n"");
        return 0; 
}
</code></pre>

<p>Using :</p>

<pre><code>arm-linux-gnueabihf-gcc hello.c
</code></pre>

<p>The executable crash with segmentation violation, the stack is then :</p>

<blockquote>
<pre><code>#0  0x0044f5c2 in ?? ()
#1  0x0040040e in _start ()
Backtrace stopped: previous frame identical to this frame (corrupt stack?)
</code></pre>
</blockquote>

<p>So I tried to build using different commands searching on internet like :</p>

<pre><code>arm-linux-gnueabihf-gcc -marm -march=armv6 hello.c
arm-linux-gnueabihf-gcc -marm -mcpu=arm1176jzf-s hello.c
arm-linux-gnueabihf-gcc -marm -march=armv6 -mfpu=vfp -mfloat-abi=hard hello.c
</code></pre>

<p>But the stack is always the same.</p>

<p>Using the ""historical"" <a href=""https://github.com/raspberrypi/tools.git"" rel=""nofollow noreferrer"">https://github.com/raspberrypi/tools.git</a> is working but this gcc-4.8 compiler is far too old to compile modern code.</p>

<p>Is there a way to produce raspberry B/raspberry zero binaries using a gcc-7 cross compiler ?  </p>
"
98255,1,2019-05-05T17:52:39.557,2,159,103320,,2019-05-12T15:45:17.603,2019-05-08T10:40:49.263,2,,"<p>I have:</p>

<ul>
<li>Raspi 3b+</li>
<li>1st internet connection on eth0 through built in adapter</li>
<li>2nd internet connection on eth1 through a USB-dongle</li>
</ul>

<p>I followed the official manual and the AP is running just fine.</p>

<p>What I'm trying to do is routing the traffic though eth1 when no internet connection is available on eth0. It's working but with a very big latency and packets drops.</p>

<p><strong>Case 1:</strong></p>

<ul>
<li><p>eth0 has internet</p></li>
<li><p>eth1 has internet</p></li>
</ul>

<p>Result: everything works smoothly.</p>

<pre><code># route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         192.168.1.254   0.0.0.0         UG    202    0        0 eth0
default         192.168.8.1     0.0.0.0         UG    205    0        0 eth1
192.168.1.0     0.0.0.0         255.255.255.0   U     202    0        0 eth0
192.168.8.0     0.0.0.0         255.255.255.0   U     205    0        0 eth1
192.168.253.0   0.0.0.0         255.255.255.0   U     303    0        0 wlan0
</code></pre>

<p><strong>Case 2:</strong></p>

<ul>
<li><p>eth0 has <strong><em>no</em></strong> internet anymore</p></li>
<li><p>eth1 has internet</p></li>
</ul>

<p>Result: big latency, packets drops.</p>

<pre><code># route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
default         192.168.8.1     0.0.0.0         UG    205    0        0 eth1
192.168.1.0     0.0.0.0         255.255.255.0   U     202    0        0 eth0
192.168.8.0     0.0.0.0         255.255.255.0   U     205    0        0 eth1
192.168.253.0   0.0.0.0         255.255.255.0   U     303    0        0 wlan0
</code></pre>

<hr>

<pre><code># cat /etc/dnsmasq.conf
resolv-file=/etc/resolv.dnsmasq.conf
interface=wlan0
    server=8.8.8.8
    server=8.8.4.4
dhcp-range=192.168.253.2,192.168.253.254,255.255.255.0,12h
dhcp-authoritative
</code></pre>

<hr>

<pre><code># iptables-save
# Generated by iptables-save v1.6.0 on Sun May  5 18:44:06 2019
*nat
:PREROUTING ACCEPT [2637:573309]
:INPUT ACCEPT [605:71308]
:OUTPUT ACCEPT [658:46686]
:POSTROUTING ACCEPT [10:1489]
-A POSTROUTING -o eth1 -j MASQUERADE
-A POSTROUTING -o eth0 -j MASQUERADE
COMMIT
# Completed on Sun May  5 18:44:06 2019
# Generated by iptables-save v1.6.0 on Sun May  5 18:44:06 2019
*filter
:INPUT ACCEPT [1667:192581]
:FORWARD ACCEPT [24823:15540031]
:OUTPUT ACCEPT [1590:161791]
-A FORWARD -i eth1 -o eth0 -m state --state RELATED,ESTABLISHED -j ACCEPT
-A FORWARD -i eth0 -o eth1 -j ACCEPT
COMMIT
# Completed on Sun May  5 18:44:06 2019
</code></pre>

<hr>

<pre><code># ifconfig
eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.1.103  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 zzzzzzzzzzzzzzz  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether xx:xx:xx:xx:xx:xx  txqueuelen 1000  (Ethernet)
        RX packets 133500  bytes 132927619 (126.7 MiB)
        RX errors 0  dropped 12  overruns 0  frame 0
        TX packets 97296  bytes 63923420 (60.9 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth1: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.8.100  netmask 255.255.255.0  broadcast 192.168.8.255
        inet6 vvvvvvvvvvvvvvvv  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether yy:yy:yy:yy:yy:yy  txqueuelen 1000  (Ethernet)
        RX packets 23672  bytes 11549930 (11.0 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 19765  bytes 10665918 (10.1 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 253  bytes 30503 (29.7 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 253  bytes 30503 (29.7 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.253.1  netmask 255.255.255.0  broadcast 192.168.253.255
        inet6 mmmmmmmmmmmmmmmmmmmm  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether aa:aa:aa:aa:aa:aa  txqueuelen 1000  (Ethernet)
        RX packets 155008  bytes 100683215 (96.0 MiB)
        RX errors 0  dropped 8  overruns 0  frame 0
        TX packets 193745  bytes 187522062 (178.8 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<hr>

<p>When the USB dongle is plugged into PC I have a smooth Internet connection, so it's not a problem of the dongle.</p>

<p>Could anyone please help me to figure out what's going on and how to fix that? Thanks in advance.</p>

<hr>

<p><em>[UPDATE]</em></p>

<p>Update infos from comments on answer:
Mean while I have another problem after configuring bonding for interfaces. Eth1 is the usb-modem, which becomes the Ethernet interface with usb_modeswitch. When this interface is not bonding - it becomes 'up' with ip address (common situation). When bonding - eth1 is down, however the eth0 is up. I believe, the problem comes from usb dongle router.</p>

<p>Definitely, this issue happens right after I disable dhcp on eth1. echo ""denyinterfaces eth0 eth1"" >> /etc/dhcpcd.conf</p>
"
98486,1,2019-05-12T09:28:15.737,0,603,103588,,2019-05-16T10:44:11.673,2019-05-13T10:11:52.133,0,,"<p>I need to track the amount of data that my Raspberry pi is sending each month via network (WiFi and Ethernet).</p>

<p>Any ideas how can I get that?</p>
"
98847,1,2019-05-22T08:15:35.877,0,224,103894,,2019-05-22T11:26:58.430,,5,,"<p>I have 3 scripts and I want them to be listening to a bluetooth command. When the Raspberry receive a command from the bluetooth, one of the three scripts must run. For example if the Raspb recieve the command ""0"", the script ""0"" will run. Anyone could help me please to do this.</p>
"
98870,1,2019-05-22T17:34:06.117,1,1141,103971,,2019-09-06T19:56:13.603,,0,,"<p>I'm trying to create a raspberry pi which streams spotify music to a bluetooth speaker. I have a raspberry pi zero w with the latest version of raspbian stretch lite. I have my bluetooth connection and my raspotify set up. The only thing i can't figure out is how to redirect the output of raspotify to the bluetooth speaker. Is there a way to tell the pi to redirect all the audio to a bluetooth speaker?</p>
"
99011,1,2019-05-26T21:30:12.147,0,495,104115,,2019-05-27T01:45:11.190,2019-05-26T22:10:13.083,0,,"<p>How do i interpret this code to python for my sensor</p>

<pre><code>    void loop()
{

    volt = 0;
    for(int i=0; i&lt;800; i++)
    {
        volt += ((float)analogRead(sensorPin)/1023)*5;
    }
    volt = volt/800;
    volt = round_to_dp(volt,1);
    if(volt &lt; 2.5){
      ntu = 3000;
    }else{
      ntu = -1120.4*square(volt)+5742.3*volt-4353.8; 
    }
    lcd.clear();
    lcd.setCursor(0,0);
    lcd.print(volt);
    lcd.print("" V"");

    lcd.setCursor(0,1);
    lcd.print(ntu);
    lcd.print("" NTU"");
    delay(10);
}
</code></pre>
"
99138,1,2019-05-31T15:03:09.373,3,4738,76147,,2019-11-30T17:01:40.220,2019-06-02T11:55:23.703,12,,"<p>I was trying to send and receive data between Raspberry pi and Arduino UNO.
I'm able to send and receive a string from Arduino to Pi using <code>Serial.println</code>.
I spent hours searching a better tutorial or a solution. Couldn't find  any.</p>

<p>The code below will send an answer(<code>'Got'</code>) to Arduino when it recieves a <code>'Hi'</code> from Arduino.</p>

<p>Simple Python code I'm using:</p>

<pre><code>import serial
import time
ser = serial.Serial('/dev/ttyACM0',9600)
ser.flushInput()

while True:
s= ser.readline()
s= s.strip()
print (s.decode(""utf-8""))
if (s.decode(""utf-8"") == ""Hi""):
    print(""sending"")
    ans = ""Got""
    ans = ans.encode(""utf-8"")
    ser.write(ans)
time.sleep(0.5)
</code></pre>

<p>Arduino code:</p>

<pre><code>void setup() {
    Serial.begin(9600); As        
    Serial.println(""Hi"");   // send the data
}

void loop() {
    delay(1000);
    if (Serial.available()) {

        //define SerIn here
        SerIn = //code for reading string goes here 

        if (SerIn=='Got') { 
            Serial.println('I got it');
        }else{
            Serial.println('Oopz');
        } 

    } 
}
</code></pre>

<p>I tried this:</p>

<pre><code>String SerIn;    
SerIn = Serial.readStringUntil('\n');
</code></pre>

<p>This throws an error while compiling.</p>

<pre><code>error: invalid conversion from ‘int’ to ‘const char*’ [-fpermissive]
In file included from /usr/share/arduino/hardware/arduino/cores/arduino/Arduino.h:192:0,
                 from RPI_ARDSerial.ino:2:
/usr/share/arduino/hardware/arduino/cores/arduino/WString.h:130:16: note:   initializing argument 1 of ‘unsigned char String::operator==(const char*) const’
  unsigned char operator == (const char *cstr) const {return equals(cstr);}
</code></pre>
"
99331,1,2019-06-07T08:05:57.030,1,384,87608,,2019-06-07T08:17:16.040,,0,,"<p>I am using a Pi 3 B+ with the Pi Foundation 7"" touchscreen for a personal home automation system. The UI is a webpage displayed in a Chromium browser in kiosk mode. Here are my specifics:</p>

<p>/etc/X11/xinit/xserverrc:</p>

<pre class=""lang-bsh prettyprint-override""><code>#!/bin/sh
exec /usr/bin/X -nolisten tcp ""$@"" -nocursor
</code></pre>

<p>/etc/X11/xorg.conf:</p>

<pre class=""lang-bsh prettyprint-override""><code>Section ""ServerFlags""
Option ""blank time"" ""0""
Option ""standby time"" ""0""
Option ""suspend time"" ""0""
Option ""off time"" ""0""
EndSection
</code></pre>

<p>Startup command line:</p>

<pre><code>startx /usr/bin/chromium-browser http://localhost:19532 --window-size=800,480 --start-fullscreen --kiosk --incognito --disable-pinch --overscroll-history-navigation=0 --remote-debugging-port=9222
</code></pre>

<p>This all has worked well for a number of months now. But for as long as I've been using this setup, the viewport seems to be shifted down and to the right by 10px relative to the top left of the actual screen. That is, if I place an 11px border around the edges of the page, I see all 11px on the top and left sides of the screen, although there are 10 black pixels. And on the bottom and right sides, I see only 1px of the border.</p>

<p>Does anyone know what might cause this and how I might fix it? I can always shift content on the bottom and right sides by 10px, but I'd like to fill the screen on the top and left sides, if possible.</p>
"
99370,1,2019-06-07T22:52:55.607,1,112,85731,,2020-04-20T13:24:34.970,2020-04-20T13:24:34.970,3,,"<p>So I have an external master device which bangs out a byte stream (<code>DOUT</code>), it indicates the upcoming stream on an <code>DRDY</code>. The timings are given from the master on an <code>DCLK</code> line.</p>

<p>These three lines (<code>DRDY</code>, <code>DCLK</code>, <code>DOUT</code>) serve the data from that particular master device. Now I want to avoid introducing new hardware, ie an FPGA, and wonder how the Raspberry can handle the data stream.</p>

<p>The clockline is somewhat low baud and the interrupt fires at 100-500 Hz.</p>

<p>Options on the table are software bit-banging and raping the I2C ports through <code>pigpio</code> to receive the data.</p>

<p>What are your thoughts, is this within reach?</p>

<blockquote>
  <p>Resources:</p>
</blockquote>

<p><a href=""https://raspberrypi.stackexchange.com/questions/76109/raspberry-as-an-i2c-slave"">Raspberry as an I2C SLAVE</a></p>

<p><a href=""http://abyz.me.uk/rpi/pigpio/cif.html#bscXfer"" rel=""nofollow noreferrer"">http://abyz.me.uk/rpi/pigpio/cif.html#bscXfer</a></p>

<p>Update:
Ended up writing a <strong>I2S</strong> Kernel driver to ingest the stream. Worked well.</p>
"
99500,1,2019-06-12T00:31:22.817,2,512,104714,,2019-06-26T12:48:47.177,,5,,"<p>I try to setup my raspberry pi 3 as a virtual printer. My scenario is the following:   </p>

<p>Legacy System (running Windows 7) -> COM port -> cross-wired rs232 cable -> rpi rs232 extension board for GPIO -> /dev/ttyAMA0 port on latest Raspbian </p>

<p>I try to read the incoming printing jobs at the rpi end. I cannot get this working.
When using pyserial, I can exchange data between my windows system and my rpi using the following code:</p>

<p>Raspberry (receiving end):</p>

<pre class=""lang-py prettyprint-override""><code>import serial

with serial.Serial(port='/dev/ttyAMA0', baudrate=9600, bytesize=8, parity='N', stopbits=1, timeout=None, xonxoff=0, rtscts=0) as ser:
  x = ser.readline()
  print x
</code></pre>

<p>Windows (sending end):</p>

<pre><code>PS&gt; [System.IO.Ports.SerialPort]::getportnames()
COM1,9600,None,8,one
PS&gt; $port= new-Object System.IO.Ports.SerialPort COM1,9600,None,8,one
PS&gt; $port.open()
PS&gt; $port.WriteLine(""Hello world"")
PS&gt; $port.Close()
</code></pre>

<p><strong>Result</strong>: ""Hello world"" is printed on the rpi's console.<br>
<strong>Issue</strong>: However, the same COM port does not work as a ""Generic / Text only"" printer. No data is delivered to the rpi.</p>

<p><strong>Question</strong>: What is missing on the receiving end to act as a standard printer (such as those using the ESC/POS printer control language)? It seems like Windows does not treat the rpi as a printer. What am I missing here?</p>
"
99739,1,2019-06-19T02:52:38.433,1,1309,104947,,2020-07-13T19:30:50.337,2019-06-19T17:05:16.150,0,,"<p>I'm trying to use ubuntu OS on my raspberry pi 3 B+. </p>

<p>I have formatted my microSD card to FAT32 and copied the ubuntu-18.04.2-preinstalled-server-arm64+raspi3.img. </p>

<p>I am able to have the OS working. With keyboard and monitor connected, I am able to get to the command line. In fact, the command line is the only thing I see when I turn on my RPi. </p>

<p>But there is not much I can do since no wifi has been configured yet. </p>

<p>I tried to do 
<code>sudo iwlist wlan0 scan</code> to scan for network, but I got this message:</p>

<p><code>sudo: iwlist: command not found</code></p>

<p>What can I do now? </p>
"
99778,1,2019-06-20T15:25:49.937,2,109,105011,,2019-08-26T23:43:56.123,2019-06-24T14:30:24.803,7,,"<p>I’ve tried to map my RPI Zero HID-Gadget in a sh file, <a href=""https://raw.githubusercontent.com/lucki1000/Raspberry-Pi-Zero-Rubber-Ducky-Pi/test/duckpi_german_layout.sh"" rel=""nofollow noreferrer"">here is my sh file</a>. 
I tried to exchange a normal german keyboard by swapping kbcodes from us-keyboard to german-keyboard layout, but if it is the right attempt, i can't swap the &lt;>|key because in german keyboard layout we have one key for &lt;>| this, this key is between shift and y, and this key not existing on a us keyboard.</p>

<p>How can i add this key <a href=""https://raw.githubusercontent.com/lucki1000/Raspberry-Pi-Zero-Rubber-Ducky-Pi/test/hid-gadget-test.c"" rel=""nofollow noreferrer"">into the c file</a>?</p>

<p>Or is there a better way to make it working on a german keyboard, I would like to know it</p>

<p>Or can i get any resources that help me?</p>

<p>Thanks in advance.</p>

<p>My <a href=""https://github.com/lucki1000/Raspberry-Pi-Zero-Rubber-Ducky-Pi/blob/test/duckpi_german_layout.sh"" rel=""nofollow noreferrer"">duckpi_german_layout.sh</a> file looks so:</p>

<pre><code>elif [ ""$1"" == ""&lt;"" ]
then
    kbcode=''
elif [ ""$1"" == ""|"" ]
then
    kbcode=''

elif [ ""$1"" == "","" ]     #Comma
then                     #Works
    kbcode='comma'       #
</code></pre>

<p>and I don't know what i should write into kbcode='' by &lt;, > and |. 
If i write <code>'kbcode='right-alt &lt;' to output that |</code> I get <code>unknown option: &lt;</code></p>

<p>OS = Stretch (9)<br>
Kernel = 4.19.50+</p>

<p>I don't will connect any keyboard to my rpi. I will connect my rpi to a computer and there it should write this what I write in a txt file <a href=""https://github.com/lucki1000/Raspberry-Pi-Zero-Rubber-Ducky-Pi/"" rel=""nofollow noreferrer"">my project</a></p>
"
100076,1,2019-06-28T13:17:10.917,6,787,63899,,2019-07-22T09:17:57.163,2019-06-29T16:43:46.840,1,,"<p>To enhance my bash script decoding the Revision returned by <code>cat /proc/cpuinfo</code><br>
I'd like to know what the RaspBerry Pi 4 codes for ModelName,Processor and Memory are.<br>
(my own one is still underway)</p>

<p>Sample sanitized output:</p>

<pre><code>LotPings@LegoBlack:~ $ ./pirevision.sh
Serial          =  00000000a3123456
MAC-address(es) =  b8:27:eb:12:34:56 b8:27:eb:ab:cd:ef
Revision        =  a020d3
PCBRevision     =  3
ModelName       =  3B+
Processor       =  BCM2837
Manufacturer    =  Sony UK
MemorySize      =  1024 MB
EncodedFlag     =  revision is a bit field
WarrantyVoidOld =  no
WarrantyVoidNew =  no
</code></pre>

<p><strong>EDIT: The <a href=""https://www.raspberrypi.org/documentation/hardware/raspberrypi/revision-codes/README.md"" rel=""nofollow noreferrer"">documentation</a> was updated in the meantime,<br>
so the script should output <em>official</em> information now.</strong></p>

<pre class=""lang-bsh prettyprint-override""><code>#!/bin/bash
## resources:
## https://github.com/AndrewFromMelbourne/raspberry_pi_revision
## http://elinux.org/RPi_HardwareHistory#Board_Revision_History
## https://www.raspberrypi.org/documentation/hardware/raspberrypi/revision-codes/README.md
## https://github.com/raspberrypi/documentation/blob/master/hardware/raspberrypi/revision-codes/README.md

Revision=$(cat /proc/cpuinfo | grep 'Revision' | awk '{print $3}')
Serial=$(cat /proc/cpuinfo|grep 'Serial'|awk '{print $3}')
MACs=$(ifconfig | grep '[0-9a-f][0-9a-f]:[0-9a-f][0-9a-f]:[0-9a-f][0-9a-f]:'|awk '{print $2}')
echo 'Serial          = ' $Serial
echo 'MAC-address(es) = ' $MACs
echo 'Revision        = ' $Revision
Encoded=$((0x$Revision &gt;&gt; 23 &amp; 1))

if [ $Encoded = 1 ]; then
    PCBRevision=('0' '1' '2' '3' '4' '5' '6' '7' '8' '9' '10' '11' '12' '13' '14' '15')
    ModelName=('A' 'B' 'A+' 'B+' 'Pi2B' 'Alpha' 'CM1' 'unknown' '3B' 'Zero' 'CM3' 'unknown' 'Zero W' '3B+' '3A+' 'internal use only' 'CM3+' '4B' '18 ?' '19 ?' '20 ?')
    Processor=('BCM2835' 'BCM2836' 'BCM2837' 'BCM2711' '4' '5' '6' '7' '8' '9' '10' '11' '12' '13' '14' '15')
    Manufacturer=('Sony UK' 'Egoman' 'Embest' 'Sony Japan' 'Embest' 'Stadium' '6' '7' '8' '9' '10' '11' '12' '13' '14' '15')
    MemorySize=('256 MB' '512 MB' '1024 MB' '2048 MB' '4096 MB' '5' '6' '7' '8' '9' '10' '11' '12' '13' '14' '15')
    EncodedFlag=('' 'revision is a bit field')
    WarrantyVoidOld=('no' 'warranty void - Pre Pi2')
    WarrantyVoidNew=('no' 'warranty void - Post Pi2')

    echo 'PCBRevision     = ' ${PCBRevision[$((0x$Revision&amp;0xf))]}
    echo 'ModelName       = ' ${ModelName[$((0x$Revision&gt;&gt;4&amp;0xff))]}
    echo 'Processor       = ' ${Processor[$((0x$Revision&gt;&gt;12&amp;0xf))]}
    echo 'Manufacturer    = ' ${Manufacturer[$((0x$Revision&gt;&gt;16&amp;0xf))]}
    echo 'MemorySize      = ' ${MemorySize[$((0x$Revision&gt;&gt;20&amp;7))]}
    echo 'EncodedFlag     = ' ${EncodedFlag[$((0x$Revision&gt;&gt;23&amp;1))]}
    echo 'WarrantyVoidOld = ' ${WarrantyVoidOld[$((0x$Revision&gt;&gt;24&amp;1))]}
    echo 'WarrantyVoidNew = ' ${WarrantyVoidNew[$((0x$Revision&gt;&gt;25&amp;1))]}
fi
</code></pre>

<p><strong><em>Current</em></strong> <code>Revision</code> bit field explanation</p>

<pre><code># Bit NOs  3322 2222 2222 1111 1111 1100 0000 0000
# Decimal  1098 7654 3210 9876 5432 1098 7654 3210
# Fields   uuuu uuHG FMMM CCCC PPPP TTTT TTTT RRRR
#  WarrantyVoidNew/| |Mem Manu Proc ModelName PCB
#   WarrantyVoidOld/ |Siz fact                Rev
#          EncodedFlag
# 
#   bits  contains        values
# R 00-03 PCBRevision     ('0' '1' '2' '3' '4' '5' '6' '7' '8' '9' '10' '11' '12' '13' '14' '15')
# T 04-11 ModelName       ('A' 'B' 'A+' 'B+' 'Pi2B' 'Alpha' 'CM1' 'unknown' 'Pi3B' 'Zero' 'CM3' 'unknown' 'Zero W' 'Pi3B+' 'Pi3A+' 'internal use only' 'CM3+' '4B')
# P 12-15 Processor       ('BCM2835' 'BCM2836' 'BCM2837' 'BCM2711)
# C 16-19 Manufacturer    ('Sony UK' 'Egoman' 'Embest' 'Sony Japan' 'Embest' 'Stadium')
# M 20-22 MemorySize      ('256 MB' '512 MB' '1024 MB' '2048 MB' '4096 MB')
# F 23-23 EncodedFlag     ('' 'revision is a bit field')
# G 24-24 WarrantyVoidOld ('' 'warranty void - Pre Pi2')
# H 25-25 WarrantyVoidNew ('' 'warranty void - Post Pi2')
# u 26-31 unused
</code></pre>
"
100134,1,2019-06-30T03:18:12.330,2,938,32698,,2020-11-08T08:04:20.537,2019-07-07T07:22:09.433,4,,"<p>I'm trying to figure out how to configure wpa_supplicant to:</p>

<ol>
<li>First try to connect to a selection of preconfigured wifi networks as a DHCP client, and if that fails</li>
<li>Set up a wifi access point using wpa_supplicant's AP mode as a fallback, using <code>dnsmasq</code> as a DHCP server.</li>
</ol>

<p>I know that <code>wpa_supplicant.conf</code> can be set up to fallback to AP mode. The thing I'm not sure about, is how to automatically switch from being a DHCP client to being a DHCP server. Can wpa_supplicant do this automatically?</p>

<p>Unfortunately, the other questions I've found do not relate specifically to <code>dnsmasq</code>.</p>
"
100156,1,2019-06-30T21:16:51.917,1,3899,105393,,2019-07-01T08:54:00.120,,2,,"<p>Ok, I am losing my mind...  </p>

<p>Why is this so damn difficult? </p>

<p>Current situation:<br>
- 12V <a href=""https://www.aliexpress.com/item/32888710502.html?storeId=3983022"" rel=""nofollow noreferrer"">Access control device</a> that is <a href=""https://github.com/leosac/leosac/wiki/Raspberry-Pi-and-Wiegand:-step-by-step"" rel=""nofollow noreferrer"">connected like this</a> i.e. Wiegand D0 to Tx and D1 to Rx, with voltage dividers.<br>
- Raspberry Pi 3 with Raspbian Lite OS.<br>
- <a href=""https://spellfoundry.com/2016/05/29/configuring-gpio-serial-port-raspbian-jessie-including-pi-3/"" rel=""nofollow noreferrer"">Configured the GPIO serial port</a> i.e. enabling uart and disabling the console.  </p>

<p>The following Python script runs:  </p>

<pre><code>import serial

ser = serial.Serial(port='/dev/serial0', baudrate = 9600)

while 1:
        print ser.readline()
</code></pre>

<p>I swipe the 125KHZ cards, the device beeps, and nothing happens...</p>

<p>I tried reading from <code>/dev/serial1</code>, <code>/dev/ttyAMA0</code>, <code>/dev/ttyS0</code>... Still nothing.  </p>

<p>What am I missing?</p>
"
100163,1,2019-07-01T05:34:02.430,1,295,105421,,2020-03-27T11:02:20.440,,1,,"<p>I have a <code>raspberry pi 0</code>, but don't have/don't want to connect to a <code>screen/hdmi/SSH</code>. I can plug my pi's <code>sdcard</code> into my laptop and access the <code>raspbian</code> installation files, so is there a way I can instruct my <code>Raspberry-pi 0</code> to connect to a specific wifi using a specific password by adding some files to the sdcard/OS on my laptop and make it so when it boots up it connects to that specific wifi?</p>
"
100183,1,2019-07-01T18:52:33.547,1,113,105443,,2019-07-04T07:38:30.997,2019-07-02T07:19:06.507,6,,"<p>I have followed the instructions to create my SD card and boot it on my Pi. When creating the SD card I have added the ssh and wpa_supplicant files. During the initial installation at no time am I asked to enter the wifi country. When system is booted it states ""no wireless interfaces found"". I then go to Raspberry Pi Configuration to enter country but the box is dimmed and I am unable to change it.</p>

<p>I then did sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</p>

<p>This showed me that the information I had entered into the wpa_supplicant.conf when creating the SD card was there.</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=GB

network={
    ssid=""xxxxxx""
    psk=""xxxxxx""
    key_mgmt=WPA-PSK
}
</code></pre>

<p>This did not solve problem so did further reading and on another post found a different content fo the wpa_supplicant.conf file.</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=GB

network={
    ssid="" 2.4GHz WiFi xxxxxx""
    psk=""2.4GHz WPA/WPA2 xxxxxx""
    key_mgmt=WPA-PSK
}
</code></pre>

<p>Again this has not worked and I am still getting ""no wireless interfaces found""</p>

<p>I have a connection when using Ethernet cable.</p>

<p>It appears that the Country Code for wifi must be entered, is there any other way to enter this?</p>
"
100195,1,2019-07-01T21:53:46.610,10,2316,92303,,2020-07-08T21:35:55.833,2019-10-22T16:09:34.907,0,,"<p>I want to automatically create an access point, if there is no network found, so that I can connect to my Raspberry Pi everywhere. </p>

<p>If nobody is connected to the hotspot for a while it should search for the networks defined in <code>wpa_supplicant.conf</code> again.</p>

<p>I don't want to install any additional software and to use only <code>wpa_supplicant</code>, <code>wpa_cli</code> and <code>systemd-networkd</code>.</p>
"
100203,1,2019-07-02T07:32:31.983,3,1421,105466,,2021-01-14T06:06:20.563,2019-10-10T02:58:41.557,5,,"<p>I am new in raspberry pi.
In my research project, I would like to monitor ground temperature at 60 points. My team decided to set a monitoring system using raspberry pi. </p>

<p>As a preliminary test, I connected 4 DS18B20 sensors to my pi; it can find sensors and read temperature correctly. Unfortunately, when I connected an additional DS18B20 to the pi (so total 5 DS18B20 were linked to the pi), it stopped monitoring and gave no value. (I tried to reboot the system; however the pi can't read the temperature)</p>

<p>After this weird situation, I disconnected the last sensor (so subsequently total 4 sensors were connected to the pi); then the pi started to read the temperature. I have attached two photos of a breadboard with 4 and 5 sensors.</p>

<p><a href=""https://i.stack.imgur.com/GX0CO.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/GX0CO.jpg"" alt=""Breadboard with 4 sensors - work""></a>
<a href=""https://i.stack.imgur.com/lDLeO.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/lDLeO.jpg"" alt=""Breadboard with 5 sensors - doesn&#39;t work""></a></p>

<p>I really want someone can explain this to me.</p>

<p>Thank you for reading.</p>

<p><strong>UPDATE</strong></p>

<p>I updated config.txt and opend 4, 17, 27 pins. So now I am using 3 pins.
As a first trial, I connected 4, 4, and 2 DS18B20s to 4, 17, and 27 pins, respectively. Interestingly, my RPi can find every sensors in this case.
Followings are PCB and Terminal screen.</p>

<p><a href=""https://i.stack.imgur.com/3ukZ5.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3ukZ5.jpg"" alt=""teminal with 4, 4, 2 connection""></a>
<a href=""https://i.stack.imgur.com/t7AWc.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/t7AWc.jpg"" alt=""PCB with 4, 4, 2 connection""></a></p>

<p>Then, I connected 5, 4, 1 DS18B20s to 4, 17, and 27 pins, respectively.
In this time, my RPI can detect only 5 sensors which are connected to 17 and 27 pins. Followings are PCB and Terminal screen.</p>

<p><a href=""https://i.stack.imgur.com/WNNHi.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/WNNHi.jpg"" alt=""teminal with 5, 4, 1 connection""></a>
<a href=""https://i.stack.imgur.com/3yAAb.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3yAAb.jpg"" alt=""PCB with 5, 4, 1 connection""></a></p>

<p>I am guessing that there is a restriction on the number of DS18B20 on a bus.
Am I right?</p>
"
100232,1,2019-07-02T13:46:12.930,1,2010,105592,elnacho,2019-10-16T16:17:50.500,,0,,"<p>I try to build the MySQL plugin on a Raspbian Buster with C++ and Qt 5.12.4. Building Qt itself worked fine by following this tutorial: <a href=""https://www.tal.org/tutorials/building-qt-512-raspberry-pi"" rel=""nofollow noreferrer"">https://www.tal.org/tutorials/building-qt-512-raspberry-pi</a></p>

<p>However, if I add the option <code>-sql-mysql</code> to the command</p>

<pre><code>PKG_CONFIG_LIBDIR=/usr/lib/arm-linux-gnueabihf/pkgconfig:/usr/share/pkgconfig ../qt-everywhere-src-5.12.4/configure -platform linux-rpi-g++ -v -opengl es2 -eglfs -no-gtk -opensource -confirm-license -release -reduce-exports -force-pkg-config -nomake examples -no-compile-examples -skip qtwayland -skip qtwebengine -no-feature-geoservices_mapboxgl -qt-pcre -no-pch -ssl -evdev -system-freetype -fontconfig -glib -prefix /opt/Qt5.12 -qpa eglfs -sql-mysql
</code></pre>

<p>the output results in the following error:</p>

<pre><code>ERROR: Feature 'sql-mysql' was enabled, but the pre-condition 'libs.mysql' failed.
</code></pre>

<p>I assume that this is due to that the MySQL libraries were exchanged by MariaDB libraries in Raspbian Buster. Does anybody know, how to build Qt's MySql driver using the MariaDB libraries or in worst case how to install the MySQL libraries on Raspbian Buster?</p>
"
100235,1,2019-07-02T22:11:54.070,2,769,11673,,2021-02-05T22:23:31.760,,3,,"<p>On the pi-4 what is the output of ""cryptsetup benchmark""?</p>

<p>I want to asses its performance compared to the pi-3.
Apparently the new ""quality standards"" require this question to be needlessly verbose thus these 2 extra sentences.</p>
"
100365,1,2019-07-06T14:38:57.407,1,72,105635,,2019-07-27T15:48:48.230,2019-07-06T18:41:42.440,4,,"<p>I have trouble reading out an button matrix with my <strong>raspberry pi zero w</strong>.<br>
I am using pigpio for reading out the gpios, but I don't think this is a software issue.  </p>

<p>This is my source code:</p>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;pigpio.h&gt;
#include &lt;unistd.h&gt;

int main() {

    // 2, 3, 4, 14, 15, 18, 17
    int gpio_colums[] = {15, 18, 17};
    int gpio_rows[] = {2, 3, 4, 14};

    if (gpioInitialise() &lt; 0) {
        fprintf(stderr, ""pigpio initialisation failed\n"");
        return -1;
    }

    for (int i = 0; i &lt; 3; i++) {
        gpioSetMode(gpio_colums[i], PI_OUTPUT);
    }

    for (int i = 0; i &lt; 4; i++) {
        gpioSetMode(gpio_rows[i], PI_INPUT);
        gpioSetPullUpDown(gpio_rows[i], PI_PUD_DOWN);
    }

    while (1) {
        // power every colomn
        for (int i = 0; i &lt; 3; i++) {
            gpioWrite(gpio_colums[i], 1);

            // find pressed button
            for (int j = 0; j &lt; 4; j++) {
                //printf(""gpioRead retunrned %d\n"", gpioRead(gpio_rows[i]));
                if (gpioRead(gpio_rows[j]) == 1) {
                    printf(""column gpio pin %d, row gpio pin %d\n"", gpio_colums[i], gpio_rows[j]);
                    printf(""column %d row %d\n"", i, j);
                    usleep(200);            
                }
            }

            gpioWrite(gpio_colums[i], 0);
        }
    }

    return 0;
}
</code></pre>

<p>As ouput i get an endeless output.</p>

<blockquote>
  <p>column 1 row 2<br>
  column gpio pin 18, row gpio pin 14<br>
  column 1 row 3<br>
  column gpio pin 15, row gpio pin 2<br>
  column 0 row 0<br>
  column gpio pin 15, row gpio pin 3<br>
  column 0 row 1<br>
  column gpio pin 15, row gpio pin 4<br>
  column 0 row 2<br>
  column gpio pin 15, row gpio pin 14<br>
  column 0 row 3<br>
  column gpio pin 18, row gpio pin 2<br>
  column 1 row 0<br>
  column gpio pin 18, row gpio pin 3<br>
  column 1 row 1<br>
  column gpio pin 18, row gpio pin 4<br>
  column 1 row 2<br>
  column gpio pin 18, row gpio pin 14<br>
  column 1 row 3<br>
  column gpio pin 15, row gpio pin 2<br>
  column 0 row 0<br>
  column gpio pin 15, row gpio pin 3<br>
  column 0 row 1<br>
  column gpio pin 15, row gpio pin 4<br>
  column 0 row 2<br>
  and so on ...</p>
</blockquote>

<p>This is the button matrix i am using:
<img src=""https://i.stack.imgur.com/8DCEw.jpg"" width=""250"" /></p>

<p>I conneted it from left to right with the gpio pins 2, 3, 4, 14, 15, 18, 17.</p>

<p>I checked for electrical continuity and the button matrix and found with the folloring result.</p>

<p>Button matrix pins (from 0 to 6) continuity if button pressed:<br>
Afer the '|' are the gpios that should be active   </p>

<p>0 + 6 = '3' | 2 + 17<br>
1 + 6 = '6' | 3 + 17<br>
2 + 6 = '9' | 4 + 17<br>
3 + 6 = '#' | 14 + 17    </p>

<p>0 + 5 = '2' | 2 + 18<br>
1 + 5 = '5' | 3 + 18<br>
2 + 5 = '8' | 4 + 18<br>
3 + 5 = '0' | 14 + 18  </p>

<p>0 + 4 = '1' | 2 + 15<br>
1 + 4 = '4' | 3 + 15<br>
2 + 4 = '7' | 4 + 15<br>
3 + 4 = '*' | 14 + 15  </p>

<p>To compile the source <code>gcc -o key main.c -lpigpio -lrt -lpthread</code></p>

<p>What am i doing wrong?<br>
Thx for your help.</p>
"
100491,1,2019-07-10T08:48:03.683,1,1457,105787,,2019-12-07T13:01:15.300,2019-07-10T09:08:51.287,1,,"<p>When I run:</p>

<pre><code>apt-get install php-curl
</code></pre>

<p>It returns:</p>

<pre><code>The following packages have unmet dependencies:
 php-curl : Depends: php7.3-curl but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
</code></pre>

<p>This doesn't make much sense (php-curl should install the newest version, which is php7.3-curl, so how can a package be its own dependency??), but anyway, I try: </p>

<pre><code>apt-get install  php7.3-curl
</code></pre>

<p>and get</p>

<pre><code>The following packages have unmet dependencies:
 php7.3-curl : Depends: libcurl3 (&gt;= 7.44.0) but it is not installable
E: Unable to correct problems, you have held broken packages.
</code></pre>

<p>To begin with I can't simply install libcurl3 because it cannot coexist with libcurl4 which a number of packages rely on already. However, it doesnt matter, because my sources.list can't even find such a package,as below:</p>

<pre><code>Package libcurl3 is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source
However the following packages replace it:
  libcurl4
</code></pre>
"
100519,1,2019-07-10T19:31:11.137,2,108,105808,,2019-07-11T17:40:10.297,2019-07-11T10:28:33.913,6,,"<p><strong>Background</strong></p>

<p>I am trying to learn how to use the <code>rpio</code> library (<a href=""https://github.com/jperkin/node-rpio"" rel=""nofollow noreferrer"">https://github.com/jperkin/node-rpio</a>) in my nodejs application. </p>

<p><strong>What do I want to do</strong></p>

<p>So far I have been able to test the blink led example form the documentation, and I was trying to do the push button test (""Poll a button switch for events"" as is it called at the documentation). I had copied the content of the example and tried to execute it both when a page loads, to execute it on the server-side through a post request, and tried also in simply executing it when the server starts. Here is the code:</p>

<pre><code>rpio.open(15, rpio.INPUT, rpio.PULL_UP);

function pollcb(pin)
{
        /*
         * Wait for a small period of time to avoid rapid changes which
         * can't all be caught with the 1ms polling frequency.  If the
         * pin is no longer down after the wait then ignore it.
         */
        rpio.msleep(20);

        if (rpio.read(pin))
                return;

        console.log('Button pressed on pin P%d', pin);
}

rpio.poll(15, pollcb, rpio.POLL_DOWN);
</code></pre>

<p>I am using the circuit schematic as shown at the image below: <a href=""https://i.stack.imgur.com/fZpHK.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/fZpHK.png"" alt=""source:https://github.com/raspberrypilearning/physical-computing-guide/blob/master/pull_up_down.md""></a></p>

<p>The difference is that I dont have the switch, but I guess that just using wires to simulate the pessing of a button will do it</p>

<p><strong>The problem</strong></p>

<p>It is not working at all... Everytime when I call the function, my ssh command line gets stuck for 5-10 seconds and then my connection to the raspberry pi is reset, not allowing me to connect to the raspberry again; and then I have to unplug the raspberry to restart it! It is like the whole board collapses when I try to do this approach, which is also concerning me about the fact that I have to shut down my raspberry not in a safe way, what can consequently corrupt my sd card. </p>

<p>edit: It looks like that whenever I try to execute the rpio.poll function, it breaks the application and the board. </p>

<p>I appreciate any possible help about this issue.. Thank you!</p>
"
100637,1,2019-07-13T23:27:44.417,2,369,53115,,2020-02-06T03:00:29.427,2020-02-06T03:00:11.767,2,,"<p>I have built a new image on a RPi3B+ with Noobs using the latest Raspbian which I believe is named Buster. I uninstalled libreoffice (for space) and have installed various python libraries and the applications that they depend on, (things like openCV and tensorflow). I removed and imaged the SD card and when I put it back in and rebooted the menu bar flashes a few times and then disappears. This leaves me with a blank screen with just the wastebasket displayed and the default background photo. I am trying to get the menu bar back.</p>

<p>I have googled this problem and it seems common, but none of the fixes have worked. Here is what I have tried:</p>

<p>I have already tried rebuilding and this is the second time this has happened with a new install of Buster. The first time the menu bar disappeared when I tried to access the audio menu option. </p>

<p>VNC is not enabled but SSH is. I dont think this is the issue as posts on the web have only mentions vnc as the issue.</p>

<p>Raspbian plugins are referenced as a cause, but I have not installed any Raspbian plugins.</p>

<p>As per some suggestions I used Cntrl-Alt-F6 to get into a terminal and tried deleting ~/.config/lxpanel and then a reboot. This seems to have recreated the folder structure lxpanel but there are no files in it. Which seems odd.</p>

<p>To test what the folder lxpanel should look like I created a new user named test and assigned it to the audio and video groups. That user can now successfully run startx and see the menu. If I compare the ~/.config/lxpanel folder structure for pi and test they seem identical...no files at all found there but a structure of ~/.config/lxpanel/LXDE-pi/panels. (It seems strange to me that there is a folder LXDE-pi for the user test, but I guess the reference to pi here must not be to the username). </p>

<p>Some suggestions indicated this issue is related to access to audio (and it is interesting that the menu on a previous image disappeared when I tried to access audio options. So I removed pi from the audio and video groups and added back but that didnt work. </p>

<p>I need the pi user working as various code needs to run as that user. Any ideas how to get the menu bar back for my pi user?</p>
"
100702,1,2019-07-16T03:27:54.837,1,59,105992,,2019-07-16T03:46:43.817,2019-07-16T03:39:43.517,0,,"<p>I'm trying to learn as I go but haven't managed to come up with the answer to my issue here. I'm trying to stream to a URL using the 'pi-camera-connect' package and the 'avconv' package.</p>

<p>The video on the URL is just black and no sound.</p>

<p>I've never really dealt with streams before, so I imagine I'm doing all sorts wrong. Would appreciate the help.</p>

<pre><code>const { StreamCamera, Codec } = require(""pi-camera-connect"");
var avconv = require('avconv');

const streamCamera = new StreamCamera({
    codec: Codec.H264
});

const runApp = async () =&gt; {

    const videoStream = streamCamera.createStream();
    await streamCamera.startCapture();

    var URL = ""HIDDEN_URL"";

    var params = [
        '-i', 'pipe:0', // Tell avconv to expect an input stream (via its stdin)
        '-f', 'flv',  
        '-strict', 'experimental',
        URL
    ];

    var process = avconv(params);

    process.on('error', function(data) {
        console.log(""Stream Error"", data.toString());
    });

    process.on('data', function(data) {
        console.log(""Stream data"", data.toString());
    });

    process.once('exit', function(exitCode, signal, metadata) {
        console.log(""Stream Exit"", exitCode.toString());
    });

    process.on('progress', function(progress) {
        console.log(""Stream progress"", progress.toString());
    });

    videoStream.pipe(process);

}

runApp();
</code></pre>

<p>It does generate the 'The driver for the TC358743 HDMI to CSI2 chip you are using is NOT supported' error but I understand that's always written out. Nothing else ends up in the console log.</p>

<p>I have been able to use the 'pi-camera' node package and write a new video file but I don't know how to use pi-camera to create a stream to send to the avconv process.</p>
"
100732,1,2019-07-17T00:09:33.173,2,410,106034,,2019-07-17T18:53:42.550,,2,,"<p>I have compiled a custom Raspbian kernel from source because i need to enable the CONFIG_AUDIT flags for installing SELinux &amp; Auditd.</p>

<p>Following the <a href=""https://www.raspberrypi.org/documentation/linux/kernel/building.md"" rel=""nofollow noreferrer"">Official Kernel Documentation</a> i was able to do this and it works well.</p>

<p>I now need to package this into a <code>*.deb</code> so i am able to install it on other Pi's with without having to manually copy the <code>*.dtb</code> and <code>*.img</code> and run <code>sudo make modules_install</code> on every pi i want to deploy this to.</p>

<hr>

<p>This is where i run into problems</p>

<p>I have done some investigations and found a few ways to do this on Standard Debian following <a href=""https://www.linode.com/docs/tools-reference/custom-kernels-distros/custom-compiled-kernel-debian-ubuntu/"" rel=""nofollow noreferrer"">this Guide</a> and using the recommended <code>make deb-pkg</code> although when i run <code>dpkg -i linux-*.deb</code> on a fresh Pi and reboot it bricks it.</p>

<p>I have also tried to create my own <code>*.deb</code> file. By copying the <code>zImage modules dtbs</code> into the custom <code>dpkg-deb</code> along with redirecting the modules install path to that package too with <code>make INSTALL_MOD_PATH=$INSTALLDIR modules_install</code> and running <code>dpkg-deb --build [custom-dir]</code>. This also failed</p>

<p>i have not been able to find out how to create a rpikernelhack pkg either as seen <a href=""https://raspberrypi.stackexchange.com/questions/51410/what-is-rpikernelhack"">here</a></p>

<hr>

<p>Any help in packaging a custom kernel for the Raspberry Pi 3b+ would be appreciated.</p>
"
100964,1,2019-07-22T19:50:18.350,6,5125,99241,,2020-03-24T20:09:13.117,,3,,"<p>I just picked up a Pi 4 and imaged a new card with Raspbian Buster.  I'm running this headless (using VNC) but noticed the resolution doesn't match what I've set via <code>raspi-config</code> (which updates <code>/boot/config.txt</code>).  </p>

<p>I selected DMT mode 82 (1920 x 1080) and I can see <code>/boot/config.txt</code> has:</p>

<pre># uncomment if hdmi display is not detected and composite is being output
hdmi_force_hotplug=1

# uncomment to force a specific HDMI mode (this will force VGA)
hdmi_group=2
hdmi_mode=82
</pre>

<p>That looks right.  Then I check <code>fbset --show</code> and it reads:</p>

<pre>
pi@tims-raspi4:~ $ fbset --show

mode ""1920x1080""
    geometry 1920 1080 1920 1080 32
    timings 0 0 0 0 0 0 0
    accel true
    rgba 8/16,8/8,8/0,0/0
endmode
</pre>

<p>So that <em>also</em> looks right.  But I can clearly see the window is not as larger as my Pi 3 B+.</p>

<p>I checked <code>xdpyinfo</code> to see what X thinks it has for a display and the relevant section reads:</p>

<pre>default screen number:    0
number of screens:    1

screen #0:
  dimensions:    1024x768 pixels (270x203 millimeters)
</pre>

<p>So that's a problem... X is using a lower display resolution than the frame buffer provides.</p>

<p>So finally, I used <code>xrandr -s 1920x1080</code> to force X to use that resolution -- and this works!  (yay!)</p>

<p>BUT puzzlingly... if I reboot, it's right back to the lower 1024x768 resolution despite the frame buffer being in 1920x1080 mode.</p>

<p>This is basically a generic Buster install (downloaded the image from Raspberrypi.org) and the only thing I've done to it is set a hostname, configured wi-fi, enabled ssh, and enabled VNC (same as I've done with my previous Pi's).</p>

<p>Any ideas why X is coming up with the wrong resolution?</p>
"
101095,1,2019-07-27T06:44:52.073,0,442,85144,,2019-11-03T03:47:13.300,2019-11-03T03:47:13.300,7,,"<p>I read <a href=""https://www.raspberrypi.org/magpi/issues/84/"" rel=""nofollow noreferrer"">MagPi 84 Aug 2019</a> page 44 Melissa LeBlanc_Williams's article on using Rpi4 circuitPython to control a robot using two boards: </p>

<p>(1) <a href=""https://www.adafruit.com/product/2472"" rel=""nofollow noreferrer"">BNO055 9-Degrees-of-Freedom (DOF) Absolute
Orientation Module</a>, and </p>

<p>(2) <a href=""https://www.adafruit.com/product/815"" rel=""nofollow noreferrer"">PCA9685 16-Channel 12-bit PWM/Servo Driver Module</a>.  </p>

<p>I followed the instructions to install python3, setup tools, adafruit-blinka library. I got stuck at <strong><em>Step 8</em></strong>: </p>

<blockquote>
  <p>pip3 install adafruit-blinka</p>
</blockquote>

<p>The error message was:</p>

<blockquote>
  <p>cannot find version that satisfies the requirement, ... no matching
  distro found for adafruit-blinka </p>
</blockquote>

<p>My configuration is <em>Rpi4B 2GB Raspbian 10 buster</em>.  </p>

<p>Any help or tip appreciated.</p>

<p><em>Update 2019jul27hkt1629</em></p>

<p>@milliways' Rpi4B buster works OK.  I am not sure if the reason is that my kernel is too old.  I need to update my kernel and tried again.</p>

<p>I checked that my raspbian release date was 2019jun20.  The latest release is 2019jul10.  I guessed beside the kernel, there might be other packages or drivers out of date.  I might have also installed other conflicting software when I played with other things earlier.  So I guessed the cleanest solution is to start everything from scratch: download the latest raspbian, and first thing first is to install Adafruit circuit python blinka.</p>

<p>So I installed Raspbian (buster 2019jul10) again. The welcome screen says the release page is not ready, until some 20 days later.  I guess this might cause trouble.  So I exit GUI desktop straight away and start installing circuit python blinka in terminal mode.</p>

<p>This time everything went smoothly.  My conclusion that the root cause of my installation problem is that my Raspbian dated 2019jun20 is out of date. I might also installed other packages earlier and they crash with circuit python's blinka library.</p>

<blockquote>
  <p><em>Anyway, problem solved.</em></p>
</blockquote>

<p><em>Update 2019aug08hkt1121</em></p>

<p>I have also clarified my mind on why using ""sudo pip3 install"" first, and just ""pip3 install"" (no sudo) later.  See this thread for details:
<a href=""https://raspberrypi.stackexchange.com/questions/101315/no-module-named-adafruit-circuitpython-servokit"">No module named &#39;adafruit_circuitpython_servokit&#39;</a> </p>
"
101388,1,2019-08-06T19:46:21.847,8,13360,99247,,2020-11-29T06:55:27.237,2019-09-27T14:26:33.740,2,,"<p>I have a Pi 4B (with latest firmware upgrade) running Raspbian Buster and a 2TB SSD with a SATA 3 interface. I'm using a SATA 3 to USB 3 converter that can also connect to external power when necessary.</p>

<p>The SATA 3 to USB 3 converter works fine: I have tested it on an Ubuntu 18.04 desktop PC. When I run <code>sudo hdparm -t --direct ...</code> I get a decent 290 MB/s , even without external power.</p>

<p>On the Pi 4B, even with external power, I get at most 1.3 MB/s !!!
Am I missing something here ?</p>

<ul>
<li>SSD model: SAMSUNG, 860 QVO 2 To 2.5'' SATA III (6 Gb/s)</li>
<li>SATA to USB-3 converter: Bluestork super speed box 2'5</li>
</ul>
"
101699,1,2019-08-17T16:23:18.713,0,147,107067,,2019-08-17T18:17:32.770,,0,,"<p>Is there an pigpio equivalent to GPIO's event_detected() function?  I need something that is constantly watching for a button press.  The code I currently have doesn't consistently detect it (python sample code below).</p>

<pre><code>import pigpio
pi = pigpio.pi()
y = 1
while pi.read(21) == 1:
    y = y + 1
    print(y)
</code></pre>

<p>Thanks.</p>
"
101718,1,2019-08-18T15:47:27.980,9,4194,107187,,2020-04-30T05:41:21.983,,4,,"<p>Most of the libraries, in multiple languages, interact with the GPIO pins via <code>/sys/class/gpio/export</code>, <code>/sys/class/gpio/import</code>, <code>/sys/class/gpio/gpio10/value</code>, etc. However the linux kernel docs <a href=""https://www.kernel.org/doc/html/v5.2/driver-api/gpio/legacy.html"" rel=""noreferrer"">clearly state</a> that is the legacy way of doing things.</p>

<p>What is the <strong>non legacy</strong> way of doing things?</p>

<p>If I understand correctly in kernel space I would use <a href=""https://www.kernel.org/doc/html/v5.2/driver-api/gpio/consumer.html"" rel=""noreferrer"">these functions</a> or <a href=""https://www.kernel.org/doc/html/v5.2/driver-api/gpio/drivers-on-gpio.html"" rel=""noreferrer"">standard kernel drivers</a> for common GPIO tasks.</p>

<p>What would I use for user space? Is there a Sysfs interface for the non legacy?</p>

<p>PS: I aware the kernel docs state that the legacy integer-based interface  although considered deprecated is still usable for compatibility reasons. However I'm not interested in using that legacy code.</p>
"
101964,1,2019-08-27T20:30:28.863,2,747,106300,,2021-01-20T05:02:40.223,2019-08-28T14:18:27.627,3,,"<p>Raspbian Buster Lite, Raspi 3b+</p>

<p>I want to bond ethernet (eth0) and a USB wifi dongle (wlan1) for network/internet access. This part I've managed with success, dynamic failover works perfectly.</p>

<p>The problem is when I create an AP assigned to the Raspi's built-in wifi (wlan0). 
With the USB wifi dongle (wlan1) plugged in, I always lose AP access- wlan0 is shown as ""down"".</p>

<p><strong>systemd-networkd with Dynamic Failover: network interfaces eth0 (Ethernet), wlan1 (USB Wifi Dongle)</strong></p>

<pre><code>#Create Systemd Network

-Es

cat &gt;/etc/resolvconf.conf &lt;&lt;EOF
# Set to NO to disable resolvconf from running any subscribers. Defaults to YES.
resolvconf=NO
EOF

systemctl mask networking.service

mv /etc/network/interfaces /etc/network/interfaces~

systemctl mask dhcpcd.service

systemctl enable systemd-networkd.service

systemctl enable systemd-resolved.service

ln -sf /run/systemd/resolve/resolv.conf /etc/resolv.conf

cat &gt;/etc/systemd/network/04-eth.network &lt;&lt;EOF
[Match]
Name=eth0
[Network]
# to use static IP (with your settings) toggle commenting the next 8 lines.
#Address=192.168.50.60/24
#DNS=84.200.69.80 1.1.1.1
#[Route]
#Gateway=192.168.50.1
#Metric=10
DHCP=yes
[DHCP]
RouteMetric=10
EOF

-Es

cat &gt;/etc/systemd/network/08-wifi.network &lt;&lt;EOF
[Match]
Name=wlan1
[Network]
# to use static IP (with your settings) toggle commenting the next 8 lines.
#Address=192.168.50.61/24
#DNS=84.200.69.80 1.1.1.1
#[Route]
#Gateway=192.168.50.1
#Metric=20
DHCP=yes
[DHCP]
RouteMetric=20
EOF

cat &gt;/etc/wpa_supplicant/wpa_supplicant-wlan1.conf &lt;&lt;EOF
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=US

network={
    ssid=""My_Wifi""
    psk=""My_Password""
    key_mgmt=WPA-PSK
}
EOF

chmod 600 /etc/wpa_supplicant/wpa_supplicant-wlan1.conf

systemctl disable wpa_supplicant.service

systemctl enable wpa_supplicant@wlan1.service
</code></pre>

<p><strong>Bond Network Interfaces eth0 and wlan1</strong></p>

<pre><code>############# Bond eth0 and wlan1 ###############

-Es

mv /etc/systemd/network/04-eth.network /etc/systemd/network/04-eth.network~

mv /etc/systemd/network/08-wifi.network /etc/systemd/network/08-wifi.network~

cat &gt;/etc/systemd/network/02-bond0.netdev &lt;&lt;EOF
[NetDev]
# status: cat /proc/net/bonding/bond0
Name=bond0
Kind=bond
[Bond]
Mode=active-backup
# primary slave is defined in *eth.network
MIIMonitorSec=500ms
UpDelaySec=1000ms
DownDelaySec=1000ms
MinLinks=1
EOF

cat &gt;/etc/systemd/network/12-bond0-add-eth.network &lt;&lt;EOF
[Match]
Name=eth0
[Network]
Bond=bond0
PrimarySlave=yes
EOF

cat &gt;/etc/systemd/network/16-bond0-add-wifi.network &lt;&lt;EOF
[Match]
Name=wlan1
[Network]
Bond=bond0
EOF

cat &gt;/etc/systemd/network/20-bond0-up.network &lt;&lt;EOF
[Match]
Name=bond0
[Network]
# to use static IP (with your settings) toggle commenting the next 4 lines.
DHCP=yes
IPForward=yes
#Address=192.168.50.60/24
#Gateway=192.168.50.1
#DNS=84.200.69.80 1.1.1.1
EOF
</code></pre>

<p><strong>Creating Access Point, wlan0 (Raspi built-in wifi)</strong></p>

<pre><code>############# Create AP Access Point wlan0 ###############

cat &gt; /etc/wpa_supplicant/wpa_supplicant-wlan0.conf &lt;&lt;EOF
country=US
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
    ssid=""My_AP""
    mode=2
    frequency=2437
    #key_mgmt=NONE   # uncomment this for an open hotspot
    # delete next 3 lines if key_mgmt=NONE
    ## Enabling key_mgmt prevents login and returns incorrect password
    #key_mgmt=WPA-PSK
    proto=RSN WPA
    psk=""My_AP_Pass""
}
EOF

chmod 600 /etc/wpa_supplicant/wpa_supplicant-wlan0.conf

systemctl enable wpa_supplicant@wlan0.service

cat &gt; /etc/systemd/network/08-wlan0.network &lt;&lt;EOF
[Match]
Name=wlan0
[Network]
Address=192.168.4.1/24
DHCPServer=yes
[DHCPServer]
DNS=84.200.69.80 1.1.1.1
EOF

systemctl edit wpa_supplicant@wlan0.service

[Service]
ExecStartPre=/sbin/iptables -t nat -A POSTROUTING -o bond0 -j MASQUERADE
ExecStopPost=-/sbin/iptables -t nat -D POSTROUTING -o bond0 -j MASQUERADE
</code></pre>

<p><strong>Reference</strong></p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/88214/setting-up-a-raspberry-pi-as-an-access-point-the-easy-way"">Setting up a Raspberry Pi as an access point - the easy way</a></p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/78787/howto-migrate-from-networking-to-systemd-networkd-with-dynamic-failover"">How to migrate from networking to systemd-networkd with dynamic failover</a></p>

<p><strong>Additional Information</strong></p>

<p>I have tried using three different Wifi USB dongles:</p>

<p><li>RTL8811AU Chipset<br></li>
<li>RTL8188EUS Chipset<br></li>
<li>RTL8188EU Chipset<br></li></p>

<p>All of the above work and it does not seem to be a particular Wifi dongle that knocks out the Raspi's built-in Wifi.</p>

<p>This behavior is consistent with Raspbian Stretch Lite and Raspbian Buster Lite, Raspi 3b+ and Raspi 4.</p>

<p>I have tested this setup on Armbian Stretch and Armbian Buster (OPi hardware) and behavior is identical to Raspbian setup.</p>

<p>Using predictable network interface naming. I have not tried to assign by MAC Address and would prefer not to in the event I would like to clone the drive and use another Raspi and/or Wifi dongle.</p>
"
102042,1,2019-08-30T10:09:54.903,1,100,88437,,2019-09-05T13:21:42.770,2019-09-05T13:21:42.770,0,,"<p>My Raspi 2B is running a full node over a >20MBit/s internet provider (I subtracted another) and it seems that it only loads about 6 blocks a day which would amount to about 1GB per day. </p>

<p>Is it related to CPU bottleneck? </p>

<p><code>bitcoin.conf</code> is:</p>

<pre><code>maxconnections=40
maxuploadtarget=5000

# running without swap
dbcache=100
maxorphantx=10
maxmempool=50
</code></pre>

<p>Output of <code>vmstat</code> does not indicate any problems:</p>

<pre><code>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 2  2 102396  25776  18044 128556    0    0     5     3    4    3  5  4 56 35  0
</code></pre>

<p>This is from <code>top</code></p>

<pre><code>  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                     
    9 root      20   0       0      0      0 S   4,5  0,0 485:44.81 ksoftirqd/0                                                 
14220 bitcoin   20   0  586328 408024   1456 S   3,2 46,4 734:08.12 bitcoin-init 
</code></pre>

<hr>

<p>EDIT:</p>

<p>My sd card crashed during compiling <code>libbitcoin</code>, I think. It might have been related to a <code>swapfile</code> I had to enable on external USB-HDD. Probably the file was initialized before the USB was mounted and so it was on the sd card instead of on the HDD. </p>

<p>However, I was able to use this card again by putting on it the backup I made. Works fine so far. </p>

<p>I also set up a second Raspberry, a model 3B now (other one is 2B). Curiously, now both of my RPis run very different values in vmstat than before (here for model 2): </p>

<pre><code>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  1      0  31300 164228  90760   56   88    97    84  136   82 15  3 57 24  0
</code></pre>

<p>Model 3B:</p>

<pre><code>procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  0      0  27252   6376 250844   18   36    31    42   48   20 13  1 69 16  0
</code></pre>

<p>I had 4GB of swap activated and reduced it to 0 now with <code>swapoff -a</code> (I did not turn off <code>dphys-swapfile</code> yet), <code>free</code> shows 0.</p>

<p>Model 2:</p>

<pre><code>Linux 4.19.58-v7+ (raspberrypi)     05.09.2019  _armv7l_    (4 CPU)

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          15,02    0,00    3,33   24,34    0,00   57,31

Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
mmcblk0           7,66     2,79   19,89    0,46   720,24    61,89    76,87     0,10   33,40   28,89  229,40   2,25   4,59
sda               4,42   112,74   52,78   83,69   241,45   815,69    15,49     0,50    6,67   13,43    2,41   3,64  49,63

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           8,70    0,00    3,36   29,21    0,00   58,73

Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
mmcblk0           0,00     0,00    6,40    0,00    89,60     0,00    28,00     0,02    3,09    3,09    0,00   1,25   0,80
sda               0,00   165,60   20,80  196,60   215,20  1460,00    15,41     0,91    7,24   21,73    5,71   4,19  91,00

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
          11,12    0,00    4,85   27,64    0,00   56,39

Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
mmcblk0           0,00     0,00    0,00    0,00     0,00     0,00     0,00     0,00    0,00    0,00    0,00   0,00   0,00
sda               0,00   232,40   16,00  284,00   193,60  2064,80    15,06     0,85    5,19   26,26    4,01   2,85  85,40

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           9,71    0,00    3,97   29,44    0,00   56,89

Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
mmcblk0           0,00     0,00    1,60    0,00    37,60     0,00    47,00     0,00    3,75    3,75    0,00   1,25   0,20
sda               0,00   218,00   18,00  263,40   201,60  1924,80    15,11     0,92    5,92   12,91    5,44   3,28  92,20

avg-cpu:  %user   %nice %system %iowait  %steal   %idle
           9,17    0,00    4,05   31,53    0,00   55,25

Device:         rrqm/s   wrqm/s     r/s     w/s    rkB/s    wkB/s avgrq-sz avgqu-sz   await r_await w_await  svctm  %util
mmcblk0           0,00     0,00    0,00    0,00     0,00     0,00     0,00     0,00    0,00    0,00    0,00   0,00   0,00
sda               0,20   170,60   19,20  206,40   258,40  1520,00    15,77     0,91    7,28   29,88    5,18   4,05  91,40
</code></pre>

<p>You are right, <code>%util</code> of my HDDs is very high. But since I am mostly downloading the blockchain I wonder why there is such a high amount of usage of the disk(s). Should it not just save it there? Is there a lot of calculation done with transactions to verify the blocks once they are downloaded? There should just be checked if the hash of the previous block fits the new block's entry. Then the next one can be added. </p>

<p>Btw.: Ethernet/USB on the Model 2 is even lower, more like 10MB/s in my experience.</p>

<p>I also think I am downloading more blocks at the moment than before. I have to wait some days to check it.</p>
"
102123,1,2019-09-01T22:10:19.593,1,167,107659,,2019-09-02T11:25:14.120,2019-09-01T22:43:36.827,0,,"<p>I'm trying to set my RPi 3B running Raspbian up with a VPN and I already subscribe to VPNSecure so I attempted to install it using the Linux instructions here: <a href=""https://support.vpnsecure.me/articles/getting-started/linux-vpnsecure-client-install"" rel=""nofollow noreferrer"">https://support.vpnsecure.me/articles/getting-started/linux-vpnsecure-client-install</a> using the 64-bit installer (32-bit wouldn't work and kept giving an error).  It seemed to work fine and put an icon in the Start menu under Accessories but every time I attempt to run it, it opens a dialog stating that it needs permission to run and requiring a password. Once I put the password in, I get an hourglass for a few seconds and then nothing happens... It never goes anywhere or does anything. Trying to run it via command line also throws an error and does nothing:  </p>

<pre><code>/etc/vpnsecure/vpnsecure: 1: /etc/vpnsecure/vpnsecure: ELF: not found
/etc/vpnsecure/vpnsecure: 2: /etc/vpnsecure/vpnsecure: : not found
/etc/vpnsecure/vpnsecure: 7: /etc/vpnsecure/vpnsecure: Syntax error: end of file unexpected (expecting "")"")   
</code></pre>

<p>I'm fairly unfamiliar with Linux and have done ok up until now. Has anyone has success getting this installed on your system? And if I'm completely in the wrong area can you please help me figure out how to completely uninstall and start from scratch? I'm not great with all the command line stuff and keeping up with it so I prefer the GUI approach for this if at all possible. I greatly appreciate any assistance.</p>
"
102394,1,2019-09-09T21:08:24.707,4,7370,107921,,2019-09-26T09:45:26.177,2019-09-23T21:22:13.290,12,,"<p>I have a piHole set up on my network with address <code>192.168.2.10</code>
My router is <code>192.168.2.1</code> and the DNS settings on the router point to <code>192.168.2.10</code> meaning all traffic that goes via the router (which is everything) uses the local pihole for DNS (see screenshot below)</p>

<p><a href=""https://i.stack.imgur.com/9BkoA.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/9BkoA.png"" alt=""enter image description here""></a></p>

<p>The router's firmware is <code>DD-WRT v3.0-r33413 mini (09/27/17)</code></p>

<p>This is working great and ads are being blocked as expected, however, I want to add some local network DNS entries.</p>

<p>As an example, I want to be able to type <code>http://router</code> in a web browser and have that resolve to <code>http://192.168.2.1</code></p>

<p>I have followed <a href=""https://discourse.pi-hole.net/t/howto-using-pi-hole-as-lan-dns-server/533"" rel=""nofollow noreferrer"">this tutorial</a> as well as the advice in the comments of this post and now my <code>etc/pihole/lan.list</code> looks like this</p>

<p><code>192.168.2.1    router.lan    router</code></p>

<p>I had to also made some DnsMasq changes on my DD-WRT router as follows</p>

<p><a href=""https://i.stack.imgur.com/SUH1F.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SUH1F.png"" alt=""enter image description here""></a></p>

<p>and now I am able to ping and nslookup <code>router.lan</code> from devices on my network. However, I am not able to ping or nslookup <code>router</code> as I get <code>ping request could not find host router. Please check the name and try again.</code></p>

<p>What am I missing?</p>
"
102427,1,2019-09-10T18:09:39.383,1,279,4129,,2020-10-05T08:45:11.860,2019-09-11T02:33:35.540,0,,"<p>I'm looking at portability of some code that others want to use on the Raspberry Pi using gcc (Raspbian 6.3.0-18+rpi1+deb9u1) 6.3.0 20170516 (""Raspbian GNU/Linux 9 (stretch)"").</p>

<p>In particular I'm looking at addressing files that are >4Gb, so a pure 32bit data model fails.</p>

<p>It's not clear for Raspbian if it is a 32bit or 64bit or mixed data model? E.g see <a href=""http://nickdesaulniers.github.io/blog/2016/05/30/data-models-and-word-size/"" rel=""nofollow noreferrer"">http://nickdesaulniers.github.io/blog/2016/05/30/data-models-and-word-size/</a>. </p>

<p>The code should work on Windows and on the various Linuxes so there can be confusion as to the various implementation defined compatibility requirements.</p>

<p>What is the data model inuse?</p>
"
103452,1,2019-09-11T09:51:00.537,2,3483,108985,,2020-05-25T03:14:03.817,2019-11-05T13:40:24.517,1,,"<p>I installed the lirc library and I tried to use it, I need this for a project</p>

<pre><code>sudo mode2 -d/dev/lirc0
Using driver default on device /dev/lirc0
Trying device: /dev/lirc0
Please use the --raw option to access the device directly instead through the abstraction layer
</code></pre>

<p>If I use with --raw</p>

<pre><code>Using raw access on device /dev/lirc0
Problems: this device is not a LIRC kernel device (it does not
support LIRC_GET_REC_MODE ioctl). This is not necessarily a
problem, but mode2 will not work.  If you are using the --raw
option you might try using without it and select a driver
instead. Otherwise, try using lircd + irw to view the decoded
data - this might very well work even if mode2 doesn't.
</code></pre>

<p>I am new to the PI world, I don't know where the problem is. The receiver? The circuit? Pins? Please help !</p>

<p>CONTEXT:
I just want to record some IR signals so I can use them after.
This is the circuit I used :
<a href=""https://www.hackster.io/austin-stanton/creating-a-raspberry-pi-universal-remote-with-lirc-2fd581"" rel=""nofollow noreferrer"">https://www.hackster.io/austin-stanton/creating-a-raspberry-pi-universal-remote-with-lirc-2fd581</a> </p>
"
103745,1,2019-09-19T14:26:14.403,1,245,109252,,2020-06-16T11:32:45.780,2020-06-16T11:22:24.413,4,,"<p>I am using a DC motor attached with a 2000 PPR incremental encoder.
I am using RPI to count the number of ticks, my code works fine but I am not able to calculate all the 2000 ticks. Any help would be appreciated.
Following is the code</p>
<pre><code>import RPi.GPIO as GPIO
import time
import serial

import smbus
import time
bus = smbus.SMBus(1)
time.sleep(1)
address = 0x04


GPIO.setmode (GPIO.BCM)
GPIO.setwarnings(True)
i=0
pin_A = 17
pin_B = 18

######################################################################
def writeNumber(value):
    bus.write_byte(address, value)
    return -1

def readNumber():
    number = bus.read_byte(address)

    return number
###################################################################
Encoder_Count = 0
A_Pos2=0
GPIO.setup (pin_A, GPIO.IN)
GPIO.setup (pin_B, GPIO.IN)
A_Pos = 0
A_Last = &quot;00&quot;
STATE = {&quot;0001&quot;:1,&quot;0010&quot;:-1,&quot;0100&quot;:-1,&quot;0111&quot;:1,&quot;1000&quot;:1,&quot;1011&quot;:-1, &quot;1101&quot;:-1, &quot;1110&quot;:1}     

def Encoder1(channel1):
    global Encoder_Count,A_Pos,A_Last,STATE
    now = str(GPIO.input(17)) + str(GPIO.input(18))
    key = A_Last + now
    if key in STATE:
            direction = STATE[key]
            A_Last = now
            A_Pos +=direction


GPIO.add_event_detect (pin_A, GPIO.BOTH, callback=Encoder1)  
GPIO.add_event_detect (pin_B, GPIO.BOTH, callback=Encoder1)
i=0
#while(i&lt;10):
while(1):
        print A_Pos
        time.sleep(0.01)

GPIO.cleanup()
</code></pre>
"
103860,1,2019-09-22T19:58:00.040,2,3815,104583,,2020-06-26T13:29:39.227,,0,,"<p>For raspbian i used to make a ssh file and a wpa_supplicant.conf file for my raspi to connect to my wifi (after flashing i used to paste them in the boot folder). Is there any simple way to achieve this in kali linux? i have searched a lot but most of them use ethernet which is not an option on pi Zero W. </p>

<p>EDIT: I found some sites saying put the wpa_supplicant in /etc/rc.local but i cant seem to locate in on the SD card.</p>
"
103892,1,2019-09-23T17:46:33.633,11,10179,44355,,2020-09-24T09:26:21.190,2019-09-24T01:27:31.273,1,,"<p>I read in the <a href=""https://raspberrypi.stackexchange.com/questions/82102/is-it-possible-to-use-raspberry-pi-3-b-dual-band-wifi-simultaneously"">post</a> that RPi 3 could not manage to operate on both bands simultaneously. Can RPi4 do that? We are planning to create mesh network with Rpi nodes. With single band operation, the throughput drops drastically, as the node count increases.</p>
"
103984,1,2019-09-26T05:16:38.983,0,97,96835,,2020-12-21T22:01:30.203,,3,,"<p>I'm trying to connect an hx711 to GPIO23 and GPIO24 pins on an RPI3 A+, and I need to specify this in the device tree to have the hx711.ko driver be probed. I've been stuck on this problem for some time now, here is what I have done so far:</p>

<p>-Enabled the hx711 driver using <code>menuconfig</code> and rebuilt the kernel</p>

<p>-Wrote the following device tree overlay based on the suggestion in the hx711 device tree documentation:</p>

<pre><code>/dts-v1/; 
/plugin/;
/{
compatible = ""brcm,bcm2708"";
fragment@0 {
    __overlay__ {
        target = &lt;&amp;gpio&gt;;       

            weight_gpio: weight_gpio {
                brcm,pins = &lt;0x17 0x18&gt;;
                brcm,function = &lt; 0x00 &gt;;
                #gpio-cells = &lt; 0x02 &gt;;
            };
        };
    };
fragment@1 {
    __overlay__ {
            target = &lt;&amp;soc&gt;;    
            weight: weight {
                compatible = ""avia,hx711"";
                sck-gpios = &lt;&amp;weight_gpio 0x17 0&gt;;
                dout-gpios = &lt;&amp;weight_gpio 0x18 0&gt;;
                avdd-supply = &lt;&amp;vdd_3v3_reg&gt;;
                status = ""okay"";
            };
        };
    };
};
</code></pre>

<p>-Built using dtc giving the following output:</p>

<pre><code>dtc -@ -I dts -O dtb -o hx711.dtbo hx711.dts
hx711.dtbo: Warning (unit_address_vs_reg): Node /fragment@0 has a unit name, but no reg property
hx711.dtbo: Warning (unit_address_vs_reg): Node /fragment@1 has a unit name, but no reg property
</code></pre>

<p>-added <code>dtoverlay=hx711</code> line in config.txt</p>

<p>-Examined the currently loaded device tree using dmesg and the dtc command. <a href=""https://pastebin.com/GjERSedY"" rel=""nofollow noreferrer"">Here is the output.</a>. </p>

<p>I get no information about my overlay. Not even and error saying it wasn't loaded.</p>

<p>I can see that the overlay I wrote for the mpu6050 (i2c device) works fine.</p>

<p>Any suggestions are appreciated.</p>
"
104121,1,2019-09-30T14:29:26.570,0,270,109553,,2019-09-30T15:08:39.257,2019-09-30T14:58:41.013,8,,"<p>I have a problem with I2C clock in Raspbian Buster (using either SMbus or i2c-dev). It defaults to 50 kHz on RPi 4B and to 62.5 kHz on RPi 3B and Zero W. <strong>However</strong>, if I set the speed i2c_arm_baudrate=200000 > /boot/config.txt on RPi 4B, then speed is 100 kHz. </p>

<p>But the strange thing that for the first few seconds it is actually 200 kHz, so I2C slave devices that have some kind of initialization only work if I initialize them again after waiting for a couple of seconds in the program.
The clock mismatch happens no matter what i2c devices I use, in fact it happens even if there are no devices on the bus (writing 0 to address 9):</p>

<p>Python, SMbus:</p>

<pre class=""lang-py prettyprint-override""><code>import smbus
from time import sleep
bus = smbus.SMBus(1)

while True:
    try:
        bus.write_byte(9, 0)
        sleep(.1)
    except OSError:
        pass
</code></pre>

<p>C, i2c-dev:</p>

<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;linux/i2c-dev.h&gt;
#include &lt;sys/ioctl.h&gt;
#define delay(A) usleep(A*1000)

char *i2cbus = ""/dev/i2c-1"";
int addr = 9;
int data[1] = {0};

void loop(void)
{
        int i2cfile = open(i2cbus, O_RDWR);
        ioctl(i2cfile, I2C_SLAVE, addr);
        write(i2cfile, data, 1);
}

int main()
{
        for(;;) {
                loop();
                delay(100);
        }
}
</code></pre>

<p>pictures from o-scope:
<a href=""https://i.stack.imgur.com/FkeIJ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/FkeIJ.png"" alt=""pictures from o-scope""></a></p>

<p>So, my question is: how to access BCM i2c speed registers? Datasheet says that the register is at offset 0x7e804000, but when I try inline assembly like so:</p>

<pre class=""lang-c prettyprint-override""><code>#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;

int main()
{
    uint32_t reg = 0;
    __asm(
        ""push {r0}\n\t""
        ""ldr r0, =0x7e804000\n\t""
        ""ldr %[result], [r0]\n\t""
        ""pop {r0}\n\t""
        : [result] ""=r"" (reg)
    );
    printf(""%x\n"", reg);
}
</code></pre>

<p>I get segmentation fault. (my knowledge in ARM assembly is lacking)</p>
"
104304,1,2019-10-06T02:48:13.030,0,1183,109843,,2019-10-06T16:22:51.470,2019-10-06T15:09:08.243,1,,"<p>Has anyone built a bluetooth/BLE sniffer that runs headless and logs MAC addresses of all discoverable BT/BLE devices?  What resources did you use?</p>

<p>I've found a tutorial on Adafruit, <a href=""https://learn.adafruit.com/introducing-the-adafruit-bluefruit-le-sniffer/v2-wireshark-usage"" rel=""nofollow noreferrer"">https://learn.adafruit.com/introducing-the-adafruit-bluefruit-le-sniffer/v2-wireshark-usage</a> , but it seems like this only passes BLE data to wireshark, and I don't think wireshark would allow for headless operation.</p>

<p>Thanks for consideration.</p>
"
104416,1,2019-10-09T10:31:05.520,0,174,106274,,2019-12-14T10:29:47.090,2019-10-10T06:26:12.910,5,,"<p>Before going ahead what is the problem I am facing let me give you a hint about the Revolution Pi Connect an IIoT device based on Raspberry pi:<a href=""https://revolution.kunbus.com/tutorials/uebersicht-revpi-connect/"" rel=""nofollow noreferrer"">https://revolution.kunbus.com/tutorials/uebersicht-revpi-connect/</a>.</p>

<p>This RevPi(Revolution Pi) has two ethernet port eth0 and eth1. Now the from wifi router generating IP range 192.168.10.2 to 192.168.10.102 Through DHCP. My system (PC) I have two IP one over Wifi and one over ethernet(static IP set) as shown </p>

<pre><code>Ethernet adapter Ethernet:

 Connection-specific DNS Suffix  . :
 Link-local IPv6 Address . . . . . : fe80::7d8d:1cb5:ec81:51c5%22
 IPv4 Address. . . . . . . . . . . : 192.168.2.59
 Subnet Mask . . . . . . . . . . . : 255.255.255.0
 Default Gateway . . . . . . . . . : 192.168.2.255   


Wireless LAN adapter Wi-Fi:

 Connection-specific DNS Suffix  . :
 Link-local IPv6 Address . . . . . : fe80::ecad:bd0e:738d:e3ac%3
 IPv4 Address. . . . . . . . . . . : 192.168.10.46
 Subnet Mask . . . . . . . . . . . : 255.255.255.0
 Default Gateway . . . . . . . . . : 192.168.10.1  
</code></pre>

<p>First port eth0 of RevPi I get the IP from DHCP router as 198.168.10.34. By using this IP   I am able to access the RevPi over SSH-Putty. Now for the second port eth1 of RevPi, I set static IP as 198.168.2.254 using this:<a href=""https://raspberrypi.stackexchange.com/questions/37920/how-do-i-set-up-networking-wifi-static-ip-address/74428#74428"">How do I set up networking/WiFi/static IP address?</a></p>

<p>so I set up as:</p>

<pre><code>interface eth1
static ip_address=192.168.2.254/24
static routers=192.168.10.1
static domain_name_servers=192.168.10.1
</code></pre>

<p>So now I am able to ping from my system(PC) which has static IP over ethernet as 198.168.2.59 to RevPi(Revolution Pi Connect) but Unable to ping from the Revolution Pi Connect (Raspberry pi based IIoT device) to PC? please help me to resolve this. Thanks in advance.</p>

<pre><code> traceroute to 198.168.2.59 (198.168.2.59), 30 hops max, 60 byte packets

 1  * * *
 2  * * *
 3  * * *
 4  * * *
 5  * * *
 6  * * *
 7  * * *
 8  * * *
 9  * * *
 10  * * *
 11  * * 69.77.173.2 (69.77.173.2)  211.588 ms
 12  * * *
 13  * * *
 14  * * *
 15  * * *
 16  * * *
 17  * * *
 18  * * *
 19  * * *
 20  * * *
 21  * * *
 22  * * *
</code></pre>
"
104464,1,2019-10-10T20:46:38.637,7,12742,109996,,2020-11-29T07:32:34.383,2019-10-10T20:57:06.403,0,,"<p>The raspberry pi 4 has at least two uarts (<a href=""https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2835/BCM2835-ARM-Peripherals.pdf"" rel=""noreferrer"">as shown here</a>), I know where I can connect to one of them. Pins 8, 10 and 12 have a uart as an option. </p>

<p><a href=""https://i.stack.imgur.com/Og4DD.png"" rel=""noreferrer""><img src=""https://i.stack.imgur.com/Og4DD.png"" alt=""enter image description here""></a>
Source:</p>

<p>This site describes accessing <a href=""https://raspberry-projects.com/pi/programming-in-c/uart-serial-port/using-the-uart"" rel=""noreferrer"">uart1</a>, where is it? Do I have access to it?  </p>
"
104538,1,2019-10-12T21:33:50.517,1,397,106172,,2021-01-07T21:24:19.303,,4,,"<p>Hello i am creating a shield for raspberry Pi 3/4 and in need of a lot of analog pins to read 30 sensors. and since the shield can only fit 5 sockets of the connector i am using i need to use 2 ADS1115 on a single shield. This brings me to a total of 12 ADS1115 to read 30 sensors. I chose this chip instead of the others because adafruit already made a library for it which makes coding a bit easier.</p>

<p>Can i connect 12 i2c devices on the default i2c raspberry pins?
Is it possible to make the other GPIO pins as i2C?</p>
"
104544,1,2019-10-12T22:37:53.883,2,1046,34037,,2019-10-16T16:35:11.050,2019-10-14T02:00:58.383,15,,"<p>I'm trying to dim a 7W LED with a Raspberry Pi Zero for home automation. However it doesn't work as expected. 
I followed this tutorial :
<a href=""https://www.youtube.com/watch?v=wqY4-gHqvZI"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=wqY4-gHqvZI</a> .
I have the exact same connections between my raspberry and my led and I also have the same dimmer. I tried their test code that is supposed to dim the light bulb using the Pigpio hardware_pwm() function (documentation : <a href=""http://abyz.me.uk/rpi/pigpio/python.html#hardware_PWM"" rel=""nofollow noreferrer"">http://abyz.me.uk/rpi/pigpio/python.html#hardware_PWM</a>).</p>

<p>The Python script used to the test is :</p>

<pre><code>import pigpio

GPIO=18

pi = pigpio.pi()

if pi.connected:
    print(""Connected to pigpio daemon !\n"")

dm = 0
while dm &lt; 860:
    dm = input(""Enter Dimmer Value: "")
    dm = int(dm)
    pi.hardware_PWM(GPIO, 5000, dm*1000) # 5000Hz dm*1000% dutycycle

print(""\nOut of range. Exiting..."")
pi.hardware_PWM(GPIO, 5000, 860000) # 5000Hz 95% dutycycle
pi.stop()
</code></pre>

<p>For my case, the led is acting strangely. With a 5000Hz frequency, changing the duty cycle from 0% to 70% doesn't change it's luminosity, 70% to 86% reduce the luminosity, 86% to 95% increase it and 95% to 100% reduce it again. But the led is always turned On, even if the duty cycle is at 100% the led emits a little light.</p>

<p>Here a graph to better illustrate the situation.
<a href=""https://i.stack.imgur.com/qtibj.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qtibj.png"" alt=""Graph illustrating the luminosity of a led depending on the duty cycle""></a></p>

<p>The Python code used is from the youtube tutorial, do someone understand why the max duty cycle used is 86% ?</p>

<p>Why is the dimming not linear ?</p>

<p>And why the led cannot be totally turned Off using a 100% duty cycle ?</p>
"
104551,1,2019-10-13T06:25:48.243,0,172,110083,,2019-11-12T22:02:10.223,2019-10-13T06:33:23.617,2,,"<p>I'm having a hard time getting a straight answer about long double precision on ARM64 architecture. I'm engineering a scientific machine requiring extreme precision, and the driver, which I will write in c++, must keep rounding errors to a minumum. I'll probably use a pi 3B+ for the prototype and some sort of ARM64 architecture for the finished product, but I'm concerned about rounding errors. </p>

<p>I have two questions. First, is the long double supported natively in g++ on the pi with the same precision of x86_64 machines? Second, if it is not, how can I use more digits in my calculations on ARM64 architecture? I'm not averse to linking libraries. </p>
"
104697,1,2019-10-17T20:10:43.623,2,87,73333,,2019-10-18T18:00:17.343,2019-10-18T12:47:37.553,6,,"<p>I regularly backup my Raspi using a script that rsyncs rootfs and /boot onto a image created with losetup.
This is the current branch I am working on:</p>

<p><a href=""https://github.com/ephestione/RaspiBackup/blob/autosize-root-plus-free-space/RaspiBackup.sh"" rel=""nofollow noreferrer"">https://github.com/ephestione/RaspiBackup/blob/autosize-root-plus-free-space/RaspiBackup.sh</a></p>

<p>The improvement over the master branch is that, instead of determining the image size by using the rootfs partition size (still usually better than using the whole device size), I want to directly create a shrinked image, where the rootfs partition size is pre-calculated to be just enough to fit the extant data, plus a forfait 100MB free space (I can expand filesystem after restore if needed).
In the first version I used:</p>

<pre><code>df / --output=used | tail -n1
</code></pre>

<p>to determine the target partition size, then adding 250MB for boot and 100MB of free space, but it was incorrect, as I wasn't taking into account the reserved blocks. The resulting image, even by adding 100MB of space to the determined size, resulted as 100% in use, and I suspect was still smaller than the real data.</p>

<p>So, now, I use the difference between:</p>

<pre><code>df / --output=size | tail -n1
</code></pre>

<p>and</p>

<pre><code>df / --output=avail | tail -n1
</code></pre>

<p>like so:</p>

<pre><code>ROOTPU=`expr ""$(grep '/ ' /etc/fstab)"" : 'PARTUUID=\(.[a-z0-9\-]*\)'`
ROOT=/dev/disk/by-partuuid/$ROOTPU
BOOTSIZE=250
ROOTFREE=100
SIZE=$(blockdev --getsz $ROOT)
# calc kilobytes size of data on rootfs
AVAILROOT=$(df / --output=avail | tail -n1)
SIZEROOT=$(df / --output=size | tail -n1)
((USEDROOT=SIZEROOT-AVAILROOT))
# bytes size of backup rootfs including free space after data
((USEDROOT=USEDROOT*1024 + ROOTFREE*1024*1024))

BLOCKSIZE=$(blockdev --getss $ROOT)
# blocks count of rootfs round up division result:
((SIZE=(USEDROOT+BLOCKSIZE-1)/BLOCKSIZE + BOOTSIZE*1024*1024/BLOCKSIZE))
#[...]
dd if=/dev/zero of=""${IMAGE}"" bs=${BLOCKSIZE} count=0 seek=${SIZE}
</code></pre>

<p>which is still WAY better than just imaging an expanded filesystem on a 32GB SD card, but it will yield an image which is 1GB bigger than it needs to be (1.1GB of resulting free space using <code>df -h</code> on the restored system).</p>

<p>EDIT: I did some further research, taking as an example my own filesystem.
Right now I have a 4.3GB partition as reported by <code>df</code>.
So let's say I want to determine the total size of the root partition on Raspbian:</p>

<p><code>sudo blockdev --getsz /dev/mmcblk0p2</code> multiplied by <code>sudo blockdev --getsz /dev/mmcblk0p2</code> returns (512*9142272):</p>

<p>4 680 843 264 bytes</p>

<p>default <code>df</code> with no other parameters (1k blocks of 1024bytes each, 4433716*1024) reports:</p>

<p>4 540 125 184 bytes</p>

<p><code>sudo tune2fs -l /dev/mmcblk0p2</code> with block count * block size (1142784*4096):</p>

<p>4 680 843 264‬ bytes</p>

<p>Two out of three methods, tune2fs and blockdev, report the same total size of the partition, while df reports a smaller size.
The difference though, which is 134MB, doesn't seem to really account for the ""missing"" space I found... I'm at a loss.</p>

<p>EDIT 2: I just tested by using the values reported from <code>tune2fs -l $ROOT</code>, namely doing ((Block count)-(Free blocks))*(Block size), and then added 100MB.
This yielded an image 200somethingMB bigger than the <code>df</code> method, still (And I already knew it even before trying) on restore, <code>df</code> reported 0 available blocks... at this point I know that a ""0 free space"" image with 250MB boot should be about 3.7GB, but with this latest method, even adding 100MB to the plate, I get a 3.4GB image size...</p>

<p>EDIT 3: now this is getting funny. So I started doing calculations by using <code>df / --output=used</code> as base, and increasing it by 5%, and adding 200MB (I actually went further than that, and used <code>tune2fs</code> to determine current percent of reserved blocks... which ended up being 5% anyway). I started getting images with just around 60MB free space instead of 200. WTH? I tried then just using ""used space""*1.05 as image size, and I just now booted a such restored backup, this is the output of <code>df /</code>:</p>

<pre><code>Filesystem     1K-blocks    Used Available Use% Mounted on
/dev/root        3081144 3030756         0 100% /
</code></pre>

<p>and these are the relevant info from <code>tune2fs -l /dev/mmcblk0p2</code>:</p>

<pre><code>Block count:              799232
Reserved block count:     39961
Free blocks:              9524
</code></pre>

<p>According to tune2fs I should have <code>9524*4096/1024/1024</code> megabytes free, which amounts to 37MB, surely no 0 anyway. What gives? Who's the scumbag here? <code>df</code>, <code>tune2fs</code> or the filesystem?</p>

<p>Question: is there a way to predictably determine the image size needed to have a resulting backup image which is more or less <code>${ROOTFREE}</code>MBs larger than the extant data on rootfs plus 250MB boot partition?</p>
"
104755,1,2019-10-19T14:17:52.740,1,527,107812,,2019-11-07T01:01:24.963,2019-10-19T14:41:30.450,2,,"<p>I am reading "" Developing Games on the Raspbery Pi"" w Lua and Love by Seth Kenlon</p>

<p>I am trying to use my existing raspian stretch OS rather than starting with the OS the book suggests </p>

<p>Lua is already installed and working </p>

<p>now I would like to install the Love library</p>

<p>I have the Love rpm downloaded </p>

<p>How do I install it please?</p>
"
104877,1,2019-10-23T10:41:28.877,0,410,57015,,2019-10-24T12:17:51.287,2019-10-24T12:17:51.287,0,,"<p>I'm forced to use port <code>/dev/spidev0.0</code> with a camera that I'm not able to configure at this time. Hence I need to change my current configuration where I'm using <strong>ENC28J60</strong> on <code>/dev/spidev0.0</code> and move it on a different port:  <code>/dev/spidev1.0</code> or <code>/dev/spidev1.2</code> (<code>spidev1.1/CE</code> pin is used as an interrupt source from the camera itself). I googled for info but the only useful reference is this thread on RPi forum:</p>

<p><a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=191180"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/forums/viewtopic.php?t=191180</a></p>

<p>that talks only about changing <code>CE</code> pin in terms of redefining (?) the overlay that's something I'm not proficient in. Someone managed to use a different port for <strong>ENC28J60</strong> and can guide me in this process?</p>

<p>BTW I'm using <em>Raspbian 9</em> (stretch) on a <strong>RPi3A+</strong> (I would like to make it work on <strong>RPi0W</strong> also if possible)</p>
"
104989,1,2019-10-26T21:46:31.840,2,1325,79658,,2020-03-20T15:20:47.653,2019-10-28T11:14:37.707,11,,"<p>I have installed a fresh raspbian buster and docker from get.docker.com on a raspberry pi zero W 
[Edit: Does not work on raspbian jessie or stretch either]</p>

<p>I have run docker on that machine before, but now <code>docker run &lt;image&gt;</code> just starts and terminates about 18 seconds later, no output.
I have tried several different Dockerfiles which works on a regular Linux laptop.</p>

<p>This is output to daemon.log while docker run runs.
I see no errors, just a warning that <code>(...)/mnt/shm</code> can not be found.
[Edit: This warning is also shown on working docker on pc, so it's not relevant.]
<strong>Note: I have now discovered that <code>docker container ls -l</code> shows that the containers end with error code 139, which is SIGSEGV</strong> </p>

<pre><code>tail -f /var/log/daemon.log|grep docker &amp;
root@pi:/# docker run hello-world
..8:44 pi systemd[1]: var-lib-docker-overlay2-8a2da5298e1(...)4ed0b781f\x2dinit-merged.mount: Succeeded.
..8:44 pi systemd[463]: var-lib-docker-overlay2-8a2da5298e1(...)4ed0b781f\x2dinit-merged.mount: Succeeded.
..8:44 pi systemd[1]: var-lib-docker-overlay2-8a2da5298e1(...)4ed0b781f-merged.mount: Succeeded.
..8:45 pi systemd[463]: var-lib-docker-overlay2-8a2da5298e1(...)4ed0b781f-merged.mount: Succeeded.
..8:48 pi systemd[1]: run-docker-runtime\x2drunc-moby-6c47caad0e(...)086e9ac535ba-runc.8fnFt5.mount: Succeeded.
..8:48 pi dhcpcd[277]: docker0: carrier acquired
..8:48 pi dhcpcd[277]: docker0: IAID 29:1f:af:46
..8:48 pi dhcpcd[277]: docker0: adding address fe80::f3ff:1d1a:3346:f173
..8:48 pi avahi-daemon[241]: Joining mDNS multicast group on interface docker0.IPv6 with address fe80::f3ff:1d1a:3346:f173.
..8:48 pi avahi-daemon[241]: New relevant interface docker0.IPv6 for mDNS.
..8:48 pi avahi-daemon[241]: Registering new address record for fe80::f3ff:1d1a:3346:f173 on docker0.*.
..8:48 pi dhcpcd[277]: docker0: soliciting an IPv6 router
..8:48 pi dhcpcd[277]: docker0: soliciting a DHCP lease
..8:54 pi dhcpcd[277]: docker0: probing for an IPv4LL address
..8:59 pi dhcpcd[277]: docker0: using IPv4LL address 169.254.156.109
..8:59 pi dhcpcd[277]: docker0: adding route to 169.254.0.0/16
..8:59 pi avahi-daemon[241]: Registering new address record for 169.254.156.109 on docker0.IPv4.
..9:00 pi dockerd[324]: time=""2019-10-26T23:29:00.407340153+02:00"" level=info msg=""ignoring event""
     module=libcontainerd namespace=moby topic=/tasks/delete type=""*events.TaskDelete""
..9:00 pi systemd[1]: run-docker-netns-1f13548fc883.mount: Succeeded.
..9:00 pi systemd[463]: run-docker-netns-1f13548fc883.mount: Succeeded.
..9:01 pi dockerd[324]: time=""2019-10-26T23:29:01.039055309+02:00"" level=warning msg=""6c47caad0e(...)086e9ac535ba
    cleanup: failed to unmount IPC: umount /var/lib/docker/containers/6c47caad0e(...)086e9ac535ba/mounts/shm, flags: 0x2: no such file or directory""
..9:01 pi systemd[1]: var-lib-docker-overlay2-8a2da5298e1(...)4ed0b781f-merged.mount: Succeeded.
..9:01 pi systemd[463]: var-lib-docker-overlay2-8a2da5298e1(...)4ed0b781f-merged.mount: Succeeded.
..9:02 pi dhcpcd[277]: docker0: carrier lost
..9:02 pi dhcpcd[277]: docker0: deleting address fe80::f3ff:1d1a:3346:f173
..9:02 pi avahi-daemon[241]: Withdrawing address record for fe80::f3ff:1d1a:3346:f173 on docker0.
..9:02 pi avahi-daemon[241]: Leaving mDNS multicast group on interface docker0.IPv6 with address fe80::f3ff:1d1a:3346:f173.
..9:02 pi avahi-daemon[241]: Interface docker0.IPv6 no longer relevant for mDNS.
..9:02 pi avahi-daemon[241]: Withdrawing address record for 169.254.156.109 on docker0.
..9:02 pi dhcpcd[277]: docker0: deleting route to 169.254.0.0/16
</code></pre>

<p>Edit, to answer tflong01</p>

<p><code>tail -f /var/log/daemon.log</code> keep printing the log from miscellaneous daemons
<code>|grep docker</code> send output to <code>grep</code> to show only lines containing <code>docker</code>
<code>&amp;</code> keep running in background, but release keyboard back, so I can type the next command</p>

<p>docker takes a couple of disk images: a ""disk"" with the operating system, another with the command and mounts them on top of each other, creating a virtual machine.</p>

<p>at 8:48 this machine is powered up, it gets an IPv6 address and starts looking for an IPv4 address by DHCP. There is no DHCP on that network, so </p>

<p>at 8:54 it starts creating its own 169.254.0.0/16 adress, which it has done at 8:59</p>

<p>at 9:00 the machine looks ready to run the ""hello-world"" command, but no output is done</p>

<p>at 9:01 the machine powers down, the ip-adresses get released and the disk images unmounted and the routing entries cleared.</p>

<p>All looks normal except nothing is being run in the machine.
Or it doesn't output anything.</p>
"
105086,1,2019-10-30T07:08:29.157,0,977,100123,,2020-07-26T13:04:50.440,,5,,"<p>I did a really stupid mistake - I set up a second i²C bus months ago, so I have two gyro sensors connected - but din't document it. 
I can see the connected devices with</p>

<pre><code>i2cdetect -y 1
</code></pre>

<p>and </p>

<pre><code>i2cdetect -y 3
</code></pre>

<p>How is it possible to activate the 2nd bus? Google won't tell me anything helpful. I think by SDA and SDC are connected to the pins BCM 5 &amp; 6.</p>
"
105108,1,2019-10-30T16:02:03.160,0,175,54830,Yind,2019-10-30T18:53:47.323,2019-10-30T18:53:47.323,6,,"<p>I'm using a device through I2C interface and I'm having some issues when the I2C bus fails, I don't know if it fails because an interferance in the cable or just timing issues in the Raspberry over high loads.</p>

<p>The thing is that checking the way this device is used in Arduino and Raspberry there is a difference.</p>

<p>In arduino you use it like this:</p>

<pre><code>Wire.beginTransmission(0x27);
Wire.write(0x80);
Wire.write(75);
Wire.endTransmission();
</code></pre>

<p>And in RPi you first set the channel into a pointer and then write to it, but never ""endTransmission"" or ""beginTransmission"" when you need to send the message.</p>

<p>I just init the i2c channel at the start:</p>

<pre><code>dimmer = wiringPiI2CSetup(0x27);
</code></pre>

<p>And then use this to set the values.</p>

<pre><code>wiringPiI2CWrite (dimmer, pin) ;
wiringPiI2CWrite (dimmer, value) ;
</code></pre>

<p>The problem is that once in a while it stops working, maybe a message got lost in the middle and now those 2 writes never are together waiting for the next byte.
So, is there a difference between the Arduino version and the wiringPi version for this?
is there a way to set the begin and end of a transmission?</p>

<p>The device in question is the Kryda AC Dimmer: <a href=""https://www.tindie.com/products/bugrovs2012/i2c-4ch-ac-led-dimmer-module/"" rel=""nofollow noreferrer"">https://www.tindie.com/products/bugrovs2012/i2c-4ch-ac-led-dimmer-module/</a></p>
"
105757,1,2019-11-25T11:34:10.057,0,74,111561,,2019-11-25T14:39:25.527,2019-11-25T14:39:25.527,4,,"<p>I recently purchased a Raspberry Pi 3B board, but comparing it to other units I have seems somewhat different. It has the processor of the 3B+ model, the BCM2837B0, instead of the BCM2837 of 3B model. Also USB ports seem to be the same as the 3B+ instead of the 3B.
PCB layout is the same as 3B, as well as its Wifi chip, and when trying to get the internal identifiers, it shows the same info as 3B; </p>

<p>Hardware : BCM2835
Revision :    a22082</p>

<p>cat /sys/firmware/devicetree/base/model
Raspberry Pi 3 Model B Rev 1.2</p>

<p><a href=""https://i.stack.imgur.com/3gtxS.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3gtxS.jpg"" alt=""pi3b comparison""></a></p>

<ol>
<li>Pi 3B</li>
<li>Pi 3B (new)</li>
<li>Pi 3B+</li>
</ol>

<p>3B and 3B+ shown in the image are manufactured in the UK instead of China, as on the 3B not so plus model.</p>

<p>Is this a known new revision of the 3B model? I haven't found any information about it.</p>

<p>Greetings.</p>
"
105766,1,2019-11-25T17:17:16.660,3,141,110551,,2019-12-06T22:49:06.660,,9,,"<p>I'm working at this source: <a href=""https://github.com/ozw1z5rd/ninepin/blob/master/iec/iec.c"" rel=""nofollow noreferrer"">https://github.com/ozw1z5rd/ninepin/blob/master/iec/iec.c</a></p>

<pre><code>int iec_init(void)
{
  int result;
  int minor;

  if ( request_mem_region(GPIO_BASE, 4096, LABEL_DEVICE) == NULL ) { 
      printk(KERN_ALERT ""Unable to reserve I/O memory address"");
      return -EBUSY;
  }      

  gpio = ioremap(GPIO_BASE, 4096);
</code></pre>

<p>And this code is part of a kernel module. It is supposed to be working but on my raspberry does not work. The area it attempts to reserve is not available. I'm new to raspberry and noticed that the GPIO, under the current Linux version, are available as /dev/gpiomem.</p>

<p>How can I change the code so that it can work again? What changes are required to the code so that gpio are allocate and made available to this module?</p>
"
105817,1,2019-11-26T21:16:33.463,1,329,111619,,2019-11-27T01:59:53.827,,2,,"<p>I am developing Flask rover app on Raspberry Pi Zero W.  And I having problems with CPU perfomance.  I used flask profiller to find weak spot in my app, but everything seemed normal.  I have Raspberry Pi 3 and my app start significantly faster and CPU usages doesn't reach 90-100%.  My Flask on Zero w app uses up to 64% cpu time.  Should I use some  lightweighter framework, maybe pure python? I get serious lags in my app. I know Pi3 has 4 cores, and zero W only one. But how I can get my app run faster?</p>

<pre><code>from flask import Flask, render_template, Response, request, jsonify
import time # Import the Time library
import serial
import pigpio
from threading import Thread
import subprocess
from werkzeug.contrib.profiler import ProfilerMiddleware

SERVO_V = 21
SERVO_H = 20
pi = pigpio.pi()


MOT_FWD_A = 9
MOT_FWD_B = 10
MOT_BWD_A = 8
MOT_BWD_B = 7
SERVO_V = 21
SERVO_H = 20
LED = 4

FRQ = 1000
DUTY = 64


EMPTY_DATA = ""0.0""

prevGyro = EMPTY_DATA
prevMetres = EMPTY_DATA
prevBatt = EMPTY_DATA

pi.set_PWM_dutycycle(MOT_FWD_A, 0)
pi.set_PWM_dutycycle(MOT_FWD_B, 0)
pi.set_PWM_dutycycle(MOT_BWD_A, 0)
pi.set_PWM_dutycycle(MOT_BWD_B, 0)

pi.set_PWM_frequency(MOT_FWD_A, FRQ)
pi.set_PWM_frequency(MOT_FWD_B, FRQ)
pi.set_PWM_frequency(MOT_BWD_A, FRQ)
pi.set_PWM_frequency(MOT_BWD_B, FRQ)

pi.set_PWM_dutycycle(LED, 0)
pi.set_PWM_frequency(LED, 50)


ser = serial.Serial(
               port='/dev/ttyS0',
               baudrate = 9600,
               timeout=1
           )

def setServoPosition(servoPin, newPosition):
        pi.set_servo_pulsewidth(servoPin, newPosition)
        print(newPosition)


def StopMotors():
    pi.set_PWM_dutycycle(MOT_FWD_A, 0)
    pi.set_PWM_dutycycle(MOT_FWD_B, 0)
    pi.set_PWM_dutycycle(MOT_BWD_A, 0)
    pi.set_PWM_dutycycle(MOT_BWD_B, 0)


# Turn both motors forwards AF = 1 AB = 0 BF = 1 BB = 0
def Forwards(): 
    print(DUTY)
    pi.set_PWM_dutycycle(MOT_FWD_A, DUTY)
    pi.set_PWM_dutycycle(MOT_FWD_B, DUTY)
    pi.set_PWM_dutycycle(MOT_BWD_A, 0)
    pi.set_PWM_dutycycle(MOT_BWD_B, 0)

def Backwards():
    pi.set_PWM_dutycycle(MOT_FWD_A, 0)
    pi.set_PWM_dutycycle(MOT_FWD_B, 0)
    pi.set_PWM_dutycycle(MOT_BWD_A, DUTY)
    pi.set_PWM_dutycycle(MOT_BWD_B, DUTY)

# Turn right
def Right():
    pi.set_PWM_dutycycle(MOT_FWD_A, 0) 
    pi.set_PWM_dutycycle(MOT_FWD_B, DUTY)
    pi.set_PWM_dutycycle(MOT_BWD_A, DUTY)
    pi.set_PWM_dutycycle(MOT_BWD_B, 0) 
    time.sleep(0.1)
    StopMotors()

# Turn left
def Left():
    pi.set_PWM_dutycycle(MOT_FWD_A, DUTY) 
    pi.set_PWM_dutycycle(MOT_FWD_B, 0)
    pi.set_PWM_dutycycle(MOT_BWD_A, 0)
    pi.set_PWM_dutycycle(MOT_BWD_B, DUTY)     
    time.sleep(0.1)
    StopMotors()



app = Flask(__name__)

@app.route('/')
def execute():
    return render_template('index.html')





@app.route(""/info"", methods=['GET'])
def telemetry():

    global prevBatt
    global prevGyro
    global prevMetres

    gyro = None
    battery = None
    metres = None

    data = ser.readline()
    #ser.flushInput()
    data_str = str(data, 'utf-8')
    #print(data)

    index_b = data_str.find('Bat')
    if (index_b is not -1):
        battery = data_str[index_b+4:index_b+9]
    else:
        battery = EMPTY_DATA


    index_g = data_str.find('gyro')
    if (index_g is not -1):
        gyro = data_str[index_g+5:index_g+11]
    else:
        gyro = EMPTY_DATA


    index_d = data_str.find('Distance')
    if (index_d is not -1):
        metres = data_str[index_d+9:index_d+15]
    else:
        metres = EMPTY_DATA



    if (index_g is not -1):
        prevGyro = gyro
    else:
        gyro = prevGyro

    if (index_b is not -1):
        prevBatt = battery
    else:
        battery = prevBatt

    if (index_d is not -1):
        prevMetres = metres
    else:
        metres = prevMetres

    #print(""GYRO: %s\n"" % (gyro))
    #print(""BAT: %s\n""  % (battery))
    #print(""MET: %s\n"" %  (metres))

    return jsonify(voltage=battery,
                   gyro_x=gyro,
                   distance=metres)


@app.route(""/control"", methods=['GET'])
def remoteControl():
    global DUTY
    var =request.args.get('var')
    val = int(request.args.get('val'))
    print(""var = %s \n val = %d"" % (var, val)) 
    if (var == ""car""):
        if (val == 1):
            Forwards()
        elif (val == 2):
            Left()
        elif  (val == 3):
            StopMotors()
        elif (val == 4):
            Right()
        elif (val == 5):
            Backwards()

    elif (var == ""servo""):
        if (val &lt; 1250):
            setServoPosition(SERVO_V, 1250)
        elif (val &gt; 2500):
            setServoPosition(SERVO_V, 2500)
        else:
            setServoPosition(SERVO_V, val)

    elif (var == ""servo1""):
        if (val &lt; 500):
            setServoPosition(SERVO_H, 500)
        elif (val &gt; 2300):
            setServoPosition(SERVO_H, 2300)
        else:
            setServoPosition(SERVO_H, val)

    elif (var == ""speed""):
        if (val &gt; 240):
            DUTY = 240
        elif (val &lt; 0):
            DUTY = 0
        else:
            DUTY = val
    elif (var == ""led""):
         if (val &gt; 255):
             pi.set_PWM_dutycycle(LED,255)
         elif (val &lt; 0):
             pi.set_PWM_dutycycle(LED, 0)
         else:
             pi.set_PWM_dutycycle(LED, val)

    return('', 204)




def clientIsHere():
    while(1):
        cmd_out = subprocess.run(['hostapd_cli', 'all_sta'], stdout=subprocess.PIPE).stdout.decode('utf-8')
        if (not len(cmd_out) &gt; 27):
            StopMotors()
        time.sleep(0.5)



if __name__ == '__main__':
    t = Thread(target=clientIsHere)
    t.start()
    app.config['PROFILE'] = True
    app.wsgi_app = ProfilerMiddleware(app.wsgi_app, restrictions = [30])
    app.run(debug=True, host='0.0.0.0', threaded=True)
    time.sleep(0.5)
</code></pre>
"
106260,1,2019-12-12T18:28:41.500,1,4407,112185,,2021-02-25T02:47:02.530,2019-12-27T16:18:00.780,1,,"<p>Sorry in case this is a noob question but I am new.
I was wondering how I can install and use those three and in future maybe even more programs, while all pointing to the same IP. I managed to change ports for apache so i can access both Pi-Hole and the website, but failed to get Nextcloud running, since every request gets forwarded to the Pi-Hole's front page.
Any idea what I'm doing wrong?</p>
"
106363,1,2019-12-17T09:20:11.683,0,207,112339,,2021-01-11T00:03:05.300,,2,,"<p>I have setuped my RPI following the post 
<a href=""https://raspberrypi.stackexchange.com/questions/48307/sharing-the-pis-wifi-connection-through-the-ethernet-port"">Sharing the Pi&#39;s WiFi connection through the Ethernet port</a></p>

<p>I want to be able to have to source ip, source port, source mac, dest ip, dest port logged by iptables</p>

<p>I already add the command :
iptables -A FORWARD -p tcp  --syn -j LOG --log-prefix ""iptables: ""</p>

<p>and create a rule for syslog
touch /etc/rsyslog.d/10-iptables.conf
nano /etc/rsyslog.d/10-iptables.conf
:msg, contains, ""iptables: "" -/var/log/iptables.log
&amp; ~</p>

<p>but my /var/log/iptables.log is still empty
thx in advance</p>
"
106451,1,2019-12-20T15:16:44.857,3,2429,106121,,2019-12-21T00:00:55.290,,1,,"<p>How can I see what the power consumption and/or distribution of my pi is via terminal? </p>

<p>I can only connect to the pi in question via ssh. So I can't see the ""lightning bolt"".</p>

<p>I am concerned about something plugged into the pi's 5V pin, and would like to see if there is a way to view how the pi is distributing power (if that's even a thing that CAN be viewed) to its various pins, and how much power the pi is consuming as a whole, stuff like that.</p>

<p>Like how <code>vcgencmd measure_temp</code> and <code>top</code> are very useful for their respective functions. Is there an equivalent for power consumption and/or distribution?</p>
"
106488,1,2019-12-22T05:55:04.493,1,129,109832,,2019-12-22T22:08:38.593,,5,,"<p>I'm building an IOT device on a slightly modified raspbian (kernel preempt is enabled) on a pi 4B 2GB without a GUI (runlevel N 5) and relying on wpa_supplicant to make and maintain a wifi connection. I can configure everything fine and it works <em>usually</em>. Here is my wpa_supplicant.conf file:</p>

<pre><code>p2p_disabled=1
country=us
update_config=1
ctrl_interface=/var/run/wpa_supplicant

network={
scan_ssid=1
ssid=""mynetwork""
psk=""mypass""
}
</code></pre>

<p>And most of the time, the network comes up perfectly on boot. But every 4 or 5 boots, the connection fails and never comes up. In this case I get</p>

<pre><code>$wpa_cli status
blah blah... 
INTERFACE_DISABLED
...blah blah
</code></pre>

<p>When this happens, I can type</p>

<pre><code>sudo systemctl restart wpa_supplicant.service
</code></pre>

<p>And the network will start up correctly, but this is not acceptable in my production environment. </p>

<ol>
<li>What is going on? Is the pi failing to recognize the NIC? Or is it the connection to the network that's failing? Is there a race condition where the NIC isn't ready when the boot process tries to get a connection (but the NIC comes online later)? <strong>Where can I look to find more information about what exactly is happening during this failure?</strong></li>
<li>How can I ensure that network connection failure at boot (for any reason) isn't permanent <em>after</em> boot? If I can run ""systemctl restart wpa_supplicant.service"" to get things going again, then shouldn't I be able to periodically detect connection failure and do something similar? What is the best practice for this sort of thing?</li>
</ol>
"
106557,1,2019-12-24T11:11:20.803,0,975,112565,,2020-01-06T19:44:25.597,2019-12-29T10:17:07.430,2,,"<p>I'm trying to run a bash script at boot time from /etc/rc.local on a headless Raspberry Pi 4 (Raspbian buster lite - Debian based).  I've done something similar on a Pi 3 with success so I'm confused about why the Pi 4 would misbehave - or behave differently.
The script executed from /etc/rc.local fires but appears to just exit at seemingly random intervals with no indication as to why it's being terminated.</p>

<p>To test it, I dumbed down the script and just stuck the following into a test script called /home/pi/test.sh:</p>

<pre><code>#!/bin/bash
while true
do
        echo 'Still alive'
        sleep 1
done
</code></pre>

<p>I then call it from /etc/rc.local just before the exit line:</p>

<pre><code>#!/bin/sh -e
#
# rc.local - executed at the end of each multiuser runlevel
#
# Make sure that the script will ""exit 0"" on success or any other
# value on error.

openvt -c 1 -f -- /home/pi/test.sh
echo $? &gt;/tmp/exiterr #output exit code to /tmp/exiterr

exit 0
</code></pre>

<p>The contents of /tmp/output:</p>

<pre><code>Still alive
Still alive
</code></pre>

<p>and /tmp/exiterr shows</p>

<pre><code>0
</code></pre>

<p>If I reduce the sleep period, /tmp/output is longer (over 6000 lines without the sleep).
Any ideas why the script is exiting shortly after starting?</p>

<p><em>EDIT</em>
I notice the script runs fine from rc.local as well as crontab @reboot if I omit openvt.  I have also tried creating a system.d service that calls the full command including openvt.</p>

<p>The .service file looks like this:</p>

<pre><code>[Unit]
Description=Rpi Player
After=network.target

[Service]
ExecStart=/home/pi/testcaller.sh
WorkingDirectory=/home/pi
StandardOutput=inherit
StandardError=inherit
Restart=always

[Install]
WantedBy=multi-user.target
</code></pre>

<p>...and the testcaller.sh looks like this:</p>

<pre><code>#!/bin/bash
/bin/openvt -c 1 -f -- /home/pi/test.sh
</code></pre>

<p><em>EDIT</em> added for Inigo:
After reboot, the output of sudo systemctl status player.service is:</p>

<pre><code>● player.service - Rpi Player
   Loaded: loaded (/etc/systemd/system/player.service; enabled; vendor preset: enabled)
   Active: inactive (dead) since Sun 2019-12-29 10:02:54 GMT; 34s ago
  Process: 544 ExecStart=/bin/bash -c /bin/openvt -c 1 -f -- /home/pi/test.sh (code=exited, status=0/SUCCESS)
 Main PID: 544 (code=exited, status=0/SUCCESS)

Dec 29 10:02:54 raspberrypi systemd[1]: Started Rpi Player.
Dec 29 10:02:54 raspberrypi systemd[1]: player.service: Succeeded.
</code></pre>

<p>The output of sudo ps -aux | grep /home/pi shows that the service is no longer running (as expected per code=exited above).  If I start the service manually from the shell using sudo systemctl start player.service, it does the same - it starts then exits.  If I run the execstart command from the bash prompt, it runs and behaves as expected:</p>

<pre><code>sudo /bin/bash -c '/bin/openvt -c 1 -f -- /home/pi/test.sh'
</code></pre>

<p>The output of journalctl --unit=player.service:</p>

<pre><code>-- Logs begin at Sun 2019-12-29 10:13:18 GMT, end at Sun 2019-12-29 10:16:17 GMT. --
Dec 29 10:13:33 raspberrypi systemd[1]: Started Rpi Player.
Dec 29 10:13:33 raspberrypi systemd[1]: player.service: Succeeded.
</code></pre>

<p>Why can I not run this simple openvt command on a Raspberry Pi 4 as a service or cron job?</p>
"
106566,1,2019-12-24T16:03:01.063,0,3159,82031,,2019-12-25T23:19:50.097,,0,,"<p>I'm kinda new when it comes to working with adding GPG keys. I am trying to use the debian security repository to the sources.list to further add security to my Pi but I am getting this error below. I have searched for an answer alost everywhere but cant find one. How do I add the GPG key for this repo?</p>

<pre><code>Err:3 http://security.debian.org/debian-security buster/updates InRelease
The following signatures couldn't be verified because the public key is not available: NO_PUBKEY AA8E81B4331F7F50 NO_PUBKEY 112695A0E562B32A
Reading package lists... Done
W: GPG error: http://security.debian.org/debian-security buster/updates InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY AA8E81B4331F7F50 NO_PUBKEY 112695A0E562B32A
E: The repository 'http://security.debian.org/debian-security buster/updates InRelease' is not signed.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
N: See apt-secure(8) manpage for repository creation and user configuration details.
</code></pre>
"
106585,1,2019-12-25T17:23:27.583,1,284,112605,,2020-04-19T12:36:35.043,,0,,"<p>I'm trying to configure 3G USB dongle as backup solution to WiFi.
Using Raspberry 4b, latest raspbian in which seems usb 3G dongles automatically converted to modems as I see.
So I'm skipping usb-modeswitch part and trying to connect through wvdial.
Connection seems successfull but in few seconds - disconnect.
Highly appreciate any help.</p>

<p>I'm using Huawei E372 or Huawei E397B - same result.
Initially it connects already as modem (1506)</p>

<pre><code>pi@raspberrypi:~/3g $ lsusb
Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 014: ID 12d1:1506 Huawei Technologies Co., Ltd. Modem/Networkcard
Bus 001 Device 002: ID 2109:3431 VIA Labs, Inc. Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</code></pre>

<pre><code>pi@raspberrypi:~/3g $ ls -al /dev/gsm*
-rw-r--r-- 1 root root 0 Dec 25 11:33 /dev/gsmmodem
lrwxrwxrwx 1 root root 7 Dec 25 11:48 /dev/gsmmodem2 -&gt; ttyUSB0
</code></pre>

<p>wvdial config:</p>

<pre><code>[Dialer Defaults]
Init1 = ATZ
Init2 = ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0
Init3 = AT+CGDCONT=1,""IP"",""internet"",,0,0
Stupid Mode = 1
Modem Type = Analog Modem
ISDN = 0
Phone = *99***1#
Modem = /dev/gsmmodem
Username = { }
Password = { }
New PPPD = yes
Baud = 460800
</code></pre>

<p>connection:</p>

<pre><code>pi@raspberrypi:~/3g sudo wvdial
--&gt; WvDial: Internet dialer version 1.61
--&gt; Initializing modem.
--&gt; Sending: ATZ
OK
--&gt; Sending: ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0
ATQ0 V1 E1 S0=0 &amp;C1 &amp;D2 +FCLASS=0
OK
--&gt; Sending: AT+CGDCONT=1,""IP"",""internet"",,0,0
AT+CGDCONT=1,""IP"",""internet"",,0,0
OK
--&gt; Modem initialized.
--&gt; Sending: ATDT*99***1#
--&gt; Waiting for carrier.
ATDT*99***1#
CONNECT
--&gt; Carrier detected.  Starting PPP immediately.
--&gt; Starting pppd at Wed Dec 25 11:33:39 2019
--&gt; Pid of pppd: 22588
--&gt; Using interface ppp0
--&gt; pppd: X[1f]�[01]X[1f]�[01]
--&gt; pppd: X[1f]�[01]X[1f]�[01]
--&gt; pppd: X[1f]�[01]X[1f]�[01]
--&gt; pppd: X[1f]�[01]X[1f]�[01]
--&gt; pppd: X[1f]�[01]X[1f]�[01]
--&gt; pppd: X[1f]�[01]X[1f]�[01]
--&gt; pppd: X[1f]�[01]X[1f]�[01]
--&gt; Disconnecting at Wed Dec 25 11:33:42 2019
--&gt; The PPP daemon has died: A modem hung up the phone (exit code = 16)
--&gt; man pppd explains pppd error codes in more detail.
--&gt; Try again and look into /var/log/messages and the wvdial and pppd man pages for more information.
--&gt; Auto Reconnect will be attempted in 5 seconds
--&gt; Cannot open /dev/gsmmodem: No such file or directory
--&gt; Cannot open /dev/gsmmodem: No such file or directory
--&gt; Cannot open /dev/gsmmodem: No such file or directory
--&gt; Disconnecting at Wed Dec 25 11:33:43 2019
</code></pre>

<p>log:</p>

<pre><code>Dec 25 11:33:47 raspberrypi kernel: [58307.025422] usb 1-1.2: Product: HUAWEI Mobile
Dec 25 11:33:47 raspberrypi kernel: [58307.025435] usb 1-1.2: Manufacturer: Huawei Technologies
Dec 25 11:33:47 raspberrypi kernel: [58307.028680] usb-storage 1-1.2:1.0: USB Mass Storage device detected
Dec 25 11:33:47 raspberrypi kernel: [58307.029145] scsi host0: usb-storage 1-1.2:1.0
Dec 25 11:33:47 raspberrypi mtp-probe: checking bus 1, device 13: ""/sys/devices/platform/scb/fd500000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/usb1/1-1/1-1.2""
Dec 25 11:33:47 raspberrypi mtp-probe: bus: 1, device: 13 was not an MTP device
Dec 25 11:33:47 raspberrypi mtp-probe: checking bus 1, device 13: ""/sys/devices/platform/scb/fd500000.pcie/pci0000:00/0000:00:00.0/0000:01:00.0/usb1/1-1/1-1.2""
Dec 25 11:33:47 raspberrypi mtp-probe: bus: 1, device: 13 was not an MTP device
Dec 25 11:33:47 raspberrypi usb_modeswitch: switch device 12d1:1505 on 001/013
Dec 25 11:33:47 raspberrypi kernel: [58307.818077] usb 1-1.2: USB disconnect, device number 13
</code></pre>
"
106712,1,2019-12-29T18:30:10.037,0,214,34129,,2021-01-12T16:52:09.173,,2,,"<p>i'm writing a library for my raspberry pi 2 for gpio control. </p>

<p>I'm trying to test a function for read a gpio driven by interrupts with sysfs but i can't do that my function stops in poll() function. </p>

<p>This is my fucntion </p>

<pre><code>int gpio_waitForInterrupt(GPIO_t *gpio, uint32_t timeout)
{

    char buf[50] = {0};
    snprintf(buf, sizeof(buf), ""/sys/class/gpio/gpio%d/value"", gpio-&gt;number);

    int fd = open(buf, O_RDONLY);
    if (fd == -1) return -1;

    struct pollfd pfd;
    memset(&amp;pfd,0,sizeof(struct pollfd));
    pfd.fd = fd;
    pfd.events = POLLPRI;

    char c;
    int value=0;

    int ret = poll(&amp;pfd, 1, timeout);
    if(ret==0)
    {   
        errno=ETIMEDOUT;
        return -1;
    }else if(ret&lt;0){
        return -1;
    }


    if(pfd.revents&amp;POLLPRI)
    {

        if(read(fd, &amp;c, 1)&lt;0)
        {
            close(fd);
            return -1;
        }

        if(lseek(fd, 0, SEEK_SET)&lt;0)
        {
            close(fd);
            return -1;
        }

        if(c=='1') value=1;
        else value=0;
        gpio-&gt;value=value;

        if(gpio-&gt;intCallback)
        {
            gpio-&gt;intCallback(gpio);
        }

    }

    close(fd);

    return value;

}
</code></pre>

<p>and this is my example test program.</p>

<pre><code>int main (void)
{
    GPIO_t gpio;
    gpio_init(&amp;gpio, 17);
    if(gpio_config(&amp;gpio, INPUT,0)&lt;0)
    {
        perror(""Couldn't config gpio."");
        return -1;
    }

    if(gpio_setEdge(&amp;gpio,RISING_EDGE)&lt;0)
    {
        perror(""Couldn't config edge."");
        return -1;
    }

    while(1)
    {
        puts(""Waiting for GPIO."");
        int retVal=gpio_waitForInterrupt(&amp;gpio,-1); //Infinite waiting
        printf(""WaiForInterrupt returned with value %d \n"", retVal);
        if(retVal&lt;0)
        {   
            perror(""Error waiting GPIO."");
            return -1;
        }
    }


    return 0;
}
</code></pre>

<p>My output is: </p>

<pre><code>Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
WaiForInterrupt returned with value 0
Waiting for GPIO.
</code></pre>

<p>As you can see poll function is returning constantly with POLLPRI flag set and is not waiting for level change of gpio.</p>

<p>I'm controlling this GPIO with the next gpio (GPIO27) configured as output.</p>

<p>I don't know what is doing wrong.</p>
"
106898,1,2020-01-04T00:32:17.243,0,302,112982,,2020-01-04T17:50:17.923,2020-01-04T17:50:17.923,4,,"<p>I have a working C++ code , partially converted to class, passing single (text char ) message form client (Rpi) to server (PC). 
I have used a composite ( fancy work for hack )  of many C/C++ code available on internet. </p>

<p>My next step is to reverse the communication path - from server back to client - to accomplish two way communication. 
( Two way simplex, true duplex is not necessary ). </p>

<p>The purpose is to notify client to send another message.
If anybody is interested participating / helping I would appreciate  that. </p>

<p>Please note - I am working in C++ code and at this point passing JUST test text (char) messages. </p>
"
106942,1,2020-01-05T16:04:51.970,2,462,113048,,2020-01-18T22:55:57.353,2020-01-09T11:27:32.090,8,,"<p>Background:
<a href=""https://linux.slashdot.org/story/19/12/28/1555250/debian-project-votes-systemd-but-we-support-exploring-alternatives"" rel=""nofollow noreferrer"">Linux  is moving inexorably toward systemd for better or worse</a>, and the challenge here is to create a local area network of two or more raspberry pis, and give them all access to the internet.  The primary issue is that ""access to the internet"" can mean several things. The system I have in mind has several use-cases:</p>

<p>use-case 1: I have a headless rpi that is hard to get to - in the back of a cupboard or on a robot say - and I want to be able to ssh to it from another raspberry pi which has a screen and a gui. Let's call the headless machine robotNo7, and the second machine robotBase. Although I know what an IP address is, it would be nice to be able to ssh or VNC using the machine's name. For instance ssh pi@robotNo7.</p>

<p>use-case 2: I want to up date raspbian on the headless pi or perhaps download pigpio to it.</p>

<p>use-case 3: similarly I want to browse the internet from robotBase or perhaps upgrade robotBase.</p>

<p>Note that I do not need, or want, to be able to ssh to the headless pi from some arbitrary machine on the internet.  Also the headless machine might or might not be accessible from another machine connected to robotBase. Note also that it is essential that I can connect from robotBase to robotNo7 without robotBase connected to the internet.</p>

<p>I have set this up before based on the instructions on the rpi foundation website for setting up an access point. These instructions are a little confusing and in need of an update, and for the life of me I cannot figure out what I need to change on the old robotBase so that I can use a usb tether from my mobile phone rather than the ethernet cable. Starting again, how would this be done today? Should be easy no?</p>

<p><strong>Setting this up with systemd</strong></p>

<p>I have worked through all of the alternatives listed <a href=""https://raspberrypi.stackexchange.com/questions/88214/setting-up-a-raspberry-pi-as-an-access-point-the-easy-way"">here</a>
and concluded that what I need is a accesspoint with eth0 (usb0) and NAT.
This does not give me a DNS service on the local network (I am running raspbian buster on a pi 3 B). I thought it would, and I thought all the bits were there to do it. How can I set it up so I can ping robotNo7 from the robotBase?</p>
"
107010,1,2020-01-07T00:06:08.950,3,1717,113110,,2020-01-16T08:17:51.693,2020-01-16T08:17:51.693,0,,"<p>My goal is to convincingly emulate a well known brand of USB Flash Disk, using Raspberry Pi Zero (with or without Wifi).
For the sake of this example, I want to emulate a 4GB Sandisk Cruzer Edge, but generally speaking I want the ability to have full control of idVendor, idProduct, iProduct, iManufacturer, iSerial (and any other subtle variables of a USB flash disk)</p>

<p>I only want USB Mass Storage, not a composite device (with HID, or ethernet or serial or anything else)</p>

<p>My target USB Host devices range from: Linux AMD64, Linux MIPS, Linux ARM, Windows x86
I've activated dwc2, partitioned and formatted the file that is to be used as the storage &amp; filesystem and loaded g_mass_storage. It is working fine from the perspective that it successfully mounts the Storage on all targets - I can connect and see the contents, add/delete files, eject and reconnect, seeing changes fine.</p>

<p>I use this to launch the USB Mass Storage gadget:</p>

<pre><code>sudo modprobe g_mass_storage file=/home/pi/piusb_fat32.bin nofua=1 luns=1 ro=0 stall=0 removable=1 cdrom=0 idVendor=0x0781 idProduct=0x556e bcdDevice=0x0103 iManufacturer=""SanDisk"" iProduct=""Cruzer Edge"" iSerialNumber=""990431108215FFF05368""
</code></pre>

<p>The problem is that the name of the device remains as Linux File-Stor Gadget. Under Linux &amp; Windows respectively:</p>

<ul>
<li>Linux    File-Stor Gadget 0414</li>
<li>USBSTOR\DISK&amp;VEN_LINUX&amp;PROD_FILE-STOR_GADGET&amp;REV_0414</li>
</ul>

<p>When the pi is connected to Windows 10 1903 x86 laptop, I see two devices appear:</p>

<pre><code>Get-WmiObject Win32_USBControllerDevice -ComputerName localhost -Impersonation Impersonate -Authentication PacketPrivacy | Foreach-Object { [Wmi]$_.Dependent } | Sort-Object PNPClass | ft Name, PNPClass, PNPDeviceID

Name                                  PNPClass      PNPDeviceID                                                                 
----                                  --------      -----------                                                                                         
Linux File-Stor Gadget USB Device     DiskDrive     USBSTOR\DISK&amp;VEN_LINUX&amp;PROD_FILE-STOR_GADGET&amp;REV_0414\990431108215FFF05368&amp;0                
USB Mass Storage Device               USB           USB\VID_0781&amp;PID_556E\990431108215FFF05368
</code></pre>

<p>Whereas with the real Sandisk USB Flash Disk:</p>

<pre><code>Name                                  PNPClass      PNPDeviceID                                                              
----                                  --------      -----------                                                              
SanDisk Cruzer Edge USB Device        DiskDrive     USBSTOR\DISK&amp;VEN_SANDISK&amp;PROD_CRUZER_EDGE&amp;REV_1.20\200431108215FFF05367&amp;0
USB Mass Storage Device               USB           USB\VID_0781&amp;PID_556B\200431108215FFF05367                               
</code></pre>

<p>The ""USB Mass Storage Device"" has the correct VID, PID, SerialNumber, but the DiskDrive device does not.
Linux targets see the same two devices (see below for lsusb &amp; dmesg examples) </p>

<p>From the source, It looks to me like the vendor=”Linux” and model=“File-Stor Gadget” is being set in the function fsg_common_set_inquiry_string in f_mass_storage.c
<a href=""https://github.com/raspberrypi/linux/blob/rpi-4.19.y/drivers/usb/gadget/function/f_mass_storage.c"" rel=""nofollow noreferrer"">https://github.com/raspberrypi/linux/blob/rpi-4.19.y/drivers/usb/gadget/function/f_mass_storage.c</a></p>

<ul>
<li>I would like to know the best way to override that behaviour
(preferably without having to recompile f_mass_storage module every
time!)?</li>
<li>Is there a way that the gadget could pass through iManufacturer,
iProduct parameters to use as Vendor and Model?</li>
</ul>

<hr>

<p>The steps I used to create the Raspbian environment are:
Clean flash Rasbian onto SD card using Balena Etch</p>

<pre><code>sudo su
echo ""dtoverlay=dwc2"" | sudo tee -a /boot/config.txt
echo ""dwc2"" | sudo tee -a /etc/modules  
echo ""g_mass_storage"" | sudo tee -a /etc/modules
sudo dd if=/dev/zero of=/home/pi/piusb_fat32.bin bs=1 count=0 seek=128M
sudo mkdosfs /home/pi/piusb_fat32.bin -n FAT32VOL11
reboot now
</code></pre>

<hr>

<p>I have tried:</p>

<ul>
<li>On Windows, deleting the cached reg key for the device: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\keyname
Where keyname is the concatenation of VID+PID+BCD_RELEASE_NUMBER</li>
<li>Changing the serial number of the device each time I create the gadget, so eliminate caching as the cause.</li>
<li>Reformatting the USB disk from Windows, as Fat32, with a different volume name (rather than using mkdosfs)</li>
<li>Multiple versions of raspbian

<ul>
<li>2019-09-26-raspbian-buster-lite (with &amp; without running apt full-upgrade)</li>
<li>2018-06-27-raspbian-stretch-lite (with &amp; without running apt full-upgrade)</li>
<li>2019-04-08-raspbian-stretch-lite (with &amp; without running apt full-upgrade)</li>
</ul></li>
</ul>

<p>I’m certainly no USB or Linux expert, so this is what I have tried to piece together about how the Raspberry Pi USB ‘gadget’ Storage stack works. There are Five things of relevance:</p>

<ul>
<li>dwc2 module (does the OTG host/gadget flip dictated by OTG_SENSE)</li>
<li>usb_f_mass_storage.ko module (Mass Storage Functions, handles the SCSI stuff to interface between USB &amp; the file that acts as the storage for our USB disk)</li>
<li>g_mass_storage.ko module (The Mass Storage Gadget)</li>
<li>the file on the Pi that acts as the storage. this holds the filesystem and data that is read/writen to the emulated USB storage.</li>
<li>The parameters that we pass to g_mass_storage module when loading it via modprobe</li>
</ul>

<p>There is a very similar post here, but it hasn’t been active for more than 2 years now, and it didn’t solve my issue, so I’m re-posting here with more info:</p>

<ul>
<li><a href=""https://raspberrypi.stackexchange.com/questions/67590/usb-mass-storage-gadget-how-to-convincingly-emulate-a-flash-drive"">USB Mass Storage Gadget - how to convincingly emulate a flash drive?</a></li>
</ul>

<p>And someone else had the same problem, unresolved from 2017:</p>

<ul>
<li><a href=""https://www.spinics.net/lists/linux-usb/msg157776.html"" rel=""nofollow noreferrer"">https://www.spinics.net/lists/linux-usb/msg157776.html</a></li>
</ul>

<p>----On a Kali x86 Laptop: ----------</p>

<pre><code>dmesg (output snipped to show relevant stuff)
[66925.017786] usb 1-4.3: New USB device found, idVendor=0781, idProduct=556e
[66925.017794] usb 1-4.3: New USB device strings: Mfr=3, Product=4, SerialNumber=5
[66925.017799] usb 1-4.3: Product: Cruzer Edge
[66925.017804] usb 1-4.3: Manufacturer: SanDisk
[66925.017808] usb 1-4.3: SerialNumber: 990431108215FFF05368
[66925.019129] usb-storage 1-4.3:1.0: USB Mass Storage device detected
[66925.019542] scsi host3: usb-storage 1-4.3:1.0
[66926.021250] scsi 3:0:0:0: Direct-Access     Linux    File-Stor Gadget 0414 PQ: 0 ANSI: 2
[66926.022471] sd 3:0:0:0: Attached scsi generic sg1 type 0
[66926.023505] sd 3:0:0:0: [sdb] 262144 512-byte logical blocks: (134 MB/128 MiB)
[66926.023729] sd 3:0:0:0: [sdb] Write Protect is off
[66926.023736] sd 3:0:0:0: [sdb] Mode Sense: 0f 00 00 00
[66926.023932] sd 3:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[66926.034208]  sdb:
[66926.035170] sd 3:0:0:0: [sdb] Attached SCSI removable disk
</code></pre>

<p>------lsusb of RPi from kali --</p>

<pre><code>root@kali:~# lsusb -d 0781:556e -v

Bus 001 Device 031: ID 0781:556e SanDisk Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  idVendor           0x0781 SanDisk Corp.
  idProduct          0x556e
  bcdDevice            1.03
  iManufacturer           3 SanDisk
  iProduct                4 Cruzer Edge
  iSerial                 5 990431108215FFF05368
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           32
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xc0
      Self Powered
    MaxPower                2mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass         8 Mass Storage
      bInterfaceSubClass      6 SCSI
      bInterfaceProtocol     80 Bulk-Only
      iInterface              1 Mass Storage
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x01  EP 1 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)
</code></pre>

<p>------- Kali's view of the USB Device from /sys/bus/usb ----</p>

<pre><code>root@kali:~# cat /sys/bus/usb/devices/1-4.2/* 
cat: /sys/bus/usb/devices/1-4.2/ep_00: Is a directory
556e
0781
no
SanDisk
0
cat: /sys/bus/usb/devices/1-4.2/port: Is a directory
cat: /sys/bus/usb/devices/1-4.2/power: Is a directory
Cruzer Edge
0x0
unknown
cat: /sys/bus/usb/devices/1-4.2/remove: Permission denied
990431108215FFF05368
480
cat: /sys/bus/usb/devices/1-4.2/subsystem: Is a directory
MAJOR=189
MINOR=29
DEVNAME=bus/usb/001/030
DEVTYPE=usb_device
DRIVER=usb
PRODUCT=781/556e/103
TYPE=0/0/0
BUSNUM=001
DEVNUM=030
426
 2.00

</code></pre>

<p>----------How Kali see's the RPi SCSI vendor &amp; model strings ---------</p>

<pre><code>root@kali:~# cat /sys/bus/scsi/devices/target3\:0\:0/3\:0\:0\:0/vendor
Linux
root@kali:~# cat /sys/bus/scsi/devices/target3\:0\:0/3\:0\:0\:0/model
File-Stor Gadget
</code></pre>

<p>-------- dmesg from Pi Zero after connecting to Windows -----------------</p>

<pre><code>[  409.446304] dwc2 20980000.usb: new device is high-speed
[  409.479146] dwc2 20980000.usb: new address 9
[  439.684939] dwc2 20980000.usb: new device is high-speed
[  439.717958] dwc2 20980000.usb: new address 10
[  439.748612] g_mass_storage gadget: high-speed config #1: Linux File-Backed Storage
</code></pre>

<hr>

<p>Based on feedback from @Ephemeral (many thanks...). I have now tested using libcomposite and conclude it is the best answer.</p>

<p>The problem boils down to inquiry_string being unchangeable with g_mass_storage (unless you want to re-compile the module yourself with a different inquiry_string), but libcomposite gives full control of it, and many other parameters of the usb device.</p>

<p>One downside of libcomposite is that its not a one-liner to instantiate the gadget, it requires a bit more work.
But after the gadget is created, the inquiry_string can be changed on the fly, which is quite cool!
echo 'ABCDEFGH123456789ABCDEFGWXYZ' >> /sys/kernel/config/usb_gadget/gadget1/functions/mass_storage.usb0/lun.0/inquiry_string</p>

<p>inquirystring is tokenized by the host OS into: vendor(len 8) + model(len 16) + rev(len 4) which is what we see in Windows in PNPDeviceID as VEN_ PROD_ REV_</p>

<pre><code>Name                                  PNPClass      PNPDeviceID                                                              
----                                  --------      -----------                                                              
SanDisk Cruzer Edge USB Device        DiskDrive     USBSTOR\DISK&amp;VEN_SANDISK&amp;PROD_CRUZER_EDGE&amp;REV_1.20\200431108215FFF05367&amp;0
</code></pre>

<p>and in OpenWRT Linux as vendor, model, rev in:</p>

<pre><code>/sys/class/block/sda/device/vendor
/sys/class/block/sda/device/model
/sys/class/block/sda/device/rev
</code></pre>

<p>or x86 Kali Linux as vendor, model, rev in:</p>

<pre><code>/sys/bus/scsi/devices/target3\:0\:0/3\:0\:0\:0/vendor
/sys/bus/scsi/devices/target3\:0\:0/3\:0\:0\:0/model
/sys/bus/scsi/devices/target3\:0\:0/3\:0\:0\:0/rev
</code></pre>

<p>I found this article quite useful to get a better understanding of the architecture of USB composite devices: 
<a href=""https://lwn.net/Articles/395712/"" rel=""nofollow noreferrer"">https://lwn.net/Articles/395712/</a></p>

<p>This is the full script I use now:</p>

<pre><code>#!/bin/bash
# libcomposite USB mass storage device gadget for raspberry pi zero
# Call this script on Pi Zero startup by adding its full path to /etc/rc.local
# Assumes you have created the backing file for the storage device with something like this:
#  sudo dd if=/dev/zero of=/home/pi/piusb_fat32.bin bs=1 count=0 seek=128M
#  sudo mkdosfs /home/pi/piusb_fat32.bin -n FAT32VOL11

# And done these two steps once:
#  sudo echo ""dtoverlay=dwc2"" | sudo tee -a /boot/config.txt
#  sudo echo ""dwc2"" | sudo tee -a /etc/modules  

# Do some simple logging so we know the script is launching at startup
date | tee -a /home/pi/startup_script.log
echo Starting startup_script | tee -a /home/pi/startup_script.log

#Load the kernel module
modprobe libcomposite

#Gadget name (gadget1 is just an arbitrary name)
mkdir /sys/kernel/config/usb_gadget/gadget1
cd /sys/kernel/config/usb_gadget/gadget1

#hardware id
echo 0x0419 &gt; bcdDevice
echo 0x0200 &gt; bcdUSB
echo 0x0781 &gt; idVendor # Sandisk
echo 0x556e &gt; idProduct # Cruzer Edge

#device config
echo 0xEF &gt; bDeviceClass
echo 0x02 &gt; bDeviceSubClass
echo 0x01 &gt; bDeviceProtocol
echo 0x08 &gt; bMaxPacketSize0

#More stuff
mkdir strings/0x409
mkdir strings/0x407
cd strings/0x409
echo 'Sandisk' &gt; manufacturer
echo 'Cruzer Edge' &gt; product
echo 'Serial123456789' &gt; serialnumber
cd ../../
cd strings/0x407
echo 'Sandisk' &gt; manufacturer
echo 'Cruzer Edge' &gt; product
echo 'Serial123456789' &gt; serialnumber

cd ../../

mkdir functions/mass_storage.usb0

#Mass Storage 0 config settings
cd functions/mass_storage.usb0
echo 0 &gt; stall
echo 1 &gt; lun.0/removable
echo 0 &gt; lun.0/ro
echo /home/pi/piusb_fat32.bin &gt; lun.0/file
#Note, the next line is important. Host OS will tokenize it as: vendor(len 8) + model(len 16) + rev(len 4)
#Example here: vendor = ABCDEFGH  model = 123456789ABCDEFG  rev = WXYZ
echo 'ABCDEFGH123456789ABCDEFGWXYZ' &gt; lun.0/inquiry_string
cd ../../

#OS Descriptor for Windows
cd os_desc
echo 1 &gt; use
echo 0xcd &gt; b_vendor_code
echo MSFT100 &gt; qw_sign
cd ../

#Bus Hardware Config
mkdir configs/c.1
cd configs/c.1
echo 0x80 &gt; bmAttributes
echo 100 &gt; MaxPower
mkdir strings/0x409
echo ""0"" &gt; strings/0x409/configuration
mkdir strings/0x407
echo ""1"" &gt; strings/0x407/configuration
cd ../../
ln -s functions/mass_storage.usb0 configs/c.1
ln -s configs/c.1 os_desc

#Activate the gadget
ls /sys/class/udc &gt; UDC
</code></pre>

<p>This is what it generates in dmesg on Kali x86:</p>

<pre><code>[  279.856039] usb 1-4.4: new high-speed USB device number 8 using xhci_hcd
[  279.957788] usb 1-4.4: New USB device found, idVendor=0781, idProduct=556e
[  279.957796] usb 1-4.4: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[  279.957801] usb 1-4.4: Product: Cruzer Edge
[  279.957805] usb 1-4.4: Manufacturer: Sandisk
[  279.957809] usb 1-4.4: SerialNumber: Serial123456789
[  279.978012] usb-storage 1-4.4:1.0: USB Mass Storage device detected
[  279.978128] scsi host3: usb-storage 1-4.4:1.0
[  279.978232] usbcore: registered new interface driver usb-storage
[  279.979998] usbcore: registered new interface driver uas
[  280.989354] scsi 3:0:0:0: Direct-Access     ABCDEFGH 123456789ABCDEFG WXYZ PQ: 0 ANSI: 2
[  280.990460] sd 3:0:0:0: Attached scsi generic sg1 type 0
[  280.990906] sd 3:0:0:0: [sdb] 262144 512-byte logical blocks: (134 MB/128 MiB)
[  280.991089] sd 3:0:0:0: [sdb] Write Protect is off
[  280.991095] sd 3:0:0:0: [sdb] Mode Sense: 0f 00 00 00
[  280.991271] sd 3:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[  280.999942]  sdb: sdb1
[  281.001878] sd 3:0:0:0: [sdb] Attached SCSI removable disk
</code></pre>

<p>And lsusb -vv on kali x86:</p>

<pre><code>root@kali:~# lsusb -vv -d 0781:556e

Bus 001 Device 008: ID 0781:556e SanDisk Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0781 SanDisk Corp.
  idProduct          0x556e
  bcdDevice            4.19
  iManufacturer           1 Sandisk
  iProduct                2 Cruzer Edge
  iSerial                 3 Serial123456789
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           32
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          4 0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              100mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass         8 Mass Storage
      bInterfaceSubClass      6 SCSI
      bInterfaceProtocol     80 Bulk-Only
      iInterface              5 Mass Storage
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x01  EP 1 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)
</code></pre>
"
107034,1,2020-01-07T14:15:21.267,0,581,113148,,2020-01-07T16:45:33.750,,2,,"<p>I created a simple program in C++ on my RPi to test the Boost library. This is the code:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;boost/asio.hpp&gt;

int main()
{
    std::cout &lt;&lt; ""Hello World!"" &lt;&lt; std::endl;
    std::cout &lt;&lt; ""Opening TCP socket on port 9999..."" &lt;&lt; std::endl;
    boost::asio::io_context io_context;
    boost::asio::ip::tcp::endpoint endpoint(boost::asio::ip::tcp::v4(), 9999);
    io_context.run();
    std::cout &lt;&lt; ""Socket opened!"" &lt;&lt; std::endl;
    io_context.stop();
    st::cout &lt;&lt; ""Socket closed."" &lt;&lt; std::endl;
    return 0;
}
</code></pre>

<p>And this is the compile command:</p>

<pre><code>g++ -lpthread -lboost_system main.cpp -o test
</code></pre>

<p>But when I try to compile the program I get this error:</p>

<pre><code>/usr/bin/ld: /tmp/ccGWgmo2.o: in function `boost::system::error_code::error_code()':
main.cpp:(.text._ZN5boost6system10error_codeC2Ev[_ZN5boost6system10error_codeC5Ev]+0x1c): undefined reference to `boost::system::system_category()'
/usr/bin/ld: /tmp/ccGWgmo2.o: in function `boost::system::error_category::std_category::equivalent(int, std::error_condition const&amp;) const':
main.cpp:(.text._ZNK5boost6system14error_category12std_category10equivalentEiRKSt15error_condition[_ZNK5boost6system14error_category12std_category10equivalentEiRKSt15error_condition]+0xcc): undefined reference to `boost::system::generic_category()'
/usr/bin/ld: main.cpp:(.text._ZNK5boost6system14error_category12std_category10equivalentEiRKSt15error_condition[_ZNK5boost6system14error_category12std_category10equivalentEiRKSt15error_condition]+0x118): undefined reference to `boost::system::generic_category()'
/usr/bin/ld: /tmp/ccGWgmo2.o: in function `boost::system::error_category::std_category::equivalent(std::error_code const&amp;, int) const':
main.cpp:(.text._ZNK5boost6system14error_category12std_category10equivalentERKSt10error_codei[_ZNK5boost6system14error_category12std_category10equivalentERKSt10error_codei]+0xcc): undefined reference to `boost::system::generic_category()'
/usr/bin/ld: main.cpp:(.text._ZNK5boost6system14error_category12std_category10equivalentERKSt10error_codei[_ZNK5boost6system14error_category12std_category10equivalentERKSt10error_codei]+0x118): undefined reference to `boost::system::generic_category()'
/usr/bin/ld: main.cpp:(.text._ZNK5boost6system14error_category12std_category10equivalentERKSt10error_codei[_ZNK5boost6system14error_category12std_category10equivalentERKSt10error_codei]+0x1fc): undefined reference to `boost::system::generic_category()'
/usr/bin/ld: /tmp/ccGWgmo2.o: in function `boost::asio::error::get_system_category()':
main.cpp:(.text._ZN5boost4asio5error19get_system_categoryEv[_ZN5boost4asio5error19get_system_categoryEv]+0x8): undefined reference to `boost::system::system_category()'
collect2: error: ld returned 1 exit status
</code></pre>

<p>I installed Boost using this command:</p>

<pre><code>sudo apt install libboost-dev
</code></pre>

<p>How do I go around working out why this won't compile?</p>

<p>P.S: I added -lpthread because I was getting errors about pthread, and I added -lboost_system because I already did research on the errors (which used to be a much larger paragraph) and it got rid of most of them.</p>

<p>I am running g++ (Raspbian 8.3.0-6+rpil) 8.3.0 on the Raspberry Pi 4 B (4GB).</p>
"
107076,1,2020-01-08T11:53:46.637,0,161,113185,,2020-02-12T10:03:23.043,2020-01-08T12:27:29.913,5,,"<p>I have to lower the range of a wlan adapter to limit the area I'm capturing data in. I'm using the newest version of Raspbian, <strong>Pi 4</strong> and the adapter is ralink <strong>rt2870</strong></p>

<p>I've tried adjusting the <strong>txpower</strong> using the <code>iw dev wlan0 set txpower fixed 1</code>(and any number up to 30) but I get <code>command failed: Operation not support (-95)</code></p>

<p><code>iw reg get</code> returns this which makes me believe the driver is hardcoded to 20dbm: </p>

<pre><code>global
country 00: DFS-UNSET
    (2402 - 2472 @ 40), (N/A, 20), (N/A)
    (2457 - 2482 @ 20), (N/A, 20), (N/A), AUTO-BW, PASSIVE-SCAN
    (2474 - 2494 @ 20), (N/A, 20), (N/A), NO-OFDM, PASSIVE-SCAN
    (5170 - 5250 @ 80), (N/A, 20), (N/A), AUTO-BW, PASSIVE-SCAN
    (5250 - 5330 @ 80), (N/A, 20), (0 ms), DFS, AUTO-BW, PASSIVE-SCAN
    (5490 - 5730 @ 160), (N/A, 20), (0 ms), DFS, PASSIVE-SCAN
    (5735 - 5835 @ 80), (N/A, 20), (N/A), PASSIVE-SCAN
    (57240 - 63720 @ 2160), (N/A, 0), (N/A)
</code></pre>

<p>If there is no way to adjust the <strong>txpower</strong>, what other ways can I adjust/lower the range of the antenna?</p>

<p>I have already tried (and it works but might not be enough) to simply remove the antenna and just use the adapter. Last resort is simply buying lower power antenna or an adapter that support <strong>txpower change</strong> AND <strong>monitoring</strong> and is pi4 compatible</p>
"
107188,1,2020-01-11T07:27:52.647,4,1459,112245,,2020-03-10T16:55:38.420,2020-01-21T04:09:43.220,2,,"<p>I have managed to turn my Raspberry Pi into an access point following these instructions:</p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/95072/access-point-as-wifi-router-repeater-with-additional-wifi-dongle/95073#95073"">Access point as WiFi router/repeater with additional WiFi-dongle</a></p>

<p>However, everything connects to the access point except my android devices (A Samsung Galaxy Note 8 and a Samsung Galaxy S5). </p>

<p>A similar problem is presented in this question:</p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/93660/android-cannot-connect-to-pis-wlan"">Android cannot connect to Pi&#39;s wlan</a></p>

<p>However, the answer given there does not apply to me since I have the file <code>/etc/systemd/network/08-wlan0.network</code> exactly as in the first link. (hence with DHCP server activated):</p>

<pre><code>[Match]
Name=wlan0
[Network]
Address=192.168.4.1/24
IPForward=yes
DHCPServer=yes
[DHCPServer]
DNS=84.200.69.80 1.1.1.1
</code></pre>

<p>How can I fix it?</p>

<h1>Further information:</h1>

<h2>Problem Description</h2>

<p>Both my devices can see the network.
The Galaxy Note 8 keeps trying to connect, when I insert the password it says ""Connecting..."" under the SSID for approximately 3 seconds stops showing the message for 2 seconds and then keeps trying to connect.
Almost the same with the Galaxy S5 with the difference that it also writes ""Obtaining IP address"" before stopping and then keeps retrying.</p>

<h2>Check on DHCP (as apparently is a known issue, see the second link)</h2>

<p>Journalctl does not seem to show DHCP requests, hence I have extended the log as described here:</p>

<p><a href=""https://superuser.com/questions/1187633/how-to-debug-systemd-networkd"">https://superuser.com/questions/1187633/how-to-debug-systemd-networkd</a></p>

<p>Launching <code>journalctl -b -u systemd-networkd</code>, I have tried to reconnect several times with my android devices From 12:16 on, however, I see only two DHCP server requests.</p>

<pre><code>Jan 11 12:14:28 raspberrypi systemd-networkd[855]: Sent message type=signal sender=n/a destination=n/a path=/org/freedesktop/network1/link/_33 interface=org.freedesktop.DBus.Properties member=PropertiesCh
Jan 11 12:16:04 raspberrypi systemd-networkd[855]: DHCP SERVER: REQUEST (rebinding/renewing) (0x4f98fb1a)
Jan 11 12:16:04 raspberrypi systemd-networkd[855]: DHCP SERVER: ACK (0x4f98fb1a)
Jan 11 12:17:39 raspberrypi systemd-networkd[855]: DHCP SERVER: REQUEST (rebinding/renewing) (0x26d7c444)
Jan 11 12:17:39 raspberrypi systemd-networkd[855]: DHCP SERVER: ACK (0x26d7c444)
</code></pre>

<h2>Check on wpa_supplicant@wlan0.service</h2>

<p>I get</p>

<pre><code>root@raspberrypi:~ # journalctl -b -u wpa_supplicant@wlan0.service 
-- Logs begin at Sat 2020-01-11 10:03:13 CST, end at Sat 2020-01-11 12:28:44 CST. --
Jan 11 10:03:16 raspberrypi systemd[1]: Started WPA supplicant daemon (interface-specific version).
Jan 11 10:03:17 raspberrypi wpa_supplicant[352]: Successfully initialized wpa_supplicant
Jan 11 10:03:17 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-REGDOM-CHANGE init=USER type=COUNTRY alpha2=US
Jan 11 10:03:21 raspberrypi wpa_supplicant[352]: wlan0: Could not connect to kernel driver
Jan 11 10:03:21 raspberrypi wpa_supplicant[352]: Using interface wlan0 with hwaddr **DeviceMac** and ssid ""**Device_SSID**""
Jan 11 10:03:21 raspberrypi wpa_supplicant[352]: wlan0: interface state UNINITIALIZED-&gt;ENABLED
Jan 11 10:03:21 raspberrypi wpa_supplicant[352]: wlan0: AP-ENABLED
Jan 11 10:03:21 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-CONNECTED - Connection to **DeviceMac** completed [id=0 id_str=]
Jan 11 10:04:47 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 10:04:47 raspberrypi wpa_supplicant[352]: wlan0: AP-STA-CONNECTED **MAC_OF_PC1**
Jan 11 10:05:12 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 10:05:12 raspberrypi wpa_supplicant[352]: wlan0: AP-STA-CONNECTED **MAC_OF_PC2**
Jan 11 10:05:19 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-REGDOM-CHANGE init=CORE type=WORLD
Jan 11 10:05:19 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-REGDOM-CHANGE init=USER type=COUNTRY alpha2=US
Jan 11 10:06:06 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 10:06:14 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 10:06:21 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 11:04:32 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-REGDOM-CHANGE init=CORE type=WORLD
Jan 11 11:04:33 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-REGDOM-CHANGE init=USER type=COUNTRY alpha2=US
Jan 11 11:13:47 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 11:13:55 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:16:25 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:16:32 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:16:32 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:16:48 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:16:55 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:17:03 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:17:15 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:18:17 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:18:25 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:18:33 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:18:41 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:18:49 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:18:57 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:19:05 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:19:13 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:20:15 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:20:23 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:20:31 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:28:22 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:28:29 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:28:37 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 11 12:28:44 raspberrypi wpa_supplicant[352]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
</code></pre>

<p>At least I see the connection attempts at their right times as <code>CTRL-EVENT-SUBNET-STATUS-UPDATE status=0</code>.</p>

<p>I have also tried to submit a wrong password, in this case I get:</p>

<pre><code>Jan 11 12:37:12 raspberrypi wpa_supplicant[352]: wlan0: AP-STA-POSSIBLE-PSK-MISMATCH **PhoneAddress**
Jan 11 12:37:13 raspberrypi wpa_supplicant[352]: wlan0: AP-STA-POSSIBLE-PSK-MISMATCH **PhoneAddress**
Jan 11 12:37:14 raspberrypi wpa_supplicant[352]: wlan0: AP-STA-POSSIBLE-PSK-MISMATCH **PhoneAddress**
Jan 11 12:37:15 raspberrypi wpa_supplicant[352]: wlan0: AP-STA-POSSIBLE-PSK-MISMATCH **PhoneAddress**
</code></pre>

<h2>Ipv6?</h2>

<p>I found out that in order to download updates faster it was convenient to switch off RasPi Ipv6. Could this interfere? I had this doubt since when I connected to the network from a Windows machine I found out in the WiFi properties that there is a Link-local IPv6 address. Since it is often claimed that Link-local is what is not supported in android, it might be that the Ipv6 settings are necessary for android to connect to a wifi network. But how to switch on IPv6 and set DHCP inside systemd-networkd?</p>

<p>However from this:</p>

<p><a href=""https://stackoverflow.com/questions/37978595/what-triggers-assigning-ipv6-link-local-address-in-android"">https://stackoverflow.com/questions/37978595/what-triggers-assigning-ipv6-link-local-address-in-android</a></p>

<p>I deduce that android devices are capable of getting a link-local Ipv6 address.</p>

<h2>Another similar question</h2>

<p><a href=""https://raspberrypi.stackexchange.com/questions/90008/access-point-not-working-for-android-phones"">Access Point not working for Android phones</a></p>

<p>But the answers do not make sense to me.</p>

<p>I have tried to change <code>/etc/systemd/network/08-wlan0.network</code> to</p>

<pre><code>[Match]
Name=wlan0
[Network]
Address=10.10.11.1/24
IPForward=yes
DHCPServer=yes
[DHCPServer]
DNS=84.200.69.80 1.1.1.1
</code></pre>

<p>then from <code>ifconfig</code> on my laptop I get:</p>

<pre><code>wlo1: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 10.10.11.72  netmask 255.255.255.0  broadcast 10.10.11.255
        inet6 fe80::aeee:ee4:1a78:6517  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether **MACADDRESS**  txqueuelen 1000  (Ethernet)
        RX packets 15397  bytes 8998330 (8.9 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 9034  bytes 2177688 (2.1 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<p>And still can not connect from mobile.
I also changed it to <code>Address=192.168.0.0/24</code> and I couldn't connect this time also from the pcs, however from <code>journalctl -b -u wpa_supplicant@wlan0.service</code> I got a different error from the pcs and the from the android devices (and the error given to the android devices is the same old one).</p>

<pre><code>Jan 12 09:33:43 raspberrypi wpa_supplicant[359]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 12 09:33:47 raspberrypi wpa_supplicant[359]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 12 09:33:51 raspberrypi wpa_supplicant[359]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 12 09:34:07 raspberrypi wpa_supplicant[359]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 12 09:34:11 raspberrypi wpa_supplicant[359]: wlan0: AP-STA-DISCONNECTED f8:54:b8:85:45:01
Jan 12 09:34:16 raspberrypi wpa_supplicant[359]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 12 09:34:25 raspberrypi wpa_supplicant[359]: wlan0: AP-STA-DISCONNECTED 60:14:b3:6d:a0:af
Jan 12 09:34:26 raspberrypi wpa_supplicant[359]: wlan0: CTRL-EVENT-SUBNET-STATUS-UPDATE status=0
Jan 12 09:34:26 raspberrypi wpa_supplicant[359]: wlan0: AP-STA-CONNECTED 60:14:b3:6d:a0:af
Jan 12 09:35:11 raspberrypi wpa_supplicant[359]: wlan0: AP-STA-DISCONNECTED 60:14:b3:6d:a0:af
</code></pre>

<h2>Debugging from Android</h2>

<p>Thanks to <code>adb shell</code> I was able to launch <code>dumpsys wifi</code> on my galaxy S5, and I got </p>

<p>Working connection</p>

<pre><code>01-12 14:16:22.185 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=33 state=6 BSSID=00:00:00:00:00:00 SSID=**PhoneNetwork**]
01-12 14:16:22.185 - Event [IFNAME=wlan0 Associated with **PhoneHotspotMAC**]
01-12 14:16:22.211 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=33 state=7 BSSID=**PhoneHotspotMAC** SSID=**PhoneNetwork**]
01-12 14:16:22.211 - Event [IFNAME=wlan0 WPA: RX message 1 of 4-Way Handshake from 6E.3F.F0 (ver=2)]
01-12 14:16:22.212 - Event [IFNAME=wlan0 WPA: Sending EAPOL-Key 2/4]
01-12 14:16:22.231 - Event [IFNAME=wlan0 WPA: RX message 3 of 4-Way Handshake from 6E.3F.F0 (ver=2)]
01-12 14:16:22.233 - Event [IFNAME=wlan0 WPA: Sending EAPOL-Key 4/4]
01-12 14:16:22.234 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=33 state=8 BSSID=**PhoneHotspotMAC** SSID=**PhoneNetwork**]
01-12 14:16:22.235 - Event [IFNAME=wlan0 WPA: Key negotiation completed with **PhoneHotspotMAC** [PTK=CCMP GTK=CCMP]]
01-12 14:16:22.235 - Event [IFNAME=wlan0 CTRL-EVENT-CONNECTED - Connection to **PhoneHotspotMAC** completed [id=33 id_str=]]
01-12 14:16:22.236 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=33 state=9 BSSID=**PhoneHotspotMAC** SSID=**PhoneNetwork**]
01-12 14:16:22.242 - wlan0: 4486:IFNAME=wlan0 GET FREQUENCY -&gt; 2457
01-12 14:16:22.242 - wlan0: 4487:IFNAME=wlan0 SET_NETWORK 33 verified_password 1 -&gt; true
01-12 14:16:22.251 - wlan0: 4488:IFNAME=wlan0 SAVE_CONFIG -&gt; true
01-12 14:16:22.255 - wlan0: 4489:IFNAME=wlan0 SET pno 0 -&gt; true
01-12 14:16:22.277 - wlan0: 4490:IFNAME=wlan0 PKTCNT_POLL -&gt; TXGOOD=26571
TXBAD=508
RXGOOD=753
01-12 14:16:22.360 - wlan0: 4491:IFNAME=wlan0 DRIVER BTCOEXMODE 1 -&gt; true
01-12 14:16:22.365 - wlan0: 4492:IFNAME=wlan0 DRIVER SETSUSPENDMODE 0 -&gt; true
01-12 14:16:22.366 - wlan0: 4493:IFNAME=wlan0 SET ps 0 -&gt; true
01-12 14:16:22.383 - wlan0: 4494:IFNAME=wlan0 LIST_NETWORKS -&gt; network id / ssid / bssid / flags
</code></pre>

<p>Not working connection</p>

<pre><code>01-12 14:16:59.083 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=32 state=6 BSSID=00:00:00:00:00:00 SSID=**RasPiNetwork**]
01-12 14:16:59.084 - Event [IFNAME=wlan0 Associated with **RasPiMAC**]
01-12 14:16:59.084 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=32 state=7 BSSID=**RasPiMAC** SSID=**RasPiNetwork**]
01-12 14:16:59.085 - Event [IFNAME=wlan0 WPA: RX message 1 of 4-Way Handshake from DC.FF.96 (ver=2)]
01-12 14:16:59.086 - Event [IFNAME=wlan0 WPA: Sending EAPOL-Key 2/4]
01-12 14:16:59.093 - Event [IFNAME=wlan0 WPA: RX message 3 of 4-Way Handshake from DC.FF.96 (ver=2)]
01-12 14:16:59.095 - Event [IFNAME=wlan0 WPA: Sending EAPOL-Key 4/4]
01-12 14:16:59.095 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=32 state=8 BSSID=**RasPiMAC** SSID=**RasPiNetwork**]
01-12 14:17:03.112 - Event [IFNAME=wlan0 CTRL-EVENT-BIGDATA-DISCONNECT 2 36 1 2 dc:a6:32 2462 20 -40 72 2 0 x x 0 -92 0 0]
01-12 14:17:03.112 - Event [IFNAME=wlan0 CTRL-EVENT-DISCONNECTED bssid=**RasPiMAC** reason=2]
01-12 14:17:03.113 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=32 state=0 BSSID=**RasPiMAC** SSID=**RasPiNetwork**]
01-12 14:17:03.212 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=-1 state=3 BSSID=00:00:00:00:00:00 SSID=]
01-12 14:17:03.219 - Event [IFNAME=wlan0 CTRL-EVENT-SCAN-STARTED ]
01-12 14:17:05.402 - wlan0: 4581:IFNAME=wlan0 SET pno 0 -&gt; true
01-12 14:17:05.404 - wlan0: 4582:IFNAME=wlan0 SCAN -&gt; false
01-12 14:17:06.984 - wlan0: 4583:IFNAME=wlan0 SET pno 0 -&gt; true
01-12 14:17:06.985 - wlan0: 4584:IFNAME=wlan0 SCAN -&gt; false
01-12 14:17:07.024 - Event [IFNAME=wlan0 CTRL-EVENT-SCAN-RESULTS ]
01-12 14:17:07.024 - Event [IFNAME=wlan0 WPS-AP-AVAILABLE ]
01-12 14:17:07.043 - Event [IFNAME=wlan0 Trying to associate with **RasPiMAC** (SSID='**RasPiNetwork**' freq=2462 MHz level=-38) ]
01-12 14:17:07.046 - Event [IFNAME=wlan0 CTRL-EVENT-STATE-CHANGE id=32 state=5 BSSID=00:00:00:00:00:00 SSID=**RasPiNetwork**]
01-12 14:17:07.077 - wlan0: 4585:IFNAME=wlan0 LIST_NETWORKS -&gt; network id / ssid / bssid / flags
</code></pre>

<p>Apparently <code>(reason = 2)</code> (<a href=""https://www.cisco.com/assets/sol/sb/WAP371_Emulators/WAP371_Emulator_v1-0-1-5/help/Apx_ReasonCodes2.html"" rel=""nofollow noreferrer"">https://www.cisco.com/assets/sol/sb/WAP371_Emulators/WAP371_Emulator_v1-0-1-5/help/Apx_ReasonCodes2.html</a>) stands for ""Previous authentication no longer valid"". </p>

<h1>Possible Path to a solution</h1>

<p>From here</p>

<p><a href=""https://community.ui.com/questions/Android-devices-always-disconnecting-on-AP-AC-Pro/8512e697-1720-43b0-b0ee-591686b7f458?page=1"" rel=""nofollow noreferrer"">https://community.ui.com/questions/Android-devices-always-disconnecting-on-AP-AC-Pro/8512e697-1720-43b0-b0ee-591686b7f458?page=1</a></p>

<p>I got that ""So somehow, having Multicast / Broadcast on my network kicks my Android devices"". I don't even know how to check if my hotspot has those or can avoid those.</p>

<p>Here this multicast issue is vaguely addressed:</p>

<p><a href=""https://stackoverflow.com/questions/13221736/android-device-not-receiving-multicast-package"">https://stackoverflow.com/questions/13221736/android-device-not-receiving-multicast-package</a></p>

<p>In particular the comment ""This page has a wealth of information about which IP to use as per your needs. "" reminds me of a similar comment in an answer at the link under the section ""another similar question"" however the link does not seem to help.</p>

<p>Launching <code>systemd-resolve --status</code> I get</p>

<pre><code>Link 4 (wlan0)
      Current Scopes: none
DefaultRoute setting: no
       LLMNR setting: no
MulticastDNS setting: no
  DNSOverTLS setting: no
      DNSSEC setting: allow-downgrade
    DNSSEC supported: yes
</code></pre>

<p>However, I still can not connect from my smartphones.</p>

<h2>Final Attempt</h2>

<p>I have tried to do the whole process again, burning the image on an SD card and so on. Without the net forwarding but only with the access point with systemd... I confirm that android devices can not connect to it. It is incredible that it looks like I am the only one worried about this problem!</p>

<h2>For the joy of a commenter</h2>

<p>For the joy of a commenter I am posting the result of the following command </p>

<pre><code>pi@raspberrypi:~ $ sudo iw wlan0
</code></pre>

<p>The result is incredibly long and I personally doubt that it works with systemd-networkd.
Here it is: <a href=""https://pastebin.com/h6r46mB8"" rel=""nofollow noreferrer"">https://pastebin.com/h6r46mB8</a></p>

<h1>Serious debugging</h1>

<p>After launching <code>sudo /sbin/wpa_supplicant -d -c/etc/wpa_supplicant/wpa_supplicant-wlan0.conf -Dnl80211,wext -iwlan0</code> I got</p>

<p><a href=""https://pastebin.com/nBkm3SNx"" rel=""nofollow noreferrer"">https://pastebin.com/nBkm3SNx</a></p>
"
107321,1,2020-01-15T05:41:49.957,1,682,113489,,2020-02-17T23:10:04.587,2020-02-17T23:10:04.587,3,,"<p>So I've been working on this problem for days now. I have the needed ports forwarded plus more opened just in case, I've tried changing <strong>ports.conf</strong> to listen to a different port for testing and still no results. I do see some people who have been through similar problems but none of the solutions have helped. Since I've never had problem port forwarding before I assume its not my router or ISP. If I try <code>netstat -tulpn | grep "":80""</code> I get this. </p>

<p><a href=""https://i.stack.imgur.com/rLn5g.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rLn5g.png"" alt=""Results from netstat -tulpn | grep &quot;:80&quot;""></a></p>

<p>These are the ports open on my network, As you can see I have more open then needed just because I have been trying many things out to get this to work. And the port 22 is for my SSH which does work outside my network. But this web-server doesn't. 192.168.0.156 is the address to my pi which is connected to the network through  WLAN. It's static and doesn't change.
<a href=""https://i.stack.imgur.com/AXGRY.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AXGRY.png"" alt=""Ports open""></a></p>

<p>These are the firewall settings, I don't see much here so I assume its not the problem? Could, of course, be wrong.<br>
<a href=""https://i.stack.imgur.com/qLivR.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/qLivR.png"" alt=""Firewall info""></a></p>

<p>This is an nmap scan I did to try and show if port 80 is open
<a href=""https://i.stack.imgur.com/phclI.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/phclI.png"" alt=""nmap info""></a></p>

<p>This is the ports file located in <strong>/etc/apache2/ports.conf</strong>
I did hear that some ISP's block port 80 so I have changed this to a different port before with the 000-default.conf file too. 
<a href=""https://i.stack.imgur.com/if8yo.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/if8yo.png"" alt=""enter image description here""></a></p>

<p><strong>000-default.conf file</strong>
<a href=""https://i.stack.imgur.com/skmOc.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/skmOc.png"" alt=""enter image description here""></a></p>
"
107338,1,2020-01-15T15:20:56.620,2,1475,113510,,2020-01-19T12:23:53.250,2020-01-19T12:23:53.250,0,,"<p>How do I configure wifi to automatically without rebooting?</p>

<p>For example, like phone, when my phone detect wifi that has connected, it connect the wifi network automatically without reboot and any commands.<br>
How to do same thing in raspberry pi4?
I using raspi 4 with portable powerbank as a portable machine,
so my raspi 4 is always on.
I already setup wifi and make connect wifi automatically after startup.<br>
But when the wifi stop suddenly then after that restart wifi, raspi4 does not re-connect wifi.</p>

<p>I suppose that need daemon for wifi detection and certification.<br>
How to connect wifi automatically without any commands and reboot?</p>

<h2>Additional information:</h2>

<p>I using this OS: Ubuntu19.10(Not raspbian)</p>
"
107357,1,2020-01-16T08:50:41.440,1,1520,113544,,2020-08-11T13:55:55.980,2020-01-16T11:22:04.310,8,,"<p>I'm trying to enable all the SPI Ports on my raspberry pi 4 (as mentioned in the <a href=""https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2711/rpi_DATA_2711_1p0_preliminary.pdf"" rel=""nofollow noreferrer"">datasheet</a>).</p>

<p>I already enable the SPI interfaces over the raspi-config tool but that only gives me <code>spi0.0</code> and <code>spi0.1</code> when i check <code>/sys/bus/spi/devices</code>.</p>

<p>I found <a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=246792#p1576629"" rel=""nofollow noreferrer"">this post</a> where someone edited the config.txt to get the SPI's (somewhat) enabled. Is this the best way to do this? Or is there a way of doing this using C or Python? Is it it even possible to run 5 SPI in parallel? </p>

<p>Is there better documentation than the short datasheet?</p>

<p>I'm running raspbian with an RT Kernel Patch.</p>

<p>Update:
I was able to <code>spi0.0  spi0.1  spi1.0  spi2.0  spi3.0</code> by putting in /boot/config.txt</p>

<pre><code>dtoverlay=spi0-cs
dtoverlay=spi1-1cs
dtoverlay=spi2-1cs
dtoverlay=spi3-1cs
dtoverlay=spi4-1cs
</code></pre>

<p>however spi-4 doesn't work, it's just not enabled</p>
"
107434,1,2020-01-17T23:47:28.353,1,82,113628,,2020-01-23T22:21:44.940,2020-01-18T00:26:02.410,2,,"<p>I am trying to connect a network of Pi's using an AdHoc network and OLSRd. However, I do not want to have to change the wifi settings each time that I need to install a package. </p>

<p>My solution was to have 2 wifi networks configured. At high priorityو the AdHoc network. At low priority, the local wifi network. This way, any time I need to install packages, I turn off my AdHoc Network and the Pi's automatically connect to their second choice network. </p>

<p>I looked online but only saw to change the wpa_supplicant file. </p>

<p>Mine now looks like this: </p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=US

network={
    ssid=""localWifi""
    psk=""wifipwd""
    priority=1
}

network={
    ssid=""ADHocSSID""
    key_mgmt=NONE
    priority=2
}
</code></pre>

<p>What else do I need to change?  </p>

<p>Thank you.<br>
Charlie</p>
"
107495,1,2020-01-20T04:33:01.850,0,61,69273,,2020-01-22T05:58:04.257,,3,,"<p>I have a Rasp-Pi 4B and it works OK using DHCP for both eth0 and wlan0.
Wanting to install a LAMP system, I attempted to set up a static IP for the wi-fi. <strong>At address 100</strong><br>
Now.. I have managed to get my eth0 working again, but wi-fi will not connect, at least as a static. So far, I have not tried to back it out to DHCP again.<br>
 Following are some of my setup files:<br>
      <strong>ifconfig:</strong>    </p>

<pre><code>    eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.200.62  netmask 255.255.255.0  broadcast 192.168.200.255
        inet6 fe80::dea6:32ff:fe36:b41e  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether dc:a6:32:36:b4:1e  txqueuelen 1000  (Ethernet)
        RX packets 1002  bytes 245978 (240.2 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 684  bytes 106416 (103.9 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 8  bytes 312 (312.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 8  bytes 312 (312.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500
        inet 192.168.200.100  netmask 255.255.255.0  broadcast 192.168.200.255
        ether dc:a6:32:36:b4:1f  txqueuelen 1000  (Ethernet)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<p>===== <strong>if route</strong> ====        </p>

<pre><code>    192.168.200.0/24 dev eth0 proto kernel scope link src 192.168.200.62 
    192.168.200.0/24 dev wlan0 proto kernel scope link src 192.168.200.100 linkdown
</code></pre>

<p>Note the linkdown.  This there even after a<br>
 <strong>systemctl restart  networking.service</strong> or a <strong>reboot</strong>.<br>
Yes,I have issued a <strong><em>sudo ip route del 192.168.200.0/24 dev wlan0</em></strong>  to no effect. After reboot, the route is once again as above.<br>
-------<strong>-etc network interfaces -</strong>-----</p>

<pre><code># Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp
allow hotplug eth0

auto wlan0
iface wlan0 inet static 
address 192.168.200.100
netmask 255.255.255.0

network 192.168.200.0
broadcast 192.168.200.255
gateway 192.168.200.1
dns-nameservers 192.168.200.98 1.1.1.1

source-directory /etc/network/interfaces.d 
</code></pre>

<p>(Note that interfaces.d is empty.)<br>
  -----<strong>----dhcpcd.conf------</strong>---- </p>

<pre><code>### NOT YET! static ip_address=192.168.200.101
#
###interface wlan0
###static ip_address=192.168.200.100
####static routers=192.168.200.1
#####static domain_name_servers=1.1.1.1 8.8.8.8
</code></pre>

<p>As I said, I'd like to make the wlan0 have a staic address of ...200.100  but it remains dead (unless I revert it to DHCP).<br>
More info required?  Can provide!<br>
Thanx!</p>
"
107558,1,2020-01-21T20:09:26.243,0,1300,92811,,2021-01-12T08:49:56.630,2020-01-25T05:21:18.337,3,,"<p>This is now solved.  It was indeed a type of incompatibility.  Apparently the recent update/upgrade downloads (using apt) now <strong>require</strong> the temperature mitigating eeprom image for the Pi4 family, whereas previously, the impression I had was that it was an option for those who want to run the Pi4 a bit cooler without having to use a more aggressive heat sink fan combination.  There is still an impression that the eeprom-image update is an option, since this eeprom update install does not happen automatically with the typical <code>sudo apt update</code> and <code>sudo apt upgrade</code>, but my experience concludes that it ought not be presented any longer as an <em>option</em>, but as a <strong>requirement</strong>, clearly, that currently must be done explicitly by any user of an older Pi4B, at least as of this writing (1-23-2020 18:50 UTC). See my <strong>answer</strong> post somewhere below this OP.</p>

<p>Or, to see the details of discovering and diagnosing the problem, read on here: </p>

<hr>

<p>I use several Logitech K400+ keyboard/trackpads, with their universal USB transceivers, and they are no longer working after an update/upgrade today, on a Buster Pi 4B, no longer working on specifically that Pi 4B and that Buster system.  This upgrade did do an rpikernelhack, if that info helps.  The purposed usefulness of this post is the hope that there is a way to get my wireless keyboards working with this system again, and, to help others see the sort of troubleshooting steps taken to arrive at a final conclusion.  And so, some details:</p>

<p><strong>Since the update/upgrade:</strong></p>

<p>pi@raspberrypi:~ $ uname -a
Linux raspberrypi 4.19.93-v7l+ #1290 SMP Fri Jan 10 16:45:11 GMT 2020 armv7l GNU/Linux</p>

<p><strong>What was done:</strong></p>

<p>The familiar debian (Buster) <code>sudo apt update</code> and <code>sudo apt upgrade</code> that I did 45 minutes ago, <strong>1-21-2020 18:25 UTC</strong>, did not report any errors.  After a proper reboot, the USB ports were unresponsive.  I removed a wifi dongle (Panda PAU06), that I use for its better range, and I also removed the Logitech wireless keyboard dongle, and plugged in a wired keyboard and mouse into the USB 2 ports.  No responsiveness.  This forced me to do a hard shutdown, hoping my SD Card would not become corrupted by doing that.  After waiting two minutes before powering up again, The Pi was powered up.  Booting having completed, there was still no USB communication to the wired keyboard and mouse.  There was no other choice but to do another hard shutdown.  Waited five minutes.  Powered up.  Still, after the boot, there is no characteristic glowing of the red LED light on the bottom of my optical mouse at all.  Nothing.  So I did yet another hard power-down.  Then waited five minutes.  Powerup.  The wired keyboard and mouse are not working.  I then tried the Logitech wireless again (batteries are fine and the keyboard works fine on a Pi 3B+, just tested it), by plugging in the transceiver into the USB port, and turning on the keyboard's power switch.  Nothing, no responses from the wireless keyboard and trackpad, and, the wired ones are still not working.  This forced me to do another hard shutdown.  While powered down, I again removed the Logitech dongle.  Waited five minutes.  Powerup.  The wired mouse and keyboard are working again.  Hereafter, in subsequent tests, it only took one or two hard shutdown and powerup to get the wired keyboard and mouse working.</p>

<p>An FSCK on the SD Card showed no corruption, nothing to fix.  That was a relief.</p>

<p>Based on these first few tests, it seems the LogiTech transceiver dongle is crashing something so significant that it effectively shuts down communication with all the USB port(s) devices, when the incompatibility does its disruptive thing, until after a hard shutdown, wait, and powerup cycle, sometimes needing that cycle twice.  (Scroll down to Update 'B' below, to see tests with a clean system).  One might wonder if the entire system locked up, instead of only USB connectivity.  To isolate that possibility, after a 'working' boot on the wired keyboard and mouse, I then ran VLC with a looped .mp4 while plugging things in and out of the USB port(s) for further tests, and to try to duplicate the problem.  The video never faltered, and the USB problem returned, which leads me to conclude that the entire Pi was not locked up, while the USB connectivity was certainly affected.  None of these problems were occurring until after the <code>sudo apt update</code> and <code>sudo apt upgrade</code>.  Before then, all was happy in Pi-land, with all USB devices.</p>

<p>I then tried again with no other USB devices connected except that Logitech transceiver dongle.  It appears that attempts of the system to communicate with that dongle causes all USB connectivity to be lost.</p>

<p>There are no <em>low power</em> indications at all on the screen, and never have been on this Pi4B.</p>

<p>I just tried another <code>sudo apt update</code>, and it reported everything is up to date.</p>

<p><strong>Keyboard/trackpad:</strong></p>

<p>The wireless keyboard in these tests is the Logitech Keyboard/trackpad K400+, with their universal USB transceiver dongle that ships with the keyboard.  </p>

<p>I have used two of these keyboards on many different raspberry pi's from Pi Zero W, 2B, 3B, 3B+, 4B (4gb).  </p>

<p>The keyboards have always worked splendidly on all of these Pi models and systems, with or without going through a powered USB hub.  </p>

<p>I just now tested this keyboard and transceiver dongle on a 3B+. Flawless, on its Buster.  (edit - the Panda PAU06 is also causing the problem only on the Pi4B with the latest update).</p>

<p>This leads to the question, is this a known issue, caused by this latest update, currently being investigated toward resolution? </p>

<p>I am now hesitant to do any further update upgrades on my other Buster configured Pi's, for fear of losing compatibility with my keyboards.  </p>

<p>I did try more combinations of testing, such as trying only the USB 2 ports, or only the USB 3 ports, or combinations of both, on the Pi 4B.</p>

<p>I always backup my SD card or SSD before doing an update/upgrade.  Today, of course, was the only time I did not in a long time.  Of course. I have not yet tried a fresh clean Buster on a new SD Card, with another update upgrade (edit - now I did. see update 'B' below).  After I get some work done I'll try that, but right now the concern is if anyone knows of a new incompatibility with the Logitech transceiver, or has encountered the same problem recently.  </p>

<p>This Buster on my Pi4B is admittedly a highly configured system, so I understand it may be a new clash unique to my system configuration, but this configuration has only repository available code, nothing I compiled, and no changes to the kernel by me.  No GPIO or hats.</p>

<p>I am working again now, with the wired versions of the keyboard and mouse, but I miss the convenience and key layout of the K400+.  Does anyone have anything hopeful to report?</p>

<p><strong>Update 1-22-2020: 'A'</strong></p>

<p>Per goldilocks suggestion in the comments, I am now posting the results of an <code>lsusb</code>, of the Pi 4B now working on the wired keyboard instead of the wireless dongle.  Therefore the results are not representing the conditions of the failure of all the USB ports, (I don't want to risk another necessary hard shutdown from another lockup), but at least it is showing the IDs of the root hubs, and, it is showing the wired keyboard and optical mouse that are currently connected.</p>

<p><strong>Planned SSH test:</strong></p>

<p>Tomorrow, after making a backup image of the SD card, I'll try an ssh session into the pi4B, with a clean Buster and the applied update, and then plug in the dongle, and then try the <code>lsusb</code> again inside an ssh session from another computer, if the local USB again becomes unresponsive.</p>

<p>Hopefully, if the Pi4B USB locks up again, I will then be able to shut it down more properly from the remote session, and I'll have my backup image. </p>

<p>So far, on this now USB problematic Buster, all my software on this current system is working fine (none of my current workflow requiring any other USB device(s), as long as I do not plug in one of those Logitech wireless input device dongles, or the PAU06. (This is not at all meant to be a smear of Logitech or Panda.  Obviously, I like their products, and I am hoping for a stable resolution of this situation.).</p>

<p>So there will be one or two more post updates forthcoming.<br>
Any further comments like that from goldilocks are appreciated.  </p>

<p>Perhaps someone can see something that this <code>lsusb</code> reveals, that may be a clue that I do not yet recognize.</p>

<pre><code>pi@raspberrypi:~ $ lsusb
Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 004: ID 046d:c31c Logitech, Inc. Keyboard K120
Bus 001 Device 003: ID 046d:c077 Logitech, Inc. M105 Optical Mouse
Bus 001 Device 002: ID 2109:3431 VIA Labs, Inc. Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</code></pre>

<p><strong>Update 1-23-2020: 'B' - IMPORTANT</strong></p>

<p>I used Etcher to make a clean Buster on a brand new SanDisk Ultra 32G SD Card, using the latest downloaded Buster image.  Next, booted that in the Pi4B, with the Logitech transceiver dongle in place.  It booted fine, went through its configurations, all working from the <strong>wireless</strong> keyboard.</p>

<p>Next, I did a <code>sudo apt update</code> and a <code>sudo apt upgrade</code>, with everything still working fine with the wireless keyboard, after the update, but before a reboot.</p>

<p>Next, I did a reboot to use the updated system (kernel)... and ... the <strong>wireless</strong> keyboard no longer worked.  Nothing on the USB ports worked.  I unplugged the transceiver and plugged in my wired devices.  Still no good until two powerdown powerup cycles.  I suspect two power cycles, instead of one, were needed because of some minor file system corruption that was repaired by the first power cycle.</p>

<p><strong>IMPORTANT</strong> - The problem has now therefore officially been duplicated on a clean system.</p>

<p>Next I plugged back in my Panda Wireless wifi dongle.  The USB ports went down again.  That wifi dongle works fine on all my other Buster systems, on which I have not done a <code>sudo apt update</code> and <code>sudo apt upgrade</code> this past week.  So it is not just the LogiTech transceiver dongle having trouble with the latest update upgrade on a Pi4B (4G).</p>

<p>At least I can use the wired keyboard and mouse and get something done, but this certainly seems to be a reproducable  issue.</p>

<p>Tomorrow, the plan is to set up ssh on the new Buster system, that is now also not working properly, and then boot it up with the logitech dongle in place, watch the keyboard not work again, but then log into it remotely and do an <code>lsusb</code>, remotely.</p>

<p>I shall continue to appreciate any other thoughtful suggestions, while I go over to the raspberrypi.org forum tomorrow and link to this page.</p>

<p><strong>Update 1-23-2020: 'C' - A clue?</strong></p>

<p>I took my clean Buster with today's <code>sudo apt update</code> and <code>sudo apt upgrade</code>, that now shows the problem on the Pi4B again, and I put it into a Pi3B+.  The Logitech K400+ works there fine.  So, we're onto something.  The problem is unique to the Pi4B.</p>

<p>The latest <code>sudo apt update</code> on the Pi4B results in this terminal output:</p>

<pre><code>pi@raspberrypi:~ $ sudo apt update
Get:1 http://archive.raspberrypi.org/debian buster InRelease [25.3 kB]
Get:2 http://raspbian.raspberrypi.org/raspbian buster InRelease [15.0 kB]
Get:3 http://archive.raspberrypi.org/debian buster/main armhf Packages [263 kB]
Fetched 303 kB in 4s (82.2 kB/s)   
Reading package lists... Done
Building dependency tree       
Reading state information... Done
6 packages can be upgraded. Run 'apt list --upgradable' to see them.


pi@raspberrypi:~ $ apt list --upgradable
Listing... Done
arandr/testing 0.1.9-2+rpt11 all [upgradable from: 0.1.9-2+rpt10]
libtiff-dev/stable 4.1.0+git191117-2~deb10u1 armhf [upgradable from: 4.0.10-4]
libtiff5/stable 4.1.0+git191117-2~deb10u1 armhf [upgradable from: 4.0.10-4]
libtiffxx5/stable 4.1.0+git191117-2~deb10u1 armhf [upgradable from: 4.0.10-4]
rpi-eeprom-images/testing 4.0-1 all [upgradable from: 3.1-1]
rpi-eeprom/testing 4.0-1 armhf [upgradable from: 3.1-1]
pi@raspberrypi:~ $ 

</code></pre>

<p>I do not think a tiff library would affect the USB ports and devices, but the <code>rpi-eeprom-images</code> is another matter.  Late last year, an eeprom image update was released that improved operational temperatures and power consumption, quite possibly affecting some USB compatibility?  I wouldn't know because I did not apply that update with the <code>sudo apt install rpi-eeprom rpi-eeprom-images</code>.  I did not apply it because my Pi4B was working well, and the temperature was sufficiently mitigated with a good case with fan.  But, what if current and future development of the kernel and other code is now going to 'expect' and be based upon that newer version of the eeprom?  If that is so, then the most recent 'update upgrade' I did, which did do a kernel update/hack (as it was called), may be having a problem because it is expecting to be interacting with the code of the new eeprom.  So...</p>

<p>I am now going to install those eeprom updates and test again.</p>

<p>Dmitry Grigoryev's posting was helpful.  Knowing that someone's Pi4 is happy with that Unifying transceiver, and with the current 'update upgrade', was just what I needed to see, after seeing my Pi3B+ without issues with that clean Buster SD Card that has the problem on the Pi4B.  That is what leads me to now installing that eeprom update for what I hope is a final test.  If it works, I'll post it as the answer.  If it does not work, then I will do the SSH test to see lsusb results.</p>

<p><strong>Short addendum:</strong></p>

<p>I have tried to be thorough in describing the problem, how I discovered it, and what I have done so far to isolate it, and what I plan to do to further investigate, per recommendations of how to write an OP, and use this site.  Yet apparently there are already two downvotes.  It would help me greatly if those voters would leave a short comment as to what caused them to downvote the OP, so I can improve this and any future posts, to the benefit of the community.  What clarification do you need that I have neglected?</p>
"
107714,1,2020-01-26T08:57:01.167,1,117,113602,,2020-01-27T17:37:15.023,,0,,"<p>I have a raspberry with lighttpd and php. Now I want to display webpage content before the raspberry is rebooting when I click on a link. I have create the page below. But when I load the page it isn’t display the content but it is direct rebooting. </p>

<pre><code> &lt;?php 
   echo ""&lt;html&gt;"";
   echo ""&lt;head&gt;"";
   echo ""&lt;meta http-equiv=refresh content=\""15; url=rebooted.html\""&gt;"";
   echo ""&lt;/head&gt;"";
   echo ""&lt;body&gt;"";
   echo ""&lt;p&gt;&lt;b&gt;The device is restarting now. Please wait.&lt;/b&gt;&lt;p&gt;"";
   echo ""&lt;/body&gt;"";
   echo ""&lt;/html&gt;"";

   flush();
   system('sudo /sbin/reboot');
 ?&gt;
</code></pre>

<p>Anyone any idea how I can solve this?</p>
"
107778,1,2020-01-27T22:02:02.100,4,1664,114021,,2020-02-01T08:02:34.840,2020-01-30T08:26:07.273,7,,"<p>I want to get Analog Audio Input using a PCM1802 ADC Module and MAX4466 microphone module using python. It is actually a project for a very basic and introductory course about Arduino and AVR assembly and as the last part, it wants us to completely figure out how Raspberry Pi works! (I know it may sound very weird that an Arduino course with AVR assembly has a Raspberry Pi Python project!)</p>

<p>We are given a CJMCU PCM1082 ADC Module and a MAX4466 microphone.</p>

<p>CJMCU PCM1082 ADC Module has SCK,PDW,LRCK,FSY,BCK,DOUT,GND,3.3V,5V pins also with LIN and RIN.</p>

<p>Connecting the 3.3,5 and GND are pretty obvious, but for the other ones, I read the PCM1802 IC datasheet that is used in the module, And I found out that:</p>

<ul>
<li><p>SCK is System clock input</p></li>
<li><p>PDW is Power-down control which is active low.</p></li>
<li><p>LRCK is Sampling clock input and output</p></li>
<li><p>FSY is Frame synchronous clock input and output</p></li>
<li><p>BCK is Bit clock input and output</p></li>
</ul>

<p>And DOUT is simply serial output.</p>

<p>As I said, the course was about Arduino and I am completely new to Raspberry Pi. I want to know how I should connect these pins to Raspberry Pi pins and what setting (Setups) should I do in Python for them to work properly? I searched the Internet for some tutorials and I just found some about MCP3008. Unfortunately it just has one clock pins but this PCM1802 ADC has three clocks and some other things and I don't know how should I connect and setup them.</p>

<p>You can see the pictures of ADC module and MAX4466 microphone module below:</p>

<p><a href=""https://i.stack.imgur.com/SQ36K.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SQ36K.png"" alt=""CJMCU PCM1082 ADC""></a></p>

<p><a href=""https://i.stack.imgur.com/VQ9BC.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/VQ9BC.jpg"" alt=""CJMCU PCM1082 ADC""></a></p>

<p><a href=""https://i.stack.imgur.com/U3TXr.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/U3TXr.jpg"" alt=""MAX4466""></a></p>
"
107858,1,2020-01-30T09:19:43.067,4,9015,113397,,2020-10-09T17:33:56.090,,4,,"<p>I have a Raspberry Pi 4 b(4g), it perfectly works with 2.4 GHz WiFi access points, But it doesn't detect 5 GHz WiFi access points. In official specs of Raspberry Pi 4 b noted that it supports: 
""2.4 GHz and 5.0 GHz IEEE 802.11ac wireless, Bluetooth 5.0, BLE"" </p>

<p>No matter which operating system (Raspberrian, Ubuntu) it doesn't detect 5 GHz WiFi access points. </p>

<p>What is the problem?
What should I do to fix this problem?</p>
"
108251,1,2020-02-11T00:36:43.940,1,94,114084,,2020-02-11T11:40:56.747,,2,,"<p>I have been experimenting with GPIO control from a local hosted web sever on the raspi 3B+, Unfortunately the range from the built-in antennae is less than adequate for my needs. So I hopped on to amazon and purchased this <a href=""https://rads.stackoverflow.com/amzn/click/com/B00H95C0A2"" rel=""nofollow noreferrer"" rel=""nofollow noreferrer"">https://www.amazon.com/Wifi-Antenna-Raspberry-Pi-Instructions/dp/B00H95C0A2</a> But when I tried to use it doesn't seem to work. It shows in lsusb, but I can't seem to get it to to switch over from using the built-in antennae to the one I bought on amazon. Any help?</p>
"
108487,1,2020-02-17T20:32:44.797,1,439,114904,,2020-02-18T13:24:16.127,2020-02-18T13:24:16.127,2,,"<p>I'm trying to make a captive portal with apache as a server and a raspberry pi on AP mode. I have some trouble trying to make the captive portal splash, I tried all tutorials on the internet and I can't make it.</p>

<p>My dhcpcd.conf </p>

<pre><code>slaac private
interface wlan0
static ip_address=192.168.220.1/24
nohook wpa_supplicant
</code></pre>

<p>My dnsmasq.conf</p>

<pre><code>interface=wlan0       
# Use interface wlan0  
address= /#/192.168.220.1

address=/connectivitycheck.gstatic.com/192.168.220.1
address=/www.gstatic.com/192.168.220.1

       # Use Cloudflare DNS  
dhcp-range=192.168.220.50,192.168.220.150,12h
dhcp-option=3,192.168.220.1
dhcp-option=6,192.168.220.1
server=8.8.8.8
log-queries
listen-address=127.0.0.1
 # IP range and lease time
</code></pre>

<p>My configuration for my server on apache is </p>

<pre><code>&lt;VirtualHost : 192.168.220.1:80 192.168.220.1:80&gt;

        ServerName connectivitycheck.gstatic.com
    DocumentRoot /var/www/html/AP_mode

RewriteCond %{REQUEST_URI} !=/index.html
        RewriteRule ^(.*)$ http://192.168.220.1 [L]
        ErrorDocument 404 http://192.168.220.1


        RedirectMatch 302 /generate_204 http://192.168.220.1/AP_mode



ErrorLog ${APACHE_LOG_DIR}/android_error.log
CustomLog ${APACHE_LOG_DIR}/android_access.log combined
&lt;/VirtualHost&gt;
</code></pre>

<p>thanks for your help guys!</p>

<ul>
<li><strong>edit1-></strong></li>
</ul>

<p>The mechanism that i'm trying to build is a page who is display as a captive portal when the user connect to my raspberry pi who is in AP mode. In that page, the user has to put some information  and the information will help tha raspberry pi in the futur( the management of the information is already okey) 
My only problem is that my page doesnt displat anything </p>

<p>here you can see the logs of the requests here </p>

<pre><code>192.168.220.111 - - [13/Feb/2020:06:24:00 -0400] ""GET /generate_204 HTTP/1.1"" 302 554 ""-"" ""Dalvik/2.1.0 (Linux; U; Android 9; SM-G965W Build/PPR1.180610.011)""
192.168.220.111 - - [13/Feb/2020:06:24:00 -0400] ""GET /generate_204 HTTP/1.1"" 302 554 ""-"" ""Dalvik/2.1.0 (Linux; U; Android 9; SM-G965W Build/PPR1.180610.011)""
192.168.220.111 - - [13/Feb/2020:06:24:00 -0400] ""GET /generate_204 HTTP/1.1"" 302 554 ""-"" ""Dalvik/2.1.0 (Linux; U; Android 9; SM-G965W Build/PPR1.180610.011)""
192.168.220.111 - - [13/Feb/2020:06:24:01 -0400] ""GET /generate_204 HTTP/1.1"" 302 554 ""-"" ""Dalvik/2.1.0 (Linux; U; Android 9; SM-G965W Build/PPR1.180610.011)""
192.168.220.111 - - [13/Feb/2020:06:24:01 -0400] ""GET /generate_204 HTTP/1.1"" 302 554 ""-"" ""Dalvik/2.1.0 (Linux; U; Android 9; SM-G965W Build/PPR1.180610.011)""
</code></pre>

<p>how you can see, there's the request of my phone  who receive a 302 response, im suposed to recive a 204 have my captivep portal splash mode  displaying
-maybe  the iptables rules are the problem? i dont use any for the moment but all request are supossed to be redirected to my apache page</p>
"
108837,1,2020-02-28T21:54:47.960,5,14317,115389,,2021-01-18T19:43:25.343,2020-02-28T22:50:53.423,5,,"<p>I am building a little network lab. I want to turn one of my Raspberry Pi 4 into a switch. </p>

<p>I already have a network manufacturer docker image to run on it.</p>

<p>Still, I have only one RJ45 port. How to add more? (at least 3).</p>

<p>I read that it wasn't possible for older RPi versions. Is it still the case?</p>
"
108953,1,2020-03-02T20:21:49.563,1,65,114657,,2020-03-05T01:02:58.527,,0,,"<p>I have the following code:</p>

<pre><code>def read_adc(adc, lsb):
# first read 
adc.writebytes([0x8E]) # ask for channel 0
my_bytes = adc.readbytes(2)  # read channel 
value = (my_bytes[0] &lt;&lt; 3)
print(value*lsb*4.01)
# second read
adc.writebytes([0x8E]) # ask for channel 0
my_bytes = adc.readbytes(2)  # read channel 
value = (my_bytes[0] &lt;&lt; 3)
print(value*lsb*4.01)

    # sending pulses with PWM
def tx_pulses(pi, GPIO, frequency, num, dutycycle=0.5):
    assert 1 &lt;= frequency &lt;= 500000
    assert 1 &lt;= num &lt;= 65535
    assert 0.0 &lt;= dutycycle &lt;= 1.0
    duration = int(1000000/frequency)
    on_micros = int(duration * dutycycle)
    num_low = num % 256
    num_high = num // 256
    wf = []
    #                           on      off    time
    wf.append(pigpio.pulse(1&lt;&lt;GPIO,       0, on_micros))
    wf.append(pigpio.pulse(      0, 1&lt;&lt;GPIO, duration - on_micros))
    pi.wave_add_generic(wf)
    wid = pi.wave_create()
    if wid &gt;= 0:
        pi.wave_chain([255, 0, wid, 255, 1, num_low, num_high])
        while pi.wave_tx_busy():
            time.sleep(0.01)
        pi.wave_delete(wid)

...
#=======================================================
## FOR THE PWM
#=======================================================
pi = pigpio.pi()
GPIO_PWM=19
pi.set_mode(GPIO_PWM, pigpio.OUTPUT)


#=======================================================
## Read from ADC while PWM'ing
#=======================================================
lsb = 0.004  # 4.096/1024 
#process for PWM
pwm_p=Process(target=tx_pulses, args=(pi, GPIO_PWM, 1000, 65535))
pwm_p.start()
while(pwm_p.is_alive()):
    cb = pi.callback(19,pigpio.RISING_EDGE, read_adc(adc, lsb))
</code></pre>

<p>The goal is to read my ADC on a rising edge. However, my code exits after a few callbacks, and the pwm_p process is still alive. I know this because I have connected a scope to the GPIO output, and we still see the waveform. Any idea why?</p>
"
109100,1,2020-03-07T11:05:44.213,1,578,115106,,2020-03-08T18:07:04.820,,5,,"<p>I am quite new to linux and Raspberry Pi world and networking in general.</p>

<p>I would like to add a VPN on my Pi, connect my XBOX to my Pi using LAN and have it act as a gateway of sorts so my XBOX is on the same VPN basically, and route all traffic over the Pi's wifi (WLAN).</p>

<p>Now i've got this working with just WLAN at the moment, but I think it's quite inefficient for the XBOX to go over the wifi to the router, to the Pi, and back to the router.</p>

<p>Currently I have this in my /etc/interfaces file:</p>

<pre><code>auto lo
iface lo inet loopback

auto eth0
allow-hotplug eth0
iface eth0 inet manual

auto wlan0
allow-hotplug wlan0
iface wlan0 inet static
    wpa-ssid ""XXX""
    wpa-psk ""XXXXX""
    address 192.168.2.14
    netmask 255.255.255.0
    gateway 192.168.2.1
    dns-nameservers 192.168.2.1    
</code></pre>

<p>And in my /etc/rc.local file I have this:</p>

<pre><code>sudo iptables -t nat -A POSTROUTING -o tun0 -j MASQUERADE
sudo iptables -A FORWARD -i tun0 -o wlan0 -m state --state RELATED,ESTABLISHED -j ACCEPT
sudo iptables -A FORWARD -i wlan0 -o tun0 -j ACCEPT
</code></pre>

<p>And it's working. But i think there is quite a bit of latency because it's all happening over wifi.</p>

<p>Is there a way to connect the XBOX directly to my pi using a LAN cable and have the same thing working?</p>

<p>I've tried giving my eth0 a static IP address and trying various configurations for dns and gateway settings, but in all cases either my pi loses internet access, or my xbox (lan device) has no internet access.</p>

<p>I am using expressVPN if it's relevant, as i've read it does not allow level 2 routing or nat-ing.</p>

<p>Any help would be appreciated.</p>
"
109110,1,2020-03-07T21:30:46.860,0,1819,115720,narfelchen,2020-03-10T10:59:38.410,2020-03-10T09:12:16.057,5,,"<p>I'm pulling my hairs out over what should be a simple network switch. I moved into a new home and we got a new router. To switch my Pis I booted up my old router, connected to the Pis (one 0W and a 3B+) via ssh and used raspi-config to change the wifi networks. Nothing seemed to have changed upon reboot. They still connected to the old network. Then I <a href=""https://www.raspberrypi.org/documentation/configuration/wireless/headless.md"" rel=""nofollow noreferrer"">changed</a> /etc/wpa_supplicant/wpa_supplicant to </p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=&lt;My Country&gt;

network={
 ssid=""&lt;my new SSID&gt;""
 psk=""&lt;psk pw&gt;""
}
</code></pre>

<p>and rebooted. Nothing happened, raspi boots into old network as if nothing changed.</p>

<p>The I looked at wpa_cli list_networks and got this error:</p>

<pre><code>Selected interface 'p2p-dev-wlan0'

Interactive mode

Could not connect to wpa_supplicant: p2p-dev-wlan0
</code></pre>

<p>so i added </p>

<pre><code>p2p_disabled=1
</code></pre>

<p>to the wpa_supplicant and could check that indeed everything got ignored, the only network listed was my old one. </p>

<p>I then added a prioritized second network to the wpa_supplicant.conf that, you guessed it, got ignored. I played around with different values (i understand that Priority has a 1-100 range) because i really haven't rebooted the Pi enough at this point.</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=&lt;My Country&gt;

network={
 ssid=""&lt;my new SSID&gt;""
 psk=""&lt;psk pw&gt;""
 Priority=2
}
network={
 ssid=""&lt;my old SSID&gt;""
 psk=""&lt;psk pw&gt;""
 Priority=1
}
</code></pre>

<p>From here i am stumped. Then I remembered that I set those Pis up headless by creating the ssh and wpa_supplicant.conf files and put the new one into /media/boot in the hope it gets transfered over the same way as the first time. No change. I did the same with mounting the SD-Card on a Desktop and saved it. Nada. Is there anything i missed, where does it get the info from if not from wpa_supplicant.conf? It's Debian Buster on both boxes if that helps.
edit: the output of _ps aux | grep wpa_supplicant_</p>

<pre><code>root       298  0.0  0.4  11004  4640 ?        Ss   Mar08   0:00 /sbin/wpa_supplicant -u -s -O /run/wpa_supplicant
pi       14786  0.0  0.0   7480   528 pts/0    S+   08:43   0:00 grep --color=auto wpa_supplicant
</code></pre>

<p><strong>UPDATE</strong> with info from comment:<br>
About nm: I too am surprised how nm got into the mix here. The 3B+ is running homeassistant and the installation might have switched to network manager transparent to me. But for the Pi0W i am sure, because that thing is a pure raspbian buster testbed that i occasionally use just to run some python scripts. I didn't even know about network manager before. Unless buster does some translating of the wpa_supplicant.conf i can't imagine how that would work.</p>
"
109425,1,2020-03-18T17:30:51.167,3,3214,116112,,2020-03-18T22:02:58.293,,1,,"<p>I've switch my Rpi 4B (with raspbian) to <strong>ubuntu server</strong> since will be used as a portable WLAN web-server. My main objective is to set up an <em>hotspot</em> to access the local websites in the raspi.</p>

<p>I got experience with the <strong>raspbian</strong> <strong>way</strong> to set up the hotspot: <a href=""https://www.raspberrypi.org/documentation/configuration/wireless/access-point.md"" rel=""nofollow noreferrer"">https://www.raspberrypi.org/documentation/configuration/wireless/access-point.md</a></p>

<p>I tried this in the my new ubuntu server OS and can't make it work.</p>

<p>Hostapd service logs shows: </p>

<pre class=""lang-sh prettyprint-override""><code>Mar 18 16:25:49 ubuntu systemd[1]: Starting Advanced IEEE 802.11 AP and IEEE 802.1X/WPA/WPA2/EAP Authenticator...
Mar 18 16:25:49 ubuntu hostapd[1388]: Configuration file: /etc/hostapd/hostapd.conf
Mar 18 16:25:49 ubuntu hostapd[1388]: wlan0: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
Mar 18 16:25:49 ubuntu systemd[1]: Started Advanced IEEE 802.11 AP and IEEE 802.1X/WPA/WPA2/EAP Authenticator.
</code></pre>

<p>And my dnsmasq logs: </p>

<pre class=""lang-sh prettyprint-override""><code>Mar 18 16:25:49 ubuntu systemd[1]: Starting dnsmasq - A lightweight DHCP and caching DNS server...
Mar 18 16:25:49 ubuntu dnsmasq[1393]: dnsmasq: syntax check OK.
Mar 18 16:25:49 ubuntu dnsmasq[1460]: dnsmasq: unknown interface wlan0
Mar 18 16:25:49 ubuntu dnsmasq[1460]: unknown interface wlan0
Mar 18 16:25:49 ubuntu dnsmasq[1460]: FAILED to start up
Mar 18 16:25:49 ubuntu systemd[1]: dnsmasq.service: Control process exited, code=exited status=2
Mar 18 16:25:49 ubuntu systemd[1]: dnsmasq.service: Failed with result 'exit-code'.
Mar 18 16:25:49 ubuntu systemd[1]: Failed to start dnsmasq - A lightweight DHCP and caching DNS server.
</code></pre>

<p><strong>WHAT I HAVE TRIED:</strong></p>

<p>I've started the wlan0 interface with: <code>sudo ifconfig wlan0 up</code>, after this I restart dnsmasq and hostapd service and then the <strong>hotspot service start just fine</strong>. But when I reboot the device wlan0 doesn't start automatically.</p>

<p>One more thing. If I connect the raspi with a <em>wifi dongle</em> (in wlan1 using netplan) to a router and I start as before wlan0 the Hotspot <strong>doesn't work</strong> either.</p>
"
109478,1,2020-03-20T08:33:19.760,1,45,40242,,2020-03-22T15:36:13.317,2020-03-22T15:36:13.317,1,,"<p>Over the years, I have been working on several projects with raspberry pis mostly related to some form of environmental sensing. One thing that always bothered me is that there are a lot of sensors that come with off-the-shelf libraries: the obvious advantage is, that everything is relatively easy to implement, however, often I found myself frustrated, as the documentation of these libraries is often scarce or incomprehensible for a beginner, and i felt like not learning anything substantial from simply connecting a sensor and running some functions from a library. Additionally, a lot of parts/sensors do not have libraries and would require a custom made implementation.</p>

<p>I was therefore wondering, whether tutorials or teaching aids exist that are a good introduction to the subject of connecting sensors from scratch? </p>

<p><strong>Addendum:</strong> I want to clarify that I'm looking for tutorials or guides on general principles or approaches on how to connect a component using a standardized protocoll or port to the raspberry pi. </p>

<p>An example could be a BME280 humidity, atmospheric pressure and temperature sensor: for me, the general approach would be to read any tutorial (e.g. <a href=""https://www.raspberrypi-spy.co.uk/2016/07/using-bme280-i2c-temperature-pressure-sensor-in-python/"" rel=""nofollow noreferrer"">https://www.raspberrypi-spy.co.uk/2016/07/using-bme280-i2c-temperature-pressure-sensor-in-python/</a>) on how to connect the sensor to the raspberry pi. In the tutorial a script is available to download, which reads out the data. In the script we have several functions that e.g. define registers, read out bytes etc. And that is where my question starts:</p>

<ul>
<li>There must be a generalized approach on how to connect a device or component using a given bus (e.g. I2C/UART, etc.)?</li>
<li>Somehow you must know that when you connect device <code>d</code> via I2C that you'll have to check steps <code>n</code> to <code>x</code> to be able to read out the data it sends?</li>
</ul>

<p>Thank you everybody for answering my question, I realise now, that it was way to broad to give a simple answer to it. I hope i could clarify it a little bit. </p>
"
109660,1,2020-03-25T02:31:49.430,1,184,74931,,2020-04-10T19:56:23.017,2020-04-10T19:56:23.017,2,,"<p><strong><em>Edit - I checked the version and the original SD A was actually at Buster. SD B is at Buster as well.</em></strong></p>

<p>My Raspberry Pi 3 B+ was turned off while running <code>sudo apt-get upgrade</code>. The SD card (SD card A) is fine, the PI is fine, but it hangs at the rainbow screen on boot. </p>

<p>I flashed a new card with base Raspbian Buster (SD card B) and booted the Pi using that with SD Card A in a USB reader. Can see SD Card A file systems (<code>rootfs</code>, boot) and open in the terminal, read files, etc.</p>

<p>I don't really know what I am doing with fsck but after some reading did the following based on <a href=""https://raspberrypi.stackexchange.com/questions/98428/how-to-recover-files-from-pi-sd-card-which-cant-boot"">How to recover files from pi SD card which can&#39;t boot</a></p>

<pre><code># have RPi 3B+ booted with SD B and original SD A card that was powered off during upgrade in USB reader slot

pi@raspberrypi:/media/pi $ mount 
/dev/sdb2 on /media/pi/rootfs type ext4 (rw,nosuid,nodev,relatime,uhelper=udisks2)
/dev/sdb1 on /media/pi/boot type vfat (rw,nosuid,nodev,relatime,uid=1000,gid=1000,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,showexec,utf8,flush,errors=remount-ro,uhelper=udisks2)


pi@raspberrypi:/media/pi $ sudo umount /dev/sdb2
pi@raspberrypi:/media/pi $ sudo umount /dev/sdb1

pi@raspberrypi:/media/pi $ sudo e2fsck /dev/sdb2;
e2fsck 1.44.5 (15-Dec-2018)
rootfs: clean, 208916/1903104 files, 4906295/7724160 blocks

pi@raspberrypi:/media/pi $ sudo fsck /dev/sdb1
fsck from util-linux 2.33.1
fsck.fat 4.1 (2017-01-24)
/dev/sdb1: 113 files, 48952/516191 clusters
</code></pre>

<p>To me, this implies SD A is OK card and filesystem integrity-wise, and I might be able to recover it by cleaning up or re-initializing the card with Raspbian Stretch. </p>

<p>I've been searching for a couple of hours but Google is just incoherent in terms of how to do this - most of the advice for searches like ""repair Raspberry PI SD card after power off during upgrade"" just talk about corrupted SD card or not pulling the power while it's running, which isn't this scenario.</p>

<p>I have a number of sensors attached to this Pi and drivers/custom code installed and if there's any way I can recover SD A I'd like to do that. I can just copy the files to SD B but I'm afraid I'll just copy the corrupted  to SD B and then it won't work either.</p>

<p>Can I edit files on SD A to reset the in-progress upgrade, or find out what's wrong?</p>
"
109773,1,2020-03-28T10:32:48.233,3,1800,116521,,2021-02-16T02:50:16.943,2021-02-16T02:50:16.943,1,,"<p>Trying to read my RFID MFRC522 using a Mifare blue tag and it is not working. Wondering if i could get any help on this as when i put the tag to read it doesn't show up as quick?</p>

<p>using:</p>

<p><a href=""https://pimylifeup.com/raspberry-pi-rfid-rc522/"" rel=""nofollow noreferrer"">https://pimylifeup.com/raspberry-pi-rfid-rc522/</a></p>

<p><a href=""https://medium.com/coinmonks/for-beginners-how-to-set-up-a-raspberry-pi-rfid-rc522-reader-and-record-data-on-iota-865f67843a2d"" rel=""nofollow noreferrer"">https://medium.com/coinmonks/for-beginners-how-to-set-up-a-raspberry-pi-rfid-rc522-reader-and-record-data-on-iota-865f67843a2d</a></p>

<p><a href=""https://i.stack.imgur.com/hi4Ll.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/hi4Ll.jpg"" alt=""Python coding based on the websites I&#39;ve used in order to try to get my tag to read""></a></p>
"
110799,1,2020-03-29T13:55:57.897,0,3774,117542,,2020-04-06T15:42:55.320,,4,,"<p>I installed OMV 5 in my Raspberry Pi 4B running Raspbian GNU/Linux 10 (buster), following this video <a href=""https://www.youtube.com/watch?v=sYDyvr9Uc6Y"" rel=""nofollow noreferrer"">https://www.youtube.com/watch?v=sYDyvr9Uc6Y</a> (script installation).</p>

<p>Just right after install OMV 5 and reboot the RPi 4B the WiFi stopped working. As can be seen in the picture <a href=""https://i.stack.imgur.com/3a5mF.png"" rel=""nofollow noreferrer"">1</a> the WiFi complains about that there's ""No wireless interface found"".</p>

<p><a href=""https://i.stack.imgur.com/3a5mF.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/3a5mF.png"" alt=""enter image description here""></a></p>

<p>Well, I've checked my /etc/wpa_supplicant/wpa_supplicant.config, which contains:</p>

<pre><code>pi@raspberrypi:~ $ cat /etc/wpa_supplicant/wpa_supplicant.conf 
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=ES

network={
        ssid=""mywifi1""
        psk=""psswd""
        key_mgmt=WPA-PSK
}

network={
        ssid=""mywifi2""
        psk=""passwd""
        key_mgmt=WPA-PSK
}
</code></pre>

<p>which looks correcto to me, and what I have before installing OMV 5.
One thing that have changed is the /etc/network/interface file. It now looks like:</p>

<pre><code>pi@raspberrypi:~ $ cat /etc/network/interfaces
# This file is auto-generated by openmediavault (https://www.openmediavault.org)
# WARNING: Do not edit this file, your changes will get lost.
# Use systemd-networkd to configure additional interface stanzas.
</code></pre>

<p>when it used to contain:</p>

<pre><code>pi@raspberrypi:~ $ cat /etc/network/interfaces
# interfaces(5) file used by ifup(8) and ifdown(8)

# Please note that this file is written to be used with dhcpcd
# For static IP, consult /etc/dhcpcd.conf and 'man dhcpcd.conf'

# Include files from /etc/network/interfaces.d:
source-directory /etc/network/interfaces.d
</code></pre>

<p>I've tried to raplace it with the original file but still doesn't work. I've downloaded a fresh Raspbian 10 image to check the differences between these files and everything looks the same except for this /etc/network/interface file. I've also checked the content of /etc/dhcp/ and is the same as the fresh Raspbian version.</p>

<p>Further, when I trie to use raspi-conf to change things in the wpa_supplicant is complains as follows:
<a href=""https://i.stack.imgur.com/ZeBq2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ZeBq2.png"" alt=""enter image description here""></a>
<a href=""https://i.stack.imgur.com/RufjO.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/RufjO.png"" alt=""enter image description here""></a>
<a href=""https://i.stack.imgur.com/eXoBT.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/eXoBT.png"" alt=""enter image description here""></a>
<a href=""https://i.stack.imgur.com/YThqN.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/YThqN.png"" alt=""enter image description here""></a></p>

<p>I've also done a rpi-update to update the firmware. I've heard that OMV might disable or remove wifi drivers but when I do </p>

<pre><code>pi@raspberrypi:~ $ sudo lshw -C network
*-network:0               
     description: Ethernet interface
     physical id: 1
     logical name: eth0
     serial: dc:a6:32:60:6c:b2
     size: 1Gbit/s
     capacity: 1Gbit/s
     capabilities: ethernet physical tp mii 10bt 10bt-fd 100bt 100bt-fd 1000bt 1000bt-fd autonegotiation
     configuration: autonegotiation=on broadcast=yes driver=bcmgenet driverversion=v2.0 duplex=full ip=192.168.0.13 link=yes multicast=yes port=MII speed=1Gbit/s
*-network:1 
     description: Wireless interface
     physical id: 2
     logical name: wlan0
     serial: dc:a6:32:60:6c:b4
     capabilities: ethernet physical wireless
     configuration: broadcast=yes driver=brcmfmac driverversion=7.45.202 firmware=01-72f6ece2 multicast=yes wireless=IEEE 802.11
</code></pre>

<p>Does anyonw know how to fix it? Any help?</p>
"
110820,1,2020-03-29T23:01:55.543,1,791,117564,,2020-03-29T23:30:19.223,,0,,"<p>I am working on a project with OpenCV. It is running on a Raspberry Pi 3 B+. When i start the camera, and do some visual processing the framerate becomes really low and there is a lot of lag. My question is: Would lowering the camera resolution solve my problem(if yes how do I do it)?</p>
"
110861,1,2020-03-30T22:34:52.093,1,301,117634,,2020-12-29T16:08:50.847,2020-04-01T22:19:24.263,2,,"<p>I have a Raspberry Pi4 and I need to setup a program that can address many more ports than the Pi has. So far I have three MCP23017 ICs and they are connected to the standard i2c bus on pins 3 and 5. The code I have written works fine with these three ICs, identified as device1-0x20, device2=0x21 etc. But as there can only be eight of these ICs on that bus due to them having only a three bit address line I setup a second i2c using pins23-SDA and 24-SCL. This bus is bus3 and typing in i2cdetect 3 with the ICs connected to it show they have the same address as on the standard bus. 0x20, 0x21 etc. What I don't know is how to reference these two busses in my code, I presume there is somesort of prefix to be applied to the ICs address. I can't seem to find the answqer to this on this or other forums. Its probably simple but as a newcomer to the whole R Pi world I'm still on that learning curve.</p>

<p>I'm using Python provided with Raspbian, importing smbus.</p>

<p>Thank you Hargrovm. The answer is as simple as you say - just instantiate the relevant bus number.</p>

<p>In my code I had the usual bus=smbus.SMBus(1), this of course relates to the provided i2c bus on pins 3 &amp; 5, so I changed that to - busA=smbus.SMBus(1) and then added busB=smbus.SMBus(3). having patched over 1 of my 3 (so far) MCP23017 ICs to that second i2c (on pins 23 &amp; 24 with 2.2k pullup resisters) and altering the code that referenced that chip throughout and it all worked. I will only need two i2c buses with 8 MCP23017 ICs on each, but clearly this is the way to connect to multiple i2c ports.</p>
"
110910,1,2020-04-01T07:05:39.817,1,546,114298,,2020-04-01T14:14:31.407,,6,,"<p>I am working on setting up an automated deployment of an executable using the PIGPIO C bindings to a Pi Zero. I copy the executable to the pi (into a directory on <code>pi</code> user's desktop) as expected, but when I try to run it, I get a permissions error:</p>

<pre><code>initCheckPermitted:
+---------------------------------------------------------+
|Sorry, you don't have permission to run this program.    |
|Try running as root, e.g. precede the command with sudo. |
+---------------------------------------------------------+
</code></pre>

<p>It seems this problem can be solved by setting the executable to be owned by <code>root</code> and using a permission setting like <code>4775</code>. This seems to allow me to run the executable while logged in as <code>pi</code>.</p>

<p>Unfortunately though, when I then copy a new version of the executable in, the ownership permissions stay the same, but the sticky bit is removed and I can no longer run the executable. It seems like the right answer would be ""figure out how to run the executable when it's owned by <code>pi</code>"". Is this possible? Can I change something so PIGPIO can access the needed hardware without having to do weird things with the permissions?</p>

<p><a href=""https://raspberrypi.stackexchange.com/questions/66890/accessing-pwm-module-without-root-permissions"">This question</a> seems to be a similar issue, but with PWM specifically. I see a <code>gpio</code> group but <code>pi</code> is already in that group. Is this question related or completely misleading me?</p>
"
110957,1,2020-04-02T18:58:32.323,2,104,115553,,2020-04-03T20:56:16.210,,0,,"<p>I have a range extender on one side of the house but it gives out really poor signal and looks to be slowly dying.</p>

<p>I have a spare UniFi AP that I want to use but no Ethernet connection on that side of the house, so I want to make a Pi that connects to my WiFi and then I can plug the AP into the lan port on the pi.</p>

<p>I know you can do this using NAT and have a dhcp server on the lan port. But I want it to be a full passthrough almost like a bridge.</p>

<p>Can anyone help with this?</p>
"
111011,1,2020-04-04T14:47:44.903,7,9804,3247,,2020-10-12T19:32:13.123,,0,,"<p>I installed arch on my raspberry pi 4 based on the instructions from the <a href=""https://archlinuxarm.org/platforms/armv8/broadcom/raspberry-pi-4"" rel=""noreferrer"">arch linux arm</a> site, expecting to get an aarch64 install, or some variant of armv8. Instead what I got was an install of armv7 as best as I can tell, presumably 32 bit, although I am not certain. This is the output of <code>uname -a</code>:</p>

<pre><code>Linux alarmpi 4.19.108-1-ARCH #1 SMP PREEMPT Tue Mar 10 02:06:04 UTC 2020 armv7l GNU/Linux
</code></pre>

<p>Is there an established aarch64 or armv8 install using arch on the RPi4, without extensive tinkering? I do have Manjaro Arm on a different micro SD card (which is aarch64), but wanted to play a little with original arch on my Pi. This is not my first go with arch, although usually it is not my main distro.</p>
"
111053,1,2020-04-05T23:51:22.863,1,406,113513,,2020-04-06T23:07:00.547,2020-04-06T23:07:00.547,8,,"<p>I have 2 raspberry, one 4 and one Zero W. The second one is headless and I use it via ssh from my laptop using my home wifi network.</p>

<p>My goal is to emit the wifi via hotspot on my laptop (ubuntu 18.04) and the Zero will connect to this hotspot in priority when it is present.</p>

<p>To do so I have messed up with the <code>wpa_supplicant.conf</code> file and added priority for both my home network and my laptop wifi. This was done on both of my pi, so I can see what happen in the screen of the pi4.</p>

<p>When I set the laptop wifi up (using this <a href=""https://www.linuxuprising.com/2018/09/how-to-create-wi-fi-hotspot-in-ubuntu.html"" rel=""nofollow noreferrer"">tuto</a>), the pi4 change it's network accordingly to the wpa.conf file. I can ssh to it from my laptop because they share the wifi connection. But I can't ping my headless piZero from both devices.</p>

<p>If I force my pi4 on the home network, it can ssh to the piZero, so it's still on the home network...</p>

<p><strong>I don't understand why the pi Zero won't change the wifi network...did I miss something ?</strong></p>

<p>The wpa_supplicant.conf file in question.</p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=UK

network={
        ssid=""laptop""
        scan_ssid=1
        psk=""pass123""
        priority=100
        key_mgmt=WPA-PSK
}

network={
        ssid=""Gowa""
        psk=""pass123""
        priority=99
        key_mgmt=WPA-PSK

}
</code></pre>

<p>Both devices where rebooted after modification of this file. They also work smoothly on my home network.</p>

<p>EDIT : 
When I boot the raspberry pi zero while the laptop wifi is up, it connect to it. When I close the laptop wifi, the pi-zero connect to the home network.
But when I open the laptop wifi a second time, only the pi-4 reconnect to it, while the pi-zero stay on the home wifi...</p>

<p>Second EDIT : runned on my pi-4</p>

<pre><code>pi@Gowapi:~ $ sudo iwlist wlan0 scan
wlan0     Scan completed :
          Cell 01 - Address: mac address
                    Channel:1
                    Frequency:2.412 GHz (Channel 1)
                    Quality=70/70  Signal level=-29 dBm  
                    Encryption key:on
                    ESSID:""Gowa""
                    Bit Rates:1 Mb/s; 2 Mb/s; 5.5 Mb/s; 11 Mb/s
                    Bit Rates:6 Mb/s; 9 Mb/s; 12 Mb/s; 18 Mb/s; 24 Mb/s
                              36 Mb/s; 48 Mb/s; 54 Mb/s
                    Mode:Master
                    Extra:tsf=0000000000000000
                    Extra: Last beacon: 10ms ago
                    IE: Unknown: 0004476F7761
                    IE: Unknown: 010482848B96
                    IE: Unknown: 030101
                    IE: Unknown: 0509000200000000000000
                    IE: Unknown: 2A0100
                    IE: Unknown: 32080C1218243048606C
                    IE: IEEE 802.11i/WPA2 Version 1
                        Group Cipher : CCMP
                        Pairwise Ciphers (1) : CCMP
                        Authentication Suites (1) : PSK
                    IE: Unknown: 2D1A2C0103FF00000000000000000000000000000000000000000000
                    IE: Unknown: 3D1601000000000200000000000000000000000000000000
                    IE: Unknown: DD180050F2020101810003A4000027A4000042435E0062322F00
          Cell 02 - Address: mac adress
                    Channel:1
                    Frequency:2.412 GHz (Channel 1)
                    Quality=70/70  Signal level=-24 dBm  
                    Encryption key:on
                    ESSID:""laptop""
                    Bit Rates:1 Mb/s; 2 Mb/s; 5.5 Mb/s; 11 Mb/s; 6 Mb/s
                              9 Mb/s; 12 Mb/s; 18 Mb/s
                    Bit Rates:24 Mb/s; 36 Mb/s; 48 Mb/s; 54 Mb/s
                    Mode:Master
                    Extra:tsf=0000000000000000
                    Extra: Last beacon: 10ms ago
                    IE: Unknown: 00084E617574696C7573
                    IE: Unknown: 010882848B960C121824
                    IE: Unknown: 030101
                    IE: Unknown: 2A0104
                    IE: Unknown: 32043048606C
                    IE: IEEE 802.11i/WPA2 Version 1
                        Group Cipher : TKIP
                        Pairwise Ciphers (2) : CCMP TKIP
                        Authentication Suites (1) : PSK
                    IE: WPA Version 1
                        Group Cipher : TKIP
                        Pairwise Ciphers (2) : CCMP TKIP
                        Authentication Suites (1) : PSK
                    IE: Unknown: 3B025100
                    IE: Unknown: 2D1AEC091BFFFF000000000000000000000100000000000000000000
                    IE: Unknown: 3D1601000400000000000000000000000000000000000000
                    IE: Unknown: 7F080400000000000040
                    IE: Unknown: DD180050F2020101000003A4000027A4000042435D0062322E00
                    IE: Unknown: DD5C0050F204104A0001101044000102103B00010310470010172F5E43BF825C38936C268A78A8014D102100012010230001201024000120104200012010540008000000000000000010110001201008000231481049000600372A000120
</code></pre>
"
111226,1,2020-04-11T13:11:48.570,0,304,118126,,2020-04-23T05:10:17.373,2020-04-23T05:10:17.373,11,,"<p>I'm building a device that will measure soil moisture, and then water the garden if the moisture is too low. I  am using a MCP3008 to translate analog signal for my raspberry pi, but I'm new to this kind of chip and spidev programing. Can anyone tell me how to put the reading of the sensor in a variable? I have the chip wired and spidev installed, but I don't know what code to use. I need to check if the moisture level is greater than a certain number.</p>

<p>P.S. I can't use adafruit software.</p>
"
111235,1,2020-04-11T15:33:32.667,0,32,118127,,2020-04-13T18:40:13.187,2020-04-13T18:40:13.187,2,,"<p>In my setup I want to switch between my GoPro camera WLAN (to control GoPro camera) and my Home WLAN (to send recorded images by mail). </p>

<p>I tried to use the script described in <a href=""https://raspberrypi.stackexchange.com/questions/106410/how-to-switch-back-and-forth-between-2-wlans-of-which-1-hidden"">How to switch back and forth between 2 WLANs, of which 1 hidden?</a> but have no success. I always stick with my home network. </p>

<p>I have wpa_supplicant.conf with the following definitions: </p>

<pre><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=0
country=CH

network={
    ssid=""UPC7529264""
    scan_ssid=1
    psk=""passwordHome""
    key_mgmt=WPA-PSK
}

network={
    ssid=""HERO7Black""
    psk=""passwordGoPro""
    key_mgmt=WPA-PSK
</code></pre>

<p>I understand that network 0 is UPC7529264, while network 1 is HERO7Black. 
While beeing connected to UPC7529264 and executing <code>switchnetwork.sh EXTERNAL</code> I would have expected the network to switch to the GoPro Network. But nothing happens. I keep with UPC7529264: </p>

<pre><code>$ sudo bash ./switchnetwork.sh EXTERNAL
SWITCHING TO NETWORK ID 1
Selected interface 'p2p-dev-wlan0'
OK
Selected interface 'p2p-dev-wlan0'
OK

$ iw dev wlan0 info
Interface wlan0
    ifindex 3
    wdev 0x1
    addr 76:2c:e4:30:f7:83
    ssid UPC7529264
    type managed
    wiphy 0
    channel 44 (5220 MHz), width: 40 MHz, center1: 5230 MHz
    txpower 31.00 dBm
</code></pre>

<p>Any ideas what configuration could prevent the switch?</p>

<p>@Ingo : Sorry for the bad formating in the comment. 
I see your point, but it seems I am in fact changing the wlan0 network: </p>

<pre><code>pi@raspberrypi:~ $ ./switch2gopro.sh
WPA process killed 
PascalHERO7 connected 
pi@raspberrypi:~ $ wpa_cli -iwlan0 status 
bssid=06:41:69:d7:d1:d6 freq=2437 
ssid=PascalHERO7 
... 
pi@raspberrypi:~ $ ./switch2home.sh 
WPA process killed 
UPC Home connected 
pi@raspberrypi:~ $ wpa_cli -iwlan0 status 
bssid=38:43:7d:40:06:62 
freq=2462 
ssid=UPC7529264 
...
pi@raspberrypi:~ $ wpa_cli status 
Selected interface 'p2p-dev-wlan0' 
wpa_state=DISCONNECTED 
...

</code></pre>
"
111539,1,2020-04-19T16:04:47.893,2,143,118518,,2020-04-21T10:56:49.950,,0,,"<p>My raspberry pi 3 is configured to connect to my WiFi using an external usb wifi dongle.</p>

<p>It actually connets to it most of the time. But, at some point, the connection drops, it reconnects to the wireless network but cannot get an IP from DHCP.
A few points:</p>

<ul>
<li>interesting logs at the end of this post</li>
<li>the router is cheap and dumb, can't have any log from it (a locked Technicolor from my ISP)</li>
<li>dhcp is running on the router, where a rule for assigning the address 192.168.1.6 is set for the rpi wifi mac address</li>
<li>the problem happens only after sometime, never at boot</li>
<li>wifi signal is poor so I expect a few reconnection a day can be necessary</li>
<li>iwconfig reports wlan0 as connected</li>
<li>no errors reported in log</li>
<li>even if I switch to static ip, the rpi is not actually connected (cannot ping anything..)</li>
<li>if I do ""ifconfig wlan0 down &amp;&amp; ifconfig wlan0 up"" I get the correct ip almost immediately</li>
<li>if I turn off &amp; on the router wifi, the rpi reconnects almost immediately</li>
</ul>

<p>This is my current configuration:</p>

<p><strong>/etc/network/interfaces</strong></p>

<pre><code>allow-hotplug wlan0
iface wlan0 inet manual
    wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf
</code></pre>

<p><strong>/etc/dhcpcd.conf</strong></p>

<pre><code>hostname
clientid
persistent
option rapid_commit
option domain_name_servers, domain_name, domain_search, host_name
option classless_static_routes
option ntp_servers
option interface_mtu
require dhcp_server_identifier
slaac private
</code></pre>

<p><strong>ifconfig wlan0</strong></p>

<pre><code>wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.1.6  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::ec34:fad0:796d:7d27  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether e8:4e:06:10:32:88  txqueuelen 1000  (Ethernet)
        RX packets 680232  bytes 198700140 (189.4 MiB)
        RX errors 0  dropped 19  overruns 0  frame 0
        TX packets 841682  bytes 668940432 (637.9 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<p><strong>iwconfig wlan0</strong></p>

<pre><code>wlan0     IEEE 802.11  ESSID:""tartumaa""  
          Mode:Managed  Frequency:2.412 GHz  Access Point: 10:13:31:CA:19:6D   
          Bit Rate=65 Mb/s   Tx-Power=20 dBm   
          Retry short limit:7   RTS thr=2347 B   Fragment thr:off
          Encryption key:off
          Power Management:off
          Link Quality=37/70  Signal level=-73 dBm  
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:1434   Missed beacon:0
</code></pre>

<p>Log when the error occurs:</p>

<pre><code>apr 19 16:12:38 rpicasina dhcpcd[3974]: wlan0: carrier lost
apr 19 16:12:38 rpicasina dhcpcd[3974]: wlan0: carrier lost
apr 19 16:12:38 rpicasina kernel: rtlwifi: AP off, try to reconnect now
apr 19 16:12:38 rpicasina kernel: rtlwifi: AP off, try to reconnect now
apr 19 16:12:38 rpicasina kernel: wlan0: Connection to AP 10:13:31:ca:19:6d lost
apr 19 16:12:38 rpicasina kernel: rtlwifi: AP off, try to reconnect now
apr 19 16:12:38 rpicasina kernel: wlan0: Connection to AP 10:13:31:ca:19:6d lost
apr 19 16:12:39 rpicasina dhcpcd[3974]: wlan0: deleting address fe80::ec34:fad0:796d:7d27
apr 19 16:12:39 rpicasina avahi-daemon[323]: Withdrawing address record for fe80::ec34:fad0:796d:7d27 on wlan0.
apr 19 16:12:39 rpicasina avahi-daemon[323]: Leaving mDNS multicast group on interface wlan0.IPv6 with address fe80::ec34:fad0:796d:7d27.
apr 19 16:12:39 rpicasina avahi-daemon[323]: Interface wlan0.IPv6 no longer relevant for mDNS.
apr 19 16:12:39 rpicasina dhcpcd[3974]: wlan0: deleting default route via 192.168.1.1
apr 19 16:12:39 rpicasina dhcpcd[3974]: wlan0: deleting route to 192.168.1.0/24
apr 19 16:12:39 rpicasina avahi-daemon[323]: Withdrawing address record for 192.168.1.6 on wlan0.
apr 19 16:12:39 rpicasina avahi-daemon[323]: Leaving mDNS multicast group on interface wlan0.IPv4 with address 192.168.1.6.
apr 19 16:12:39 rpicasina avahi-daemon[323]: Interface wlan0.IPv4 no longer relevant for mDNS.
apr 19 16:12:40 rpicasina kernel: wlan0: authenticate with 10:13:31:ca:19:6d
apr 19 16:12:40 rpicasina kernel: wlan0: send auth to 10:13:31:ca:19:6d (try 1/3)
apr 19 16:12:40 rpicasina kernel: wlan0: authenticated
apr 19 16:12:40 rpicasina kernel: wlan0: associate with 10:13:31:ca:19:6d (try 1/3)
apr 19 16:12:40 rpicasina kernel: wlan0: RX AssocResp from 10:13:31:ca:19:6d (capab=0x1011 status=0 aid=1)
apr 19 16:12:40 rpicasina kernel: wlan0: associated
apr 19 16:12:41 rpicasina dhcpcd[3974]: wlan0: carrier acquired
apr 19 16:12:41 rpicasina dhcpcd[3974]: wlan0: IAID 06:10:32:88
apr 19 16:12:41 rpicasina dhcpcd[3974]: wlan0: adding address fe80::ec34:fad0:796d:7d27
apr 19 16:12:41 rpicasina avahi-daemon[323]: Joining mDNS multicast group on interface wlan0.IPv6 with address fe80::ec34:fad0:796d:7d27.
apr 19 16:12:41 rpicasina avahi-daemon[323]: New relevant interface wlan0.IPv6 for mDNS.
apr 19 16:12:41 rpicasina avahi-daemon[323]: Registering new address record for fe80::ec34:fad0:796d:7d27 on wlan0.*.
apr 19 16:12:42 rpicasina dhcpcd[3974]: wlan0: rebinding lease of 192.168.1.6
apr 19 16:12:42 rpicasina dhcpcd[3974]: wlan0: soliciting an IPv6 router
apr 19 16:12:47 rpicasina dhcpcd[3974]: wlan0: probing for an IPv4LL address
apr 19 16:12:47 rpicasina dhcpcd[3974]: wlan0: DHCP lease expired
apr 19 16:12:47 rpicasina dhcpcd[3974]: wlan0: soliciting a DHCP lease
apr 19 16:12:52 rpicasina dhcpcd[3974]: wlan0: using IPv4LL address 169.254.118.239
apr 19 16:12:52 rpicasina avahi-daemon[323]: Joining mDNS multicast group on interface wlan0.IPv4 with address 169.254.118.239.
apr 19 16:12:52 rpicasina avahi-daemon[323]: New relevant interface wlan0.IPv4 for mDNS.
apr 19 16:12:52 rpicasina avahi-daemon[323]: Registering new address record for 169.254.118.239 on wlan0.IPv4.
apr 19 16:12:52 rpicasina dhcpcd[3974]: wlan0: adding route to 169.254.0.0/16
apr 19 16:12:52 rpicasina dhcpcd[3974]: wlan0: adding default route
</code></pre>

<p>As you can see, it ask for an address but after 5 seconds use the ""fallback"" 169. It makes sense, as I am pretty much convinced the rpi is not really connected. As I stated above, even if I use the static ip, at this point a I can't ping anything else.</p>

<p>These are the logs when everythings is ok:</p>

<pre><code>apr 19 16:55:41 rpicasina kernel: wlan0: deauthenticating from 10:13:31:ca:19:6d by local choice (Reason: 3=DEAUTH_LEAVING)
apr 19 16:55:41 rpicasina dhcpcd[3974]: wlan0: carrier lost
apr 19 16:55:41 rpicasina avahi-daemon[323]: Interface wlan0.IPv6 no longer relevant for mDNS.
apr 19 16:55:41 rpicasina avahi-daemon[323]: Leaving mDNS multicast group on interface wlan0.IPv6 with address fe80::ec34:fad0:796d:7d27.
apr 19 16:55:41 rpicasina avahi-daemon[323]: Interface wlan0.IPv4 no longer relevant for mDNS.
apr 19 16:55:41 rpicasina avahi-daemon[323]: Leaving mDNS multicast group on interface wlan0.IPv4 with address 169.254.118.239.
apr 19 16:55:41 rpicasina avahi-daemon[323]: Withdrawing address record for fe80::ec34:fad0:796d:7d27 on wlan0.
apr 19 16:55:41 rpicasina avahi-daemon[323]: Withdrawing address record for 169.254.118.239 on wlan0.
apr 19 16:55:41 rpicasina kernel: rtl8192cu: MAC auto ON okay!
apr 19 16:55:41 rpicasina dhcpcd[3974]: wlan0: deleting address fe80::ec34:fad0:796d:7d27
apr 19 16:55:41 rpicasina kernel: rtl8192cu: Tx queue select: 0x05
apr 19 16:55:43 rpicasina avahi-daemon[323]: Joining mDNS multicast group on interface wlan0.IPv4 with address 169.254.118.239.
apr 19 16:55:43 rpicasina avahi-daemon[323]: New relevant interface wlan0.IPv4 for mDNS.
apr 19 16:55:43 rpicasina kernel: IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
apr 19 16:55:43 rpicasina avahi-daemon[323]: Registering new address record for 169.254.118.239 on wlan0.IPv4.
apr 19 16:55:43 rpicasina avahi-daemon[323]: Withdrawing address record for 169.254.118.239 on wlan0.
apr 19 16:55:43 rpicasina dhcpcd[3974]: wlan0: deleting default route
apr 19 16:55:43 rpicasina dhcpcd[3974]: wlan0: deleting route to 169.254.0.0/16
apr 19 16:55:43 rpicasina avahi-daemon[323]: Leaving mDNS multicast group on interface wlan0.IPv4 with address 169.254.118.239.
apr 19 16:55:43 rpicasina avahi-daemon[323]: Interface wlan0.IPv4 no longer relevant for mDNS.
apr 19 16:55:44 rpicasina kernel: wlan0: authenticate with 10:13:31:ca:19:6d
apr 19 16:55:44 rpicasina kernel: wlan0: send auth to 10:13:31:ca:19:6d (try 1/3)
apr 19 16:55:44 rpicasina kernel: wlan0: authenticated
apr 19 16:55:44 rpicasina kernel: wlan0: associate with 10:13:31:ca:19:6d (try 1/3)
apr 19 16:55:44 rpicasina kernel: wlan0: RX AssocResp from 10:13:31:ca:19:6d (capab=0x1011 status=0 aid=1)
apr 19 16:55:44 rpicasina kernel: wlan0: associated
apr 19 16:55:44 rpicasina dhcpcd[3974]: wlan0: carrier acquired
apr 19 16:55:44 rpicasina kernel: IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
apr 19 16:55:44 rpicasina dhcpcd[3974]: wlan0: IAID 06:10:32:88
apr 19 16:55:44 rpicasina dhcpcd[3974]: wlan0: adding address fe80::ec34:fad0:796d:7d27
apr 19 16:55:44 rpicasina avahi-daemon[323]: Joining mDNS multicast group on interface wlan0.IPv6 with address fe80::ec34:fad0:796d:7d27.
apr 19 16:55:44 rpicasina avahi-daemon[323]: New relevant interface wlan0.IPv6 for mDNS.
apr 19 16:55:44 rpicasina avahi-daemon[323]: Registering new address record for fe80::ec34:fad0:796d:7d27 on wlan0.*.
apr 19 16:55:44 rpicasina dhcpcd[3974]: wlan0: soliciting an IPv6 router
apr 19 16:55:44 rpicasina dhcpcd[3974]: wlan0: soliciting a DHCP lease
apr 19 16:55:44 rpicasina dhcpcd[3974]: wlan0: offered 192.168.1.6 from 192.168.1.1
apr 19 16:55:44 rpicasina dhcpcd[3974]: wlan0: probing address 192.168.1.6/24
apr 19 16:55:49 rpicasina dhcpcd[3974]: wlan0: leased 192.168.1.6 for 3600 seconds
apr 19 16:55:49 rpicasina dhcpcd[3974]: wlan0: adding route to 192.168.1.0/24
apr 19 16:55:49 rpicasina avahi-daemon[323]: Joining mDNS multicast group on interface wlan0.IPv4 with address 192.168.1.6.
apr 19 16:55:49 rpicasina dhcpcd[3974]: wlan0: adding default route via 192.168.1.1
apr 19 16:55:49 rpicasina avahi-daemon[323]: New relevant interface wlan0.IPv4 for mDNS.
apr 19 16:55:49 rpicasina avahi-daemon[323]: Registering new address record for 192.168.1.6 on wlan0.IPv4.
</code></pre>

<p>Running an up to date raspbian. It has worked for like 2 years on ethernet and the same approach (ip assigned on the router).
I have run a very old orange pi in the same position via wifi. It used to reconnect 2-3 times a day but never get a problem of missing ip address.</p>

<p>At the moment I cannot change ip to my server, since I have several IoT devices that connects to it.
I wish at some point in the future to be able to get an ethernet cable there, but this is not a possibility at the moment.</p>

<p>Any idea?</p>
"
111641,1,2020-04-22T15:31:48.790,1,252,118656,,2021-02-08T10:05:50.560,,0,,"<p>I want to use the PAPI library to record hardware performance counters during benchmarks, but it does not seem to work on my Raspberry Pi 4 B.</p>

<p>Installing PAPI was not a problem, but there are no events available. Calling <code>papi_event</code>, all the events are listed as not available. <code>papi_event</code> suggests to call <code>papi_component_avail</code>, which says:</p>

<pre><code>Available components and hardware information.
--------------------------------------------------------------------------------
PAPI version             : 5.7.0.0
Operating system         : Linux 4.19.97-v7l+
Vendor string and code   : ARM (7, 0x7)
Model string and code    : ARMv7 Processor rev 3 (v7l) (3, 0x3)
CPU revision             : 3.000000
CPUID                    : Family/Model/Stepping 7/3336/0, 0x07/0xd08/0x00
CPU Max MHz              : 1500
CPU Min MHz              : 600
Total cores              : 4
SMT threads per core     : 1
Cores per socket         : 4
Sockets                  : 1
Cores per NUMA region    : 4
NUMA regions             : 0
Running in a VM          : no
Number Hardware Counters : 0
Max Multiplex Counters   : 384
Fast counter read (rdpmc): no
--------------------------------------------------------------------------------

Compiled-in components:
Name:   perf_event              Linux perf_event CPU counters
   \-&gt; Disabled: Unknown libpfm4 related error
Name:   perf_event_uncore       Linux perf_event CPU uncore and northbridge
   \-&gt; Disabled: No uncore PMUs or events found

Active components:

--------------------------------------------------------------------------------
</code></pre>

<p>I am guessing it has something to do with libpfm4, but I don't know how I would fix this.</p>

<h2>Can we use perf instead?</h2>

<p>I was wondering perf worked, but there is no version of perf in the repositories that matches the kernel version.</p>

<ul>
<li>Kernel: 4.19</li>
<li>Perf: 4.18, or 4.9</li>
</ul>

<p>In <a href=""https://raspberrypi.stackexchange.com/questions/43218/how-to-use-the-perf-utility-on-raspbian"">another thread</a> in which a package was suggested, with the right version. It seemed to work but <code>perf test</code> shows a number of failures.</p>
"
111644,1,2020-04-22T16:58:58.930,1,957,118660,,2020-04-22T20:18:50.920,,1,,"<p>I have fitted this <a href=""https://thepihut.com/products/hdmi-10-1-1280x800-touch-screen-and-case"" rel=""nofollow noreferrer"">Waveshare 10 inch LCD touchscreen</a> to my Pi4B (buster).  It all works fine but I can't find a way to achieve a Right Mouse Click. Is there a way to get a right click?</p>
"
111680,1,2020-04-23T22:03:18.303,2,63,113663,,2020-04-23T22:03:18.303,,0,,"<p>I have a Raspberry Pi 0 W, connected with both a <a href=""https://www.waveshare.com/wiki/Li-ion_Battery_HAT"" rel=""nofollow noreferrer"">WaveShare Battery HAT</a> and a <a href=""https://www.waveshare.com/wiki/1.44inch_LCD_HAT#Datasheet"" rel=""nofollow noreferrer"">WaveShare 1.44"" LCD screen</a> with joystick and three buttons.</p>

<p>The screen works, the joystick works partially and the three buttons do not work at all.</p>

<p>The hardware uses SPI, five GPIO pins for the joystick and three GPIO pins for the three button keys.</p>

<p>I see GPIO pins GPIO.21 and GPIO.22 (physical pins 29 and 31) at V=1 using command-line <code>gpio</code> command, and if I move the joystick up or left, they do change to V=0 as expected.</p>

<p>This does not happen for the other GPIOs, which are shown as V=0 by <code>gpio</code>; therefore the software ""sees"" e.g. the keys as permanently pressed.</p>

<p>Since I soldered the GPIO header myself, my first hypothesis was a massive soldering fault. I verified that the resistance between the PCB pins of button 1 is above 4 MOhm with button at rest, decreases to zero when button is pressed. Resistance between + pin of button 1 and LCD HAT header is zero as expected. Resistance between LCD HAT header and Pi solder pad is also zero. This is physical pin 40 on the header, or GPIO.29, but <code>gpio</code> doesn't see it at all.</p>

<p>But I can't see what could explain the Pi seeing <em>two</em> pins and not seeing <em>others</em>. The initialization routine is the same for all the pins, so <a href=""https://raspberrypi.stackexchange.com/questions/36984/python-gpio-not-reading-inputs"">this answer</a> <em>should</em> not apply.</p>

<p>I have checked a possible interference between the two HATs by checking their schematics on the WaveShare Wiki; no joy. Nobody else seems to have had this problems on the forums, which tells me it isn't a software issue. The same problem emerges using <code>gpio</code>, Python and the C source.</p>

<p>The physical position on the board <em>could</em> be a red herring, and yet...</p>

<p>The same code <em>does</em> work flawlessly on a Raspberry Pi 3B <em>without</em> the battery HAT, but this has lots of possibility of actually being a red herring since OS, configuration and power supply are all different. Also, on the full Pi I have installed <em>lots</em> of libraries and code in the past months, so the WaveShare autoconfigure creates a different binary, which <em>doesn't run at all</em> if I copy it on the Zero (an issue for another day).</p>

<p>At this point I have to provisionally conclude that either my Pi is badly broken - <em>only</em> in the GPIO section (!) - <strong>or that I forgot to check/setup something <em>really</em> basic</strong>.</p>

<p>So, I'm posting a question - I've found that whenever I forget something really stupid, it immediately pops on my mind as soon as I make myself ridiculous by asking for help.</p>
"
111722,1,2020-04-25T06:11:32.227,15,22181,116393,,2020-12-31T07:49:17.073,2020-04-25T09:16:39.473,3,,"<p>I'm trying to run my Raspberry Pi 4 on Ubuntu Server 20.04 (64bit) following <a href=""https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi#1-overview"" rel=""noreferrer"">this tutorial</a>. When I reached <code>4. Boot Ubuntu Server</code>, my RPi had no IP address (I switched to using a monitor when doing a headless setup failed, and calling <code>hostname -I</code> returns a blank line), which I believe is the result of having no internet connection, further demonstrated by <code>sudo apt update</code> failing with every line saying <code>temporary failure resolving 'ports.ubuntu.com'</code>. I also get a blank line when calling <code>arp -a | findstr b8-27-eb</code> from the Windows command prompt.</p>

<p>The tutorial had me modify the <code>network-config</code> file before inserting the card into the RPi which I did, and through some exploring, this had the following effect on <code>/etc/netplan/50-cloud-init.yaml</code> (with WIFI-NAME and WIFI-PASSWORD being what they should be):</p>

<pre><code># this file generated from information provided by the datasource. Changes
# to it will not persist across an instance reboot. To disable cloud-init’s
# network configuration capabilities, write a file 
# /etc/cloud/cloud.cfg.d/99-disable-network-config-cfg with the following:
# network:{config: disabled}
network:
    ethernets:
        etho:
            dhcp4: true
            optional: true
    version: 2
    wifis:
        wlan0:
            access-points:
                WIFI-NAME:
                    password: WIFI-PASSWORD
            dhcp4: true
            optional: true
</code></pre>

<p>In spite of this, my RPi 4 is still unable to connect to WiFi. If it's relevant, the <em>first</em> time I booted the RPi I didn't actually get the IP address since I disliked the angle of the cord so I unplugged it after a minute or two, plugged it back in, and on the <em>second</em> boot was when I attempted to get the IP.</p>

<p>What am I doing wrong? Or is the issue perhaps with Ubuntu 20.04 and I should use Ubuntu 18.04.4 until 20.04 stabilizes?</p>
"
111966,1,2020-05-01T11:40:42.347,1,104,119136,,2020-05-05T17:12:25.823,,10,,"<p>trying to connect Pi4 to a Hitachi TV (pretty old - mid 2000's), however it has the HDMI port. So my Pi4 is connected. </p>

<p>SD card is with OS's on it. </p>

<p>Any idea why Pi4 is not booting up? I have selected a PC channel on TV. </p>

<p>Thank you. </p>
"
112075,1,2020-05-04T17:19:21.387,1,97,58722,,2020-05-07T18:02:13.147,2020-05-07T18:02:13.147,4,,"<p>After restoring the whole raspbian system using rsync, I get following errors during boot.</p>

<pre><code>systemd[1]: systemd-modules-load.service: Main process exited, code=exited, sta...
systemd[1]: systemd-modules-load.service: Failed with result ´exit-code´.
systemd[1]: Failed to start Load Kernel Modules.
</code></pre>

<p>After this also <code>netfilter-persistent.service</code> and <code>hostapd.service</code> fail to start.</p>

<p>What got corrupted here and how can I correct this?</p>

<p>Following are the steps how I do the backup.</p>

<p>I followed the answer to <a href=""https://raspberrypi.stackexchange.com/questions/5427/can-a-raspberry-pi-be-used-to-create-a-backup-of-itself/"">Can a Raspberry Pi be used to create a backup of itself?</a> backup my running raspbian system. Instead of a USB drive, I use a rsync server for backup. Here is my setup and the commands I use.</p>

<p>Configuration of my rsync server:</p>

<pre><code>$ cat /etc/rsyncd.conf
#global (globale einstellung)
log file = /var/log/rsync.log
pid file = /var/run/rsyncd.pid
lock file = /var/run/rsync.lock
timeout = 300

[rpi]
path = /mnt/sdb1/backups/rpi
comment = backup
max connections = 1
hosts allow = 192.168.0.2
hosts deny = *
use chroot = yes
list = true
uid = root
gid = root
read only = false
auth users = user
secrets file = /etc/rsyncd.secrets
</code></pre>

<p>On my Raspberry I execute following command to start the backup:</p>

<pre><code>sudo rsync -aHv --numeric-ids --delete --exclude-from=/home/user/rsync-exclude.txt --password-file=/home/user/rsync-pass / rsync://user@192.168.0.1/rpi/rsync_backup/
</code></pre>

<p>Content of <code>rsync-exclude.txt</code></p>

<pre><code>$ cat rsync-exclude.txt
/proc/*
/sys/*
/dev/*
/boot/*
/tmp/*
/run/*
/mnt/*
/media/*
/var/swap
/var/log/*
</code></pre>

<p>To restore the content on the sdcard, I insert the Raspberrie's sdcard in the rsync server and mount the 2nd partition on this sdcard as <code>/mnt/sdcard</code>. Afterwards I execute following command to start the restore.</p>

<pre><code>sudo rsync -av --numeric-ids --delete-during /mnt/sdb1/backups/rpi/rsync_backup/ /mnt/sdcard/
</code></pre>

<p>When booting from this sdcard, I get the above described errors.</p>

<p><strong>Update:</strong>
I now updated my procedure so that also the boot partition is backed up and restored.</p>

<p>Please see the following snippets for error investigation.</p>

<pre><code>$ uname -r
4.19.97+

$ ls -l /lib/modules
total 24
drwxr-xr-x 3 root root 4096 Feb 20  2019 4.14.79+
drwxr-xr-x 3 root root 4096 Mar  8 11:53 4.14.98+
drwxr-xr-x 3 root root 4096 Apr 17 19:50 4.19.97+
drwxr-xr-x 3 root root 4096 Apr 17 19:50 4.19.97-v7+
drwxr-xr-x 3 root root 4096 Apr 17 19:50 4.19.97-v7l+
drwxr-xr-x 3 root root 4096 Apr 17 19:50 4.19.97-v8+
</code></pre>
"
112383,1,2020-05-13T20:58:50.380,0,134,105281,,2021-02-08T11:07:15.737,,0,,"<p>I am trying to get ER-TFTM070_5 display with capacitive touch screen to work. I hae gotten as far as getting the screen it self to work. Now I am facing a challenge to get the touch screen digitiser to work. Panel has FT5206 touchscreen controller which should work with edt_ft5x06 kernel module as far as I can tell. Controller is wired to I2C and GPIO17 to CTP_INT interrupt and GPIO27 to CTP_WAKE (which perhaps is not strictly necessary)</p>

<p>I2C device is connected as shown by the probing:</p>

<pre><code>    pi@raspberrypi:~ $ sudo i2cdetect -y 1
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- -- 
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- 35 -- -- -- -- -- -- -- -- -- -- 
40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: 60 -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
70: 70 -- -- -- -- -- -- --  
</code></pre>

<p>I have made a minimalist DTS overlay for the touch screen as found on an other forum:</p>

<pre><code>// Definitions for FocalTech System Touchcontroller by I2C bus.
/dts-v1/;
/plugin/;

/{
        compatible = ""brcm,bcm2835"", ""brcm,bcm2708"", ""brcm,bcm2709"";

    fragment@0 {
            target = &lt;&amp;i2c1&gt;;
            __overlay__ {
                    status = ""okay"";
            };
    };

    fragment@1 {
            target = &lt;&amp;gpio&gt;;
            __overlay__ {
                    edt_ft5x06_pins: edt_ft5x06_pins {
                            brcm,pins = &lt;17&gt;; /* GPIO */
                            brcm,function = &lt;0&gt;; /* in */
                            brcm,pull = &lt;2&gt;; /* up */
                    };
            };
    };

    fragment@2 {
            target = &lt;&amp;i2c1&gt;;
            __overlay__ {
                    #address-cells = &lt;1&gt;;
                    #size-cells = &lt;0&gt;;

                    edt_ft5x06: edt_ft5x06@35 {
                            compatible = ""edt,edt-ft5x06"";
                            reg = &lt;0x35&gt;;
                            pinctrl-names = ""default"";
                            interrupt-parent = &lt;&amp;gpio&gt;;
                            interrupts = &lt;17 0x8&gt;;
                    };
            };
    };

    __overrides__ {
                addr = &lt;&amp;edt_ft5x06&gt;, ""reg:0"";
        };
};
</code></pre>

<p>I have added also edt_ft5x06 module to /etc/modules-load.d/ft5x06.conf to be loaded on boot time. Overlay by itself should be OK but I had problems getting fbtft_device module to load so I added it manually and it worked...</p>

<p>How ever there are some problems with the module when loading it that can be seen from dmesg:</p>

<pre><code>[    6.880936] [vc_sm_connected_init]: installed successfully
[    6.909969] videodev: Linux video capture interface: v2.00
[    6.957459] bcm2835_mmal_vchiq: module is from the staging directory, the quality is unknown, you have been warned.
[    6.969147] edt_ft5x06 1-0035: touchscreen probe failed
[    6.969228] edt_ft5x06: probe of 1-0035 failed with error -121
[    6.996842] bcm2835_codec: module is from the staging directory, the quality is unknown, you have been warned.
[    7.009314] bcm2835-codec bcm2835-codec: Device registered as /dev/video10
[    
</code></pre>

<p>I have not been able to figure out what is that -121 error code referring to. There is nothing at /dev/input except the mice so touchscreen is definitely not working. GPIO17 is free as shown by: </p>

<pre><code>sudo cat /sys/kernel/debug/pinctrl/3f200000.gpio/pinmux-pins
pin 17 (gpio17): (MUX UNCLAIMED) (GPIO UNCLAIMED)
</code></pre>

<p>What I am missing here and what is that -121 error code referring to? I tried to to look for it in the kernel module source code but no such luck.</p>
"
112387,1,2020-05-13T22:12:55.427,0,261,32351,,2020-05-14T00:12:08.450,,0,,"<p>I want to install <a href=""https://veyon.io/"" rel=""nofollow noreferrer"">Veyon</a> on the RPi4. I have read about <a href=""https://launchpad.net/~veyon/+archive/ubuntu/stable"" rel=""nofollow noreferrer"">Debian packages</a> and the instructions.</p>

<p>I had a look in my <code>/etc/apt/sources.list</code> and it had an entry for <code>buster</code>, so I added the line for Veyon Buster:</p>

<pre><code>deb http://ppa.launchpad.net/veyon/stable/ubuntu bionic main
</code></pre>

<p>I then tried to run the command</p>

<pre><code>sudo add-apt-repository ppa:veyon/stable
</code></pre>

<p>but there is no <code>add-apt-repository</code> on my Raspberry and I could not install that with <code>sudo apt install</code>.</p>

<p>Using only</p>

<pre><code>sudo apt-get update
</code></pre>

<p>does not work, because there are keys missing, so the source is not trusted. What am I missing?</p>
"
112843,1,2020-05-26T18:02:25.300,0,362,120244,,2020-11-25T17:05:05.570,2020-05-27T11:36:18.077,4,,"<p>I'm trying to connect my Raspberry Pi 4B to a HANNspree ht161hnb touch monitor.
It's a first time use with a sd cart with NOOBS(I'm new to Raspberry Pi) It's booting up (I see a ""For recovery mode press shift"" screen) then immediately it goes to ""No Signal"". I tried both hdmi ports. I am powering the monitor with the original 12v adapter. I connected an USB cable back to the Pi. 
<a href=""https://www.hannspree.eu/product/ht-161-hnb/"" rel=""nofollow noreferrer"">https://www.hannspree.eu/product/ht-161-hnb/</a>
What can be the problem?</p>
"
113030,1,2020-06-01T11:33:27.900,1,197,120482,,2020-10-30T21:05:25.567,,0,,"<p>Dear specialists :) , </p>

<p>I got a lot of help during the last month from this forum but this time I can't find the right thread.</p>

<p>Problem:
I had connected a WebDav-Connection to the <a href=""https://dav.mailbox.org"" rel=""nofollow noreferrer"">https://dav.mailbox.org</a> successfully simultaneously with Android, Win10, and Raspbian. But surprisingly I can't copy or create files within the WebDav-Folder on the Raspbian-side. I can create and rename a given folder. Deleting them is not possible. On Window10-side everything works as aspected. </p>

<p>For a project, I need an auto-sync ""area"" between these three devices. </p>

<p>Do you have any hint for me?</p>

<p>Kind regards
Daniel</p>
"
113148,1,2020-06-05T04:06:27.153,0,94,120593,,2020-06-05T19:29:43.010,,0,,"<p>I have an RPI, setup with wiringPi and some code I wrote to read a quadrature encoder. It works just fine, I can read the pins, using a wiringPiISR mechanism (the ISRs get executed on the rising as well the falling edges of the encoder signals/channels</p>

<p>In a different setup I am trying to re-write ""the whole"" thing using libgpiod. I found an example or two that show how to test for an event,  a gpio pin being raised or lowered. However, I don't seem to be able to get them to work.</p>

<p>I am wondering,  does wiringPi configure the pins in someway when you call it's init functions?</p>

<p>Does anyone have a pointer to a working example? (I tried an input 'demo' as well, didn't seem to work either, but figured the signal might change too fast or so.)</p>

<p>thanks,</p>

<p>Ron</p>
"
113227,1,2020-06-07T15:30:55.907,0,881,119984,,2020-06-07T23:32:18.617,,1,,"<p>I'm new to Linux and the Raspberry pi. I'm having trouble mounting my USB 1TB HDD automatically using fstab. It mounts no problem when using something like this in the terminal:</p>

<pre><code>sudo mount /dev/sda1 /mnt/1TB-PiDrive
</code></pre>

<p>I've copied the UUID number of the drive and used it in the fstab file:</p>

<p><code>UUID=c6c93d58-8648-4e33-9178-ca6c1d4043e3 /mnt/1TB-PiDrive auto nofail,uid=1000,gid=1000,noatime 0 0</code></p>

<p>but it doesn't automount after boot. Please see the attached screenshots to see my fstab file and drive information. Would the pi store any errors from this file anywhere? Where would I find them?</p>

<p>Any help would be appreciated
Thanks
Cameron</p>

<p><a href=""https://i.stack.imgur.com/gEiMY.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/gEiMY.png"" alt=""Fstab File""></a>
<a href=""https://i.stack.imgur.com/BdNJH.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/BdNJH.png"" alt=""blkid and lsblk info""></a></p>
"
113289,1,2020-06-09T07:34:47.693,0,75,106172,,2020-06-09T12:29:09.843,,4,,"<p>Hello I would like to know what are the frequencies (and its max divisor) i can use with the general purpose clocks pin on the raspberry pi 3B+/4. currently my circuit is using <a href=""https://www.digikey.com/product-detail/en/SIT8924BA-22-33E-8.192000G/1473-SIT8924BA-22-33E-8.192000G-ND/11394836/?itemSeq=326891096"" rel=""nofollow noreferrer"">this</a> as a Clock input. I would like to remove that component and just instead use onboard one.</p>

<p>I plan to have 3 clock: 8.1920MHZ, 4.0960MHZ, 2.048MHZ. on the 3 GPIO CLCK. of course it wouldnt be exactly that but i hope to get somewhere close to it.</p>

<p>How clean are its signal? I found this image that at 12Mhz its starting to look sinusoidal is it true?</p>

<p><a href=""https://i.stack.imgur.com/pAmYSl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/pAmYSl.png"" alt=""enter image description here""></a></p>
"
113544,1,2020-06-18T12:12:56.673,0,989,121140,,2020-09-03T04:38:22.480,2020-09-03T04:38:22.480,9,,"<p>Hi i'm tryng to change the update rate of my gps tracker(neo 6m ublok) i know the byte that i need to send are 0xB5,0x62,0x06,0x08,0x06,0x00,0xC8,0x00,0x01,0x00,0x01,0x00,0xDE,0x6A</p>
<p>i've tried
<code>echo -e &quot;\xB5\x62\x06\x08\x06\x00\xC8\x00\x01\x00\x01\x00\xDE\x6A&quot; &gt; /dev/ttyAMA0</code></p>
<p>and with the service stopped i also tryed with a program in c</p>
<pre><code>        #include &lt;stdio.h&gt;
        #include &lt;fcntl.h&gt;   /* File Control Definitions           */
        #include &lt;termios.h&gt; /* POSIX Terminal Control Definitions */
        #include &lt;unistd.h&gt;  /* UNIX Standard Definitions          */ 
        #include &lt;errno.h&gt;   /* ERROR Number Definitions           */

        void main(void)
        {
                int fd;/*File Descriptor*/

                printf(&quot;\n +----------------------------------+&quot;);
                printf(&quot;\n |        Serial Port Write         |&quot;);
                printf(&quot;\n +----------------------------------+&quot;);

                /*------------------------------- Opening the Serial Port -------------------------------*/

                /* Change /dev/ttyUSB0 to the one corresponding to your system */

                fd = open(&quot;/dev/ttyAMA0&quot;,O_RDWR | O_NOCTTY | O_NDELAY); /* ttyUSB0 is the FT232 based USB2SERIAL Converter   */
                                                                        /* O_RDWR Read/Write access to serial port           */
                                                                        /* O_NOCTTY - No terminal will control the process   */
                                                                        /* O_NDELAY -Non Blocking Mode,Does not care about-  */
                                                                        /* -the status of DCD line,Open() returns immediatly */                                        

                if(fd == -1)                                            /* Error Checking */
                   printf(&quot;\n  Error! in Opening ttyUSB0  &quot;);
                else
                   printf(&quot;\n  ttyUSB0 Opened Successfully &quot;);


                /*---------- Setting the Attributes of the serial port using termios structure --------- */

                struct termios SerialPortSettings;      /* Create the structure                          */

                tcgetattr(fd, &amp;SerialPortSettings);     /* Get the current attributes of the Serial port */

                cfsetispeed(&amp;SerialPortSettings,B9600); /* Set Read  Speed as 9600                       */
                cfsetospeed(&amp;SerialPortSettings,B9600); /* Set Write Speed as 9600                       */

                SerialPortSettings.c_cflag &amp;= ~PARENB;   /* Disables the Parity Enable bit(PARENB),So No Parity   */
                SerialPortSettings.c_cflag &amp;= ~CSTOPB;   /* CSTOPB = 2 Stop bits,here it is cleared so 1 Stop bit */
                SerialPortSettings.c_cflag &amp;= ~CSIZE;    /* Clears the mask for setting the data size             */
                SerialPortSettings.c_cflag |=  CS8;      /* Set the data bits = 8                                 */

                SerialPortSettings.c_cflag &amp;= ~CRTSCTS;       /* No Hardware flow Control                         */
                SerialPortSettings.c_cflag |= CREAD | CLOCAL; /* Enable receiver,Ignore Modem Control lines       */ 


                SerialPortSettings.c_iflag &amp;= ~(IXON | IXOFF | IXANY);          /* Disable XON/XOFF flow control both i/p and o/p */
                SerialPortSettings.c_iflag &amp;= ~(ICANON | ECHO | ECHOE | ISIG);  /* Non Cannonical mode                            */

                SerialPortSettings.c_oflag &amp;= ~OPOST;/*No Output Processing*/

                if((tcsetattr(fd,TCSANOW,&amp;SerialPortSettings)) != 0) /* Set the attributes to the termios structure*/
                    printf(&quot;\n  ERROR ! in Setting attributes&quot;);
                else
                    printf(&quot;\n  BaudRate = 9600 \n  StopBits = 1 \n  Parity   = none&quot;);

                /*------------------------------- Write data to serial port -----------------------------*/

                char write_buffer[] = &quot;A&quot;;      /* Buffer containing characters to write into port           */
                unsigned char packet[] = { 0xB5,  0x62, 

        0x06, // 

        0x08, // 

        0x06, // length

        0x00, // 

        0x64, // measRate, hex 64 = dec 100 ms

        0x00, // 

        0x01, // navRate, always =1

        0x00, // 

        0x01, // timeRef, stick to GPS time (=1)

        0x00, // 

        0x7A, // CK_A

        0x12, // CK_B

    };
                int  bytes_written  = 0;        /* Value for storing the number of bytes written to the port */ 
                //for(int i=0;i&lt;14;i=i+1){
                //      printf(packet[i]);
//}
                bytes_written = write(fd,packet,sizeof(packet));/* use write() to send data to port                                            */
                                                                             /* &quot;fd&quot;                   - file descriptor pointing to the opened serial port */
                                                                             /* &quot;write_buffer&quot;         - address of the buffer containing data              */
                                                                             /* &quot;sizeof(write_buffer)&quot; - No of bytes to write                               */
                char buf [100];
int n = read (fd, buf, sizeof buf);
                printf(buf);
                printf(&quot;\n  %s written to ttyUSB0&quot;,write_buffer);
                printf(&quot;\n  %d Bytes written to ttyUSB0&quot;, bytes_written);
                printf(&quot;\n +----------------------------------+\n\n&quot;);

                close(fd);/* Close the Serial port */

        }

</code></pre>
<p>and with python</p>
<pre><code>import serial
#from serial import Serial

import time

import string

import pynmea2

port=&quot;/dev/ttyAMA0&quot;
ser=serial.Serial(port, baudrate=9600 ,   parity=serial.PARITY_NONE,

  stopbits=serial.STOPBITS_ONE,

  bytesize=serial.EIGHTBITS,)

#serdata= bytearray([0xB5,0x62,0x06,0x08,0x06,0x00,0xC8,0x00,0x01,0x00,0x01,0x00,0xDE,0x6A,0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x01,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x2B]) #0x06&quot;0x00&quot;0xC8&quot;0x00&quot;0x01&quot;0x00&quot;0x01&quot;0x00&quot;0xDE&quot;0x6A&quot;

#serdata= bytearray([0xB5,0x62,0x06,0x08,0x06,0x00,0xC8,0x00,0x01,0x00,0x01,0x00,0xDE,0x6A])
#print(serdata)
ser.write(b&quot;$PUBX,40,GLL,0,0,0,0*5D\r\n&quot;)
#ser.write(bytes([181,98,6,8,6,0,100,0,1,0,1,0,122,18])) # 5hz
#ser.write(b'$PUBX,40,GLL,1,0,0,0,0,0*5D')
#ser.write(serdata)
#ser.flush()
#ser.write(bytearray([181, 98, 6, 1, 8, 0, 240, 1, 0, 0, 0, 0, 0, 1, 1, 43])) #GxGLL off
#serdatadi=bytearray([0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x03,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x39])
#serdatadi2=bytearray([0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x04,0x00,0x00,0x00,0x00,0x00,0x01,0x04,0x40])
#print(serdatadi2)
#ser.write(b&quot;0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x03,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x39&quot;)
#ser.write(serdatadi2)
#ser.write(serdatadi3)
#ser.write(b&quot;0xB5,0x62,0x06,0x01,0x08,0x00,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x24&quot;)
#ser.write(b'\xb5b\x06\x08\x06\x00\x1e\x00\x01\x00\x00\x003l')
while True:

        #port=&quot;/dev/ttyAMA0&quot;

        #ser=serial.Serial(port, baudrate=9600, timeout=0.5)

        dataout = pynmea2.NMEAStreamReader()
        newdata=ser.readline()
        print(newdata)

        #print(newdata[0:6] == &quot;$GPRMC&quot;)
        if (newdata[0:6] == b&quot;$GPRMC&quot;):
                print(&quot;vivo&quot;)
                newmsg=pynmea2.parse(newdata.decode(&quot;utf-8&quot;))
                print(newmsg)
                lat=newmsg.latitude

                lng=newmsg.longitude

                gps = &quot;Latitude=&quot; + str(lat) + &quot;and Longitude=&quot; + str(lng)

                print(gps)
</code></pre>
<p>but nothig change the navigation update rate of the device</p>
<p>all of the byte code came from the manual of the device<br />
<a href=""https://www.u-blox.com/sites/default/files/products/documents/u-blox6_ReceiverDescrProtSpec_%28GPS.G6-SW-10018%29_Public.pdf"" rel=""nofollow noreferrer"">https://www.u-blox.com/sites/default/files/products/documents/u-blox6_ReceiverDescrProtSpec_%28GPS.G6-SW-10018%29_Public.pdf</a></p>
<p>and this</p>
<p><a href=""https://medium.com/@cglabs/neo-6m-gps-howto-boost-data-receiving-speed-neo-6-neo-7-neo-8-487275eff1c6"" rel=""nofollow noreferrer"">https://medium.com/@cglabs/neo-6m-gps-howto-boost-data-receiving-speed-neo-6-neo-7-neo-8-487275eff1c6</a></p>
<p>and this</p>
<p><a href=""https://forum.arduino.cc/index.php?topic=470763.0"" rel=""nofollow noreferrer"">https://forum.arduino.cc/index.php?topic=470763.0</a>
<a href=""https://i.stack.imgur.com/F5yQj.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/F5yQj.jpg"" alt=""wiring"" /></a>
<a href=""https://i.stack.imgur.com/itSch.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/itSch.jpg"" alt=""gps wire"" /></a></p>
<p>EDIT:
i've tryed both of the response but none of them worked
<a href=""https://i.stack.imgur.com/mqdmM.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/mqdmM.png"" alt=""cutecom"" /></a>
what i have to do if i want to connect with usb instread of uart</p>
<p>EDIT2: i have tryed both usb to the raspberry and the pc with the u center but none of this changed the rate of the gps!!
edit 3:
no luck i've tryed eaven an update of the firmware but nothing it's like it dose not like changing configuration</p>
<pre><code>Setup pipes

Firmware update tool launched

 -p STDIO -b 9600:9600:9600 -F &quot;C:\Program Files (x86)\u-blox\u-center_v20.01\flash.xml&quot; -s 1 -t 1 -v 1 &quot;D:\dowload\EXT_G60_LEA-6H.fd1146bafac24b1347701312d42bb698.bin&quot;



----------CMD line arguments-----------

Image file:        D:\dowload\EXT_G60_LEA-6H.fd1146bafac24b1347701312d42bb698.bin
Flash:             &lt;compiled-in&gt;
Fis:               C:\Program Files (x86)\u-blox\u-center_v20.01\flash.xml
Port:              STDIO
Baudrates:         9600/9600/9600
Safeboot:          1
Reset:             1
AutoBaud:          0
Verbose:           1
Erase all:         1
Erase only:        0
Training sequence: 1
Chip erase:        0
Merging FIS:       0
Update RAM:        0
Use USB alt:       0
---------------------------------------

  0.0 u-blox Firmware Update Tool version 19.03

  0.0 Updating Firmware 'D:\dowload\EXT_G60_LEA-6H.fd1146bafac24b1347701312d42bb698.bin' of receiver over 'STDIO'
  0.0   - Opening and buffering image file

  0.0   - Verifying image

  0.0 Image (file size 395996) for u-blox6 accepted

  0.0 Image Ver '7.03 (45970) Mar 17 2011 16:26:24'
  0.0   - CRC= 0x10F85FE1 0xF912EA5A
  0.0   - Trying to open port STDIO

  0.0   - Setting baudrate to 9600

  0.2   - Sending training sequence

  1.2   - Retry poll

  2.2   - Retry poll

  3.2   - Retry poll

  3.2 ERROR: Version poll failed.

  3.2 Firmware Update FAILED


Firmware Update Utility has unexpectedly terminated

Exit code (2)
</code></pre>
<p>these are the connector and the multimeter sat between the first and the last 3.2-3.3
<a href=""https://i.stack.imgur.com/cFiAr.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/cFiAr.jpg"" alt=""the soldering"" /></a></p>
"
113623,1,2020-06-20T22:03:28.973,-1,960,118126,,2020-08-23T14:06:02.917,2020-06-20T23:51:29.650,2,,"<p>I have an overclocked pi4 running retro pie. I would like to boost the GPU performance.. Here are my overclock settings:</p>
<pre><code>#uncomment to overclock the arm. 700 MHz is the default.
over_voltage=6
arm_freq=2147
gpu_freq=850
gpu_mem=320
#Ram Overclock
sdram_freq=588
sdram_schmoo=0x02000020
over_voltage_sdram_p=6
over_voltage_sdram_i=4
over_voltage_sdram_c=4
</code></pre>
<p>I tried to raise the frequency of the GPU more than 850, but the graphics went wacko after I tried one of my games. Can anyone help me? I need some better settings. I'm very new to overclocking.</p>
"
113974,1,2020-07-04T05:57:26.653,0,87,121554,,2020-12-01T14:01:10.200,,2,,"<p>I have raspberry pi 4 with ubuntu server 64 bit <a href=""https://ubuntu.com/download/raspberry-pi"" rel=""nofollow noreferrer"">installed</a>. I'm trying to connect my pi with another wifi but unable to connect. I used netplan to connect with first wifi successfully connected. but later on, tried to connect with different ssid using nmcli but device is not listing ssids and or list</p>
<p>i have tried below steps</p>
<pre><code>sudo nano /etc/network/interface.
auto wlan0
iface wlan0 inet dhcp

sudo iwlist wlan0 scan
</code></pre>
<p>its list all the wifi properly</p>
<pre><code>sudo nmcli device wifi list
</code></pre>
<p>IN-USE  SSID  MODE  CHAN  RATE  SIGNAL  BARS  SECURITY</p>
<p>test 2 :</p>
<p>$ <code>rfkill list</code>
0: phy0: Wireless LAN
Soft blocked: no
Hard blocked: no</p>
<ol start=""2"">
<li><code>sudo /etc/init.d/networking restart &amp;&amp; dhclient</code></li>
</ol>
<p>[ ok ] Restarting networking (via systemctl): networking.service.
RTNETLINK answers: Operation not permitted
RTNETLINK answers: Operation not permitted</p>
<pre><code>4.    nmcli radio 
</code></pre>
<p>WIFI-HW  WIFI     WWAN-HW  WWAN<br />
enabled  enabled  enabled  enabled</p>
<pre><code>nmcli radio wifi on

sudo nmcli device wifi list
</code></pre>
<p>IN-USE  SSID  MODE  CHAN  RATE  SIGNAL  BARS  SECURITY</p>
<p>I tried nmtui its also not showing wifi list</p>
<p>are there any methods I can try to connect with my other wifi?</p>
"
114135,1,2020-07-08T16:07:04.530,0,34,120864,,2020-07-09T11:30:18.203,,0,,"<p>Using pigpio, I can set the hardware PWM value but getting it seems to consistently give three of the old values, a zero and then the new value, as well as the old value returned with the initial command</p>
<pre><code>&gt;&gt;&gt; gpio.hardware_PWM(18, 10000, 10)
10000
&gt;&gt;&gt; for i in range(7):
...     print(i, ' ', gpio.get_PWM_dutycycle(18))
... 
0   10000
1   10000
2   10000
3   0
4   10
5   10
6   10
&gt;&gt;&gt; gpio.hardware_PWM(18, 10000, 100000)
10
&gt;&gt;&gt; for i in range(7):
...     print(i, ' ', gpio.get_PWM_dutycycle(18))
... 
0   10
1   10
2   10
3   0
4   100000
5   100000
6   100000
&gt;&gt;&gt; gpio.hardware_PWM(18, 10000, 1000)
100000
&gt;&gt;&gt; for i in range(7):
...     print(i, ' ', gpio.get_PWM_dutycycle(18))
... 
0   100000
1   100000
2   100000
3   0
4   1000
5   1000
6   1000
</code></pre>
"
114413,1,2020-07-17T15:32:45.700,0,111,121818,,2020-07-17T16:43:08.570,,0,,"<p>I am using hw-479 that looks like the picture below. I cannot find much of information for it but the Alibaba page says</p>
<blockquote>
<p>The RGB LED module is made of a plug-in
full-color LED. The PWM voltage input of the three pins of R G and B
can adjust the intensity of three primary colors (red/blue/green) to
achieve full-color color mixing. The Arduino's control of the module
enables cool lighting effects.</p>
</blockquote>
<p>Of course, since I am using a Pi, I cannot use that Arduino library. I wrote the following code, but it does not work. Turning individual colours by setting <code>GPIO.output(pin, HIGH)</code> was successful, so I do not think the pin connections are wrong.</p>
<p>I wonder what is wrong with the code. First, I do not understand what the frequency should be. The <a href=""https://sourceforge.net/p/raspberry-gpio-python/wiki/PWM/"" rel=""nofollow noreferrer"">example</a> was using 50, so I used 50. Secondly, it seems that the <code>dc</code>, the parameter of <code>start()</code> ranges from 0, to 100, and 0 means the maximum power and 100 means the minimum power. Is that correct?</p>
<pre><code>import RPi.GPIO as GPIO
import time

redPin = 11
greenPin = 13
bluePin = 15

def setValue(pin, value):
    GPIO.setmode(GPIO.BOARD)
    GPIO.setup(pin, GPIO.OUT)
    p = GPIO.PWM(pin, 50)
    
    if 0&gt;value or value&gt;255:
        raise Exception(&quot;0 to 255&quot;)
    
    #dc = 0 max, dc = 100 min
    dc = 100 - (float(value)/256.*100);
    p.start(dc)
    
def setRGB(r,g,b):
    setValue(redPin, r)
    setValue(greenPin, g)
    setValue(bluePin, b)
    
if __name__ == &quot;__main__&quot;:
    print(&quot;Salmon&quot;)
    setRGB(0xFA, 0x80, 0x72)
    raw_input()
    
    print(&quot;Dark slate gray&quot;)
    setRGB(0x2F, 0x4F, 0x4F)
    raw_input()
    
    GPIO.cleanup()
</code></pre>
<p><a href=""https://i.stack.imgur.com/y0PZFm.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/y0PZFm.png"" alt=""enter image description here"" /></a></p>
"
114707,1,2020-07-27T12:05:48.797,0,59,122539,,2020-12-30T17:06:40.690,,0,,"<p>I have an application which makes two uses of playing two files at the same time. The first is where it plays a white-noise file very quietly and continuously so that the sound-card does not go to sleep and therefore not 'pop' as the card switches on and off between songs.  Secondly the application allows a user to start a new song and this causes the old song to fade out and hence for a short time, both songs play.</p>
<p>I have been using HiFiBerry DAC+ cards successfully for these two cases without issue on old Pi 2 and 3 boards but I would now like to make use of Bluetooth connected speakers and a Pi4. I have bluetooth working on buster and i can play a single instance of mplayer but a second instance is blocked because the device is in use.  I presume I need something like 'dmix' and pulseaudio but I do not know where to start as some sites state that bluetooth and pulseaudio do not work well together and other sites that say its fine but I have not found anything that shows how to share the bluetooth connection (mixing the songs together).</p>
"
115987,1,2020-08-07T16:24:43.707,0,88,122409,,2020-08-08T10:54:42.713,2020-08-07T22:51:15.090,3,,"<p>I'm having some issues reading flow sensor data (Sensirion LPG10, to be precise) using the RPi Zero's I2C bus.</p>
<p>I think I have set the bus and wiring up correctly as running 'i2cdetect -y 1' returns the correct device address (0x40) as specified in the sensor's datasheet.</p>
<p>The <a href=""https://media.digikey.com/pdf/Data%20Sheets/Sensirion%20PDFs/LQ_AN_LiquidFlowSensors_ImplementationGuideToI2C_EN_D2.pdf"" rel=""nofollow noreferrer"">sensor datasheet</a> specifies that I first write a byte (value 0xf1) to trigger a sensor measurement, then read a byte word (so, 2 bytes for the data, a 3rd for a checksum if I desire) immediately after. This information is in section 4.4 and is specified as the first thing to try.</p>
<p>I manage to detect that the sensor is there on the I2C bus, and I manage to write the first byte - at least, no I/O errors are returned with either the smbus or pigpio modules at this stage.</p>
<p>However, when attempting to read the bytes - whether individually in order, or reading all at once - I get errors. With smbus it's a little complex as read_word_data specifies a register, which isn't provided in the datasheet - pigpio lets me use i2c_read_device(0x40, 2) which should theoretically work, but doesn't.</p>
<p>The code snippets I tried:</p>
<pre class=""lang-py prettyprint-override""><code># pigpio

addr = 0x40    # Sensor address
pi = pigpio.pi()

handle = pi.i2c_open(1, addr)

pi.i2c_write_byte(handle, 0xf1)

# Here I have tried on and off various time.sleep values

(len, bytes) = pi.i2c_read_device(handle, 2)

# Error handling
if len &lt; 0:
    print(pigpio.error_text(len))
pi.i2c_close(handle)
pi.stop()
</code></pre>
<pre class=""lang-py prettyprint-override""><code>#smbus
from smbus import SMBus
bus = SMBus(1)
i2cBus.write_byte(0x40, 0xf1)

#Trying to return even a single byte, let alone the 2-byte word, fails
byte = i2cBus.read_byte(0x40) # Fails with I/O error
# I can't find a way to read the 2-byte word with smbus either as it specifies a register/channel which the sensor does not seem to specify
</code></pre>
<p>It is worth noting that I have not changed any of the other Raspberry Pi I2C interface settings, other than to ensure it is enabled in raspi-config and rebooting afterwards.</p>
<p>I don't see anything particularly different in their example code (Arduino, though): <a href=""https://github.com/Sensirion/arduino-liquid-flow-snippets/blob/master/SF04/example_01_simple_measurement/example_01_simple_measurement.ino"" rel=""nofollow noreferrer"">Example code</a> The only difference I see is the baud rate set to 9600, but their datasheet specified that 100kbps baud rate (I believe the RPi default) is workable so I don't see how this would be the issue, if the datasheet is correct (and it likely is!)</p>
<p>Can anyone figure out where I'm going wrong? Thank you so much in advance, any help is greatly appreciated!</p>
"
116074,1,2020-08-11T00:02:12.723,1,335,12205,,2020-10-29T01:55:21.707,,0,,"<p>I'm trying to use a Raspberry Pi with a UART peripheral and a non-Raspbian Linux distribution. It seems like most of these distributions use U-Boot. I'm running into two problems:</p>
<ol>
<li>U-Boot outputs on the serial console by default, which confuses the peripheral (it mistakes the logging messages as input)</li>
<li>My peripheral tries to respond to these messages, which interrupts the U-Boot loader and prevents the kernel from booting</li>
</ol>
<p>It seems like the possible solutions to this problem are:</p>
<ol>
<li>Disable the serial console/UART in U-Boot</li>
<li>Boot the kernel directly (i.e. remove U-Boot from the boot process)</li>
</ol>
<p>I've done a lot of searching, and it doesn't seem like there's a way to disable the U-Boot serial console output at runtime (i.e. without <a href=""https://github.com/agherzan/meta-raspberrypi/issues/374#issuecomment-457524421"" rel=""nofollow noreferrer"">patching and recompiling U-Boot</a>). I'm sure I could figure out how to have the Pi bootloader load the Linux kernel directly (like Raspbian does), but that seems like it might break with kernel updates.</p>
<p>I'm trying to investigate a third option: <strong>is it possible to have the UART disabled at boot time and enable it from the operating system instead?</strong> Failing that, are there any other workarounds to prevent U-Boot from using the serial console, or should I give up and use Raspbian?</p>
"
116178,1,2020-08-15T09:46:05.613,3,206,124160,,2020-08-21T19:15:23.813,,4,,"<p>I am trying to edit the timer of heartbeat trigger on RPi Zero. I have found original .c file of kernel driver here <a href=""https://github.com/raspberrypi/linux/blob/rpi-5.4.y/drivers/leds/trigger/ledtrig-heartbeat.c"" rel=""nofollow noreferrer"">https://github.com/raspberrypi/linux/blob/rpi-5.4.y/drivers/leds/trigger/ledtrig-heartbeat.c</a>. But when I look into my Pi's kernel drivers, in directory with triggers <code>/lib/modules/5.4.51+/kernel/drivers/leds/trigger</code> there are only three triggers and none of them are heartbeat : <code>ledtrig-camera.ko  ledtrig-netdev.ko  ledtrig-transient.ko</code>. So I am assuming the heartbeat trigger is defined elsewhere.</p>
<p>Where can I find and edit the heartbeat trigger of led ?</p>
"
116306,1,2020-08-21T08:00:31.087,0,101,124322,,2020-09-20T14:01:35.140,2020-08-21T10:24:08.797,3,,"<p>I need to configure the [TRM240 modem][1] to work with a Raspbian system. I followed the procedure reported in the answer [here][2], but the connection isn't working.</p>
<p>I attach some screenshots documenting the procedure and the commands that I issued.</p>
<p>First, look for connected modems:</p>
<pre><code>pi@raspberrypi:~ $ mmcli -L

Found 1 modems:
    /org/freedesktop/ModemManager1/Modem/0 [QUALCOMM INCORPORATED] QUECTEL Mobile Broadband Module
</code></pre>
<p>Check the unique modem found:</p>
<pre><code>pi@raspberrypi:~ $ mmcli -m 0

/org/freedesktop/ModemManager1/Modem/0 (device id 'e308f44de689f834e8cbc5b2122a4ffca8ddd3f5')
  -------------------------
  Hardware |   manufacturer: 'QUALCOMM INCORPORATED'
           |          model: 'QUECTEL Mobile Broadband Module'
           |       revision: 'EC21ECGAR06A04M1G'
           |      supported: 'gsm-umts
           |                  lte
           |                  gsm-umts, lte'
           |        current: 'gsm-umts, lte'
           |   equipment id: '864394040056931'
  -------------------------
  System   |         device: '/sys/devices/platform/soc/3f980000.usb/usb1/1-1/1-1.2'
           |        drivers: 'option1, qmi_wwan'
           |         plugin: 'Generic'
           |   primary port: 'cdc-wdm0'
           |          ports: 'ttyUSB0 (qcdm), ttyUSB2 (at), cdc-wdm0 (qmi), wwan0 (net), ttyUSB3 (at)'
  -------------------------
  Numbers  |           own : 'unknown'
  -------------------------
  Status   |           lock: 'unknown'
           | unlock retries: 'unknown'
           |          state: 'failed'
           |  failed reason: 'sim-missing'
           |    power state: 'unknown'
           |    access tech: 'unknown'
           | signal quality: '0' (cached)
  -------------------------
  Modes    |      supported: 'allowed: 2g, 3g, 4g; preferred: none'
           |        current: 'allowed: any; preferred: none'
  -------------------------
  Bands    |      supported: 'unknown'
           |        current: 'unknown'
  -------------------------
  IP       |      supported: 'ipv4, ipv6, ipv4v6'
  -------------------------
  SIM      |           path: 'none'

  -------------------------
  Bearers  |          paths: 'none'
</code></pre>
<p>Here, the Status section leaves me a little bit puzzled, but I try to go on.</p>
<p>I tried the following command using different options for <code>ifname</code>: <code>cdc-wdm0</code>, <code>ttyUSB2</code> and <code>ttyUSB3</code>. They all end up to the same result.</p>
<pre><code>pi@raspberrypi:~ $ sudo nmcli c add type gsm ifname cdc-wdm0 con-name modem apn mobile.vodafone.it
Connection 'modem' (9c34027f-5df5-4fd6-9792-223e225dfd41) successfully added.
</code></pre>
<p>Check the connections and try to take up modem:</p>
<pre><code>pi@raspberrypi:~ $ nmcli con
NAME             UUID                                  TYPE    DEVICE          
br-12ff13c2c4e0  26450e11-6671-47c2-91af-6bf96405921b  bridge  br-12ff13c2c4e0 
br-acc4bdcbe6e7  440cfcc0-5318-4a9e-9259-3fb8700cf240  bridge  br-acc4bdcbe6e7 
docker0          8af67071-3cb2-4235-882f-1cc1f50fa7ca  bridge  docker0         
modem            9c34027f-5df5-4fd6-9792-223e225dfd41  gsm     --          
</code></pre>
<p>Try to take up:</p>
<pre><code>pi@raspberrypi:~ $ nmcli con up modem
Error: Connection activation failed: No suitable device found for this connection.
</code></pre>
<p>Status of service NetworkManager:</p>
<pre><code>pi@raspberrypi:~ $ systemctl status NetworkManager
● NetworkManager.service - Network Manager
   Loaded: loaded (/lib/systemd/system/NetworkManager.service; enabled; vendor preset: enabled)
   Active: active (running) since Fri 2020-08-21 07:46:57 UTC; 2h 35min ago
     Docs: man:NetworkManager(8)
 Main PID: 710 (NetworkManager)
    Tasks: 3 (limit: 4915)
   Memory: 13.8M
      CPU: 3.862s
   CGroup: /system.slice/NetworkManager.service
           └─710 /usr/sbin/NetworkManager --no-daemon

Aug 21 07:48:53 raspberrypi NetworkManager[710]: &lt;info&gt;  [1597996133.0883] device (veth6ffb100): link connected
Aug 21 08:14:11 raspberrypi NetworkManager[710]: &lt;error&gt; [1597997651.4341] audit: failed to open auditd socket: Protocol not supported
Aug 21 08:14:11 raspberrypi NetworkManager[710]: &lt;info&gt;  [1597997651.4343] audit: op=&quot;device-managed&quot; arg=&quot;managed:1&quot; pid=11841 uid=0 result=&quot;success&quot;
Aug 21 08:16:48 raspberrypi NetworkManager[710]: &lt;info&gt;  [1597997808.9388] audit: op=&quot;device-autoconnect&quot; arg=&quot;autoconnect:1&quot; pid=12910 uid=1000 result=&quot;fail&quot; reason=&quot;Not authorized to perform this operat
Aug 21 08:17:41 raspberrypi NetworkManager[710]: &lt;info&gt;  [1597997861.0575] audit: op=&quot;connection-add-activate&quot; pid=13286 uid=1000 result=&quot;fail&quot; reason=&quot;gsm: GSM mobile broadband connection requires a 'gsm
Aug 21 08:25:25 raspberrypi NetworkManager[710]: &lt;info&gt;  [1597998325.2594] audit: op=&quot;connection-add-activate&quot; pid=16224 uid=1000 result=&quot;fail&quot; reason=&quot;gsm: GSM mobile broadband connection requires a 'gsm
Aug 21 10:06:31 raspberrypi NetworkManager[710]: &lt;info&gt;  [1598004391.9223] audit: op=&quot;connection-activate&quot; uuid=&quot;06583333-e03e-431f-9376-94c38b6b607d&quot; name=&quot;modem&quot; result=&quot;fail&quot; reason=&quot;No suitable device
Aug 21 10:19:24 raspberrypi NetworkManager[710]: &lt;info&gt;  [1598005164.3349] keyfile: add connection /etc/NetworkManager/system-connections/modem-9c34027f-5df5-4fd6-9792-223e225dfd41 (9c34027f-5df5-4fd6-979
Aug 21 10:19:24 raspberrypi NetworkManager[710]: &lt;info&gt;  [1598005164.3386] audit: op=&quot;connection-add&quot; uuid=&quot;9c34027f-5df5-4fd6-9792-223e225dfd41&quot; name=&quot;modem&quot; pid=27261 uid=0 result=&quot;success&quot;
Aug 21 10:20:29 raspberrypi NetworkManager[710]: &lt;info&gt;  [1598005229.6409] audit: op=&quot;connection-activate&quot; uuid=&quot;06583333-e03e-431f-9376-94c38b6b607d&quot; name=&quot;modem&quot; result=&quot;fail&quot; reason=&quot;No suitable device
lines 1-21/21 (END)
</code></pre>
<p>Here I see the error <code>&lt;error&gt; [1597997651.4341] audit: failed to open auditd socket: Protocol not supported</code>...</p>
<p>Status of service ModemManager (there are warnings, but not errors):</p>
<pre><code>pi@raspberrypi:~ $ systemctl status ModemManager
● ModemManager.service - Modem Manager
   Loaded: loaded (/lib/systemd/system/ModemManager.service; enabled; vendor preset: enabled)
   Active: active (running) since Fri 2020-08-21 07:46:57 UTC; 2h 35min ago
 Main PID: 712 (ModemManager)
    Tasks: 5 (limit: 4915)
   Memory: 8.7M
      CPU: 4.123s
   CGroup: /system.slice/ModemManager.service
           ├─712 /usr/sbin/ModemManager
           └─884 /usr/lib/libqmi/qmi-proxy

Aug 21 07:47:19 raspberrypi ModemManager[712]: [/dev/cdc-wdm0] Registered 'nas' (version 1.25) client with ID '2'
Aug 21 07:47:20 raspberrypi ModemManager[712]: [/dev/cdc-wdm0] Allocating new client ID...
Aug 21 07:47:20 raspberrypi ModemManager[712]: [/dev/cdc-wdm0] Registered 'wms' (version 1.10) client with ID '1'
Aug 21 07:47:20 raspberrypi ModemManager[712]: [/dev/cdc-wdm0] Allocating new client ID...
Aug 21 07:47:20 raspberrypi ModemManager[712]: [/dev/cdc-wdm0] Registered 'uim' (version 1.46) client with ID '1'
Aug 21 07:47:20 raspberrypi ModemManager[712]: &lt;warn&gt;  (ttyUSB2): port attributes not fully set
Aug 21 07:47:20 raspberrypi ModemManager[712]: &lt;warn&gt;  couldn't load Supported Bands: 'QMI operation failed: Cannot send message: QMI service 'dms' version '1.1' required, got version '1.0''
Aug 21 07:47:20 raspberrypi ModemManager[712]: &lt;warn&gt;  couldn't load Power State: 'QMI operation failed: Cannot send message: QMI service 'dms' version '1.1' required, got version '1.0''
Aug 21 07:47:55 raspberrypi ModemManager[712]: &lt;warn&gt;  Modem couldn't be initialized: Couldn't check unlock status: Couldn't get SIM lock status after 6 retries
Aug 21 07:47:55 raspberrypi ModemManager[712]: &lt;info&gt;  Modem: state changed (unknown -&gt; failed)
</code></pre>
<p>System info:</p>
<pre><code>pi@raspberrypi:~ $ uname -a
Linux raspberrypi 4.19.66-v7+ #1253 SMP Thu Aug 15 11:49:46 BST 2019 armv7l GNU/Linux
pi@raspberrypi:~ $ lsb_release -a
No LSB modules are available.
Distributor ID: Raspbian
Description:    Raspbian GNU/Linux 9.13 (stretch)
Release:    9.13
Codename:   stretch
</code></pre>
"
116553,1,2020-08-30T11:32:44.427,0,27,114740,,2020-09-04T10:35:03.947,2020-08-30T12:29:55.540,6,,"<p>My ISP says I have too many devices on my wifi network at home and it could be causing performance issues.  <strong>Bunk</strong>!  What tools are available for a Raspi Zero WH running buster, headless that can report the number and size of packets the pi sends and receives during a given interval -- lets say 20 minutes.  I want each pi to monitor its own network volume.</p>
<p>I saw references to tcpdump, but that seems to be more for analyzing packets.  I just want them counted and weighed.</p>
<p>Four of my devices have DHT22 sensors that report the results to an Adafruit server once per minute.
Another runs a query once per day to download 1MB+/-.
Another runs an app on demand that downloads &lt;&lt;1MB each time it's run.
Then there's the handful of traffic from my ssh sessions to edit python code, git commits, etc.</p>
"
116604,1,2020-09-01T09:38:20.860,0,1163,113890,,2021-01-29T16:08:30.957,2020-09-01T10:04:40.803,2,,"<p>On Ubuntu, you can type Alt-F2 to get the &quot;Run Command&quot; prompt, you can just type <code>r</code> there, and the desktop GUI will be restarted, without the need to log off and log on again ...</p>
<p>Here are a bit more details on this procedure for Ubuntu Gnome3: <a href=""https://linuxconfig.org/how-to-restart-gui-on-ubuntu-20-04-focal-fossa"" rel=""nofollow noreferrer"">https://linuxconfig.org/how-to-restart-gui-on-ubuntu-20-04-focal-fossa</a></p>
<p>However, I cannot do the same on Raspbian Stretch:</p>
<p><a href=""https://i.stack.imgur.com/SFZcg.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/SFZcg.png"" alt=""Alt-F2 R"" /></a></p>
<p><a href=""https://i.stack.imgur.com/wNJac.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wNJac.png"" alt=""Alt-F2 R fail"" /></a></p>
<p>... since Alt-F2 + <code>r</code> fails with: <code>Failed to execute child process &quot;r&quot; (No such file or directory)</code>.</p>
<p>The above link mentions that in Ubuntu Gnome3, Alt-F2 + <code>r</code> is equivalent to the commands:</p>
<ul>
<li><code>gnome-shell --replace</code> (sudo not required); or</li>
<li><code>sudo systemctl restart systemd-logind</code> (sudo required).</li>
</ul>
<p>I've tried <code>sudo systemctl restart systemd-logind</code> on Raspbian Stretch - but it looks like it does not restart the desktop GUI.</p>
<p>I also found this post: <a href=""https://unix.stackexchange.com/questions/518001/what-commands-are-run-by-altf2-and-r"">https://unix.stackexchange.com/questions/518001/what-commands-are-run-by-altf2-and-r</a> - and for cinnamon desktop, apparently the commands are:</p>
<ul>
<li><code>pkill -HUP -f &quot;cinnamon --replace&quot;</code></li>
<li><code>dbus-send --type=method_call --print-reply --dest=org.gnome.Shell /org/gnome/Shell org.gnome.Shell.Eval string:'global.reexec_self()'</code> (this is also for Gnome desktop)</li>
<li><code>dbus-send --type=method_call --print-reply --dest=org.Cinnamon /org/Cinnamon org.Cinnamon.Eval string:'global.reexec_self()'</code></li>
</ul>
<p>So - is there a similar &quot;restart GUI&quot; command that I can use in Raspbian without sudo? (I'm interested in the command line - but ultimately, I would want to put it as a shortcut in the Raspberry menu...)</p>
"
116809,1,2020-09-10T21:27:41.333,3,122,124933,,2021-02-14T11:24:16.683,2021-02-14T11:24:16.683,4,,"<p>I am following a tutorial for using a Raspberry Pi to create a MAC address sniffer. The tutorial recommends the following commands are entered into the <code>etc/network/interfaces</code> file:</p>
<pre><code> allow-hotplug wlan1
 iface wlan1 inet manual
 pre-up iw phy phy1 interface add mon1 type monitor
 pre-up iw dev wlan1 del
 pre-up ifconfig mon1 up
</code></pre>
<p>When I do this, nothing appears to happen. I have read that since Stretch Rasbian uses dhcpcd for networking. I have looked into the <code>/etc/dhcpcd.conf</code> file but it doesn't appear to contain the same information. I have also read that dhcpcd essentially makes things like allow-hotplug obsolete.</p>
<p>Could someone 'translate' this to the way that we need to do it in Rasbian 10? I can't seem to find any information about this exactly online. Any help is greatly appreciated.</p>
"
116819,1,2020-09-11T06:16:11.303,2,336,83790,,2020-09-18T23:10:01.597,2020-09-16T10:38:29.870,11,,"<h2>NOTE: All questions here pertain to Raspberry Pi OS, Lite version</h2>
<p>I have asked a <a href=""https://raspberrypi.stackexchange.com/questions/95532/bluetooth-blues"">similar question</a> here, without getting an answer. Eighteen months have passed, new information has come to light and I have a newer version of Raspberry Pi hardware and software. Unfortunately, the results are much the same, but hope springs eternal.</p>
<p>My objective <em>seems</em> simple: Play music files on my RPi using the CLI, and listen to that music through a Bluetooth speaker. In the interests of keeping this question as brief as possible, my question will focus on <strong>getting to first base</strong>; i.e. How to establish a solid connection between the RPi and the BT speaker.</p>
<p>It may not be germane to my question, but on another Linux platform (Ubuntu 20.04), it took me about 3-4 minutes to sort this all out from the CLI: discover speaker, pair, connect &amp; play music. That may be an apples-to-oranges comparison, but it seems worth mentioning here.</p>
<h2>A summary of my system:</h2>
<blockquote>
<p>Hardware   : BCM2711<br />
Revision   : b03111<br />
Firmware   : Jun 15 2020 14:36:19 (see below for further details)
Model      : Raspberry Pi 4 Model B Rev 1.1<br />
Distro     : Raspberry Pi OS <em><strong>Lite</strong></em></p>
</blockquote>
<pre class=""lang-bsh prettyprint-override""><code>pi@raspberrypi4b:~ $ uname -a
Linux raspberrypi4b 5.4.51-v7l+ #1333 SMP Mon Aug 10 16:51:40 BST 2020 armv7l GNU/Linux 
...
pi@raspberrypi4b:~ $ vcgencmd bootloader_version
Jun 15 2020 14:36:19
version c302dea096cc79f102cec12aeeb51abf392bd781 (release)
timestamp 1592228179
...
pi@raspberrypi4b:~ $ dpkg -l | grep blue
ii  bluez                          5.50-1.2~deb10u1+rpt2               armhf        Bluetooth tools and daemons
ii  bluez-firmware                 1.2-4+rpt5                          all          Firmware for Bluetooth devices
ii  pi-bluetooth                   0.1.15                              all          Raspberry Pi 3 bluetooth
</code></pre>
<p><strong>I have assumed these are all the tools needed by RPi to establish a connection to the speaker. But perhaps this is my first error? Can anyone confirm this?</strong></p>
<h2>Connection attempts:</h2>
<p>Here's what I've tried, and some questions:</p>
<h3><code>hcitool</code> discovery:</h3>
<pre class=""lang-bsh prettyprint-override""><code>$ hcitool scan
Scanning ...
    B8:F6:53:12:13:F1   JBL Flip 5
</code></pre>
<p>Note that after powering the BT speaker up &amp; pressing the BT button on it, I waited several seconds before starting the scan. The scan had to be repeated ~10 times before the BT speaker <code>JBL Flip 5</code> was discovered.</p>
<h3><code>bluetoothctl</code> pairing and connection:</h3>
<pre class=""lang-bsh prettyprint-override""><code>pi@raspberrypi4b:~ $ bluetoothctl
[bluetooth]# agent on
Agent registration enabled
[bluetooth]# scan on
No default controller available
[bluetooth]#
</code></pre>
<p><strong>Note that <code>bluetoothctl</code> does not seem to be aware of its own default controller. Some of the references (see below) show the default controller responsive immediately after entering <code>bluetoothctl</code>. Other references indicate that <code>bluetoothctl</code> must be run w/ <code>sudo</code>. It's unclear why this is necessary, but it does make a difference:</strong></p>
<pre class=""lang-bsh prettyprint-override""><code>$ sudo bluetoothctl
Agent registered
[bluetooth]# devices
[bluetooth]# list
Controller DC:A6:32:02:F0:97 raspberrypi4b [default]
...
$ bluetoothctl show
Controller DC:A6:32:02:F0:97 (public)
Name: raspberrypi4b
Alias: raspberrypi4b
Class: 0x00000000
Powered: yes
Discoverable: no
Pairable: yes
UUID: Generic Attribute Profile (00001801-0000-1000-8000-00805f9b34fb)
UUID: A/V Remote Control (0000110e-0000-1000-8000-00805f9b34fb)
UUID: PnP Information (00001200-0000-1000-8000-00805f9b34fb)
UUID: A/V Remote Control Target (0000110c-0000-1000-8000-00805f9b34fb)
UUID: Generic Access Profile (00001800-0000-1000-8000-00805f9b34fb)
Modalias: usb:v1D6Bp0246d0532
Discovering: no
...
[bluetooth]# scan on
Discovery started

...  some time after pressing the BT button on the speaker:

[NEW] Device B8:F6:53:12:13:F1 JBL Flip 5

[bluetooth]# scan off
Discovery stopped

...

[bluetooth]# info B8:F6:53:12:13:F1
Device B8:F6:53:12:13:F1 (public)
    Name: JBL Flip 5
    Alias: JBL Flip 5
    Class: 0x00240414
    Icon: audio-card
    Paired: no
    Trusted: no
    Blocked: no
    Connected: no
    LegacyPairing: no
    UUID: Handsfree                 (0000111e-0000-1000-8000-00805f9b34fb)
    UUID: Headset                   (00001108-0000-1000-8000-00805f9b34fb)
    UUID: Audio Sink                (0000110b-0000-1000-8000-00805f9b34fb)
    UUID: Advanced Audio Distribu.. (0000110d-0000-1000-8000-00805f9b34fb)
    UUID: A/V Remote Control        (0000110e-0000-1000-8000-00805f9b34fb)

[bluetooth]# pair B8:F6:53:12:13:F1
Attempting to pair with B8:F6:53:12:13:F1
[CHG] Device B8:F6:53:12:13:F1 Connected: yes
[CHG] Device B8:F6:53:12:13:F1 UUIDs: 00001101-0000-1000-8000-00805f9b34fb
[CHG] Device B8:F6:53:12:13:F1 UUIDs: 0000110b-0000-1000-8000-00805f9b34fb
[CHG] Device B8:F6:53:12:13:F1 UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device B8:F6:53:12:13:F1 UUIDs: 0000110e-0000-1000-8000-00805f9b34fb
[CHG] Device B8:F6:53:12:13:F1 ServicesResolved: yes
[CHG] Device B8:F6:53:12:13:F1 Paired: yes
Pairing successful

</code></pre>
<h3>but <em>immediately</em> thereafter:</h3>
<pre class=""lang-bsh prettyprint-override""><code>[CHG] Device B8:F6:53:12:13:F1 ServicesResolved: no
[CHG] Device B8:F6:53:12:13:F1 Connected: no
[bluetooth]# connect B8:F6:53:12:13:F1
Attempting to connect to B8:F6:53:12:13:F1
Failed to connect: org.bluez.Error.Failed

</code></pre>
<p><strong>Repeated attempts to restore the connection failed as above. This pattern of a successful pairing &amp; connection, immediately followed by <code>[CHG]</code> to <code>no</code>/failure has been repeated several times.</strong></p>
<h2>The Questions:</h2>
<p><strong>1. Why am I unable to maintain a stable BT connection between the RPi and speaker?</strong></p>
<p><strong>2. Why does <code>bluetoothctl</code> require root privileges to start properly - is this part of the problem?</strong></p>
<h2>My research:</h2>
<ul>
<li><p><a href=""https://raspberrypi.stackexchange.com/questions/53408/automatically-connect-trusted-bluetooth-speaker"">This Q&amp;A seemed very similar</a>, though I don't need to automate it.</p>
</li>
<li><p>Several other Q&amp;A and tutorials have been reviewed <a href=""http://denvycom.com/blog/playing-audio-over-bluetooth-on-rasbperry-pi-command-line/"" rel=""nofollow noreferrer"">1</a>, <a href=""https://raspberrypi.stackexchange.com/questions/99975/raspberry-pi-3b-and-beats-pill-bluetooth-speaker"">2</a>, <a href=""https://www.raspberrypi.org/forums/viewtopic.php?t=207025"" rel=""nofollow noreferrer"">3</a>, <a href=""https://circuitdigest.com/microcontroller-projects/diy-raspberry-pi-bluetooth-speaker"" rel=""nofollow noreferrer"">4</a>, <a href=""https://pimylifeup.com/raspberry-pi-bluetooth/"" rel=""nofollow noreferrer"">5</a>, <a href=""https://stackoverflow.com/questions/48279646/bluetoothctl-no-default-controller-available"">6</a>, <a href=""https://www.raspberrypi.org/blog/how-to-play-sound-and-make-noise-with-your-raspberry-pi/"" rel=""nofollow noreferrer"">7</a></p>
</li>
</ul>
<p><strong>It strikes me that AFAICT no two of the &quot;references&quot; in this collection have anything in common!</strong></p>
"
116965,1,2020-09-16T16:19:08.733,0,86,,user123730,2020-09-18T06:05:46.647,,0,,"<p>I'm just running a website on my local network, and I want to change the hostname (because it's run on &lt;HOSTNAME&gt;.local), but I only want to change the hostname for the local domain name, not for everything. Is there a way to only change it for the local website domain without local dns? Thanks in advance!</p>
"
117178,1,2020-09-27T15:19:43.753,1,67,79866,,2020-09-27T18:26:55.110,,0,,"<p>A Bluetooth connection with a fresh flashed Raspberry Pi OS should work out of the box, at least with a Media audio profile. I can pair the smartphone and the RasPi but I cannot connect using <code>bluetoothctl</code>. I use the Raspberry Pi OS (32-bit) with desktop, based on version Buster on a Raspberry Pi 4B. First I make the smartphone in its bluetooth settings visible for other devices. Then I do:</p>
<pre><code>rpi ~$ bluetoothctl
Agent registered

[bluetooth]# scan on
Discovery started
[NEW] Device 14:A3:64:06:9F:DB Ingo (Galaxy S5)

[bluetooth]# scan off
[CHG] Controller DC:A6:32:7F:38:48 Discovering: no
Discovery stopped

[bluetooth]# pair 14:A3:64:06:9F:DB
Attempting to pair with 14:A3:64:06:9F:DB
[CHG] Device 14:A3:64:06:9F:DB Connected: yes
Request confirmation
[agent] Confirm passkey 880257 (yes/no): yes
[CHG] Device 14:A3:64:06:9F:DB Modalias: bluetooth:v0075p0100d0200
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001105-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 0000110a-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 0000110c-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001112-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001115-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001116-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 0000111f-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 0000112d-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 0000112f-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001132-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001800-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB UUIDs: 00001801-0000-1000-8000-00805f9b34fb
[CHG] Device 14:A3:64:06:9F:DB ServicesResolved: yes
[CHG] Device 14:A3:64:06:9F:DB Paired: yes
Pairing successful
[CHG] Device 14:A3:64:06:9F:DB ServicesResolved: no
[CHG] Device 14:A3:64:06:9F:DB Connected: no

[bluetooth]# connect 14:A3:64:06:9F:DB
Attempting to connect to 14:A3:64:06:9F:DB
Failed to connect: org.bluez.Error.Failed
</code></pre>
<p>Why do I get this error message? What have I to do to connect successfully?</p>
"
117308,1,2020-10-03T06:50:42.763,0,69,119670,,2020-10-03T10:35:23.583,2020-10-03T09:21:13.797,3,,"<p>I have a Raspberry Pi on my local network running Pi-hole. It's been all good for months, but suddenly I'm experiencing problems.</p>
<p>When I'm logged into the RPI with ssh and try to do anything <code>sudo</code> related I get these error messages:</p>
<pre><code>$ echo hi
hi

$ sudo echo hi
sudo: unable to resolve host rpi3: Name or service not known
sudo: pam_open_session: Permission denied
sudo: policy plugin failed session initialization
</code></pre>
<p>I suspect the root cause to be related to the two later lines as I have not changed the hostname since the setup and <code>/etc/hosts</code> and <code>hostname</code> seems to be all good.</p>
<p>I got one other clue from <code>/var/log/auth.log</code> from around when the problems started (I believe this is just after a restart caused by a power outage):</p>
<pre><code>Oct  2 18:17:18 rpi3 CRON[235]: PAM pam_parse: expecting return value; [...required)pam_unix.so]
Oct  2 18:17:18 rpi3 CRON[235]: PAM (cron) no module name supplied
</code></pre>
<p>Just for the record. Here's the hosts:</p>
<pre><code>$ cat /etc/hosts
127.0.0.1   localhost
::1     locqlhost ip6-locamhost ip6-loopback
ff02::1     ip6-allnodew
ff02::2     ip6-allrouters

127.0.1.1   rpi3
</code></pre>
<p>Hostname:</p>
<pre><code>$ hostname
rpi3
</code></pre>
<p>Do you have any clues on what the real problem is here? And how to solve it?</p>
<p>(Please don't close this as a duplicate, because most related questions with similar error messages seem to be related people changing their hostname incorrectly)</p>
<h3>Update with extra information</h3>
<p>I'm running Raspberry Pi OS 10 (Buster) with kernel 5.4.51+.</p>
<p>I've redacted the username in the output below. <em>&quot;Tillatelse avvist&quot;</em> means <em>&quot;Permission denied&quot;</em>.</p>
<pre><code>$ journalctl -b -e
[...]
Oct 03 11:09:02 rpi3 CRON[1019]: PAM pam_parse: expecting return value; [...required)pam_unix.so]
Oct 03 11:09:02 rpi3 CRON[1019]: PAM (cron) no module name supplied
Oct 03 11:09:02 rpi3 cron[223]: Tillatelse avvist
Oct 03 11:09:02 rpi3 CRON[1019]: Tillatelse avvist
Oct 03 11:09:04 rpi3 systemd[1]: Starting Clean php session files...
Oct 03 11:09:05 rpi3 sessionclean[1024]: PHP Warning:  PHP Startup: Unable to load dynamic library 'xmlreader.so' (tried: /usr/lib/php/20180731/xmlreader.so (/usr/lib/php/20180731/xmlreader.so: undefined 
Oct 03 11:09:05 rpi3 sessionclean[1024]: PHP Warning:  PHP Startup: Unable to load dynamic library 'xsl.so' (tried: /usr/lib/php/20180731/xsl.so (/usr/lib/php/20180731/xsl.so: undefined symbol: dom_node_c
Oct 03 11:09:05 rpi3 sessionclean[1024]: PHP Warning:  PHP Startup: Unable to load dynamic library 'xmlreader.so' (tried: /usr/lib/php/20180731/xmlreader.so (/usr/lib/php/20180731/xmlreader.so: undefined 
Oct 03 11:09:05 rpi3 sessionclean[1024]: PHP Warning:  PHP Startup: Unable to load dynamic library 'xsl.so' (tried: /usr/lib/php/20180731/xsl.so (/usr/lib/php/20180731/xsl.so: undefined symbol: dom_node_c
Oct 03 11:09:05 rpi3 systemd[1]: phpsessionclean.service: Succeeded.
Oct 03 11:09:05 rpi3 systemd[1]: Started Clean php session files.
Oct 03 11:10:01 rpi3 CRON[1067]: PAM pam_parse: expecting return value; [...required)pam_unix.so]
Oct 03 11:10:01 rpi3 CRON[1067]: PAM (cron) no module name supplied
Oct 03 11:10:01 rpi3 cron[223]: Tillatelse avvist
Oct 03 11:10:01 rpi3 CRON[1067]: Tillatelse avvist
Oct 03 11:11:02 rpi3 sshd[1072]: Accepted publickey for [username] from 192.168.1.32 port 51912 ssh2: RSA SHA256:P/y5sNVdEePPLOfcoR7VMdBXbWbu6wrus3I7BhoyGGU
Oct 03 11:11:02 rpi3 sshd[1072]: pam_unix(sshd:session): session opened for user [username] by (uid=0)
Oct 03 11:11:02 rpi3 systemd[1]: Created slice User Slice of UID 1001.
Oct 03 11:11:02 rpi3 systemd[1]: Starting User Runtime Directory /run/user/1001...
Oct 03 11:11:02 rpi3 systemd-logind[292]: New session c2 of user [username].
Oct 03 11:11:02 rpi3 systemd[1]: Started User Runtime Directory /run/user/1001.
Oct 03 11:11:02 rpi3 systemd[1]: Starting User Manager for UID 1001...
Oct 03 11:11:02 rpi3 systemd[1077]: PAM pam_parse: expecting return value; [...required)pam_unix.so]
Oct 03 11:11:02 rpi3 systemd[1077]: PAM (systemd-user) no module name supplied
Oct 03 11:11:02 rpi3 systemd[1077]: PAM failed: Permission denied
Oct 03 11:11:02 rpi3 systemd[1077]: user@1001.service: Failed to set up PAM session: Operation not permitted
Oct 03 11:11:02 rpi3 systemd[1077]: user@1001.service: Failed at step PAM spawning /lib/systemd/systemd: Operation not permitted
Oct 03 11:11:02 rpi3 systemd[1]: user@1001.service: Failed with result 'protocol'.
Oct 03 11:11:02 rpi3 systemd[1]: Failed to start User Manager for UID 1001.
Oct 03 11:11:03 rpi3 systemd[1]: Started Session c2 of user [username].
Oct 03 11:11:07 rpi3 sudo[1100]:    [username] : unable to resolve host rpi3
Oct 03 11:11:07 rpi3 sudo[1100]:    [username] : problem with defaults entries ; TTY=pts/0 ; PWD=/home/[username] ; USER=root ;
Oct 03 11:11:07 rpi3 sudo[1100]: PAM pam_parse: expecting return value; [...required)pam_unix.so]
Oct 03 11:11:07 rpi3 sudo[1100]: PAM (sudo) no module name supplied
Oct 03 11:11:07 rpi3 sudo[1100]:    [username] : TTY=pts/0 ; PWD=/home/[username] ; USER=root ; COMMAND=/bin/echo hei
Oct 03 11:11:07 rpi3 sudo[1100]:    [username] : pam_open_session: Permission denied ; TTY=pts/0 ; PWD=/home/[username] ; USER=root ; COMMAND=/bin/echo hei
Oct 03 11:11:25 rpi3 dbus-daemon[261]: [system] Activating via systemd: service name='org.freedesktop.hostname1' unit='dbus-org.freedesktop.hostname1.service' requested by ':1.11' (uid=1001 pid=1108 comm=
Oct 03 11:11:25 rpi3 systemd[1]: Starting Hostname Service...
Oct 03 11:11:26 rpi3 dbus-daemon[261]: [system] Successfully activated service 'org.freedesktop.hostname1'
Oct 03 11:11:26 rpi3 systemd[1]: Started Hostname Service.
Oct 03 11:11:56 rpi3 systemd[1]: systemd-hostnamed.service: Succeeded.
</code></pre>
"
117367,1,2020-10-06T05:26:24.840,0,50,125621,,2020-10-12T02:10:28.287,,0,,"<p>I am trying to have a git server on my raspberry pi that is passwordless with only ssh key authetication.</p>
<p>Sshing in with ssh key works fine, although when I try to push to a repository this is the message I get</p>
<pre><code>Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>
<p>No there is a fix to this, if in sshd_config I set:</p>
<pre><code>PasswordAuthentication yes
</code></pre>
<p>This fixes it, although it will ask me a password</p>
<p>What I have done:</p>
<p>I have created a user git, (I tried sudo and non sudo), I have added correctly the ssh key and correctly the private key on the machine trying to push (this was verified by ssh correctly into the pi).</p>
<p>What has not worked:
Using:</p>
<pre><code>sudo passwd -d git
</code></pre>
<p>This will result not in a success message but in a expiring password change message, and password will still be asked making the user git unaccessible</p>
<pre><code>PermitEmptyPasswords yes
</code></pre>
<p>Does not work</p>
<pre><code>PubkeyAuthentication yes
</code></pre>
<p>Does not work</p>
<pre><code>RSAAuthentication yes
</code></pre>
<p>Does not work</p>
<ul>
<li>Making git sudo</li>
</ul>
<p>Does not work</p>
<ul>
<li>Adding the public ssh key and associating it with git with ssh -i</li>
</ul>
<p>Does not work</p>
"
117657,1,2020-10-16T13:19:40.283,1,51,124592,,2020-10-20T15:27:21.427,,8,,"<p>I have an electron.js application installed in a raspberry pi. The app displays date and time, the initial date and time is taken from a server and is incremented on the application using <code>setInterval</code> with a 1000 ms timer. What's weird is I have 3 of this devices running the same application, initially all the dates and time are the same but one of the devices is now ahead of the other 2. The application has been opened for about 5 hours now and one of the device is ahead about 12 seconds.</p>
"
117866,1,2020-10-25T12:00:22.307,1,28,44114,,2020-10-25T23:35:24.997,,2,,"<p>Responses to this post: <a href=""https://raspberrypi.stackexchange.com/questions/46470/how-does-rpi-know-when-it-hasnt-got-enough-power"">How does RPi &quot;know&quot; when it hasn&#39;t got enough power</a> indicate that there is a digital input somewhere on the RPi which indicates what the supply voltage has dropped off too low.</p>
<p>How can this be accessed by a script, please? Ideally, it would be Python, but if I can find the Linux file containing the data, I can work with that.</p>
<p>(I'm hoping to get really lucky and get access to the supply voltage, but the indications are that the RPi only has access to a digital signal indicating &quot;too low&quot;.)</p>
<p>Thanks.</p>
"
117900,1,2020-10-26T16:38:13.417,0,26,48486,,2020-10-26T16:50:02.540,,0,,"<p>I'm building a raspberry pi project that focuses on outputting analog signals through a DAC connected via SPI. For now, I only need the outputs to be updated every millisecond. I'm testing on a pi3 and pi4 with the latest raspberry pi os lite, but I have installed xorg and there's a bunch of stuff going on concurrently. Still, overall CPU usage isn't very high I believe ('top' says around 85% idle, the load average says 2.0 &lt;- not sure what that means).</p>
<p>There is a single C++ process under all this that does one thing in a loop :</p>
<ul>
<li>if 1ms has passed since the last update, update the DAC with a new value (that comes from an in memory buffer, no blocking or anything)</li>
</ul>
<p>Measuring time is done with <em>clock_gettime(CLOCK_REALTIME, ...)</em>.</p>
<p>I can carefully analyze the analog output with an oscilloscope and I notice a few things:</p>
<ol>
<li>The output is close to perfect, but every few seconds a pause in updates occurs that can last up to about 10ms (much more so on the pi 3)</li>
<li>Any increase in activity in the other processes causes much more of these short glitches</li>
<li>There are a few monster glitches that are &gt;100ms, but they are very rare (less than one every couple of minutes, very long stretches of time without any, especially with a light load =&gt; CPU throttling?)</li>
</ol>
<p>Although this is clearly linked to the other processes running (including one making small writes to the SD card), memory usage is very stable and the CPU never comes close to full load.</p>
<p>My question is what can I do to get the best possible output stability? Is it inevitable that a process will sometimes have its execution suspended for 10ms? One option I'm guessing is attaching a microcontroller as a buffer to the DAC. But even then, a 100ms latency is too much and I see no other way of covering the &quot;monster glitches&quot;.</p>
"
118072,1,2020-11-03T00:24:14.947,0,29,126479,,2020-12-04T10:02:40.253,2020-11-03T16:43:44.867,2,,"<p>i tried the example from this website:
<a href=""https://medium.com/sysf/introduction-to-iot-with-raspberry-pi-and-node-js-using-rgb-led-lights-77f4750a5ea9"" rel=""nofollow noreferrer"">https://medium.com/sysf/introduction-to-iot-with-raspberry-pi-and-node-js-using-rgb-led-lights-77f4750a5ea9</a></p>
<p>it works well but at connection time all gpios are at status 1.
if leds are motors,they will start to run at connection time.
so i tried to modify this lines by replacing true by false, but it doesn't change anything.</p>
<p>main.js</p>
<pre><code>// when connection is established 
connection.on( 'connect', () =&gt; {
  isConnectionActive = false;
} );

connection.on( 'disconnect', () =&gt; {
  isConnectionActive = true;
} );
</code></pre>
<p>main.js</p>
<pre><code>// get button elements
var button_red = document.getElementById( 'button-red' );
var button_green = document.getElementById( 'button-green' );
var button_blue = document.getElementById( 'button-blue' );

// initial button states
var button_red_state = true;
var button_green_state = true;
var button_blue_state = true;

// check for active connection
var isConnectionActive = true;

// connect to the Web Socket server
var connection = io( 'http://0.0.0.0:9000' );

// when connection is established 
connection.on( 'connect', () =&gt; {
  isConnectionActive = true;
} );

connection.on( 'disconnect', () =&gt; {
  isConnectionActive = false;
} );

// WebSocket event emitter function
var emitEvent = function( event ) {
  if( ! isConnectionActive ) {
    return alert( 'Server connection is closed!' );
  }

  // change button state
  if( event.target.id === 'button-red') { button_red_state = ! button_red_state; }
  if( event.target.id === 'button-green') { button_green_state = ! button_green_state }
  if( event.target.id === 'button-blue') { button_blue_state = ! button_blue_state; }

  // emit `led-toggle` socket event
  connection.emit( 'led-toggle', {
    r: button_red_state,
    g: button_green_state,
    b: button_blue_state,
  } );
};

// add event listeners on button
button_red.addEventListener( 'click', emitEvent );
button_blue.addEventListener( 'click', emitEvent );
button_green.addEventListener( 'click', emitEvent );
</code></pre>
<p>server.js</p>
<pre><code>const path = require( 'path' );
const express = require( 'express' );
const socketIO = require( 'socket.io' );

// import LED control API
const { toggle } = require( './led-control' );

// create an express app
const app = express();

// send `index.html` from the current directory
// when `http://&lt;ip&gt;:9000/` route is accessed using `GET` method
app.get( '/', ( request, response ) =&gt; {
  response.sendFile( path.resolve( __dirname, 'web-app/index.html' ), {
    headers: {
      'Content-Type': 'text/html',
    }
  } );
} );

// send asset files
app.use( '/assets/', express.static( path.resolve( __dirname, 'web-app' ) ) );
app.use( '/assets/', express.static( path.resolve( __dirname, 'node_modules/socket.io-client/dist' ) ) );

// server listens on `9000` port
const server = app.listen( 9000, () =&gt; console.log( 'Express server started!' ) );

// create a WebSocket server
const io = socketIO( server );

// listen for connection
io.on( 'connection', ( client ) =&gt; {
  console.log( 'SOCKET: ', 'A client connected', client.id );

  // listen to `led-toggle` event
  client.on( 'led-toggle', ( data ) =&gt; {
    console.log( 'Received led-toggle event.' );
    toggle( data.r, data.g, data.b ); // toggle LEDs
  } );

} );
</code></pre>
<p>led-control.js</p>
<pre><code>// import `onoff` package
const { Gpio } = require( 'onoff' );

// configure LED pins
const pin_red = new Gpio( 18, 'out' );
const pin_green = new Gpio( 23, 'out' );
const pin_blue = new Gpio( 24, 'out' );

// toggle LED states
exports.toggle = ( r, g, b ) =&gt; {
  pin_red.writeSync( r ? 0 : 1 );
  pin_green.writeSync( g ? 0 : 1 );
  pin_blue.writeSync( b ? 0 :1 );
};
</code></pre>
"
118867,1,2020-12-03T03:59:12.573,0,372,127415,,2020-12-06T14:59:37.713,,0,,"<p>I recently bought a Raspberry Pi 4 (4GB). I installed the latest version of Raspberry Pi OS (<code>2020-08-20-raspios-buster-armhf-full.zip</code>) on it and plugged it on my 1080p TV, and everything worked as expected.</p>
<p>However, when I plug it to a PC monitor (Asus PA238, a 1920×1080@60Hz monitor), my monitor shows &quot;OUT OF RANGE&quot;, and Raspberry Pi OS defaults to 1024×768 resolution. This PC monitor works perfectly fine in its nominal mode (1920×1080@60Hz) with my Linux desktop and my Linux laptop.</p>
<p>If I leave the <code>/boot/config.txt</code> file untouched, here is what I have with <code>tvservice</code>:</p>
<pre><code>state 0x6 [DVI CUSTOM RGB full 4:3], 1024x768 @ 60.00Hz, progressive
pi@raspberrypi:~ $ tvservice -m DMT
Group DMT has 17 modes:
           mode 4: 640x480 @ 60Hz 4:3, clock:25MHz progressive 
           mode 6: 640x480 @ 75Hz 4:3, clock:31MHz progressive 
           mode 8: 800x600 @ 56Hz 4:3, clock:36MHz progressive 
           mode 9: 800x600 @ 60Hz 4:3, clock:40MHz progressive 
           mode 10: 800x600 @ 72Hz 4:3, clock:50MHz progressive 
           mode 11: 800x600 @ 75Hz 4:3, clock:49MHz progressive 
           mode 16: 1024x768 @ 60Hz 4:3, clock:65MHz progressive 
           mode 17: 1024x768 @ 70Hz 4:3, clock:75MHz progressive 
           mode 18: 1024x768 @ 75Hz 4:3, clock:78MHz progressive 
           mode 21: 1152x864 @ 75Hz 4:3, clock:108MHz progressive 
           mode 32: 1280x960 @ 60Hz 4:3, clock:108MHz progressive 
           mode 35: 1280x1024 @ 60Hz 5:4, clock:108MHz progressive 
           mode 36: 1280x1024 @ 75Hz 5:4, clock:135MHz progressive 
           mode 47: 1440x900 @ 60Hz 16:10, clock:106MHz progressive 
           mode 58: 1680x1050 @ 60Hz 16:10, clock:146MHz progressive 
           mode 82: 1920x1080 @ 60Hz 16:9, clock:148MHz progressive 
           mode 85: 1280x720 @ 60Hz 16:9, clock:74MHz progressive 
pi@raspberrypi:~ $ tvservice -m CEA
Group CEA has 18 modes:
           mode 1: 640x480 @ 60Hz 4:3, clock:25MHz progressive 
           mode 2: 720x480 @ 60Hz 4:3, clock:27MHz progressive 
           mode 3: 720x480 @ 60Hz 16:9, clock:27MHz progressive 
           mode 4: 1280x720 @ 60Hz 16:9, clock:74MHz progressive 
           mode 5: 1920x1080 @ 60Hz 16:9, clock:74MHz interlaced 
           mode 14: 720x480 @ 60Hz 4:3, clock:54MHz x2 progressive 
           mode 15: 720x480 @ 60Hz 16:9, clock:54MHz x2 progressive 
  (prefer) mode 16: 1920x1080 @ 60Hz 16:9, clock:148MHz progressive 
           mode 17: 720x576 @ 50Hz 4:3, clock:27MHz progressive 
           mode 18: 720x576 @ 50Hz 16:9, clock:27MHz progressive 
           mode 19: 1280x720 @ 50Hz 16:9, clock:74MHz progressive 
           mode 20: 1920x1080 @ 50Hz 16:9, clock:74MHz interlaced 
           mode 29: 720x576 @ 50Hz 4:3, clock:54MHz x2 progressive 
           mode 30: 720x576 @ 50Hz 16:9, clock:54MHz x2 progressive 
           mode 31: 1920x1080 @ 50Hz 16:9, clock:148MHz progressive 
           mode 32: 1920x1080 @ 24Hz 16:9, clock:74MHz progressive 
           mode 33: 1920x1080 @ 25Hz 16:9, clock:74MHz progressive 
           mode 34: 1920x1080 @ 30Hz 16:9, clock:74MHz progressive
</code></pre>
<p>I've tried to edit the <code>config.txt</code> file to use</p>
<pre><code>hdmi_group=1
hdmi_mode=16
</code></pre>
<p>since it seems to be the &quot;preferred&quot; format, but I always end up with a 1024×768 screen. I've then tried</p>
<pre><code>hdmi_group=2
hdmi_mode=82
</code></pre>
<p>as well as a bunch of other modes (with different frequencies), but every time the same thing happens. I can see:</p>
<ul>
<li>the bootup screen (with the Raspberry Pi logo at the bottom left) briefly</li>
<li>an underscore at the top left of the screen (that seems to match the configuration I've set in the config.txt file, i.e. it's smaller if I select Full HD resolution, and bigger if I select 640×480 type of resolution)</li>
<li>a grey screen with the Raspberry Pi logo flashes at the middle of the screen</li>
<li>another underscore at the bottom left</li>
<li>my screen then goes blank and its on-screen display (OSD) shows &quot;OUT OF RANGE&quot;</li>
<li>finally, Raspberry Pi OS GUI shows up in 1024×768.</li>
</ul>
<p>I tried to use the &quot;Screen Configuration&quot; tool to select a different resolution (I have 5 choices: <code>1920×1080</code>, <code>1024×768</code>, <code>800x600</code>, <code>848×480</code> and <code>640×480</code>), and all the resolutions work <strong>except the actual native one (1920×1080)!</strong> There is only one frequency option available (60Hz).</p>
<p>If I use <code>edidparser</code>, here are the information I get:</p>
<pre><code>pi@raspberrypi:~ $ tvservice -d asus_pa238_edid.dat
Written 256 bytes to asus_pa238_edid.dat
pi@raspberrypi:~ $ edidparser asus_pa238_edid.dat 
Enabling fuzzy format match...
Parsing asus_pa238_edid.dat...
HDMI:EDID version 1.3, 1 extensions, screen size 51x29 cm
HDMI:EDID features - videodef 0x80 !standby !suspend active off; colour encoding:RGB444|YCbCr422; sRGB is not default colourspace; preferred format is native; does not support GTF
HDMI:EDID found monitor S/N descriptor tag 0xff
HDMI:EDID found monitor range descriptor tag 0xfd
HDMI:EDID monitor range offsets: V min=0, V max=0, H min=0, H max=0
HDMI:EDID monitor range: vertical is 50-75 Hz, horizontal is 24-83 kHz, max pixel clock is 170 MHz
HDMI:EDID monitor range does not support GTF
HDMI:EDID found monitor name descriptor tag 0xfc
HDMI:EDID monitor name is ASUS_PA238
HDMI:EDID found preferred CEA detail timing format: 1920x1080p @ 60 Hz (16)
HDMI:EDID established timing I/II bytes are B7 EF 00
HDMI:EDID found DMT format: code 4, 640x480p @ 60 Hz in established timing I/II
HDMI:EDID found DMT format: code 6, 640x480p @ 75 Hz in established timing I/II
HDMI:EDID found DMT format: code 8, 800x600p @ 56 Hz in established timing I/II
HDMI:EDID found DMT format: code 9, 800x600p @ 60 Hz in established timing I/II
HDMI:EDID found DMT format: code 10, 800x600p @ 72 Hz in established timing I/II
HDMI:EDID found DMT format: code 11, 800x600p @ 75 Hz in established timing I/II
HDMI:EDID found DMT format: code 16, 1024x768p @ 60 Hz in established timing I/II
HDMI:EDID found DMT format: code 17, 1024x768p @ 70 Hz in established timing I/II
HDMI:EDID found DMT format: code 18, 1024x768p @ 75 Hz in established timing I/II
HDMI:EDID found DMT format: code 36, 1280x1024p @ 75 Hz in established timing I/II
HDMI:EDID standard timings block x 8: 0xD1C0 B300 8140 8180 9500 81C0 714F 0101 
HDMI:EDID found DMT format: code 82, 1920x1080p @ 60 Hz (16:9) in standard timing 0
HDMI:EDID found DMT format: code 58, 1680x1050p @ 60 Hz (16:10) in standard timing 1
HDMI:EDID found DMT format: code 32, 1280x960p @ 60 Hz (4:3) in standard timing 2
HDMI:EDID found DMT format: code 35, 1280x1024p @ 60 Hz (5:4) in standard timing 3
HDMI:EDID found DMT format: code 47, 1440x900p @ 60 Hz (16:10) in standard timing 4
HDMI:EDID found DMT format: code 85, 1280x720p @ 60 Hz (16:9) in standard timing 5
HDMI:EDID found DMT format: code 21, 1152x864p @ 75 Hz (4:3) in standard timing 6
HDMI:EDID parsing v3 CEA extension 0
HDMI:EDID monitor support - underscan IT formats:no, basic audio:yes, yuv444:yes, yuv422:yes, #native DTD:1
HDMI:EDID found CEA detail timing format: 720x480p @ 60 Hz (2)
HDMI:EDID found CEA detail timing format: 1280x720p @ 60 Hz (4)
HDMI:EDID found CEA detail timing format: 1280x720p @ 50 Hz (19)
HDMI:EDID found CEA detail timing format: 720x576p @ 50 Hz (17)
HDMI:EDID found CEA format: code 1, 640x480p @ 60Hz 
HDMI:EDID found CEA format: code 2, 720x480p @ 60Hz 
HDMI:EDID found CEA format: code 3, 720x480p @ 60Hz 
HDMI:EDID found CEA format: code 17, 720x576p @ 50Hz 
HDMI:EDID found CEA format: code 18, 720x576p @ 50Hz 
HDMI:EDID found CEA format: code 19, 1280x720p @ 50Hz 
HDMI:EDID found CEA format: code 4, 1280x720p @ 60Hz 
HDMI:EDID found CEA format: code 20, 1920x1080i @ 50Hz 
HDMI:EDID found CEA format: code 5, 1920x1080i @ 60Hz 
HDMI:EDID found CEA format: code 14, 1440x480p @ 60Hz 
HDMI:EDID found CEA format: code 15, 1440x480p @ 60Hz 
HDMI:EDID found CEA format: code 29, 1440x576p @ 50Hz 
HDMI:EDID found CEA format: code 30, 1440x576p @ 50Hz 
HDMI:EDID found CEA format: code 31, 1920x1080p @ 50Hz 
HDMI:EDID found CEA format: code 16, 1920x1080p @ 60Hz (native)
HDMI:EDID found CEA format: code 32, 1920x1080p @ 24Hz 
HDMI:EDID found CEA format: code 33, 1920x1080p @ 25Hz 
HDMI:EDID found CEA format: code 34, 1920x1080p @ 30Hz 
HDMI:EDID found audio format 2 channels PCM, sample rate: 32|44|48|96 kHz, sample size: 16|20|24 bits
HDMI:EDID found HDMI VSDB length 5
HDMI:EDID HDMI VSDB has physical address 1.0.0.0
HDMI:EDID HDMI VSDB has no extension fields
HDMI:EDID filtering formats with pixel clock unlimited MHz or h. blanking unlimited
HDMI:EDID best score mode initialised to CEA (1) 640x480p @ 60 Hz with pixel clock -1224918860 MHz (score 25)
HDMI:EDID best score mode is now CEA (1) 640x480p @ 60 Hz with pixel clock 25 MHz (score 61864)
HDMI:EDID best score mode is now CEA (2) 720x480p @ 60 Hz with pixel clock 27 MHz (score 66472)
HDMI:EDID CEA mode (3) 720x480p @ 60 Hz with pixel clock 27 MHz has a score of 66472
HDMI:EDID best score mode is now CEA (4) 1280x720p @ 60 Hz with pixel clock 74 MHz (score 135592)
HDMI:EDID DMT mode (4) 640x480p @ 60 Hz with pixel clock 25 MHz has a score of 18432
HDMI:EDID best score mode is now CEA (5) 1920x1080i @ 60 Hz with pixel clock 74 MHz (score 149416)
HDMI:EDID DMT mode (6) 640x480p @ 75 Hz with pixel clock 31 MHz has a score of 5760
HDMI:EDID DMT mode (8) 800x600p @ 56 Hz with pixel clock 36 MHz has a score of 26880
HDMI:EDID DMT mode (9) 800x600p @ 60 Hz with pixel clock 40 MHz has a score of 28800
HDMI:EDID DMT mode (10) 800x600p @ 72 Hz with pixel clock 50 MHz has a score of 8640
HDMI:EDID DMT mode (11) 800x600p @ 75 Hz with pixel clock 49 MHz has a score of 9000
HDMI:EDID CEA mode (14) 1440x480p @ 60 Hz with pixel clock 54 MHz has a score of 66472
HDMI:EDID CEA mode (15) 1440x480p @ 60 Hz with pixel clock 54 MHz has a score of 66472
HDMI:EDID best score mode is now CEA (16) 1920x1080p @ 60 Hz with pixel clock 148 MHz (score 5398248)
HDMI:EDID DMT mode (16) 1024x768p @ 60 Hz with pixel clock 65 MHz has a score of 47185
HDMI:EDID CEA mode (17) 720x576p @ 50 Hz with pixel clock 27 MHz has a score of 66472
HDMI:EDID DMT mode (17) 1024x768p @ 70 Hz with pixel clock 75 MHz has a score of 13762
HDMI:EDID CEA mode (18) 720x576p @ 50 Hz with pixel clock 27 MHz has a score of 66472
HDMI:EDID DMT mode (18) 1024x768p @ 75 Hz with pixel clock 78 MHz has a score of 14745
HDMI:EDID CEA mode (19) 1280x720p @ 50 Hz with pixel clock 74 MHz has a score of 117160
HDMI:EDID CEA mode (20) 1920x1080i @ 50 Hz with pixel clock 74 MHz has a score of 128680
HDMI:EDID DMT mode (21) 1152x864p @ 75 Hz with pixel clock 108 MHz has a score of 43662
HDMI:EDID CEA mode (29) 1440x576p @ 50 Hz with pixel clock 54 MHz has a score of 66472
HDMI:EDID CEA mode (30) 1440x576p @ 50 Hz with pixel clock 54 MHz has a score of 66472
HDMI:EDID CEA mode (31) 1920x1080p @ 50 Hz with pixel clock 148 MHz has a score of 232360
HDMI:EDID CEA mode (32) 1920x1080p @ 24 Hz with pixel clock 74 MHz has a score of 124532
HDMI:EDID DMT mode (32) 1280x960p @ 60 Hz with pixel clock 108 MHz has a score of 98728
HDMI:EDID CEA mode (33) 1920x1080p @ 25 Hz with pixel clock 74 MHz has a score of 128680
HDMI:EDID CEA mode (34) 1920x1080p @ 30 Hz with pixel clock 74 MHz has a score of 149416
HDMI:EDID DMT mode (35) 1280x1024p @ 60 Hz with pixel clock 108 MHz has a score of 103643
HDMI:EDID DMT mode (36) 1280x1024p @ 75 Hz with pixel clock 135 MHz has a score of 24576
HDMI:EDID DMT mode (47) 1440x900p @ 60 Hz with pixel clock 106 MHz has a score of 102760
HDMI:EDID DMT mode (58) 1680x1050p @ 60 Hz with pixel clock 146 MHz has a score of 130840
HDMI:EDID DMT mode (82) 1920x1080p @ 60 Hz with pixel clock 148 MHz has a score of 149416
HDMI:EDID DMT mode (85) 1280x720p @ 60 Hz with pixel clock 74 MHz has a score of 80296
HDMI0:EDID preferred mode remained as CEA (16) 1920x1080p @ 60 Hz with pixel clock 148 MHz
HDMI:EDID has HDMI support and audio support
edidparser exited with code 0
</code></pre>
<p>What can I do?</p>
<p>Thanks in advance!</p>
"
118965,1,2020-12-07T08:59:29.153,1,120,33476,,2020-12-07T20:39:53.323,2020-12-07T13:23:47.007,5,,"<p>One well-known trick to make a piezo buzzer sound louder is to actively drive both sides of it with an opposite phase: when pin 1 is at 0V, pin 2 is at 3.3V and vice versa. This creates a voltage swing of 3.3*2 = 6.6V, making the buzz <a href=""https://raspberrypi.stackexchange.com/questions/72178/increase-volume-of-piezo-buzzer"">loud enough</a> without any amplification.</p>
<p>How could I generate PWM signals of opposite phase using any of GPIO libraries? As a specific example, let's say I want to use GPIO pins 12 and 13 (PWM0/PWM1) at 50% duty cycle and a frequency of 1kHz.</p>
"
119309,1,2020-12-16T20:48:52.377,0,54,127962,,2021-01-18T12:06:35.647,2020-12-19T11:17:59.843,0,,"<p>I enabled SPI on my Raspberry pi 4 like in many Tutorials explained.</p>
<p>In sudo <strong>raspi-config</strong> I enabled SPI.
In <strong>/boot/config.txt</strong> I added <strong>dtparam=spi=on</strong></p>
<pre><code>$ ls -l /dev/spidev*** shows

crw-rw---- 1 root spi 153, 0 Jul 23 12:43 /dev/spidev0.0

crw-rw---- 1 root spi 153, 1 Jul 23 12:43 /dev/spidev0.1

$ lsmod | grep -i spi** shows

spidev                 20480  0

spi_bcm2835            24576  0
</code></pre>
<p>But if I try a SPI Loopbacktest
<a href=""https://github.com/rm-hull/spidev-test"" rel=""nofollow noreferrer"">https://github.com/rm-hull/spidev-test</a></p>
<p>it shows</p>
<pre><code>$ ./spidev_test -v

spi mode: 0x4
bits per word: 8
max speed: 500000 Hz (500 KHz)
TX | FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D  | ......@....?..................?.
RX | 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  | ................................
</code></pre>
<p>until I write:</p>
<pre><code>$ sudo pigpiod

$ pigs spio 0 50000 0**
</code></pre>
<p>in the Console</p>
<p>Then the Loopbacktest works and it shows:</p>
<pre><code>spi mode: 0x4
bits per word: 8
max speed: 500000 Hz (500 KHz)
TX | FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D  | ......@....�..................�.
RX | FF FF FF FF FF FF 40 00 00 00 00 95 FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF F0 0D  | ......@....�..................�.
</code></pre>
<p>EDIT:</p>
<p>With another Script based on spidev I have the same problems.</p>
<pre><code>from   time import sleep
import spidev

spiPort0 = spidev.SpiDev()
spiPort0.open(0,0)
spiPort0.max_speed_hz = 100000

def spiSendRecvOneByte(spiPort, sendByte):
    sendByteArray = [sendByte]
    recvByteArray = spiPort.xfer(sendByteArray)    
    return recvByteArray

def repeatSendOneByte(spiPort, sendByte, pauseTimeBetweenBytes, repeatCount):
    print('\nBegin repeatSendByte(),....')
    for i in range(repeatCount):
        spiSendRecvOneByte(spiPort, sendByte)
        sleep(pauseTimeBetweenBytes)
    print('End   repeatSendByte().')
    return

def loopBackOneByte(spiPort, sendByte):
    recvByteArray     = spiSendRecvOneByte(spiPort, sendByte)
    recvByte          = recvByteArray[0]

    print('\nBegin testLoopbackOneByte(),....')
    #print('')
    print('      sendByte  = ', hex(sendByte))
    print('      recvByte  = ', hex(recvByte))
    #print('')
    print('End   testLoopbackOneByte(),....')
    return

def testRepeatSendOneByte():
    repeatSendOneByte(spiPort0, 0x5b, 0.0001, 2000000)
    return

def testLoopbackOneByte():
    loopBackOneByte(spiPort0, 0x5b)
    return

#testRepeatSendOneByte()
testLoopbackOneByte()

''' Smple output tlfong 01 2019apr07hkt2047
Begin testLoopbackOneByte(),....
      sendByte  =  0x5b
      recvByte  =  0x5b
End   testLoopbackOneByte(),....
'''

# *** End ***
</code></pre>
<p>When I reboot the system SPI is not working and I have to write the commands angain.
I can't explain this situation and I was searching a lot for this Error.</p>
<p>I would be very happy if someone could help me and explain to me why SPI works after these commands and what I could do to keep it like this after the restart.</p>
<p>EDIT: I got a solution in newinstalling the Raspberry pi OS. Now SPI loopbacktest is working fine and also a small Project with the MCP3002 analog to digital converter</p>
<p>Best Regards</p>
<p>Sven</p>
"
119440,1,2020-12-21T15:11:26.953,0,88,128174,,2020-12-21T16:43:36.350,,0,,"<p>I am trying to control a Servo in c ++ using the libgpiod library.</p>
<p>My problem is in defining the 50Hz pwm pulse on the pin that the servo is connected to.</p>
<p>The servo signal cable is connected to pin 33 which corresponds to GPIO 13 (pwm1).</p>
<blockquote>
<p>#define ESC_PIN 13</p>
</blockquote>
<p>Then I get the chip that controls the line and configure its operation as well as add a description</p>
<pre><code>this-&gt; output_chip = gpiod_chip_open_by_number (0);
this-&gt; esc_line = gpiod_chip_get_line (output_chip, esc_pin);
gpiod_line_request_output (esc_line, &quot;Esc&quot;, GPIOD_LINE_ACTIVE_STATE_HIGH);
</code></pre>
<p>With the following lines of code I can control the state of the pin but I don't know how to define a pwm pulse without using the sleep function</p>
<pre><code>gpiod_line_set_value (this-&gt; esc_line, 1);
std :: this_thread :: sleep_for (std :: chrono :: milliseconds (2));
gpiod_line_set_value (this-&gt; esc_line, 0);
std :: this_thread :: sleep_for (std :: chrono :: milliseconds (18));
</code></pre>
<p>main.cpp (trimmed code)</p>
<pre><code>
#include &quot;Telecommunications.h&quot;
#include &quot;Gps.h&quot;
#include &quot;Esc.h&quot;
#include &lt;thread&gt;
#include &lt;atomic&gt;
#include &lt;csignal&gt;

#define ESC_PIN 13

// I'm not a fan of globals but with this way we can catch signals and close files accordingly
Telecommunications g_antenna;
Esc g_esc;

// creating signal handler to close gps, GPIO &amp; I2C
void ctl_c(int s){
    printf(&quot;Ending threads\n&quot;);
    g_antenna.stop = true;
//    g_gps.stop = true;
    g_esc.stop = true;
    sleep(2); // let the threads end the loops and finally exit
    printf(&quot;Bye!\n&quot;);
    exit(s);
}

int main(int argc, char** argv)
{
    // initialize sensors variables
    std::atomic&lt;int&gt; height = 0, X = 0, Y = 0, Z = 0;
    std::atomic&lt;double&gt; latitude = 0.0, longitude = 0.0, altitude = 0.0, speed = 0.0;
    // initialize actuators variables
    std::atomic&lt;int&gt; engine = 0, rudder = 0, elevator = 0, ailerons = 0;

    // initialize Telecommunications with Reciver
    g_antenna.init(&amp;height, &amp;latitude, &amp;longitude, &amp;altitude, &amp;speed, &amp;X, &amp;Y, &amp;Z, &amp;engine, &amp;rudder, &amp;elevator, &amp;ailerons);

    // initialize sensors
    Gps g_gps; // = new Gps(&amp;latitude, &amp;longitude, &amp;altitude, &amp;speed);
    g_gps.init(&amp;latitude, &amp;longitude, &amp;altitude, &amp;speed);

    // initialize actuators
    g_esc.init(&amp;engine, ESC_PIN);

    // read signal events so we can terminate the threads and close the files
    signal(SIGINT, ctl_c);
    signal(SIGKILL, ctl_c);
    signal(SIGSTOP, ctl_c);

    // never stop the program
    while (true){
        try{
            // launching telecommunications &amp;&amp; joining main thread
            std::thread t_antenna(&amp;Telecommunications::run, &amp;g_antenna);

            // launching sensors &amp;&amp; joining main thread
//            std::thread t_gps(&amp;Gps::run, &amp;g_gps);

            // launching actuators &amp;&amp; joining main thread
            std::thread t_engine(&amp;Esc::run, &amp;g_esc);

            t_antenna.join();
//            t_gps.join();
            t_engine.join();
        } catch (const std::exception &amp;e){ // catch any exception
            // log the exceptions on the DB
            printf(&quot;Exception on main: %s&quot;, e.what());
            continue;
        }
    }
    // we do no expect to end the loop until a Ctl+C is send and the function ctl_c will exit()
    return 0;
}
</code></pre>
<p>Esc.h</p>
<pre><code>//
// Created by X on 17/12/2020.
//

#ifndef ROHA_ESC_H
#define ROHA_ESC_H

#include &lt;gpiod.h&gt;
#include &lt;atomic&gt;
#include &lt;chrono&gt;

class Esc {
public:
    bool stop = false;
    explicit Esc(std::atomic&lt;int&gt; *engine_ptr, int esc_pin){
        this-&gt;init(engine_ptr, esc_pin);
    }
    Esc() = default;

    void init(std::atomic&lt;int&gt; *engine_ptr, int esc_pin){
        this-&gt;engine = engine_ptr;

        this-&gt;output_chip = gpiod_chip_open_by_number(0);
        this-&gt;esc_line = gpiod_chip_get_line(output_chip, esc_pin);

        // request the ESC pin, set a description and define it as ACTIVE_STATE_HIGH
        gpiod_line_request_output(esc_line, &quot;Esc&quot;, GPIOD_LINE_ACTIVE_STATE_HIGH);

        // write ZERO signal to pin
        gpiod_line_set_value(esc_line, 0);
    }

    void run(){
        while (!this-&gt;stop){
            try {
                // read telecomunications is writing values between 0 and 180 
                int speed = this-&gt;engine-&gt;load();
                if (speed &lt; 0) speed = 0;
                if (speed &gt; 180) speed = 180;

                // pending, map values to the expected HIGH state ms

                // aproach
                gpiod_line_set_value(esc_line, 1);
                std::this_thread::sleep_for(std::chrono::milliseconds(1));
                gpiod_line_set_value(esc_line, 0);
                std::this_thread::sleep_for(std::chrono::milliseconds(19));
                
            } catch (const std::exception &amp;e){
                printf(&quot;Error on Esc: %s\n&quot;, e.what());
                continue;
            }
        }
        this-&gt;close_gpio();
        printf(&quot;Ending Thread! Esc\n&quot;);
    }
private:
    std::atomic&lt;int&gt; *engine {};
    struct gpiod_chip *output_chip{};
    struct gpiod_line *esc_line{};
    void close_gpio(){
        gpiod_line_release(this-&gt;esc_line);
        gpiod_chip_close(this-&gt;output_chip);
    }
};

#endif //ROHA_ESC_H

</code></pre>
<blockquote>
<p>This program is for learning C ++ to control electronics from a rpi. Any improvement or bad practice that you see in the code will be appreciated if you comment it</p>
</blockquote>
"
119574,1,2020-12-27T03:54:03.097,1,115,74761,,2021-01-30T02:07:15.757,2020-12-27T18:00:52.113,9,,"<p>Why can I access a Samba folder share on Windows 10 but not a USB drive share?</p>
<p>I have a samba share to a <strong>folder</strong> on my pi. I can access it from Windows. But when I try to connect to a <strong>USB device</strong> (rather than a folder) from windows I get errors.</p>
<p>This is how I share the <strong>USB drive</strong> in <code>/etc/samba/smb.conf</code>:</p>
<pre><code>Comment = Pi shared folder
Path = /media/pi/elfdisk02
Browseable = yes
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = yes
Guest ok = yes
</code></pre>
<p>That does not work.</p>
<p>My <strong>folder</strong> share from <code>smb.conf</code> that works looks like this:</p>
<pre><code>[share]
Comment = Pi shared folder
Path = /share
Browseable = yes
Writeable = Yes
only guest = no
create mask = 0777
directory mask = 0777
Public = yes
Guest ok = yes
</code></pre>
<p>I can see both shares in the Windows 10 network. <strong>Why can I access the folder <code>[share]</code> but not the USB drive <code>[elfdisk]</code>?</strong> If the information above is insufficient, where else on Raspberry PI should I look to fix an error of this type?</p>
<p>At the risk of confusing the issue, here is a bit more information:</p>
<p>On Windows 10 Pro I get the error &quot;The network folder specified is currently mapped using a different user name and password..&quot;</p>
<p>On Windows 10 Home I get: &quot;You might not have permissions to access this resource.&quot;</p>
<p>Here is what is turned on in <code>smb.conf</code>:</p>
<pre><code>[global]

   workgroup = WORKGROUP
   log file = /var/log/samba/log.%m
   max log size = 1000
   logging = file
   panic action = /usr/share/samba/panic-action %d
   server role = standalone server
   obey pam restrictions = yes
   unix password sync = yes
   passwd program = /usr/bin/passwd %u
   passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .
   pam password change = yes
   map to guest = bad user
   usershare allow guests = yes

[homes]
   comment = Home Directories
   browseable = no
   read only = yes
   create mask = 0700
   directory mask = 0700
   valid users = %S
</code></pre>
<p>I am new to Samba and any help would be appreciated.</p>
"
119751,1,2021-01-01T18:23:56.763,2,58,123974,,2021-01-17T12:56:36.607,2021-01-16T19:55:47.597,3,,"<p>My issue is similar to what is described here: <a href=""https://raspberrypi.stackexchange.com/questions/12177/raspberry-pi-has-no-internet-and-cannot-ping-primary-router-when-connected-to-re"">Raspberry Pi has no internet and cannot ping primary router when connected to repeater</a></p>
<p>I was playing around with PiVPN (WireGuard) and invoked the command <code>pivipn uninstall</code> - after that the result from trying to ping my router (192.168.1.1) is that the first line is PING 192.168.1.1 ... and all subsequent lines list the Pi's own IP address instead of the router's...? All pings are lost.</p>
<pre><code>arp -n
</code></pre>
<p>yields <code>HWadress incomplete</code>...</p>
<p>I've tried a bunch of things but I'm stumped.</p>
<p>Can anyone point me in the right direction?</p>
<h2>EDIT:</h2>
<p>Ingo asked for the output from the following commands:</p>
<pre><code>IP ADDR:

1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    net 127.0.0.1/8 scope host lo
      valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
      valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP.LOWER_UP&gt; mtu 1500 qdisc mq master br0 state UP group default qlen 1000
    link/ether dc:a6:32:07:55:6f bed ff:ff:ff:ff:ff:ff
    inet 192.168.1.12/24 brd 192.168.1.255 scope global dynamic noprefixroute eth0
       valid_lft 863473sec preferred_lft 755473sec
    inet6 fe80::b5f3::9c5a::7fcc::cdda/64 scope link
      valid_lft forever preferred_lft forever
3: br0: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc state state DOWN group default qlen 1000
4: wlan0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_fast state DOWN group default qlen 1000
    link/ether dc:a6:32:07:55:70 brd ff:ff:ff:ff:ff:ff

IP ROUTE:
default via 192.168.1.1 dev eth0 proto dhcp src 192.168.1.12 metric 202
192.168.1.0/24 dev eth0 proto dhcp scope link src 192.168.1.12 metric 202
</code></pre>
<p>If I enable these two lines in dhcpcd.conf, the interface br0 gets the address 192.168.1.12 and it kinda works... I'm very confused:</p>
<pre><code>denyinterfaces wlan0 eth0
interface br0
</code></pre>
<hr />
<p>END EDIT</p>
<p>It would be great if this could be resolved - I'm banging my head against the wall... :(</p>
<p>Best regards,
Andrew</p>
"
120074,1,2021-01-11T17:11:57.113,0,22,129028,,2021-01-13T05:09:21.233,,0,,"<p>I am trying to trigger a timer when there is audio and stop the timer when the audio is lower than a set value. There is a reset button that will reset the timer back to zero. The reset button works on the first attempt but the software becomes very slow when the reset button is pressed multiple times.</p>
<p>I am also trying to use the gpio as button to reset the timer but it does not work. My code for the gpio makes the whole code super slow. I am guessing the code is recursing or something. I am a newbie and cannot figure out what is wrong. Here is the code.</p>
<p>Currently running on raspberry pi version 4 with 4gb ram.</p>
<p>Hope someone can give some suggestions.</p>
<pre><code>from tkinter import *
import alsaaudio
import audioop
#from PIL import ImageTk

# For the reset button through the gpio of the raspberry.
from gpiozero import Button as piButton
resetButton = piButton(21)

# Global variables.
started = False
seconds = 0
belowLow = 0

class App():
    
    def reset(self):
        global started
        global belowLow
        global seconds
        self.t.set(0)
        started = False
        seconds = 0
        belowLow = 0
        self.listen()
        
    def start(self):
        global started
        if started == False:
            started = True
            self.timer()
    
    def stop(self):
        global started
        global belowLow
        started = False
        belowLow = 0
     
    def timer(self):
        def seconds_timer():
            global started
            global seconds
            self.d = seconds
            self.t.set(self.d)
            if started:
                self.root.after(1000,self.timer)
                seconds += 1
                
        seconds_timer()
        

    def listen(self):
        def listenActions():
            #Take the audio stream and get the rms value
            input = self.p.read()
            rms_val = audioop.rms(input[1], 2)
            print(f'RMS: {rms_val}')
            
            # If the rms value is higher than 1000, start the timer
            if rms_val &gt; 1000:
                self.start()
                
            #If the rms is below 50, stop timer with delay
            elif rms_val &lt; 50:
                # this is to give a 100 milisecond delay before stoping
                global belowLow 
                if started:
                    belowLow += 1
                if started and belowLow &gt; 100:
                    self.stop()
                    
            #To reset the timer using the gpio button        
            if resetButton.is_held:
                self.reset()
            #print(resetButton.is_held)

            self.root.after(1, self.listen)
            
        listenActions()

            
        
    def __init__(self):
        self.p = alsaaudio.PCM(alsaaudio.PCM_CAPTURE, alsaaudio.PCM_NORMAL, device='default', cardindex=- 1)
        self.p.setchannels(1)
        self.p.setrate(44100)
        self.p.setformat(alsaaudio.PCM_FORMAT_S16_LE)
        self.p.setperiodsize(160)

        self.root=Tk()
        self.root.title(&quot;Testing Testing&quot;)
        self.root.geometry(&quot;800x450&quot;)
        self.t = IntVar()
        self.t.set(0)
        self.lb = Label(self.root,textvariable=self.t,font=(&quot;Courier 40 bold&quot;),bg=&quot;black&quot;, fg=&quot;white&quot;)
        self.bt3 = Button(self.root,text=&quot;Reset&quot;,command=self.reset,font=(&quot;Arial 12 bold&quot;))
        self.lb.place(x=370,y=100)
        self.bt3.place(x=370,y=200)
        self.label = Label(self.root,text=&quot;&quot;,font=(&quot;Courier 40 bold&quot;))
        self.listen()
        self.root.mainloop()

a = App()
</code></pre>
"
120084,1,2021-01-11T22:38:59.780,2,79,110446,,2021-01-16T00:18:14.603,,0,,"<p>Does the Pi keep a log of its restarts? I found a good record of &quot;Booting ...&quot; in <code>/var/log/messages</code> in one of my Pi's, but in another Pi, <code>/var/log/messages</code> shows only <code>rsyslogd</code> entries. Both Pi's are Pi 3 Model B and both are running Raspbian GNU/Linux 8 (jessie). Is there a way to increase the amount of detail logged to <code>messages</code>?  Or is there another log that saves the date &amp; time of restarts?</p>
<p>(My Pi's are running fine and I'm hoping a record of restarts or &quot;Booting ...&quot; can tell me when there were power outages)</p>
"
120096,1,2021-01-12T11:11:20.540,0,46,129050,,2021-01-13T12:47:29.950,2021-01-13T11:08:53.353,5,,"<p>I have two pins with the same frequency (10Hz) and same duty cycle (50%) assigned to two different leds. How can I make the two leds blink alternatively? How can I put a delay of 50% in one of the pins?</p>
<p>Thanks in advance</p>
<pre><code>import RPi.GPIO as GPIO
import time

L1 = 36
l2 = 37
frequency = 10

GPIO.setmode(GPIO.BOARD)
GPIO.setup(L1, GPIO.OUT)
GPIO.setup(L2, GPIO.OUT)

led1 = GPIO.PWM(L1, frequency)
led2 = GPIO.PWM(L2, frequency)
led1.start(50)
led2.start(50)

time.sleep(10)

led1.stop()
led2.stop()

GPIO.cleanup()
</code></pre>
"
120390,1,2021-01-21T08:58:55.453,0,47,24224,,2021-02-20T18:00:01.883,,1,,"<p>During development, I frequently encounter this warning, as expected. My threaded code frequently prematurely terminates during experimentation.</p>
<pre><code>Steppers.py:26: RuntimeWarning: This channel is already in use, continuing anyway.  Use GPIO.setwarnings(False) to disable warnings.
  GPIO.setup(gpio_pin, GPIO.OUT)
</code></pre>
<p>I'm now curious if there's a way to check if a pin is being used from within Python since I'm already being warned about it in the first place. Research doesn't turn up anything other than <em>disable the warning</em> and <em>fix your code</em>, unfortunately.</p>
<p>I don't see anything obvious while inspecting decompiled <code>RPi.GPIO</code>. Screen snip of what it looks like below:</p>
<p><a href=""https://i.stack.imgur.com/Vwics.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Vwics.png"" alt=""enter image description here"" /></a></p>
<pre><code># encoding: utf-8
# module RPi._GPIO
# from /usr/lib/python3/dist-packages/RPi/_GPIO.cpython-37m-arm-linux-gnueabihf.so
# by generator 1.147
&quot;&quot;&quot; GPIO functionality of a Raspberry Pi using Python &quot;&quot;&quot;
# no imports
</code></pre>
"
120534,1,2021-01-25T10:18:52.153,2,73,129593,,2021-02-17T18:26:17.957,,0,,"<p>I'm looking for a SIP client for my Raspberry Pi (commandline). I want to be able to call my Raspberry Pi, and based on what buttons I press on the phone (resulting in DTMF tones), run the correct python-script.</p>
<p>I've tried the following options:</p>
<ul>
<li><p>Twinkle
<a href=""https://pypi.org/project/pytwinkle/"" rel=""nofollow noreferrer"">https://pypi.org/project/pytwinkle/</a>
Twinkle is not able to run scripts based on DTMF tones. You can run scripts on certain events, for example when a call is incoming, or when an incoming call is answered. But not based on DTMF tones.</p>
</li>
<li><p>PJSIP
<a href=""https://www.pjsip.org/"" rel=""nofollow noreferrer"">https://www.pjsip.org/</a>
I'm trying to compile and install PJSIP but I cannot get it to work. During the installation process it says it cannot find required modules, and I can't get past that point.</p>
</li>
<li><p>Linphone
<a href=""https://www.linphone.org/technical-corner/linphone"" rel=""nofollow noreferrer"">https://www.linphone.org/technical-corner/linphone</a>
I haven't been able to find a way to run scripts with Linphone. I'm not sure it's possible.</p>
</li>
</ul>
<p>Does anyone have experience with this? Can you point me in the right direction?</p>
<p>Any tips will be greatly appreciated!</p>
"
120681,1,2021-01-29T02:06:19.017,0,34,32790,,2021-02-22T22:47:00.617,2021-02-22T22:47:00.617,0,,"<p>I've put together quite a nice little ePaper display clock with the Raspberryp Pi Zero W running Buster. I'm using the <a href=""https://www.waveshare.com/6inch-e-Paper-HAT.htm"" rel=""nofollow noreferrer"">Waveshare 6&quot; kit (display and controller board)</a>.</p>
<p>Has anyone here had any experience with the &quot;Waveshare&quot; ePaper displays and the code that runs them?</p>
<p>The problem I'm having is that the dispaly only 4 seconds after I've sent the command to update the display - the actual screen update, between the old display and the new one, is less than half a second.</p>
<p>I know that there is a lot of unnessesary code in the program that updates the display. The problem that I have is that I think it's written in C++ and I do not know C++ (or C, or C#) and therefore do not know how to update that code (so that it will still work).</p>
<p>Ideally I want to get it to the point that it will send the bitmap image to the display and have the display update with, at most, a 1 second delay. (I want my clock to be acturate to within a second).</p>
<p>It uses a program called IT8951 and you need to build it yourself.</p>
<p>Here's the <code>IT8951.h</code> file:</p>
<pre><code>#ifndef _IT8951_H_
#define _IT8951_H_

#include &lt;bcm2835.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &quot;miniGUI.h&quot;

#define CS              8
#define HRDY            24
#define RESET           17
#define VCOM            1500 //e.g. -1.53 = 1530 = 0x5FA

//prototype of structure
//structure prototype 1
typedef struct IT8951LdImgInfo
{
    uint16_t usEndianType; //little or Big Endian
    uint16_t usPixelFormat; //bpp
    uint16_t usRotate; //Rotate mode
    uint32_t ulStartFBAddr; //Start address of source Frame buffer
    uint32_t ulImgBufBaseAddr;//Base address of target image buffer

}IT8951LdImgInfo;

//structure prototype 2
typedef struct IT8951AreaImgInfo
{
    uint16_t usX;
    uint16_t usY;
    uint16_t usWidth;
    uint16_t usHeight;
}IT8951AreaImgInfo;

typedef struct
{
    uint16_t usPanelW;
    uint16_t usPanelH;
    uint16_t usImgBufAddrL;
    uint16_t usImgBufAddrH;
    uint16_t usFWVersion[8];    //16 Bytes String
    uint16_t usLUTVersion[8];   //16 Bytes String
}IT8951DevInfo;

//Built in I80 Command Code
#define IT8951_TCON_SYS_RUN      0x0001
#define IT8951_TCON_STANDBY      0x0002
#define IT8951_TCON_SLEEP        0x0003
#define IT8951_TCON_REG_RD       0x0010
#define IT8951_TCON_REG_WR       0x0011
#define IT8951_TCON_MEM_BST_RD_T 0x0012
#define IT8951_TCON_MEM_BST_RD_S 0x0013
#define IT8951_TCON_MEM_BST_WR   0x0014
#define IT8951_TCON_MEM_BST_END  0x0015
#define IT8951_TCON_LD_IMG       0x0020
#define IT8951_TCON_LD_IMG_AREA  0x0021
#define IT8951_TCON_LD_IMG_END   0x0022

//I80 User defined command code
#define USDEF_I80_CMD_DPY_AREA     0x0034
#define USDEF_I80_CMD_GET_DEV_INFO 0x0302
#define USDEF_I80_CMD_DPY_BUF_AREA 0x0037
#define USDEF_I80_CMD_VCOM         0x0039

//Panel
#define IT8951_PANEL_WIDTH   1024 //it Get Device information
#define IT8951_PANEL_HEIGHT   758

//Rotate mode
#define IT8951_ROTATE_0     0
#define IT8951_ROTATE_90    1
#define IT8951_ROTATE_180   2
#define IT8951_ROTATE_270   3

//Pixel mode , BPP - Bit per Pixel
#define IT8951_2BPP   0
#define IT8951_3BPP   1
#define IT8951_4BPP   2
#define IT8951_8BPP   3

//Waveform Mode
#define IT8951_MODE_0   0
#define IT8951_MODE_1   1
#define IT8951_MODE_2   2
#define IT8951_MODE_3   3
#define IT8951_MODE_4   4
//Endian Type
#define IT8951_LDIMG_L_ENDIAN   0
#define IT8951_LDIMG_B_ENDIAN   1
//Auto LUT
#define IT8951_DIS_AUTO_LUT   0
#define IT8951_EN_AUTO_LUT    1
//LUT Engine Status
#define IT8951_ALL_LUTE_BUSY 0xFFFF

//-----------------------------------------------------------------------
// IT8951 TCon Registers defines
//-----------------------------------------------------------------------
//Register Base Address
#define DISPLAY_REG_BASE 0x1000               //Register RW access for I80 only
//Base Address of Basic LUT Registers
#define LUT0EWHR  (DISPLAY_REG_BASE + 0x00)   //LUT0 Engine Width Height Reg
#define LUT0XYR   (DISPLAY_REG_BASE + 0x40)   //LUT0 XY Reg
#define LUT0BADDR (DISPLAY_REG_BASE + 0x80)   //LUT0 Base Address Reg
#define LUT0MFN   (DISPLAY_REG_BASE + 0xC0)   //LUT0 Mode and Frame number Reg
#define LUT01AF   (DISPLAY_REG_BASE + 0x114)  //LUT0 and LUT1 Active Flag Reg
//Update Parameter Setting Register
#define UP0SR (DISPLAY_REG_BASE + 0x134)      //Update Parameter0 Setting Reg

#define UP1SR     (DISPLAY_REG_BASE + 0x138)  //Update Parameter1 Setting Reg
#define LUT0ABFRV (DISPLAY_REG_BASE + 0x13C)  //LUT0 Alpha blend and Fill rectangle Value
#define UPBBADDR  (DISPLAY_REG_BASE + 0x17C)  //Update Buffer Base Address
#define LUT0IMXY  (DISPLAY_REG_BASE + 0x180)  //LUT0 Image buffer X/Y offset Reg
#define LUTAFSR   (DISPLAY_REG_BASE + 0x224)  //LUT Status Reg (status of All LUT Engines)

#define BGVR      (DISPLAY_REG_BASE + 0x250)  //Bitmap (1bpp) image color table
//-------System Registers----------------
#define SYS_REG_BASE 0x0000

//Address of System Registers
#define I80CPCR (SYS_REG_BASE + 0x04)
//-------Memory Converter Registers----------------
#define MCSR_BASE_ADDR 0x0200
#define MCSR (MCSR_BASE_ADDR  + 0x0000)
#define LISAR (MCSR_BASE_ADDR + 0x0008)

uint8_t IT8951_Init(void);
void IT8951_Cancel(void);
void IT8951DisplayExample(void);
void IT8951DisplayExample2(void);
void IT8951Display1bppExample2(void);
void IT8951DisplayExample3(void);
void IT8951_GUI_Example(void);
void IT8951_BMP_Example(uint32_t x, uint32_t y,char *path);

uint16_t IT8951ReadReg(uint16_t usRegAddr);
void IT8951SetImgBufBaseAddr(uint32_t ulImgBufAddr);
void LCDWaitForReady(void);
void GetIT8951SystemInfo(void* pBuf);
void gpio_i80_16b_cmd_out(uint16_t usCmd);
void GPIO_Configuration_Out(void);
void GPIO_Configuration_In(void);

void IT8951DisplayClear(void);

//uint16_t IT8951ReadReg(uint16_t usRegAddr);
void IT8951WriteReg(uint16_t usRegAddr,uint16_t usValue);

uint16_t IT8951GetVCOM(void);
void IT8951SetVCOM(uint16_t vcom);

#endif
</code></pre>
<p>I think I can take out (or comment out):</p>
<pre><code>void IT8951DisplayExample(void);
void IT8951DisplayExample2(void);
void IT8951Display1bppExample2(void);
void IT8951DisplayExample3(void);
void IT8951_GUI_Example(void);
void IT8951_BMP_Example(uint32_t x, uint32_t y,char *path);
</code></pre>
<p>and maybe even a lot more.</p>
<p>Although, I'm not 100% sure. What I think is that the lines in this file call the actual code from the <code>IT8951.c</code> file (which is quite a bit larger). Ideally, I'd like to take all the unnessesary code out of the <code>.c</code> file so that it doesn't get run, or even read, which may be slowing the whole process down.</p>
"
120708,1,2021-01-29T20:09:13.293,2,58,129789,,2021-01-29T20:52:36.953,,0,,"<p>Right now, I'm building an application and one of the sub goals is to display the camera to the screen with a good resolution and frame rate. I'm also trying to keep the cpu usage as low as possible since there'll be other tasks running in the background. I've tried multiple solutions, but I think I've found one that would be great if I could implement.</p>
<p>Current list of solutions:</p>
<ul>
<li>Using OpenCV and accessing through /dev/video0 (lots of CPU usage and oddly low FPS)</li>
<li>Using the raspicam library with OpenCV (less CPU usage but low FPS)</li>
<li>Using the picamera library (perfect, but not C++)</li>
</ul>
<p>After digging some more, I found out that the MMAL library does exactly what I'm trying to do. The only problem is that I'm a bit confused on how to implement it? Documentation is subpar without any code examples so I'm not sure how I would go ahead with implementing it.</p>
<p>A few of the references I looked at were the <code>raspicam</code> folder in the raspberry pi userland repo and the raspicam library's private folder <a href=""https://github.com/cedricve/raspicam/blob/master/src/private/private_impl.cpp"" rel=""nofollow noreferrer"">(this one)</a>. It seems as if the raspicam library uses the RaspiStill as a base for its code, but doesn't use the preview connection that I need.</p>
<p>I was able to get this much from the raspistill file in the userland repo but it only says &quot;SUCCESS&quot;:</p>
<pre><code>#include &lt;iostream&gt;

#include &quot;interface/mmal/mmal.h&quot;
#include &quot;interface/mmal/mmal_logging.h&quot;
#include &quot;interface/mmal/mmal_buffer.h&quot;
#include &quot;interface/mmal/util/mmal_util.h&quot;
#include &quot;interface/mmal/util/mmal_util_params.h&quot;
#include &quot;interface/mmal/util/mmal_default_components.h&quot;
#include &quot;interface/mmal/util/mmal_connection.h&quot;

MMAL_COMPONENT_T *preview_component;
MMAL_COMPONENT_T *camera_component;

MMAL_STATUS_T raspipreview_create()
{
   MMAL_COMPONENT_T *preview = 0;
   MMAL_PORT_T *preview_port = NULL;
   MMAL_STATUS_T status;

   status = mmal_component_create(MMAL_COMPONENT_DEFAULT_VIDEO_RENDERER,
                                  &amp;preview);

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;Unable to create preview component&quot;);
      goto error;
   }

   if (!preview-&gt;input_num)
   {
      status = MMAL_ENOSYS;
      vcos_log_error(&quot;No input ports found on component&quot;);
      goto error;
   }

   preview_port = preview-&gt;input[0];

   MMAL_DISPLAYREGION_T param;
   param.hdr.id = MMAL_PARAMETER_DISPLAYREGION;
   param.hdr.size = sizeof(MMAL_DISPLAYREGION_T);

   param.set = MMAL_DISPLAY_SET_LAYER;
   param.layer = 2;

   param.set |= MMAL_DISPLAY_SET_ALPHA;
   param.alpha = 255;

   /* I don't know whether a full screen preview is needed or a windowed
       * view, but I'm keeping the full screen for now.
      if (state-&gt;wantFullScreenPreview)
      {
         param.set |= MMAL_DISPLAY_SET_FULLSCREEN;
         param.fullscreen = 1;
      }
      else
      {
         param.set |= (MMAL_DISPLAY_SET_DEST_RECT | MMAL_DISPLAY_SET_FULLSCREEN);
         param.fullscreen = 0;
         param.dest_rect = state-&gt;previewWindow;
      }
      */

   param.set |= MMAL_DISPLAY_SET_FULLSCREEN;
   param.fullscreen = 1;

   /* Defaults to -1 so this code is not needed
      if (state-&gt;display_num &gt;= 0)
      {
         param.set |= MMAL_DISPLAY_SET_NUM;
         param.display_num = state-&gt;display_num;
      }
      */

   status = mmal_port_parameter_set(preview_port, &amp;param.hdr);

   if (status != MMAL_SUCCESS &amp;&amp; status != MMAL_ENOSYS)
   {
      vcos_log_error(&quot;unable to set preview port parameters (%u)&quot;, status);
      goto error;
   }

   /* Enable component */
   status = mmal_component_enable(preview);
   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;Unable to enable preview/null sink component (%u)&quot;, status);
      goto error;
   }

   preview_component = preview;

   return status;

error:

   if (preview)
      mmal_component_destroy(preview);
   return status;
}

void raspipreview_destroy()
{
   if (preview_component)
   {
      mmal_component_destroy(preview_component);
      preview_component = NULL;
   }
}

void default_camera_control_callback(MMAL_PORT_T *port, MMAL_BUFFER_HEADER_T *buffer)
{
   fprintf(stderr, &quot;Camera control callback  cmd=0x%08x&quot;, buffer-&gt;cmd);

   if (buffer-&gt;cmd == MMAL_EVENT_PARAMETER_CHANGED)
   {
      MMAL_EVENT_PARAMETER_CHANGED_T *param = (MMAL_EVENT_PARAMETER_CHANGED_T *)buffer-&gt;data;
      switch (param-&gt;hdr.id)
      {
      case MMAL_PARAMETER_CAMERA_SETTINGS:
      {
         MMAL_PARAMETER_CAMERA_SETTINGS_T *settings = (MMAL_PARAMETER_CAMERA_SETTINGS_T *)param;
         vcos_log_error(&quot;Exposure now %u, analog gain %u/%u, digital gain %u/%u&quot;,
                        settings-&gt;exposure,
                        settings-&gt;analog_gain.num, settings-&gt;analog_gain.den,
                        settings-&gt;digital_gain.num, settings-&gt;digital_gain.den);
         vcos_log_error(&quot;AWB R=%u/%u, B=%u/%u&quot;,
                        settings-&gt;awb_red_gain.num, settings-&gt;awb_red_gain.den,
                        settings-&gt;awb_blue_gain.num, settings-&gt;awb_blue_gain.den);
      }
      break;
      }
   }
   else if (buffer-&gt;cmd == MMAL_EVENT_ERROR)
   {
      vcos_log_error(&quot;No data received from sensor. Check all connections, including the Sunny one on the camera board&quot;);
   }
   else
   {
      vcos_log_error(&quot;Received unexpected camera control callback event, 0x%08x&quot;, buffer-&gt;cmd);
   }

   mmal_buffer_header_release(buffer);
}

static MMAL_STATUS_T create_camera_component()
{
   MMAL_COMPONENT_T *camera = 0;
   MMAL_ES_FORMAT_T *format;
   MMAL_PORT_T *preview_port = NULL, *video_port = NULL, *still_port = NULL;
   MMAL_STATUS_T status;

   /* Create the component */
   status = mmal_component_create(MMAL_COMPONENT_DEFAULT_CAMERA, &amp;camera);

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;Failed to create camera component&quot;);
      if (camera) mmal_component_destroy(camera);
      return status;

   }

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;Could not set stereo mode : error %d&quot;, status);
      if (camera) mmal_component_destroy(camera);
      return status;

   }

   MMAL_PARAMETER_INT32_T camera_num =
       {{MMAL_PARAMETER_CAMERA_NUM, sizeof(camera_num)}, 0};

   status = mmal_port_parameter_set(camera-&gt;control, &amp;camera_num.hdr);

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;Could not select camera : error %d&quot;, status);
      if (camera) mmal_component_destroy(camera);
      return status;

   }

   if (!camera-&gt;output_num)
   {
      status = MMAL_ENOSYS;
      vcos_log_error(&quot;Camera doesn't have output ports&quot;);
      if (camera) mmal_component_destroy(camera);
      return status;

   }

   status = mmal_port_parameter_set_uint32(camera-&gt;control, MMAL_PARAMETER_CAMERA_CUSTOM_SENSOR_CONFIG, 0);

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;Could not set sensor mode : error %d&quot;, status);
      if (camera) mmal_component_destroy(camera);
      return status;
   }

   preview_port = camera-&gt;output[0];
   video_port = camera-&gt;output[1];
   still_port = camera-&gt;output[2];

   // Enable the camera, and tell it its control callback function
   status = mmal_port_enable(camera-&gt;control, default_camera_control_callback);

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;Unable to enable control port : error %d&quot;, status);
      if (camera) mmal_component_destroy(camera);
      return status;
   }

   //  set up the camera configuration
   {
      MMAL_PARAMETER_CAMERA_CONFIG_T cam_config =
          {
              {MMAL_PARAMETER_CAMERA_CONFIG, sizeof(cam_config)},
              .max_stills_w = 1280,
              .max_stills_h = 720,
              .stills_yuv422 = 0,
              .one_shot_stills = 1,
              .max_preview_video_w = 1280,
              .max_preview_video_h = 720,
              .num_preview_video_frames = 3,
              .stills_capture_circular_buffer_height = 0,
              .fast_preview_resume = 0,
              .use_stc_timestamp = MMAL_PARAM_TIMESTAMP_MODE_RESET_STC};

      cam_config.max_preview_video_w = 1280;
      cam_config.max_preview_video_h = 720;

      mmal_port_parameter_set(camera-&gt;control, &amp;cam_config.hdr);
   }

   // Now set up the port formats

   format = preview_port-&gt;format;
   format-&gt;encoding = MMAL_ENCODING_OPAQUE;
   format-&gt;encoding_variant = MMAL_ENCODING_I420;

   // In this mode we are forcing the preview to be generated from the full capture resolution.
   // This runs at a max of 15fps with the OV5647 sensor.
   format-&gt;es-&gt;video.width = VCOS_ALIGN_UP(1280, 32);
   format-&gt;es-&gt;video.height = VCOS_ALIGN_UP(720, 16);
   format-&gt;es-&gt;video.crop.x = 0;
   format-&gt;es-&gt;video.crop.y = 0;
   format-&gt;es-&gt;video.crop.width = 1280;
   format-&gt;es-&gt;video.crop.height = 720;
   format-&gt;es-&gt;video.frame_rate.num = 0;
   format-&gt;es-&gt;video.frame_rate.den = 1;

   status = mmal_port_format_commit(preview_port);
   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;camera viewfinder format couldn't be set&quot;);
      if (camera) mmal_component_destroy(camera);
      return status;
   }

   // Set the same format on the video  port (which we don't use here)
   mmal_format_full_copy(video_port-&gt;format, format);
   status = mmal_port_format_commit(video_port);

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;camera video format couldn't be set&quot;);
      if (camera) mmal_component_destroy(camera);
      return status;
   }

   // Ensure there are enough buffers to avoid dropping frames
   if (video_port-&gt;buffer_num &lt; 3)
      video_port-&gt;buffer_num = 3;

   /* Ensure there are enough buffers to avoid dropping frames */
   if (still_port-&gt;buffer_num &lt; 3)
      still_port-&gt;buffer_num = 3;

   /* Enable component */
   status = mmal_component_enable(camera);

   if (status != MMAL_SUCCESS)
   {
      vcos_log_error(&quot;camera component couldn't be enabled&quot;);
      if (camera) mmal_component_destroy(camera);
      return status;
   }

   camera_component = camera;

   return status;
}


static void destroy_camera_component()
{
   if (camera_component)
   {
      mmal_component_destroy(camera_component);
      camera_component = NULL;
   }
}

int main()
{
   std::cout &lt;&lt; mmal_status_to_string(raspipreview_create());
   std::cout &lt;&lt; mmal_status_to_string(create_camera_component());

   sleep(10);

   destroy_camera_component();
   raspipreview_destroy();
   return 0;
}

</code></pre>
<p>I'm assuming it only says SUCCESS without actually showing anything to the screen. It even activates the camera (activity light turns on) but yet, nothing on the screen. Could someone help with me? Thanks in advance.</p>
"
120978,1,2021-02-07T04:50:59.787,0,47,126076,,2021-02-07T11:58:57.407,,11,,"<p><strong>Brief:</strong></p>
<p>In a <a href=""http://Need%20Two%20IPs%20(but%20do%20not%20have%20any%20control%20over%20static%20allocations)"" rel=""nofollow noreferrer"">previous question</a> I asked whether multiple IPs can be assigned via DHCP and reserved by a single Raspberry Pi. The accepted answer demonstrates how to achieve this by setting up virtual network interfaces linked to <em>eth0</em> and assigning a unique MAC address to the interface.</p>
<p>When I attempt the same steps using <em>wlan0</em> instead of <em>eth0</em> I get IPs allocated on the 192.254.x.x subnet, which suggests there is an <a href=""https://www.globalknowledge.com/us-en/resources/resource-library/articles/where-did-that-169-254-x-x-ip-address-come-from/"" rel=""nofollow noreferrer"">issue reaching the DHCP server</a>.</p>
<p>Is there a reason this process would work for <em>eth0</em> but not <em>wlan0</em>?</p>
<p><strong>Details:</strong></p>
<p>I start by loading the latest Raspbian image onto my Raspberry Pi (Buster 2021-01-11).</p>
<p>I create a file <em>/etc/network/interfaces.d/eth0</em> and write the following:</p>
<pre><code>auto eth0
iface eth0 inet manual
  up ip link add link eth0 name eth0.01 address 02:00:00:00:00:01 type macvlan
  up ip link add link eth0 name eth0.02 address 02:00:00:00:00:02 type macvlan
</code></pre>
<p>I create a file <em>/etc/network/interfaces.d/wlan0</em> and write the following:</p>
<pre><code>auto wlan0
iface wlan0 inet manual
  up ip link add link wlan0 name wlan0.01 address 02:00:00:00:00:A1 type macvlan
  up ip link add link wlan0 name wlan0.02 address 02:00:00:00:00:A2 type macvlan
</code></pre>
<p>These settings are applied with the command:</p>
<pre><code>sudo systemctl restart networking
</code></pre>
<p>Let's WiFi tether to an Android cell phone. Hopefully this is an easily repeatable setup; it implements a <a href=""https://android.stackexchange.com/questions/46499/how-configure-the-dhcp-settings-of-wifi-tethering-hotspot-on-android"">DHCP server at 192.168.43.1/24 using <em>netd</em> to handle the tethering using <em>dnsmasq</em></a>. To try to keep things comparable between the <em>eth0</em> and <em>wlan0</em> interface I use a DLink WiFi extender to wirelessly tether to the Android's WiFi Hotspot and forward a WiFi signal to the Raspberry Pi's <em>wlan0</em> and an ethernet cable to connect to the Raspberry Pi's <em>eth0</em> interfaces.</p>
<p>I use the following command to see what my IP addresses are for each interface:</p>
<pre><code>ifconfig
</code></pre>
<p>Here is a summary of the lines of code that are of interest:</p>
<pre><code>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.43.233  netmask 255.255.255.0  broadcast 192.168.43.255

eth0.01: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.43.41  netmask 255.255.255.0  broadcast 192.168.43.255

eth0.02: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.43.54  netmask 255.255.255.0  broadcast 192.168.43.255

wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.43.76  netmask 255.255.255.0  broadcast 192.168.43.255

wlan0.01: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 169.254.36.195  netmask 255.255.0.0  broadcast 169.254.255.255

wlan0.02: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 169.254.75.246  netmask 255.255.0.0  broadcast 169.254.255.255
</code></pre>
<p>It is clear that the <em>wlan0.01</em> and <em>wlan0.02</em> interfaces are not communicating with the DHCP server (as seen by the IPs starting with 169.254), whereas the <em>eth0.01</em> and <em>eth0.02</em> interfaces are.</p>
<p>Can I reserve two IPs via the <em>wlan0</em> interface?</p>
"
121007,1,2021-02-07T18:15:04.233,0,35,130184,,2021-02-07T21:46:25.130,,4,,"<p>I'am running &quot;Raspberry Pi OS Lite (32 bit)&quot; Released 2021-01-11 on a Raspberrypi 3 model B Rev 1.2. Running dmesg some warnings and errors are coming up.</p>
<p><strong>1) Direct firmware load for ... failed with error -2:</strong></p>
<pre><code>[7.550384] brcmfmac mmc1:0001:1: Direct firmware load for brcm/brcmfmac43430-sdio.raspberrypi,3-model-b.txt failed with error -2
</code></pre>
<p><strong>2) module is from the staging directory, the quality is unknown, you have been warned:</strong></p>
<pre><code>[6.868235] bcm2835_mmal_vchiq: module is from the staging directory, the quality is unknown, you have been warned. 
[6.871180] bcm2835_mmal_vchiq: module is from the staging directory, the quality is unknown, you have been warned. 
[6.874997] bcm2835_mmal_vchiq: module is from the staging directory, the quality is unknown, you have been warned. 
[6.887038] bcm2835_isp: module is from the staging directory, the quality is unknown, you have been warned. 
[6.889205] bcm2835_v4l2: module is from the staging directory, the quality is unknown, you have been warned. 
[6.900115] bcm2835-isp bcm2835-isp: Device node output[0] registered as /dev/video13 
[6.900127] snd_bcm2835: module is from the staging directory, the quality is unknown, you have been warned.
</code></pre>
<p><strong>3) I also have this (last 2 lines). Don't know if it is a problem:</strong></p>
<pre><code>[2.728267] Core Release: 2.80a 
[2.730746] Setting default values for core params 
[2.733201] Finished setting default values for core params 
[2.936074] Using Buffer DMA mode 
[2.938541] Periodic Transfer Interrupt Enhancement - disabled 
[2.941085] Multiprocessor Interrupt Enhancement - disabled
</code></pre>
<p>I want to use the PI as a webserver so don't like to have a lot of errors.</p>
<p>Any ideas or reference to solutions ?</p>
"
121156,1,2021-02-11T12:27:19.480,0,21,111932,,2021-02-11T13:46:09.077,,0,,"<p>I'm using a dedicated library to run a ws2812 led strip. As far as I understand, this library sends a signal using the hardware PWM, via GPIO pin 18. This works fine and the led strip shows the colors I want.</p>
<p>Then I got to work using pigpio in order to bitbang a series of SPI boards connected to the pi (MCP3008 &amp; MCP23s17) This also works, but as soon as I call any of the pigpio wave send functions to do this, the led signal gets completely scrambled, and I get the first 25 leds of the strip showing random colors.</p>
<p>This effect lasts as long as the program runs. I can't get a proper led signal trough untill I stop the code and run it again (without the send wave calls).</p>
<p>The function I'm talking about is the following, the wave I'm sending regards different GPIO pins.</p>
<pre><code>gpioWaveTxSend(waveID, PI_WAVE_MODE_ONE_SHOT);
</code></pre>
<p>Note also the documentation contains the line &quot;Any hardware PWM started by gpioHardwarePWM will be cancelled.&quot;, so it's obvious this function interferes with hardware PWM somehow.</p>
<p>So my question is what exactly pigpio does here, and is there a workaround? I was also looking for manually creating a hardware PWM signal, but pigpio only seems to allow a constant repeating signal (which amusingly I can use to set all my leds to pure white).</p>
"
121199,1,2021-02-12T16:12:52.610,1,147,130423,,2021-02-12T20:04:19.573,,0,,"<p>RealVNC only provides a 32bit app for Raspberry Pi OS (32bit) and not a 64bit native application, at least for now. I'm using Ubuntu 20.10 on my Raspberry and need to use RealVNC to remotely access the system, as I don't know how to use SSH and I'm not interested in learning. how i can using vnc RealVNC Server on UBUNTU 20.10 (ARM64) on Raspberry Pi 4?</p>
"
121451,1,2021-02-19T15:45:45.177,1,24,126988,,2021-02-23T10:20:06.220,2021-02-22T10:19:43.780,0,,"<p>I cross compiled Qt5.14.2 for my raspberry pi 4 on a raspberry pi OS lite</p>
<p>after that I created a Qt Quick application on my Ubuntu and I integrated images in my qml file</p>
<pre><code>Image {
        id: compteur
        x: 223
        y: 102
        width: 570
        height: 227
        source: &quot;images/b2.png&quot;
    }
</code></pre>
<p>so the image <code>b2.png</code> on my ubuntu is under <code>~/Desktop/test_v1/images</code>
and the executable <code>test_v1</code> was generated under <code>~/Desktop/build-test_v1-Qt5pi-Release</code></p>
<p>on my raspberry pi I copied this executable and copied also all the directory <code>test_v1</code></p>
<p>but when executing the application it worked well but the images didn't show up</p>
<p>I tried also to put the images and the executable in the same directory but couldn't work also.</p>
<p>if you know what should I change please tell me !</p>
<p>Thank you in advance</p>
"
121755,1,2021-02-27T16:39:58.033,0,28,131033,,2021-02-27T22:18:22.113,2021-02-27T22:18:22.113,2,,"<p>Edit: I might be able to communicate with the port to some extent, see bottom</p>
<p>My pi doesn't seem to even acknowledge the ethernet port's existence. There are no lights at the port, and there doesn't seem to be anything in software. <code>dmesg</code> show nothing related to it, nor does <code>journalctl</code>. I can run <code>sudo ip link set eth0 up</code> as much as I want, and it still shows as down. Nothing shows up in journalctl or dmesg when I unplug or replug it, and everything behaves identically whether it's plugged in or not. It is probably not an issue with the cable, as using my laptop it gets 233 Mbsp down and 11.5 Mbsp up.<br />
This started happening after it got bumped a while ago so the port is probably just dead, but I was wondering if anyone had any idea what else it might be.</p>
<p>Output of <code>ip link</code> after running <code>sudo ip link set eth0 up</code>. Note that this does not change if I unplug the cable:</p>
<pre><code>1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eth0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq state DOWN mode DEFAULT group default qlen 1000
    link/ether dc:a6:32:15:f2:94 brd ff:ff:ff:ff:ff:ff
3: wlan0: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether dc:a6:32:15:f2:95 brd ff:ff:ff:ff:ff:ff
</code></pre>
<p>Edit: Actually, I may have found a sign of life. Following is the output of <code>ethtool eth0</code>. It used to give an output with very little information, but then when I tried it again a few minutes later it gave this instead.</p>
<pre><code>Settings for eth0:
    Supported ports: [ TP MII ]
    Supported link modes:   10baseT/Half 10baseT/Full 
                            100baseT/Half 100baseT/Full 
                            1000baseT/Half 1000baseT/Full 
    Supported pause frame use: Symmetric Receive-only
    Supports auto-negotiation: Yes
    Supported FEC modes: Not reported
    Advertised link modes:  10baseT/Half 10baseT/Full 
                            100baseT/Half 100baseT/Full 
                            1000baseT/Half 1000baseT/Full 
    Advertised pause frame use: Symmetric Receive-only
    Advertised auto-negotiation: Yes
    Advertised FEC modes: Not reported
    Speed: 10Mb/s
    Duplex: Half
    Port: MII
    PHYAD: 1
    Transceiver: internal
    Auto-negotiation: on
    Supports Wake-on: gs
    Wake-on: d
        SecureOn password: 00:00:00:00:00:00
    Current message level: 0x00000007 (7)
                   drv probe link
    Link detected: no
</code></pre>
<p>When I run <code>dhclient -v eth0</code>, I get this output. The same output (save for the numbers after interval) has always happened, whether the cable is plugged in or not. After running this, <code>ethtool -S eth0</code> still shows all zeroes.</p>
<pre><code>Internet Systems Consortium DHCP Client 4.4.1
Copyright 2004-2018 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/

Listening on LPF/eth0/dc:a6:32:15:f2:94
Sending on   LPF/eth0/dc:a6:32:15:f2:94
Sending on   Socket/fallback
DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 8
DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 15
DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 11
DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 13
DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 14
No DHCPOFFERS received.
No working leases in persistent database - sleeping.
</code></pre>
"
